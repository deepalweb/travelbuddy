const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LazyDestinationGrid-BiaWbQAa.js","assets/vendor-CF71wElY.js","assets/icons-qHODle67.js","assets/LazyDealsSection-YqJbx-Wp.js"])))=>i.map(i=>d[i]);
import{a as Qy,b as Xy,r as v,u as Do,L as pe,c as Tt,d as Ro,R as Iu,N as eg,B as Jy,e as Zy,f as bt}from"./vendor-CF71wElY.js";import{C as zu,H as Lu,G as gs,M as ue,T as fs,U as Ct,a as At,b as pl,B as tg,c as ys,d as Uu,e as ur,f as mt,g as $a,S as Wy,L as cp,X as St,h as ev,F as fu,i as gu,I as pu,Y as tv,P as Fa,j as vs,A as Ia,k as Ht,l as rt,m as Re,n as it,o as sv,p as Ba,Z as bs,q as Pa,r as sg,s as Ha,t as or,u as tt,v as bu,w as gr,x as av,y as co,z as ag,D as lg,E as vo,W as rg,J as yu,K as vu,N as sa,O as pr,Q as cs,R as lv,V as ju,_ as Ga,$ as bl,a0 as rv,a1 as nv,a2 as Mn,a3 as aa,a4 as br,a5 as jo,a6 as No,a7 as iv,a8 as js,a9 as dp,aa as Bu,ab as ov,ac as cv,ad as dv,ae as uv,af as mv,ag as Oo,ah as In,ai as yr,aj as hv,ak as Pu,al as xv,am as uo,an as ng,ao as ig,ap as Nu,aq as fv,ar as gv,as as pv,at as wo,au as og,av as bv,aw as yv,ax as cg,ay as dg,az as up,aA as Hu,aB as vv,aC as jv,aD as Nv,aE as ug,aF as mp,aG as wv,aH as Sv,aI as Cv}from"./icons-qHODle67.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const m of u)if(m.type==="childList")for(const x of m.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&o(x)}).observe(document,{childList:!0,subtree:!0});function i(u){const m={};return u.integrity&&(m.integrity=u.integrity),u.referrerPolicy&&(m.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?m.credentials="include":u.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function o(u){if(u.ep)return;u.ep=!0;const m=i(u);fetch(u.href,m)}})();var Wd={exports:{}},Nn={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mg;function Tv(){if(mg)return Nn;mg=1;var n=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function i(o,u,m){var x=null;if(m!==void 0&&(x=""+m),u.key!==void 0&&(x=""+u.key),"key"in u){m={};for(var f in u)f!=="key"&&(m[f]=u[f])}else m=u;return u=m.ref,{$$typeof:n,type:o,key:x,ref:u!==void 0?u:null,props:m}}return Nn.Fragment=l,Nn.jsx=i,Nn.jsxs=i,Nn}var hg;function kv(){return hg||(hg=1,Wd.exports=Tv()),Wd.exports}var e=kv();if(typeof window<"u"&&window.trustedTypes){try{window.trustedTypes.createPolicy("default",{createScriptURL:l=>l,createHTML:l=>l,createScript:l=>l})}catch{}["firebase-js-sdk#jsl","firebase-js-sdk#load_esm","gapi#gapi","goog#html"].forEach(l=>{try{window.trustedTypes.createPolicy(l,{createScriptURL:i=>i,createHTML:i=>i,createScript:i=>i})}catch{}})}var eu={exports:{}},wn={},tu={exports:{}},su={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg;function Av(){return xg||(xg=1,(function(n){function l(T,F){var z=T.length;T.push(F);e:for(;0<z;){var ee=z-1>>>1,U=T[ee];if(0<u(U,F))T[ee]=F,T[z]=U,z=ee;else break e}}function i(T){return T.length===0?null:T[0]}function o(T){if(T.length===0)return null;var F=T[0],z=T.pop();if(z!==F){T[0]=z;e:for(var ee=0,U=T.length,ie=U>>>1;ee<ie;){var ve=2*(ee+1)-1,me=T[ve],Ne=ve+1,Ye=T[Ne];if(0>u(me,z))Ne<U&&0>u(Ye,me)?(T[ee]=Ye,T[Ne]=z,ee=Ne):(T[ee]=me,T[ve]=z,ee=ve);else if(Ne<U&&0>u(Ye,z))T[ee]=Ye,T[Ne]=z,ee=Ne;else break e}}return F}function u(T,F){var z=T.sortIndex-F.sortIndex;return z!==0?z:T.id-F.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;n.unstable_now=function(){return m.now()}}else{var x=Date,f=x.now();n.unstable_now=function(){return x.now()-f}}var g=[],w=[],j=1,y=null,b=3,I=!1,L=!1,R=!1,D=!1,C=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function q(T){for(var F=i(w);F!==null;){if(F.callback===null)o(w);else if(F.startTime<=T)o(w),F.sortIndex=F.expirationTime,l(g,F);else break;F=i(w)}}function M(T){if(R=!1,q(T),!L)if(i(g)!==null)L=!0,Q||(Q=!0,A());else{var F=i(w);F!==null&&K(M,F.startTime-T)}}var Q=!1,W=-1,k=5,ae=-1;function fe(){return D?!0:!(n.unstable_now()-ae<k)}function Se(){if(D=!1,Q){var T=n.unstable_now();ae=T;var F=!0;try{e:{L=!1,R&&(R=!1,_(W),W=-1),I=!0;var z=b;try{t:{for(q(T),y=i(g);y!==null&&!(y.expirationTime>T&&fe());){var ee=y.callback;if(typeof ee=="function"){y.callback=null,b=y.priorityLevel;var U=ee(y.expirationTime<=T);if(T=n.unstable_now(),typeof U=="function"){y.callback=U,q(T),F=!0;break t}y===i(g)&&o(g),q(T)}else o(g);y=i(g)}if(y!==null)F=!0;else{var ie=i(w);ie!==null&&K(M,ie.startTime-T),F=!1}}break e}finally{y=null,b=z,I=!1}F=void 0}}finally{F?A():Q=!1}}}var A;if(typeof N=="function")A=function(){N(Se)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,se=Y.port2;Y.port1.onmessage=Se,A=function(){se.postMessage(null)}}else A=function(){C(Se,0)};function K(T,F){W=C(function(){T(n.unstable_now())},F)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(T){T.callback=null},n.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<T?Math.floor(1e3/T):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(T){switch(b){case 1:case 2:case 3:var F=3;break;default:F=b}var z=b;b=F;try{return T()}finally{b=z}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(T,F){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var z=b;b=T;try{return F()}finally{b=z}},n.unstable_scheduleCallback=function(T,F,z){var ee=n.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?ee+z:ee):z=ee,T){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=z+U,T={id:j++,callback:F,priorityLevel:T,startTime:z,expirationTime:U,sortIndex:-1},z>ee?(T.sortIndex=z,l(w,T),i(g)===null&&T===i(w)&&(R?(_(W),W=-1):R=!0,K(M,z-ee))):(T.sortIndex=U,l(g,T),L||I||(L=!0,Q||(Q=!0,A()))),T},n.unstable_shouldYield=fe,n.unstable_wrapCallback=function(T){var F=b;return function(){var z=b;b=F;try{return T.apply(this,arguments)}finally{b=z}}}})(su)),su}var fg;function Ev(){return fg||(fg=1,tu.exports=Av()),tu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg;function _v(){if(gg)return wn;gg=1;var n=Ev(),l=Qy(),i=Xy();function o(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function m(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function x(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function f(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(m(t)!==t)throw Error(o(188))}function w(t){var s=t.alternate;if(!s){if(s=m(t),s===null)throw Error(o(188));return s!==t?null:t}for(var a=t,r=s;;){var c=a.return;if(c===null)break;var d=c.alternate;if(d===null){if(r=c.return,r!==null){a=r;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===a)return g(c),t;if(d===r)return g(c),s;d=d.sibling}throw Error(o(188))}if(a.return!==r.return)a=c,r=d;else{for(var h=!1,p=c.child;p;){if(p===a){h=!0,a=c,r=d;break}if(p===r){h=!0,r=c,a=d;break}p=p.sibling}if(!h){for(p=d.child;p;){if(p===a){h=!0,a=d,r=c;break}if(p===r){h=!0,r=d,a=c;break}p=p.sibling}if(!h)throw Error(o(189))}}if(a.alternate!==r)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?t:s}function j(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=j(t),s!==null)return s;t=t.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),N=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),ae=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),Se=Symbol.iterator;function A(t){return t===null||typeof t!="object"?null:(t=Se&&t[Se]||t["@@iterator"],typeof t=="function"?t:null)}var Y=Symbol.for("react.client.reference");function se(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Y?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case R:return"Fragment";case C:return"Profiler";case D:return"StrictMode";case M:return"Suspense";case Q:return"SuspenseList";case ae:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case N:return t.displayName||"Context";case _:return(t._context.displayName||"Context")+".Consumer";case q:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case W:return s=t.displayName||null,s!==null?s:se(t.type)||"Memo";case k:s=t._payload,t=t._init;try{return se(t(s))}catch{}}return null}var K=Array.isArray,T=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},ee=[],U=-1;function ie(t){return{current:t}}function ve(t){0>U||(t.current=ee[U],ee[U]=null,U--)}function me(t,s){U++,ee[U]=t.current,t.current=s}var Ne=ie(null),Ye=ie(null),Ke=ie(null),Te=ie(null);function Ze(t,s){switch(me(Ke,s),me(Ye,t),me(Ne,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?wf(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=wf(s),t=Sf(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ve(Ne),me(Ne,t)}function ft(){ve(Ne),ve(Ye),ve(Ke)}function Et(t){t.memoizedState!==null&&me(Te,t);var s=Ne.current,a=Sf(s,t.type);s!==a&&(me(Ye,t),me(Ne,a))}function $(t){Ye.current===t&&(ve(Ne),ve(Ye)),Te.current===t&&(ve(Te),bn._currentValue=z)}var ye,Me;function Oe(t){if(ye===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);ye=s&&s[1]||"",Me=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ye+t+Me}var Qe=!1;function Jt(t,s){if(!t||Qe)return"";Qe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(s){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(G){var V=G}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(G){V=G}t.call(Z.prototype)}}else{try{throw Error()}catch(G){V=G}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(G){if(G&&V&&typeof G.stack=="string")return[G.stack,V.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=r.DetermineComponentFrameRoot(),h=d[0],p=d[1];if(h&&p){var S=h.split(`
`),P=p.split(`
`);for(c=r=0;r<S.length&&!S[r].includes("DetermineComponentFrameRoot");)r++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(r===S.length||c===P.length)for(r=S.length-1,c=P.length-1;1<=r&&0<=c&&S[r]!==P[c];)c--;for(;1<=r&&0<=c;r--,c--)if(S[r]!==P[c]){if(r!==1||c!==1)do if(r--,c--,0>c||S[r]!==P[c]){var X=`
`+S[r].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=r&&0<=c);break}}}finally{Qe=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Oe(a):""}function te(t,s){switch(t.tag){case 26:case 27:case 5:return Oe(t.type);case 16:return Oe("Lazy");case 13:return t.child!==s&&s!==null?Oe("Suspense Fallback"):Oe("Suspense");case 19:return Oe("SuspenseList");case 0:case 15:return Jt(t.type,!1);case 11:return Jt(t.type.render,!1);case 1:return Jt(t.type,!0);case 31:return Oe("Activity");default:return""}}function he(t){try{var s="",a=null;do s+=te(t,a),a=t,t=t.return;while(t);return s}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var _t=Object.prototype.hasOwnProperty,Tr=n.unstable_scheduleCallback,kr=n.unstable_cancelCallback,Uo=n.unstable_shouldYield,Bo=n.unstable_requestPaint,Dt=n.unstable_now,Po=n.unstable_getCurrentPriorityLevel,Fn=n.unstable_ImmediatePriority,Gn=n.unstable_UserBlockingPriority,Ar=n.unstable_NormalPriority,_0=n.unstable_LowPriority,sm=n.unstable_IdlePriority,D0=n.log,R0=n.unstable_setDisableYieldValue,Er=null,qt=null;function ia(t){if(typeof D0=="function"&&R0(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Er,t)}catch{}}var Vt=Math.clz32?Math.clz32:I0,O0=Math.log,M0=Math.LN2;function I0(t){return t>>>=0,t===0?32:31-(O0(t)/M0|0)|0}var Yn=256,Kn=262144,Qn=4194304;function Xa(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Xn(t,s,a){var r=t.pendingLanes;if(r===0)return 0;var c=0,d=t.suspendedLanes,h=t.pingedLanes;t=t.warmLanes;var p=r&134217727;return p!==0?(r=p&~d,r!==0?c=Xa(r):(h&=p,h!==0?c=Xa(h):a||(a=p&~t,a!==0&&(c=Xa(a))))):(p=r&~d,p!==0?c=Xa(p):h!==0?c=Xa(h):a||(a=r&~t,a!==0&&(c=Xa(a)))),c===0?0:s!==0&&s!==c&&(s&d)===0&&(d=c&-c,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:c}function _r(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function z0(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function am(){var t=Qn;return Qn<<=1,(Qn&62914560)===0&&(Qn=4194304),t}function Ho(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Dr(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function L0(t,s,a,r,c,d){var h=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var p=t.entanglements,S=t.expirationTimes,P=t.hiddenUpdates;for(a=h&~a;0<a;){var X=31-Vt(a),Z=1<<X;p[X]=0,S[X]=-1;var V=P[X];if(V!==null)for(P[X]=null,X=0;X<V.length;X++){var G=V[X];G!==null&&(G.lane&=-536870913)}a&=~Z}r!==0&&lm(t,r,0),d!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=d&~(h&~s))}function lm(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var r=31-Vt(s);t.entangledLanes|=s,t.entanglements[r]=t.entanglements[r]|1073741824|a&261930}function rm(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var r=31-Vt(a),c=1<<r;c&s|t[r]&s&&(t[r]|=s),a&=~c}}function nm(t,s){var a=s&-s;return a=(a&42)!==0?1:qo(a),(a&(t.suspendedLanes|s))!==0?0:a}function qo(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Vo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function im(){var t=F.p;return t!==0?t:(t=window.event,t===void 0?32:Yf(t.type))}function om(t,s){var a=F.p;try{return F.p=t,s()}finally{F.p=a}}var oa=Math.random().toString(36).slice(2),yt="__reactFiber$"+oa,Mt="__reactProps$"+oa,jl="__reactContainer$"+oa,$o="__reactEvents$"+oa,U0="__reactListeners$"+oa,B0="__reactHandles$"+oa,cm="__reactResources$"+oa,Rr="__reactMarker$"+oa;function Fo(t){delete t[yt],delete t[Mt],delete t[$o],delete t[U0],delete t[B0]}function Nl(t){var s=t[yt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[jl]||a[yt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=Df(t);t!==null;){if(a=t[yt])return a;t=Df(t)}return s}t=a,a=t.parentNode}return null}function wl(t){if(t=t[yt]||t[jl]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function Or(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(o(33))}function Sl(t){var s=t[cm];return s||(s=t[cm]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function gt(t){t[Rr]=!0}var dm=new Set,um={};function Ja(t,s){Cl(t,s),Cl(t+"Capture",s)}function Cl(t,s){for(um[t]=s,t=0;t<s.length;t++)dm.add(s[t])}var P0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mm={},hm={};function H0(t){return _t.call(hm,t)?!0:_t.call(mm,t)?!1:P0.test(t)?hm[t]=!0:(mm[t]=!0,!1)}function Jn(t,s,a){if(H0(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var r=s.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function Zn(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Rs(t,s,a,r){if(r===null)t.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+r)}}function Zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xm(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function q0(t,s,a){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,d=r.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return c.call(this)},set:function(h){a=""+h,d.call(this,h)}}),Object.defineProperty(t,s,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(h){a=""+h},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Go(t){if(!t._valueTracker){var s=xm(t)?"checked":"value";t._valueTracker=q0(t,s,""+t[s])}}function fm(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),r="";return t&&(r=xm(t)?t.checked?"true":"false":t.value),t=r,t!==a?(s.setValue(t),!0):!1}function Wn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var V0=/[\n"\\]/g;function Wt(t){return t.replace(V0,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Yo(t,s,a,r,c,d,h,p){t.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?t.type=h:t.removeAttribute("type"),s!=null?h==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Zt(s)):t.value!==""+Zt(s)&&(t.value=""+Zt(s)):h!=="submit"&&h!=="reset"||t.removeAttribute("value"),s!=null?Ko(t,h,Zt(s)):a!=null?Ko(t,h,Zt(a)):r!=null&&t.removeAttribute("value"),c==null&&d!=null&&(t.defaultChecked=!!d),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.name=""+Zt(p):t.removeAttribute("name")}function gm(t,s,a,r,c,d,h,p){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){Go(t);return}a=a!=null?""+Zt(a):"",s=s!=null?""+Zt(s):a,p||s===t.value||(t.value=s),t.defaultValue=s}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=p?t.checked:!!r,t.defaultChecked=!!r,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.name=h),Go(t)}function Ko(t,s,a){s==="number"&&Wn(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Tl(t,s,a,r){if(t=t.options,s){s={};for(var c=0;c<a.length;c++)s["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=s.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&r&&(t[a].defaultSelected=!0)}else{for(a=""+Zt(a),s=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,r&&(t[c].defaultSelected=!0);return}s!==null||t[c].disabled||(s=t[c])}s!==null&&(s.selected=!0)}}function pm(t,s,a){if(s!=null&&(s=""+Zt(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Zt(a):""}function bm(t,s,a,r){if(s==null){if(r!=null){if(a!=null)throw Error(o(92));if(K(r)){if(1<r.length)throw Error(o(93));r=r[0]}a=r}a==null&&(a=""),s=a}a=Zt(s),t.defaultValue=a,r=t.textContent,r===a&&r!==""&&r!==null&&(t.value=r),Go(t)}function kl(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var $0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ym(t,s,a){var r=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":r?t.setProperty(s,a):typeof a!="number"||a===0||$0.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function vm(t,s,a){if(s!=null&&typeof s!="object")throw Error(o(62));if(t=t.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||s!=null&&s.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var c in s)r=s[c],s.hasOwnProperty(c)&&a[c]!==r&&ym(t,c,r)}else for(var d in s)s.hasOwnProperty(d)&&ym(t,d,s[d])}function Qo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var F0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),G0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ei(t){return G0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Os(){}var Xo=null;function Jo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Al=null,El=null;function jm(t){var s=wl(t);if(s&&(t=s.stateNode)){var a=t[Mt]||null;e:switch(t=s.stateNode,s.type){case"input":if(Yo(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Wt(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var r=a[s];if(r!==t&&r.form===t.form){var c=r[Mt]||null;if(!c)throw Error(o(90));Yo(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(s=0;s<a.length;s++)r=a[s],r.form===t.form&&fm(r)}break e;case"textarea":pm(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Tl(t,!!a.multiple,s,!1)}}}var Zo=!1;function Nm(t,s,a){if(Zo)return t(s,a);Zo=!0;try{var r=t(s);return r}finally{if(Zo=!1,(Al!==null||El!==null)&&(Hi(),Al&&(s=Al,t=El,El=Al=null,jm(s),t)))for(s=0;s<t.length;s++)jm(t[s])}}function Mr(t,s){var a=t.stateNode;if(a===null)return null;var r=a[Mt]||null;if(r===null)return null;a=r[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(o(231,s,typeof a));return a}var Ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wo=!1;if(Ms)try{var Ir={};Object.defineProperty(Ir,"passive",{get:function(){Wo=!0}}),window.addEventListener("test",Ir,Ir),window.removeEventListener("test",Ir,Ir)}catch{Wo=!1}var ca=null,ec=null,ti=null;function wm(){if(ti)return ti;var t,s=ec,a=s.length,r,c="value"in ca?ca.value:ca.textContent,d=c.length;for(t=0;t<a&&s[t]===c[t];t++);var h=a-t;for(r=1;r<=h&&s[a-r]===c[d-r];r++);return ti=c.slice(t,1<r?1-r:void 0)}function si(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function ai(){return!0}function Sm(){return!1}function It(t){function s(a,r,c,d,h){this._reactName=a,this._targetInst=c,this.type=r,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var p in t)t.hasOwnProperty(p)&&(a=t[p],this[p]=a?a(d):d[p]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ai:Sm,this.isPropagationStopped=Sm,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),s}var Za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},li=It(Za),zr=y({},Za,{view:0,detail:0}),Y0=It(zr),tc,sc,Lr,ri=y({},zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lr&&(Lr&&t.type==="mousemove"?(tc=t.screenX-Lr.screenX,sc=t.screenY-Lr.screenY):sc=tc=0,Lr=t),tc)},movementY:function(t){return"movementY"in t?t.movementY:sc}}),Cm=It(ri),K0=y({},ri,{dataTransfer:0}),Q0=It(K0),X0=y({},zr,{relatedTarget:0}),ac=It(X0),J0=y({},Za,{animationName:0,elapsedTime:0,pseudoElement:0}),Z0=It(J0),W0=y({},Za,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eb=It(W0),tb=y({},Za,{data:0}),Tm=It(tb),sb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ab={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rb(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=lb[t])?!!s[t]:!1}function lc(){return rb}var nb=y({},zr,{key:function(t){if(t.key){var s=sb[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=si(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ab[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lc,charCode:function(t){return t.type==="keypress"?si(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?si(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ib=It(nb),ob=y({},ri,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),km=It(ob),cb=y({},zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lc}),db=It(cb),ub=y({},Za,{propertyName:0,elapsedTime:0,pseudoElement:0}),mb=It(ub),hb=y({},ri,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xb=It(hb),fb=y({},Za,{newState:0,oldState:0}),gb=It(fb),pb=[9,13,27,32],rc=Ms&&"CompositionEvent"in window,Ur=null;Ms&&"documentMode"in document&&(Ur=document.documentMode);var bb=Ms&&"TextEvent"in window&&!Ur,Am=Ms&&(!rc||Ur&&8<Ur&&11>=Ur),Em=" ",_m=!1;function Dm(t,s){switch(t){case"keyup":return pb.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _l=!1;function yb(t,s){switch(t){case"compositionend":return Rm(s);case"keypress":return s.which!==32?null:(_m=!0,Em);case"textInput":return t=s.data,t===Em&&_m?null:t;default:return null}}function vb(t,s){if(_l)return t==="compositionend"||!rc&&Dm(t,s)?(t=wm(),ti=ec=ca=null,_l=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Am&&s.locale!=="ko"?null:s.data;default:return null}}var jb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Om(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!jb[t.type]:s==="textarea"}function Mm(t,s,a,r){Al?El?El.push(r):El=[r]:Al=r,s=Ki(s,"onChange"),0<s.length&&(a=new li("onChange","change",null,a,r),t.push({event:a,listeners:s}))}var Br=null,Pr=null;function Nb(t){pf(t,0)}function ni(t){var s=Or(t);if(fm(s))return t}function Im(t,s){if(t==="change")return s}var zm=!1;if(Ms){var nc;if(Ms){var ic="oninput"in document;if(!ic){var Lm=document.createElement("div");Lm.setAttribute("oninput","return;"),ic=typeof Lm.oninput=="function"}nc=ic}else nc=!1;zm=nc&&(!document.documentMode||9<document.documentMode)}function Um(){Br&&(Br.detachEvent("onpropertychange",Bm),Pr=Br=null)}function Bm(t){if(t.propertyName==="value"&&ni(Pr)){var s=[];Mm(s,Pr,t,Jo(t)),Nm(Nb,s)}}function wb(t,s,a){t==="focusin"?(Um(),Br=s,Pr=a,Br.attachEvent("onpropertychange",Bm)):t==="focusout"&&Um()}function Sb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ni(Pr)}function Cb(t,s){if(t==="click")return ni(s)}function Tb(t,s){if(t==="input"||t==="change")return ni(s)}function kb(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var $t=typeof Object.is=="function"?Object.is:kb;function Hr(t,s){if($t(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),r=Object.keys(s);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var c=a[r];if(!_t.call(s,c)||!$t(t[c],s[c]))return!1}return!0}function Pm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hm(t,s){var a=Pm(t);t=0;for(var r;a;){if(a.nodeType===3){if(r=t+a.textContent.length,t<=s&&r>=s)return{node:a,offset:s-t};t=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Pm(a)}}function qm(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?qm(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Vm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Wn(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=Wn(t.document)}return s}function oc(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var Ab=Ms&&"documentMode"in document&&11>=document.documentMode,Dl=null,cc=null,qr=null,dc=!1;function $m(t,s,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;dc||Dl==null||Dl!==Wn(r)||(r=Dl,"selectionStart"in r&&oc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qr&&Hr(qr,r)||(qr=r,r=Ki(cc,"onSelect"),0<r.length&&(s=new li("onSelect","select",null,s,a),t.push({event:s,listeners:r}),s.target=Dl)))}function Wa(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Rl={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionrun:Wa("Transition","TransitionRun"),transitionstart:Wa("Transition","TransitionStart"),transitioncancel:Wa("Transition","TransitionCancel"),transitionend:Wa("Transition","TransitionEnd")},uc={},Fm={};Ms&&(Fm=document.createElement("div").style,"AnimationEvent"in window||(delete Rl.animationend.animation,delete Rl.animationiteration.animation,delete Rl.animationstart.animation),"TransitionEvent"in window||delete Rl.transitionend.transition);function el(t){if(uc[t])return uc[t];if(!Rl[t])return t;var s=Rl[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in Fm)return uc[t]=s[a];return t}var Gm=el("animationend"),Ym=el("animationiteration"),Km=el("animationstart"),Eb=el("transitionrun"),_b=el("transitionstart"),Db=el("transitioncancel"),Qm=el("transitionend"),Xm=new Map,mc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mc.push("scrollEnd");function ms(t,s){Xm.set(t,s),Ja(s,[t])}var ii=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},es=[],Ol=0,hc=0;function oi(){for(var t=Ol,s=hc=Ol=0;s<t;){var a=es[s];es[s++]=null;var r=es[s];es[s++]=null;var c=es[s];es[s++]=null;var d=es[s];if(es[s++]=null,r!==null&&c!==null){var h=r.pending;h===null?c.next=c:(c.next=h.next,h.next=c),r.pending=c}d!==0&&Jm(a,c,d)}}function ci(t,s,a,r){es[Ol++]=t,es[Ol++]=s,es[Ol++]=a,es[Ol++]=r,hc|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function xc(t,s,a,r){return ci(t,s,a,r),di(t)}function tl(t,s){return ci(t,null,null,s),di(t)}function Jm(t,s,a){t.lanes|=a;var r=t.alternate;r!==null&&(r.lanes|=a);for(var c=!1,d=t.return;d!==null;)d.childLanes|=a,r=d.alternate,r!==null&&(r.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(c=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,c&&s!==null&&(c=31-Vt(a),t=d.hiddenUpdates,r=t[c],r===null?t[c]=[s]:r.push(s),s.lane=a|536870912),d):null}function di(t){if(50<un)throw un=0,wd=null,Error(o(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Ml={};function Rb(t,s,a,r){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(t,s,a,r){return new Rb(t,s,a,r)}function fc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Is(t,s){var a=t.alternate;return a===null?(a=Ft(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Zm(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function ui(t,s,a,r,c,d){var h=0;if(r=t,typeof t=="function")fc(t)&&(h=1);else if(typeof t=="string")h=Ly(t,a,Ne.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ae:return t=Ft(31,a,s,c),t.elementType=ae,t.lanes=d,t;case R:return sl(a.children,c,d,s);case D:h=8,c|=24;break;case C:return t=Ft(12,a,s,c|2),t.elementType=C,t.lanes=d,t;case M:return t=Ft(13,a,s,c),t.elementType=M,t.lanes=d,t;case Q:return t=Ft(19,a,s,c),t.elementType=Q,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case N:h=10;break e;case _:h=9;break e;case q:h=11;break e;case W:h=14;break e;case k:h=16,r=null;break e}h=29,a=Error(o(130,t===null?"null":typeof t,"")),r=null}return s=Ft(h,a,s,c),s.elementType=t,s.type=r,s.lanes=d,s}function sl(t,s,a,r){return t=Ft(7,t,r,s),t.lanes=a,t}function gc(t,s,a){return t=Ft(6,t,null,s),t.lanes=a,t}function Wm(t){var s=Ft(18,null,null,0);return s.stateNode=t,s}function pc(t,s,a){return s=Ft(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var eh=new WeakMap;function ts(t,s){if(typeof t=="object"&&t!==null){var a=eh.get(t);return a!==void 0?a:(s={value:t,source:s,stack:he(s)},eh.set(t,s),s)}return{value:t,source:s,stack:he(s)}}var Il=[],zl=0,mi=null,Vr=0,ss=[],as=0,da=null,Ns=1,ws="";function zs(t,s){Il[zl++]=Vr,Il[zl++]=mi,mi=t,Vr=s}function th(t,s,a){ss[as++]=Ns,ss[as++]=ws,ss[as++]=da,da=t;var r=Ns;t=ws;var c=32-Vt(r)-1;r&=~(1<<c),a+=1;var d=32-Vt(s)+c;if(30<d){var h=c-c%5;d=(r&(1<<h)-1).toString(32),r>>=h,c-=h,Ns=1<<32-Vt(s)+c|a<<c|r,ws=d+t}else Ns=1<<d|a<<c|r,ws=t}function bc(t){t.return!==null&&(zs(t,1),th(t,1,0))}function yc(t){for(;t===mi;)mi=Il[--zl],Il[zl]=null,Vr=Il[--zl],Il[zl]=null;for(;t===da;)da=ss[--as],ss[as]=null,ws=ss[--as],ss[as]=null,Ns=ss[--as],ss[as]=null}function sh(t,s){ss[as++]=Ns,ss[as++]=ws,ss[as++]=da,Ns=s.id,ws=s.overflow,da=t}var vt=null,Fe=null,De=!1,ua=null,ls=!1,vc=Error(o(519));function ma(t){var s=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $r(ts(s,t)),vc}function ah(t){var s=t.stateNode,a=t.type,r=t.memoizedProps;switch(s[yt]=t,s[Mt]=r,a){case"dialog":Ae("cancel",s),Ae("close",s);break;case"iframe":case"object":case"embed":Ae("load",s);break;case"video":case"audio":for(a=0;a<hn.length;a++)Ae(hn[a],s);break;case"source":Ae("error",s);break;case"img":case"image":case"link":Ae("error",s),Ae("load",s);break;case"details":Ae("toggle",s);break;case"input":Ae("invalid",s),gm(s,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Ae("invalid",s);break;case"textarea":Ae("invalid",s),bm(s,r.value,r.defaultValue,r.children)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||r.suppressHydrationWarning===!0||jf(s.textContent,a)?(r.popover!=null&&(Ae("beforetoggle",s),Ae("toggle",s)),r.onScroll!=null&&Ae("scroll",s),r.onScrollEnd!=null&&Ae("scrollend",s),r.onClick!=null&&(s.onclick=Os),s=!0):s=!1,s||ma(t,!0)}function lh(t){for(vt=t.return;vt;)switch(vt.tag){case 5:case 31:case 13:ls=!1;return;case 27:case 3:ls=!0;return;default:vt=vt.return}}function Ll(t){if(t!==vt)return!1;if(!De)return lh(t),De=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ud(t.type,t.memoizedProps)),a=!a),a&&Fe&&ma(t),lh(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Fe=_f(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Fe=_f(t)}else s===27?(s=Fe,Ta(t.type)?(t=Vd,Vd=null,Fe=t):Fe=s):Fe=vt?ns(t.stateNode.nextSibling):null;return!0}function al(){Fe=vt=null,De=!1}function jc(){var t=ua;return t!==null&&(Bt===null?Bt=t:Bt.push.apply(Bt,t),ua=null),t}function $r(t){ua===null?ua=[t]:ua.push(t)}var Nc=ie(null),ll=null,Ls=null;function ha(t,s,a){me(Nc,s._currentValue),s._currentValue=a}function Us(t){t._currentValue=Nc.current,ve(Nc)}function wc(t,s,a){for(;t!==null;){var r=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,r!==null&&(r.childLanes|=s)):r!==null&&(r.childLanes&s)!==s&&(r.childLanes|=s),t===a)break;t=t.return}}function Sc(t,s,a,r){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var d=c.dependencies;if(d!==null){var h=c.child;d=d.firstContext;e:for(;d!==null;){var p=d;d=c;for(var S=0;S<s.length;S++)if(p.context===s[S]){d.lanes|=a,p=d.alternate,p!==null&&(p.lanes|=a),wc(d.return,a,t),r||(h=null);break e}d=p.next}}else if(c.tag===18){if(h=c.return,h===null)throw Error(o(341));h.lanes|=a,d=h.alternate,d!==null&&(d.lanes|=a),wc(h,a,t),h=null}else h=c.child;if(h!==null)h.return=c;else for(h=c;h!==null;){if(h===t){h=null;break}if(c=h.sibling,c!==null){c.return=h.return,h=c;break}h=h.return}c=h}}function Ul(t,s,a,r){t=null;for(var c=s,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var h=c.alternate;if(h===null)throw Error(o(387));if(h=h.memoizedProps,h!==null){var p=c.type;$t(c.pendingProps.value,h.value)||(t!==null?t.push(p):t=[p])}}else if(c===Te.current){if(h=c.alternate,h===null)throw Error(o(387));h.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(bn):t=[bn])}c=c.return}t!==null&&Sc(s,t,a,r),s.flags|=262144}function hi(t){for(t=t.firstContext;t!==null;){if(!$t(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function rl(t){ll=t,Ls=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function jt(t){return rh(ll,t)}function xi(t,s){return ll===null&&rl(t),rh(t,s)}function rh(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Ls===null){if(t===null)throw Error(o(308));Ls=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Ls=Ls.next=s;return a}var Ob=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,r){t.push(r)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},Mb=n.unstable_scheduleCallback,Ib=n.unstable_NormalPriority,ot={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cc(){return{controller:new Ob,data:new Map,refCount:0}}function Fr(t){t.refCount--,t.refCount===0&&Mb(Ib,function(){t.controller.abort()})}var Gr=null,Tc=0,Bl=0,Pl=null;function zb(t,s){if(Gr===null){var a=Gr=[];Tc=0,Bl=Ed(),Pl={status:"pending",value:void 0,then:function(r){a.push(r)}}}return Tc++,s.then(nh,nh),s}function nh(){if(--Tc===0&&Gr!==null){Pl!==null&&(Pl.status="fulfilled");var t=Gr;Gr=null,Bl=0,Pl=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function Lb(t,s){var a=[],r={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){r.status="fulfilled",r.value=s;for(var c=0;c<a.length;c++)(0,a[c])(s)},function(c){for(r.status="rejected",r.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),r}var ih=T.S;T.S=function(t,s){$x=Dt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&zb(t,s),ih!==null&&ih(t,s)};var nl=ie(null);function kc(){var t=nl.current;return t!==null?t:Ve.pooledCache}function fi(t,s){s===null?me(nl,nl.current):me(nl,s.pool)}function oh(){var t=kc();return t===null?null:{parent:ot._currentValue,pool:t}}var Hl=Error(o(460)),Ac=Error(o(474)),gi=Error(o(542)),pi={then:function(){}};function ch(t){return t=t.status,t==="fulfilled"||t==="rejected"}function dh(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(Os,Os),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,mh(t),t;default:if(typeof s.status=="string")s.then(Os,Os);else{if(t=Ve,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=s,t.status="pending",t.then(function(r){if(s.status==="pending"){var c=s;c.status="fulfilled",c.value=r}},function(r){if(s.status==="pending"){var c=s;c.status="rejected",c.reason=r}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,mh(t),t}throw ol=s,Hl}}function il(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ol=a,Hl):a}}var ol=null;function uh(){if(ol===null)throw Error(o(459));var t=ol;return ol=null,t}function mh(t){if(t===Hl||t===gi)throw Error(o(483))}var ql=null,Yr=0;function bi(t){var s=Yr;return Yr+=1,ql===null&&(ql=[]),dh(ql,t,s)}function Kr(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function yi(t,s){throw s.$$typeof===b?Error(o(525)):(t=Object.prototype.toString.call(s),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function hh(t){function s(O,E){if(t){var B=O.deletions;B===null?(O.deletions=[E],O.flags|=16):B.push(E)}}function a(O,E){if(!t)return null;for(;E!==null;)s(O,E),E=E.sibling;return null}function r(O){for(var E=new Map;O!==null;)O.key!==null?E.set(O.key,O):E.set(O.index,O),O=O.sibling;return E}function c(O,E){return O=Is(O,E),O.index=0,O.sibling=null,O}function d(O,E,B){return O.index=B,t?(B=O.alternate,B!==null?(B=B.index,B<E?(O.flags|=67108866,E):B):(O.flags|=67108866,E)):(O.flags|=1048576,E)}function h(O){return t&&O.alternate===null&&(O.flags|=67108866),O}function p(O,E,B,J){return E===null||E.tag!==6?(E=gc(B,O.mode,J),E.return=O,E):(E=c(E,B),E.return=O,E)}function S(O,E,B,J){var xe=B.type;return xe===R?X(O,E,B.props.children,J,B.key):E!==null&&(E.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===k&&il(xe)===E.type)?(E=c(E,B.props),Kr(E,B),E.return=O,E):(E=ui(B.type,B.key,B.props,null,O.mode,J),Kr(E,B),E.return=O,E)}function P(O,E,B,J){return E===null||E.tag!==4||E.stateNode.containerInfo!==B.containerInfo||E.stateNode.implementation!==B.implementation?(E=pc(B,O.mode,J),E.return=O,E):(E=c(E,B.children||[]),E.return=O,E)}function X(O,E,B,J,xe){return E===null||E.tag!==7?(E=sl(B,O.mode,J,xe),E.return=O,E):(E=c(E,B),E.return=O,E)}function Z(O,E,B){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=gc(""+E,O.mode,B),E.return=O,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case I:return B=ui(E.type,E.key,E.props,null,O.mode,B),Kr(B,E),B.return=O,B;case L:return E=pc(E,O.mode,B),E.return=O,E;case k:return E=il(E),Z(O,E,B)}if(K(E)||A(E))return E=sl(E,O.mode,B,null),E.return=O,E;if(typeof E.then=="function")return Z(O,bi(E),B);if(E.$$typeof===N)return Z(O,xi(O,E),B);yi(O,E)}return null}function V(O,E,B,J){var xe=E!==null?E.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return xe!==null?null:p(O,E,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case I:return B.key===xe?S(O,E,B,J):null;case L:return B.key===xe?P(O,E,B,J):null;case k:return B=il(B),V(O,E,B,J)}if(K(B)||A(B))return xe!==null?null:X(O,E,B,J,null);if(typeof B.then=="function")return V(O,E,bi(B),J);if(B.$$typeof===N)return V(O,E,xi(O,B),J);yi(O,B)}return null}function G(O,E,B,J,xe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return O=O.get(B)||null,p(E,O,""+J,xe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case I:return O=O.get(J.key===null?B:J.key)||null,S(E,O,J,xe);case L:return O=O.get(J.key===null?B:J.key)||null,P(E,O,J,xe);case k:return J=il(J),G(O,E,B,J,xe)}if(K(J)||A(J))return O=O.get(B)||null,X(E,O,J,xe,null);if(typeof J.then=="function")return G(O,E,B,bi(J),xe);if(J.$$typeof===N)return G(O,E,B,xi(E,J),xe);yi(E,J)}return null}function ne(O,E,B,J){for(var xe=null,Ie=null,de=E,we=E=0,_e=null;de!==null&&we<B.length;we++){de.index>we?(_e=de,de=null):_e=de.sibling;var ze=V(O,de,B[we],J);if(ze===null){de===null&&(de=_e);break}t&&de&&ze.alternate===null&&s(O,de),E=d(ze,E,we),Ie===null?xe=ze:Ie.sibling=ze,Ie=ze,de=_e}if(we===B.length)return a(O,de),De&&zs(O,we),xe;if(de===null){for(;we<B.length;we++)de=Z(O,B[we],J),de!==null&&(E=d(de,E,we),Ie===null?xe=de:Ie.sibling=de,Ie=de);return De&&zs(O,we),xe}for(de=r(de);we<B.length;we++)_e=G(de,O,we,B[we],J),_e!==null&&(t&&_e.alternate!==null&&de.delete(_e.key===null?we:_e.key),E=d(_e,E,we),Ie===null?xe=_e:Ie.sibling=_e,Ie=_e);return t&&de.forEach(function(Da){return s(O,Da)}),De&&zs(O,we),xe}function ge(O,E,B,J){if(B==null)throw Error(o(151));for(var xe=null,Ie=null,de=E,we=E=0,_e=null,ze=B.next();de!==null&&!ze.done;we++,ze=B.next()){de.index>we?(_e=de,de=null):_e=de.sibling;var Da=V(O,de,ze.value,J);if(Da===null){de===null&&(de=_e);break}t&&de&&Da.alternate===null&&s(O,de),E=d(Da,E,we),Ie===null?xe=Da:Ie.sibling=Da,Ie=Da,de=_e}if(ze.done)return a(O,de),De&&zs(O,we),xe;if(de===null){for(;!ze.done;we++,ze=B.next())ze=Z(O,ze.value,J),ze!==null&&(E=d(ze,E,we),Ie===null?xe=ze:Ie.sibling=ze,Ie=ze);return De&&zs(O,we),xe}for(de=r(de);!ze.done;we++,ze=B.next())ze=G(de,O,we,ze.value,J),ze!==null&&(t&&ze.alternate!==null&&de.delete(ze.key===null?we:ze.key),E=d(ze,E,we),Ie===null?xe=ze:Ie.sibling=ze,Ie=ze);return t&&de.forEach(function(Ky){return s(O,Ky)}),De&&zs(O,we),xe}function qe(O,E,B,J){if(typeof B=="object"&&B!==null&&B.type===R&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case I:e:{for(var xe=B.key;E!==null;){if(E.key===xe){if(xe=B.type,xe===R){if(E.tag===7){a(O,E.sibling),J=c(E,B.props.children),J.return=O,O=J;break e}}else if(E.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===k&&il(xe)===E.type){a(O,E.sibling),J=c(E,B.props),Kr(J,B),J.return=O,O=J;break e}a(O,E);break}else s(O,E);E=E.sibling}B.type===R?(J=sl(B.props.children,O.mode,J,B.key),J.return=O,O=J):(J=ui(B.type,B.key,B.props,null,O.mode,J),Kr(J,B),J.return=O,O=J)}return h(O);case L:e:{for(xe=B.key;E!==null;){if(E.key===xe)if(E.tag===4&&E.stateNode.containerInfo===B.containerInfo&&E.stateNode.implementation===B.implementation){a(O,E.sibling),J=c(E,B.children||[]),J.return=O,O=J;break e}else{a(O,E);break}else s(O,E);E=E.sibling}J=pc(B,O.mode,J),J.return=O,O=J}return h(O);case k:return B=il(B),qe(O,E,B,J)}if(K(B))return ne(O,E,B,J);if(A(B)){if(xe=A(B),typeof xe!="function")throw Error(o(150));return B=xe.call(B),ge(O,E,B,J)}if(typeof B.then=="function")return qe(O,E,bi(B),J);if(B.$$typeof===N)return qe(O,E,xi(O,B),J);yi(O,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,E!==null&&E.tag===6?(a(O,E.sibling),J=c(E,B),J.return=O,O=J):(a(O,E),J=gc(B,O.mode,J),J.return=O,O=J),h(O)):a(O,E)}return function(O,E,B,J){try{Yr=0;var xe=qe(O,E,B,J);return ql=null,xe}catch(de){if(de===Hl||de===gi)throw de;var Ie=Ft(29,de,null,O.mode);return Ie.lanes=J,Ie.return=O,Ie}finally{}}}var cl=hh(!0),xh=hh(!1),xa=!1;function Ec(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _c(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function fa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ga(t,s,a){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Le&2)!==0){var c=r.pending;return c===null?s.next=s:(s.next=c.next,c.next=s),r.pending=s,s=di(t),Jm(t,null,a),s}return ci(t,r,s,a),di(t)}function Qr(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var r=s.lanes;r&=t.pendingLanes,a|=r,s.lanes=a,rm(t,a)}}function Dc(t,s){var a=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var c=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var h={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?c=d=h:d=d.next=h,a=a.next}while(a!==null);d===null?c=d=s:d=d.next=s}else c=d=s;a={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:r.shared,callbacks:r.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var Rc=!1;function Xr(){if(Rc){var t=Pl;if(t!==null)throw t}}function Jr(t,s,a,r){Rc=!1;var c=t.updateQueue;xa=!1;var d=c.firstBaseUpdate,h=c.lastBaseUpdate,p=c.shared.pending;if(p!==null){c.shared.pending=null;var S=p,P=S.next;S.next=null,h===null?d=P:h.next=P,h=S;var X=t.alternate;X!==null&&(X=X.updateQueue,p=X.lastBaseUpdate,p!==h&&(p===null?X.firstBaseUpdate=P:p.next=P,X.lastBaseUpdate=S))}if(d!==null){var Z=c.baseState;h=0,X=P=S=null,p=d;do{var V=p.lane&-536870913,G=V!==p.lane;if(G?(Ee&V)===V:(r&V)===V){V!==0&&V===Bl&&(Rc=!0),X!==null&&(X=X.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var ne=t,ge=p;V=s;var qe=a;switch(ge.tag){case 1:if(ne=ge.payload,typeof ne=="function"){Z=ne.call(qe,Z,V);break e}Z=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=ge.payload,V=typeof ne=="function"?ne.call(qe,Z,V):ne,V==null)break e;Z=y({},Z,V);break e;case 2:xa=!0}}V=p.callback,V!==null&&(t.flags|=64,G&&(t.flags|=8192),G=c.callbacks,G===null?c.callbacks=[V]:G.push(V))}else G={lane:V,tag:p.tag,payload:p.payload,callback:p.callback,next:null},X===null?(P=X=G,S=Z):X=X.next=G,h|=V;if(p=p.next,p===null){if(p=c.shared.pending,p===null)break;G=p,p=G.next,G.next=null,c.lastBaseUpdate=G,c.shared.pending=null}}while(!0);X===null&&(S=Z),c.baseState=S,c.firstBaseUpdate=P,c.lastBaseUpdate=X,d===null&&(c.shared.lanes=0),ja|=h,t.lanes=h,t.memoizedState=Z}}function fh(t,s){if(typeof t!="function")throw Error(o(191,t));t.call(s)}function gh(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)fh(a[t],s)}var Vl=ie(null),vi=ie(0);function ph(t,s){t=Ys,me(vi,t),me(Vl,s),Ys=t|s.baseLanes}function Oc(){me(vi,Ys),me(Vl,Vl.current)}function Mc(){Ys=vi.current,ve(Vl),ve(vi)}var Gt=ie(null),rs=null;function pa(t){var s=t.alternate;me(at,at.current&1),me(Gt,t),rs===null&&(s===null||Vl.current!==null||s.memoizedState!==null)&&(rs=t)}function Ic(t){me(at,at.current),me(Gt,t),rs===null&&(rs=t)}function bh(t){t.tag===22?(me(at,at.current),me(Gt,t),rs===null&&(rs=t)):ba()}function ba(){me(at,at.current),me(Gt,Gt.current)}function Yt(t){ve(Gt),rs===t&&(rs=null),ve(at)}var at=ie(0);function ji(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Hd(a)||qd(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Bs=0,je=null,Pe=null,ct=null,Ni=!1,$l=!1,dl=!1,wi=0,Zr=0,Fl=null,Ub=0;function We(){throw Error(o(321))}function zc(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!$t(t[a],s[a]))return!1;return!0}function Lc(t,s,a,r,c,d){return Bs=d,je=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,T.H=t===null||t.memoizedState===null?tx:Zc,dl=!1,d=a(r,c),dl=!1,$l&&(d=vh(s,a,r,c)),yh(t),d}function yh(t){T.H=tn;var s=Pe!==null&&Pe.next!==null;if(Bs=0,ct=Pe=je=null,Ni=!1,Zr=0,Fl=null,s)throw Error(o(300));t===null||dt||(t=t.dependencies,t!==null&&hi(t)&&(dt=!0))}function vh(t,s,a,r){je=t;var c=0;do{if($l&&(Fl=null),Zr=0,$l=!1,25<=c)throw Error(o(301));if(c+=1,ct=Pe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}T.H=sx,d=s(a,r)}while($l);return d}function Bb(){var t=T.H,s=t.useState()[0];return s=typeof s.then=="function"?Wr(s):s,t=t.useState()[0],(Pe!==null?Pe.memoizedState:null)!==t&&(je.flags|=1024),s}function Uc(){var t=wi!==0;return wi=0,t}function Bc(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function Pc(t){if(Ni){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Ni=!1}Bs=0,ct=Pe=je=null,$l=!1,Zr=wi=0,Fl=null}function Rt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?je.memoizedState=ct=t:ct=ct.next=t,ct}function lt(){if(Pe===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=Pe.next;var s=ct===null?je.memoizedState:ct.next;if(s!==null)ct=s,Pe=t;else{if(t===null)throw je.alternate===null?Error(o(467)):Error(o(310));Pe=t,t={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},ct===null?je.memoizedState=ct=t:ct=ct.next=t}return ct}function Si(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wr(t){var s=Zr;return Zr+=1,Fl===null&&(Fl=[]),t=dh(Fl,t,s),s=je,(ct===null?s.memoizedState:ct.next)===null&&(s=s.alternate,T.H=s===null||s.memoizedState===null?tx:Zc),t}function Ci(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wr(t);if(t.$$typeof===N)return jt(t)}throw Error(o(438,String(t)))}function Hc(t){var s=null,a=je.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var r=je.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(s={data:r.data.map(function(c){return c.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Si(),je.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),r=0;r<t;r++)a[r]=fe;return s.index++,a}function Ps(t,s){return typeof s=="function"?s(t):s}function Ti(t){var s=lt();return qc(s,Pe,t)}function qc(t,s,a){var r=t.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=a;var c=t.baseQueue,d=r.pending;if(d!==null){if(c!==null){var h=c.next;c.next=d.next,d.next=h}s.baseQueue=c=d,r.pending=null}if(d=t.baseState,c===null)t.memoizedState=d;else{s=c.next;var p=h=null,S=null,P=s,X=!1;do{var Z=P.lane&-536870913;if(Z!==P.lane?(Ee&Z)===Z:(Bs&Z)===Z){var V=P.revertLane;if(V===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Z===Bl&&(X=!0);else if((Bs&V)===V){P=P.next,V===Bl&&(X=!0);continue}else Z={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},S===null?(p=S=Z,h=d):S=S.next=Z,je.lanes|=V,ja|=V;Z=P.action,dl&&a(d,Z),d=P.hasEagerState?P.eagerState:a(d,Z)}else V={lane:Z,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},S===null?(p=S=V,h=d):S=S.next=V,je.lanes|=Z,ja|=Z;P=P.next}while(P!==null&&P!==s);if(S===null?h=d:S.next=p,!$t(d,t.memoizedState)&&(dt=!0,X&&(a=Pl,a!==null)))throw a;t.memoizedState=d,t.baseState=h,t.baseQueue=S,r.lastRenderedState=d}return c===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Vc(t){var s=lt(),a=s.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=t;var r=a.dispatch,c=a.pending,d=s.memoizedState;if(c!==null){a.pending=null;var h=c=c.next;do d=t(d,h.action),h=h.next;while(h!==c);$t(d,s.memoizedState)||(dt=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,r]}function jh(t,s,a){var r=je,c=lt(),d=De;if(d){if(a===void 0)throw Error(o(407));a=a()}else a=s();var h=!$t((Pe||c).memoizedState,a);if(h&&(c.memoizedState=a,dt=!0),c=c.queue,Gc(Sh.bind(null,r,c,t),[t]),c.getSnapshot!==s||h||ct!==null&&ct.memoizedState.tag&1){if(r.flags|=2048,Gl(9,{destroy:void 0},wh.bind(null,r,c,a,s),null),Ve===null)throw Error(o(349));d||(Bs&127)!==0||Nh(r,s,a)}return a}function Nh(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=je.updateQueue,s===null?(s=Si(),je.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function wh(t,s,a,r){s.value=a,s.getSnapshot=r,Ch(s)&&Th(t)}function Sh(t,s,a){return a(function(){Ch(s)&&Th(t)})}function Ch(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!$t(t,a)}catch{return!0}}function Th(t){var s=tl(t,2);s!==null&&Pt(s,t,2)}function $c(t){var s=Rt();if(typeof t=="function"){var a=t;if(t=a(),dl){ia(!0);try{a()}finally{ia(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:t},s}function kh(t,s,a,r){return t.baseState=a,qc(t,Pe,typeof r=="function"?r:Ps)}function Pb(t,s,a,r,c){if(Ei(t))throw Error(o(485));if(t=s.action,t!==null){var d={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){d.listeners.push(h)}};T.T!==null?a(!0):d.isTransition=!1,r(d),a=s.pending,a===null?(d.next=s.pending=d,Ah(s,d)):(d.next=a.next,s.pending=a.next=d)}}function Ah(t,s){var a=s.action,r=s.payload,c=t.state;if(s.isTransition){var d=T.T,h={};T.T=h;try{var p=a(c,r),S=T.S;S!==null&&S(h,p),Eh(t,s,p)}catch(P){Fc(t,s,P)}finally{d!==null&&h.types!==null&&(d.types=h.types),T.T=d}}else try{d=a(c,r),Eh(t,s,d)}catch(P){Fc(t,s,P)}}function Eh(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){_h(t,s,r)},function(r){return Fc(t,s,r)}):_h(t,s,a)}function _h(t,s,a){s.status="fulfilled",s.value=a,Dh(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,Ah(t,a)))}function Fc(t,s,a){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do s.status="rejected",s.reason=a,Dh(s),s=s.next;while(s!==r)}t.action=null}function Dh(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Rh(t,s){return s}function Oh(t,s){if(De){var a=Ve.formState;if(a!==null){e:{var r=je;if(De){if(Fe){t:{for(var c=Fe,d=ls;c.nodeType!==8;){if(!d){c=null;break t}if(c=ns(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){Fe=ns(c.nextSibling),r=c.data==="F!";break e}}ma(r)}r=!1}r&&(s=a[0])}}return a=Rt(),a.memoizedState=a.baseState=s,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rh,lastRenderedState:s},a.queue=r,a=Zh.bind(null,je,r),r.dispatch=a,r=$c(!1),d=Jc.bind(null,je,!1,r.queue),r=Rt(),c={state:s,dispatch:null,action:t,pending:null},r.queue=c,a=Pb.bind(null,je,c,d,a),c.dispatch=a,r.memoizedState=t,[s,a,!1]}function Mh(t){var s=lt();return Ih(s,Pe,t)}function Ih(t,s,a){if(s=qc(t,s,Rh)[0],t=Ti(Ps)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var r=Wr(s)}catch(h){throw h===Hl?gi:h}else r=s;s=lt();var c=s.queue,d=c.dispatch;return a!==s.memoizedState&&(je.flags|=2048,Gl(9,{destroy:void 0},Hb.bind(null,c,a),null)),[r,d,t]}function Hb(t,s){t.action=s}function zh(t){var s=lt(),a=Pe;if(a!==null)return Ih(s,a,t);lt(),s=s.memoizedState,a=lt();var r=a.queue.dispatch;return a.memoizedState=t,[s,r,!1]}function Gl(t,s,a,r){return t={tag:t,create:a,deps:r,inst:s,next:null},s=je.updateQueue,s===null&&(s=Si(),je.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(r=a.next,a.next=t,t.next=r,s.lastEffect=t),t}function Lh(){return lt().memoizedState}function ki(t,s,a,r){var c=Rt();je.flags|=t,c.memoizedState=Gl(1|s,{destroy:void 0},a,r===void 0?null:r)}function Ai(t,s,a,r){var c=lt();r=r===void 0?null:r;var d=c.memoizedState.inst;Pe!==null&&r!==null&&zc(r,Pe.memoizedState.deps)?c.memoizedState=Gl(s,d,a,r):(je.flags|=t,c.memoizedState=Gl(1|s,d,a,r))}function Uh(t,s){ki(8390656,8,t,s)}function Gc(t,s){Ai(2048,8,t,s)}function qb(t){je.flags|=4;var s=je.updateQueue;if(s===null)s=Si(),je.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function Bh(t){var s=lt().memoizedState;return qb({ref:s,nextImpl:t}),function(){if((Le&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}function Ph(t,s){return Ai(4,2,t,s)}function Hh(t,s){return Ai(4,4,t,s)}function qh(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Vh(t,s,a){a=a!=null?a.concat([t]):null,Ai(4,4,qh.bind(null,s,t),a)}function Yc(){}function $h(t,s){var a=lt();s=s===void 0?null:s;var r=a.memoizedState;return s!==null&&zc(s,r[1])?r[0]:(a.memoizedState=[t,s],t)}function Fh(t,s){var a=lt();s=s===void 0?null:s;var r=a.memoizedState;if(s!==null&&zc(s,r[1]))return r[0];if(r=t(),dl){ia(!0);try{t()}finally{ia(!1)}}return a.memoizedState=[r,s],r}function Kc(t,s,a){return a===void 0||(Bs&1073741824)!==0&&(Ee&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=Gx(),je.lanes|=t,ja|=t,a)}function Gh(t,s,a,r){return $t(a,s)?a:Vl.current!==null?(t=Kc(t,a,r),$t(t,s)||(dt=!0),t):(Bs&42)===0||(Bs&1073741824)!==0&&(Ee&261930)===0?(dt=!0,t.memoizedState=a):(t=Gx(),je.lanes|=t,ja|=t,s)}function Yh(t,s,a,r,c){var d=F.p;F.p=d!==0&&8>d?d:8;var h=T.T,p={};T.T=p,Jc(t,!1,s,a);try{var S=c(),P=T.S;if(P!==null&&P(p,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var X=Lb(S,r);en(t,s,X,Xt(t))}else en(t,s,r,Xt(t))}catch(Z){en(t,s,{then:function(){},status:"rejected",reason:Z},Xt())}finally{F.p=d,h!==null&&p.types!==null&&(h.types=p.types),T.T=h}}function Vb(){}function Qc(t,s,a,r){if(t.tag!==5)throw Error(o(476));var c=Kh(t).queue;Yh(t,c,s,z,a===null?Vb:function(){return Qh(t),a(r)})}function Kh(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:z},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Qh(t){var s=Kh(t);s.next===null&&(s=t.alternate.memoizedState),en(t,s.next.queue,{},Xt())}function Xc(){return jt(bn)}function Xh(){return lt().memoizedState}function Jh(){return lt().memoizedState}function $b(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Xt();t=fa(a);var r=ga(s,t,a);r!==null&&(Pt(r,s,a),Qr(r,s,a)),s={cache:Cc()},t.payload=s;return}s=s.return}}function Fb(t,s,a){var r=Xt();a={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ei(t)?Wh(s,a):(a=xc(t,s,a,r),a!==null&&(Pt(a,t,r),ex(a,s,r)))}function Zh(t,s,a){var r=Xt();en(t,s,a,r)}function en(t,s,a,r){var c={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ei(t))Wh(s,c);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var h=s.lastRenderedState,p=d(h,a);if(c.hasEagerState=!0,c.eagerState=p,$t(p,h))return ci(t,s,c,0),Ve===null&&oi(),!1}catch{}finally{}if(a=xc(t,s,c,r),a!==null)return Pt(a,t,r),ex(a,s,r),!0}return!1}function Jc(t,s,a,r){if(r={lane:2,revertLane:Ed(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ei(t)){if(s)throw Error(o(479))}else s=xc(t,a,r,2),s!==null&&Pt(s,t,2)}function Ei(t){var s=t.alternate;return t===je||s!==null&&s===je}function Wh(t,s){$l=Ni=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function ex(t,s,a){if((a&4194048)!==0){var r=s.lanes;r&=t.pendingLanes,a|=r,s.lanes=a,rm(t,a)}}var tn={readContext:jt,use:Ci,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We,useHostTransitionStatus:We,useFormState:We,useActionState:We,useOptimistic:We,useMemoCache:We,useCacheRefresh:We};tn.useEffectEvent=We;var tx={readContext:jt,use:Ci,useCallback:function(t,s){return Rt().memoizedState=[t,s===void 0?null:s],t},useContext:jt,useEffect:Uh,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,ki(4194308,4,qh.bind(null,s,t),a)},useLayoutEffect:function(t,s){return ki(4194308,4,t,s)},useInsertionEffect:function(t,s){ki(4,2,t,s)},useMemo:function(t,s){var a=Rt();s=s===void 0?null:s;var r=t();if(dl){ia(!0);try{t()}finally{ia(!1)}}return a.memoizedState=[r,s],r},useReducer:function(t,s,a){var r=Rt();if(a!==void 0){var c=a(s);if(dl){ia(!0);try{a(s)}finally{ia(!1)}}}else c=s;return r.memoizedState=r.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},r.queue=t,t=t.dispatch=Fb.bind(null,je,t),[r.memoizedState,t]},useRef:function(t){var s=Rt();return t={current:t},s.memoizedState=t},useState:function(t){t=$c(t);var s=t.queue,a=Zh.bind(null,je,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:Yc,useDeferredValue:function(t,s){var a=Rt();return Kc(a,t,s)},useTransition:function(){var t=$c(!1);return t=Yh.bind(null,je,t.queue,!0,!1),Rt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var r=je,c=Rt();if(De){if(a===void 0)throw Error(o(407));a=a()}else{if(a=s(),Ve===null)throw Error(o(349));(Ee&127)!==0||Nh(r,s,a)}c.memoizedState=a;var d={value:a,getSnapshot:s};return c.queue=d,Uh(Sh.bind(null,r,d,t),[t]),r.flags|=2048,Gl(9,{destroy:void 0},wh.bind(null,r,d,a,s),null),a},useId:function(){var t=Rt(),s=Ve.identifierPrefix;if(De){var a=ws,r=Ns;a=(r&~(1<<32-Vt(r)-1)).toString(32)+a,s="_"+s+"R_"+a,a=wi++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Ub++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Xc,useFormState:Oh,useActionState:Oh,useOptimistic:function(t){var s=Rt();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Jc.bind(null,je,!0,a),a.dispatch=s,[t,s]},useMemoCache:Hc,useCacheRefresh:function(){return Rt().memoizedState=$b.bind(null,je)},useEffectEvent:function(t){var s=Rt(),a={impl:t};return s.memoizedState=a,function(){if((Le&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},Zc={readContext:jt,use:Ci,useCallback:$h,useContext:jt,useEffect:Gc,useImperativeHandle:Vh,useInsertionEffect:Ph,useLayoutEffect:Hh,useMemo:Fh,useReducer:Ti,useRef:Lh,useState:function(){return Ti(Ps)},useDebugValue:Yc,useDeferredValue:function(t,s){var a=lt();return Gh(a,Pe.memoizedState,t,s)},useTransition:function(){var t=Ti(Ps)[0],s=lt().memoizedState;return[typeof t=="boolean"?t:Wr(t),s]},useSyncExternalStore:jh,useId:Xh,useHostTransitionStatus:Xc,useFormState:Mh,useActionState:Mh,useOptimistic:function(t,s){var a=lt();return kh(a,Pe,t,s)},useMemoCache:Hc,useCacheRefresh:Jh};Zc.useEffectEvent=Bh;var sx={readContext:jt,use:Ci,useCallback:$h,useContext:jt,useEffect:Gc,useImperativeHandle:Vh,useInsertionEffect:Ph,useLayoutEffect:Hh,useMemo:Fh,useReducer:Vc,useRef:Lh,useState:function(){return Vc(Ps)},useDebugValue:Yc,useDeferredValue:function(t,s){var a=lt();return Pe===null?Kc(a,t,s):Gh(a,Pe.memoizedState,t,s)},useTransition:function(){var t=Vc(Ps)[0],s=lt().memoizedState;return[typeof t=="boolean"?t:Wr(t),s]},useSyncExternalStore:jh,useId:Xh,useHostTransitionStatus:Xc,useFormState:zh,useActionState:zh,useOptimistic:function(t,s){var a=lt();return Pe!==null?kh(a,Pe,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Hc,useCacheRefresh:Jh};sx.useEffectEvent=Bh;function Wc(t,s,a,r){s=t.memoizedState,a=a(r,s),a=a==null?s:y({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ed={enqueueSetState:function(t,s,a){t=t._reactInternals;var r=Xt(),c=fa(r);c.payload=s,a!=null&&(c.callback=a),s=ga(t,c,r),s!==null&&(Pt(s,t,r),Qr(s,t,r))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var r=Xt(),c=fa(r);c.tag=1,c.payload=s,a!=null&&(c.callback=a),s=ga(t,c,r),s!==null&&(Pt(s,t,r),Qr(s,t,r))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Xt(),r=fa(a);r.tag=2,s!=null&&(r.callback=s),s=ga(t,r,a),s!==null&&(Pt(s,t,a),Qr(s,t,a))}};function ax(t,s,a,r,c,d,h){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,d,h):s.prototype&&s.prototype.isPureReactComponent?!Hr(a,r)||!Hr(c,d):!0}function lx(t,s,a,r){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,r),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,r),s.state!==t&&ed.enqueueReplaceState(s,s.state,null)}function ul(t,s){var a=s;if("ref"in s){a={};for(var r in s)r!=="ref"&&(a[r]=s[r])}if(t=t.defaultProps){a===s&&(a=y({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function rx(t){ii(t)}function nx(t){console.error(t)}function ix(t){ii(t)}function _i(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(r){setTimeout(function(){throw r})}}function ox(t,s,a){try{var r=t.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function td(t,s,a){return a=fa(a),a.tag=3,a.payload={element:null},a.callback=function(){_i(t,s)},a}function cx(t){return t=fa(t),t.tag=3,t}function dx(t,s,a,r){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var d=r.value;t.payload=function(){return c(d)},t.callback=function(){ox(s,a,r)}}var h=a.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(t.callback=function(){ox(s,a,r),typeof c!="function"&&(Na===null?Na=new Set([this]):Na.add(this));var p=r.stack;this.componentDidCatch(r.value,{componentStack:p!==null?p:""})})}function Gb(t,s,a,r,c){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(s=a.alternate,s!==null&&Ul(s,a,c,!0),a=Gt.current,a!==null){switch(a.tag){case 31:case 13:return rs===null?qi():a.alternate===null&&et===0&&(et=3),a.flags&=-257,a.flags|=65536,a.lanes=c,r===pi?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([r]):s.add(r),Td(t,r,c)),!1;case 22:return a.flags|=65536,r===pi?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([r]):a.add(r)),Td(t,r,c)),!1}throw Error(o(435,a.tag))}return Td(t,r,c),qi(),!1}if(De)return s=Gt.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=c,r!==vc&&(t=Error(o(422),{cause:r}),$r(ts(t,a)))):(r!==vc&&(s=Error(o(423),{cause:r}),$r(ts(s,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,r=ts(r,a),c=td(t.stateNode,r,c),Dc(t,c),et!==4&&(et=2)),!1;var d=Error(o(520),{cause:r});if(d=ts(d,a),dn===null?dn=[d]:dn.push(d),et!==4&&(et=2),s===null)return!0;r=ts(r,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=td(a.stateNode,r,t),Dc(a,t),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Na===null||!Na.has(d))))return a.flags|=65536,c&=-c,a.lanes|=c,c=cx(c),dx(c,t,a,r),Dc(a,c),!1}a=a.return}while(a!==null);return!1}var sd=Error(o(461)),dt=!1;function Nt(t,s,a,r){s.child=t===null?xh(s,null,a,r):cl(s,t.child,a,r)}function ux(t,s,a,r,c){a=a.render;var d=s.ref;if("ref"in r){var h={};for(var p in r)p!=="ref"&&(h[p]=r[p])}else h=r;return rl(s),r=Lc(t,s,a,h,d,c),p=Uc(),t!==null&&!dt?(Bc(t,s,c),Hs(t,s,c)):(De&&p&&bc(s),s.flags|=1,Nt(t,s,r,c),s.child)}function mx(t,s,a,r,c){if(t===null){var d=a.type;return typeof d=="function"&&!fc(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,hx(t,s,d,r,c)):(t=ui(a.type,null,r,s,s.mode,c),t.ref=s.ref,t.return=s,s.child=t)}if(d=t.child,!dd(t,c)){var h=d.memoizedProps;if(a=a.compare,a=a!==null?a:Hr,a(h,r)&&t.ref===s.ref)return Hs(t,s,c)}return s.flags|=1,t=Is(d,r),t.ref=s.ref,t.return=s,s.child=t}function hx(t,s,a,r,c){if(t!==null){var d=t.memoizedProps;if(Hr(d,r)&&t.ref===s.ref)if(dt=!1,s.pendingProps=r=d,dd(t,c))(t.flags&131072)!==0&&(dt=!0);else return s.lanes=t.lanes,Hs(t,s,c)}return ad(t,s,a,r,c)}function xx(t,s,a,r){var c=r.children,d=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(r=s.child=t.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;r=c&~d}else r=0,s.child=null;return fx(t,s,d,a,r)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&fi(s,d!==null?d.cachePool:null),d!==null?ph(s,d):Oc(),bh(s);else return r=s.lanes=536870912,fx(t,s,d!==null?d.baseLanes|a:a,a,r)}else d!==null?(fi(s,d.cachePool),ph(s,d),ba(),s.memoizedState=null):(t!==null&&fi(s,null),Oc(),ba());return Nt(t,s,c,a),s.child}function sn(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function fx(t,s,a,r,c){var d=kc();return d=d===null?null:{parent:ot._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},t!==null&&fi(s,null),Oc(),bh(s),t!==null&&Ul(t,s,r,!0),s.childLanes=c,null}function Di(t,s){return s=Oi({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function gx(t,s,a){return cl(s,t.child,null,a),t=Di(s,s.pendingProps),t.flags|=2,Yt(s),s.memoizedState=null,t}function Yb(t,s,a){var r=s.pendingProps,c=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(De){if(r.mode==="hidden")return t=Di(s,r),s.lanes=536870912,sn(null,t);if(Ic(s),(t=Fe)?(t=Ef(t,ls),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:da!==null?{id:Ns,overflow:ws}:null,retryLane:536870912,hydrationErrors:null},a=Wm(t),a.return=s,s.child=a,vt=s,Fe=null)):t=null,t===null)throw ma(s);return s.lanes=536870912,null}return Di(s,r)}var d=t.memoizedState;if(d!==null){var h=d.dehydrated;if(Ic(s),c)if(s.flags&256)s.flags&=-257,s=gx(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(o(558));else if(dt||Ul(t,s,a,!1),c=(a&t.childLanes)!==0,dt||c){if(r=Ve,r!==null&&(h=nm(r,a),h!==0&&h!==d.retryLane))throw d.retryLane=h,tl(t,h),Pt(r,t,h),sd;qi(),s=gx(t,s,a)}else t=d.treeContext,Fe=ns(h.nextSibling),vt=s,De=!0,ua=null,ls=!1,t!==null&&sh(s,t),s=Di(s,r),s.flags|=4096;return s}return t=Is(t.child,{mode:r.mode,children:r.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Ri(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function ad(t,s,a,r,c){return rl(s),a=Lc(t,s,a,r,void 0,c),r=Uc(),t!==null&&!dt?(Bc(t,s,c),Hs(t,s,c)):(De&&r&&bc(s),s.flags|=1,Nt(t,s,a,c),s.child)}function px(t,s,a,r,c,d){return rl(s),s.updateQueue=null,a=vh(s,r,a,c),yh(t),r=Uc(),t!==null&&!dt?(Bc(t,s,d),Hs(t,s,d)):(De&&r&&bc(s),s.flags|=1,Nt(t,s,a,d),s.child)}function bx(t,s,a,r,c){if(rl(s),s.stateNode===null){var d=Ml,h=a.contextType;typeof h=="object"&&h!==null&&(d=jt(h)),d=new a(r,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ed,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=r,d.state=s.memoizedState,d.refs={},Ec(s),h=a.contextType,d.context=typeof h=="object"&&h!==null?jt(h):Ml,d.state=s.memoizedState,h=a.getDerivedStateFromProps,typeof h=="function"&&(Wc(s,a,h,r),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(h=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),h!==d.state&&ed.enqueueReplaceState(d,d.state,null),Jr(s,r,d,c),Xr(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),r=!0}else if(t===null){d=s.stateNode;var p=s.memoizedProps,S=ul(a,p);d.props=S;var P=d.context,X=a.contextType;h=Ml,typeof X=="object"&&X!==null&&(h=jt(X));var Z=a.getDerivedStateFromProps;X=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",p=s.pendingProps!==p,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p||P!==h)&&lx(s,d,r,h),xa=!1;var V=s.memoizedState;d.state=V,Jr(s,r,d,c),Xr(),P=s.memoizedState,p||V!==P||xa?(typeof Z=="function"&&(Wc(s,a,Z,r),P=s.memoizedState),(S=xa||ax(s,a,S,r,V,P,h))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=r,s.memoizedState=P),d.props=r,d.state=P,d.context=h,r=S):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),r=!1)}else{d=s.stateNode,_c(t,s),h=s.memoizedProps,X=ul(a,h),d.props=X,Z=s.pendingProps,V=d.context,P=a.contextType,S=Ml,typeof P=="object"&&P!==null&&(S=jt(P)),p=a.getDerivedStateFromProps,(P=typeof p=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(h!==Z||V!==S)&&lx(s,d,r,S),xa=!1,V=s.memoizedState,d.state=V,Jr(s,r,d,c),Xr();var G=s.memoizedState;h!==Z||V!==G||xa||t!==null&&t.dependencies!==null&&hi(t.dependencies)?(typeof p=="function"&&(Wc(s,a,p,r),G=s.memoizedState),(X=xa||ax(s,a,X,r,V,G,S)||t!==null&&t.dependencies!==null&&hi(t.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,G,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,G,S)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||h===t.memoizedProps&&V===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&V===t.memoizedState||(s.flags|=1024),s.memoizedProps=r,s.memoizedState=G),d.props=r,d.state=G,d.context=S,r=X):(typeof d.componentDidUpdate!="function"||h===t.memoizedProps&&V===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&V===t.memoizedState||(s.flags|=1024),r=!1)}return d=r,Ri(t,s),r=(s.flags&128)!==0,d||r?(d=s.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,t!==null&&r?(s.child=cl(s,t.child,null,c),s.child=cl(s,null,a,c)):Nt(t,s,a,c),s.memoizedState=d.state,t=s.child):t=Hs(t,s,c),t}function yx(t,s,a,r){return al(),s.flags|=256,Nt(t,s,a,r),s.child}var ld={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rd(t){return{baseLanes:t,cachePool:oh()}}function nd(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Qt),t}function vx(t,s,a){var r=s.pendingProps,c=!1,d=(s.flags&128)!==0,h;if((h=d)||(h=t!==null&&t.memoizedState===null?!1:(at.current&2)!==0),h&&(c=!0,s.flags&=-129),h=(s.flags&32)!==0,s.flags&=-33,t===null){if(De){if(c?pa(s):ba(),(t=Fe)?(t=Ef(t,ls),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:da!==null?{id:Ns,overflow:ws}:null,retryLane:536870912,hydrationErrors:null},a=Wm(t),a.return=s,s.child=a,vt=s,Fe=null)):t=null,t===null)throw ma(s);return qd(t)?s.lanes=32:s.lanes=536870912,null}var p=r.children;return r=r.fallback,c?(ba(),c=s.mode,p=Oi({mode:"hidden",children:p},c),r=sl(r,c,a,null),p.return=s,r.return=s,p.sibling=r,s.child=p,r=s.child,r.memoizedState=rd(a),r.childLanes=nd(t,h,a),s.memoizedState=ld,sn(null,r)):(pa(s),id(s,p))}var S=t.memoizedState;if(S!==null&&(p=S.dehydrated,p!==null)){if(d)s.flags&256?(pa(s),s.flags&=-257,s=od(t,s,a)):s.memoizedState!==null?(ba(),s.child=t.child,s.flags|=128,s=null):(ba(),p=r.fallback,c=s.mode,r=Oi({mode:"visible",children:r.children},c),p=sl(p,c,a,null),p.flags|=2,r.return=s,p.return=s,r.sibling=p,s.child=r,cl(s,t.child,null,a),r=s.child,r.memoizedState=rd(a),r.childLanes=nd(t,h,a),s.memoizedState=ld,s=sn(null,r));else if(pa(s),qd(p)){if(h=p.nextSibling&&p.nextSibling.dataset,h)var P=h.dgst;h=P,r=Error(o(419)),r.stack="",r.digest=h,$r({value:r,source:null,stack:null}),s=od(t,s,a)}else if(dt||Ul(t,s,a,!1),h=(a&t.childLanes)!==0,dt||h){if(h=Ve,h!==null&&(r=nm(h,a),r!==0&&r!==S.retryLane))throw S.retryLane=r,tl(t,r),Pt(h,t,r),sd;Hd(p)||qi(),s=od(t,s,a)}else Hd(p)?(s.flags|=192,s.child=t.child,s=null):(t=S.treeContext,Fe=ns(p.nextSibling),vt=s,De=!0,ua=null,ls=!1,t!==null&&sh(s,t),s=id(s,r.children),s.flags|=4096);return s}return c?(ba(),p=r.fallback,c=s.mode,S=t.child,P=S.sibling,r=Is(S,{mode:"hidden",children:r.children}),r.subtreeFlags=S.subtreeFlags&65011712,P!==null?p=Is(P,p):(p=sl(p,c,a,null),p.flags|=2),p.return=s,r.return=s,r.sibling=p,s.child=r,sn(null,r),r=s.child,p=t.child.memoizedState,p===null?p=rd(a):(c=p.cachePool,c!==null?(S=ot._currentValue,c=c.parent!==S?{parent:S,pool:S}:c):c=oh(),p={baseLanes:p.baseLanes|a,cachePool:c}),r.memoizedState=p,r.childLanes=nd(t,h,a),s.memoizedState=ld,sn(t.child,r)):(pa(s),a=t.child,t=a.sibling,a=Is(a,{mode:"visible",children:r.children}),a.return=s,a.sibling=null,t!==null&&(h=s.deletions,h===null?(s.deletions=[t],s.flags|=16):h.push(t)),s.child=a,s.memoizedState=null,a)}function id(t,s){return s=Oi({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Oi(t,s){return t=Ft(22,t,null,s),t.lanes=0,t}function od(t,s,a){return cl(s,t.child,null,a),t=id(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function jx(t,s,a){t.lanes|=s;var r=t.alternate;r!==null&&(r.lanes|=s),wc(t.return,s,a)}function cd(t,s,a,r,c,d){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:c,treeForkCount:d}:(h.isBackwards=s,h.rendering=null,h.renderingStartTime=0,h.last=r,h.tail=a,h.tailMode=c,h.treeForkCount=d)}function Nx(t,s,a){var r=s.pendingProps,c=r.revealOrder,d=r.tail;r=r.children;var h=at.current,p=(h&2)!==0;if(p?(h=h&1|2,s.flags|=128):h&=1,me(at,h),Nt(t,s,r,a),r=De?Vr:0,!p&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jx(t,a,s);else if(t.tag===19)jx(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=s.child,c=null;a!==null;)t=a.alternate,t!==null&&ji(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=s.child,s.child=null):(c=a.sibling,a.sibling=null),cd(s,!1,c,a,d,r);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=s.child,s.child=null;c!==null;){if(t=c.alternate,t!==null&&ji(t)===null){s.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}cd(s,!0,a,null,d,r);break;case"together":cd(s,!1,null,null,void 0,r);break;default:s.memoizedState=null}return s.child}function Hs(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),ja|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(Ul(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(o(153));if(s.child!==null){for(t=s.child,a=Is(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Is(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function dd(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&hi(t)))}function Kb(t,s,a){switch(s.tag){case 3:Ze(s,s.stateNode.containerInfo),ha(s,ot,t.memoizedState.cache),al();break;case 27:case 5:Et(s);break;case 4:Ze(s,s.stateNode.containerInfo);break;case 10:ha(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Ic(s),null;break;case 13:var r=s.memoizedState;if(r!==null)return r.dehydrated!==null?(pa(s),s.flags|=128,null):(a&s.child.childLanes)!==0?vx(t,s,a):(pa(s),t=Hs(t,s,a),t!==null?t.sibling:null);pa(s);break;case 19:var c=(t.flags&128)!==0;if(r=(a&s.childLanes)!==0,r||(Ul(t,s,a,!1),r=(a&s.childLanes)!==0),c){if(r)return Nx(t,s,a);s.flags|=128}if(c=s.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),me(at,at.current),r)break;return null;case 22:return s.lanes=0,xx(t,s,a,s.pendingProps);case 24:ha(s,ot,t.memoizedState.cache)}return Hs(t,s,a)}function wx(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)dt=!0;else{if(!dd(t,a)&&(s.flags&128)===0)return dt=!1,Kb(t,s,a);dt=(t.flags&131072)!==0}else dt=!1,De&&(s.flags&1048576)!==0&&th(s,Vr,s.index);switch(s.lanes=0,s.tag){case 16:e:{var r=s.pendingProps;if(t=il(s.elementType),s.type=t,typeof t=="function")fc(t)?(r=ul(t,r),s.tag=1,s=bx(null,s,t,r,a)):(s.tag=0,s=ad(null,s,t,r,a));else{if(t!=null){var c=t.$$typeof;if(c===q){s.tag=11,s=ux(null,s,t,r,a);break e}else if(c===W){s.tag=14,s=mx(null,s,t,r,a);break e}}throw s=se(t)||t,Error(o(306,s,""))}}return s;case 0:return ad(t,s,s.type,s.pendingProps,a);case 1:return r=s.type,c=ul(r,s.pendingProps),bx(t,s,r,c,a);case 3:e:{if(Ze(s,s.stateNode.containerInfo),t===null)throw Error(o(387));r=s.pendingProps;var d=s.memoizedState;c=d.element,_c(t,s),Jr(s,r,null,a);var h=s.memoizedState;if(r=h.cache,ha(s,ot,r),r!==d.cache&&Sc(s,[ot],a,!0),Xr(),r=h.element,d.isDehydrated)if(d={element:r,isDehydrated:!1,cache:h.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=yx(t,s,r,a);break e}else if(r!==c){c=ts(Error(o(424)),s),$r(c),s=yx(t,s,r,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Fe=ns(t.firstChild),vt=s,De=!0,ua=null,ls=!0,a=xh(s,null,r,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(al(),r===c){s=Hs(t,s,a);break e}Nt(t,s,r,a)}s=s.child}return s;case 26:return Ri(t,s),t===null?(a=If(s.type,null,s.pendingProps,null))?s.memoizedState=a:De||(a=s.type,t=s.pendingProps,r=Qi(Ke.current).createElement(a),r[yt]=s,r[Mt]=t,wt(r,a,t),gt(r),s.stateNode=r):s.memoizedState=If(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Et(s),t===null&&De&&(r=s.stateNode=Rf(s.type,s.pendingProps,Ke.current),vt=s,ls=!0,c=Fe,Ta(s.type)?(Vd=c,Fe=ns(r.firstChild)):Fe=c),Nt(t,s,s.pendingProps.children,a),Ri(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&De&&((c=r=Fe)&&(r=Sy(r,s.type,s.pendingProps,ls),r!==null?(s.stateNode=r,vt=s,Fe=ns(r.firstChild),ls=!1,c=!0):c=!1),c||ma(s)),Et(s),c=s.type,d=s.pendingProps,h=t!==null?t.memoizedProps:null,r=d.children,Ud(c,d)?r=null:h!==null&&Ud(c,h)&&(s.flags|=32),s.memoizedState!==null&&(c=Lc(t,s,Bb,null,null,a),bn._currentValue=c),Ri(t,s),Nt(t,s,r,a),s.child;case 6:return t===null&&De&&((t=a=Fe)&&(a=Cy(a,s.pendingProps,ls),a!==null?(s.stateNode=a,vt=s,Fe=null,t=!0):t=!1),t||ma(s)),null;case 13:return vx(t,s,a);case 4:return Ze(s,s.stateNode.containerInfo),r=s.pendingProps,t===null?s.child=cl(s,null,r,a):Nt(t,s,r,a),s.child;case 11:return ux(t,s,s.type,s.pendingProps,a);case 7:return Nt(t,s,s.pendingProps,a),s.child;case 8:return Nt(t,s,s.pendingProps.children,a),s.child;case 12:return Nt(t,s,s.pendingProps.children,a),s.child;case 10:return r=s.pendingProps,ha(s,s.type,r.value),Nt(t,s,r.children,a),s.child;case 9:return c=s.type._context,r=s.pendingProps.children,rl(s),c=jt(c),r=r(c),s.flags|=1,Nt(t,s,r,a),s.child;case 14:return mx(t,s,s.type,s.pendingProps,a);case 15:return hx(t,s,s.type,s.pendingProps,a);case 19:return Nx(t,s,a);case 31:return Yb(t,s,a);case 22:return xx(t,s,a,s.pendingProps);case 24:return rl(s),r=jt(ot),t===null?(c=kc(),c===null&&(c=Ve,d=Cc(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=a),c=d),s.memoizedState={parent:r,cache:c},Ec(s),ha(s,ot,c)):((t.lanes&a)!==0&&(_c(t,s),Jr(s,null,null,a),Xr()),c=t.memoizedState,d=s.memoizedState,c.parent!==r?(c={parent:r,cache:r},s.memoizedState=c,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=c),ha(s,ot,r)):(r=d.cache,ha(s,ot,r),r!==c.cache&&Sc(s,[ot],a,!0))),Nt(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(o(156,s.tag))}function qs(t){t.flags|=4}function ud(t,s,a,r,c){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Xx())t.flags|=8192;else throw ol=pi,Ac}else t.flags&=-16777217}function Sx(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Pf(s))if(Xx())t.flags|=8192;else throw ol=pi,Ac}function Mi(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?am():536870912,t.lanes|=s,Xl|=s)}function an(t,s){if(!De)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ge(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,r=0;if(s)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=r,t.childLanes=a,s}function Qb(t,s,a){var r=s.pendingProps;switch(yc(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(s),null;case 1:return Ge(s),null;case 3:return a=s.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),Us(ot),ft(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ll(s)?qs(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,jc())),Ge(s),null;case 26:var c=s.type,d=s.memoizedState;return t===null?(qs(s),d!==null?(Ge(s),Sx(s,d)):(Ge(s),ud(s,c,null,r,a))):d?d!==t.memoizedState?(qs(s),Ge(s),Sx(s,d)):(Ge(s),s.flags&=-16777217):(t=t.memoizedProps,t!==r&&qs(s),Ge(s),ud(s,c,t,r,a)),null;case 27:if($(s),a=Ke.current,c=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==r&&qs(s);else{if(!r){if(s.stateNode===null)throw Error(o(166));return Ge(s),null}t=Ne.current,Ll(s)?ah(s):(t=Rf(c,r,a),s.stateNode=t,qs(s))}return Ge(s),null;case 5:if($(s),c=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==r&&qs(s);else{if(!r){if(s.stateNode===null)throw Error(o(166));return Ge(s),null}if(d=Ne.current,Ll(s))ah(s);else{var h=Qi(Ke.current);switch(d){case 1:d=h.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:d=h.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":d=h.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":d=h.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":d=h.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof r.is=="string"?h.createElement("select",{is:r.is}):h.createElement("select"),r.multiple?d.multiple=!0:r.size&&(d.size=r.size);break;default:d=typeof r.is=="string"?h.createElement(c,{is:r.is}):h.createElement(c)}}d[yt]=s,d[Mt]=r;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)d.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=d;e:switch(wt(d,c,r),c){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&qs(s)}}return Ge(s),ud(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==r&&qs(s);else{if(typeof r!="string"&&s.stateNode===null)throw Error(o(166));if(t=Ke.current,Ll(s)){if(t=s.stateNode,a=s.memoizedProps,r=null,c=vt,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}t[yt]=s,t=!!(t.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||jf(t.nodeValue,a)),t||ma(s,!0)}else t=Qi(t).createTextNode(r),t[yt]=s,s.stateNode=t}return Ge(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(r=Ll(s),a!==null){if(t===null){if(!r)throw Error(o(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[yt]=s}else al(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ge(s),t=!1}else a=jc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(Yt(s),s):(Yt(s),null);if((s.flags&128)!==0)throw Error(o(558))}return Ge(s),null;case 13:if(r=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ll(s),r!==null&&r.dehydrated!==null){if(t===null){if(!c)throw Error(o(318));if(c=s.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[yt]=s}else al(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ge(s),c=!1}else c=jc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return s.flags&256?(Yt(s),s):(Yt(s),null)}return Yt(s),(s.flags&128)!==0?(s.lanes=a,s):(a=r!==null,t=t!==null&&t.memoizedState!==null,a&&(r=s.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==c&&(r.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),Mi(s,s.updateQueue),Ge(s),null);case 4:return ft(),t===null&&Od(s.stateNode.containerInfo),Ge(s),null;case 10:return Us(s.type),Ge(s),null;case 19:if(ve(at),r=s.memoizedState,r===null)return Ge(s),null;if(c=(s.flags&128)!==0,d=r.rendering,d===null)if(c)an(r,!1);else{if(et!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(d=ji(t),d!==null){for(s.flags|=128,an(r,!1),t=d.updateQueue,s.updateQueue=t,Mi(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)Zm(a,t),a=a.sibling;return me(at,at.current&1|2),De&&zs(s,r.treeForkCount),s.child}t=t.sibling}r.tail!==null&&Dt()>Bi&&(s.flags|=128,c=!0,an(r,!1),s.lanes=4194304)}else{if(!c)if(t=ji(d),t!==null){if(s.flags|=128,c=!0,t=t.updateQueue,s.updateQueue=t,Mi(s,t),an(r,!0),r.tail===null&&r.tailMode==="hidden"&&!d.alternate&&!De)return Ge(s),null}else 2*Dt()-r.renderingStartTime>Bi&&a!==536870912&&(s.flags|=128,c=!0,an(r,!1),s.lanes=4194304);r.isBackwards?(d.sibling=s.child,s.child=d):(t=r.last,t!==null?t.sibling=d:s.child=d,r.last=d)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Dt(),t.sibling=null,a=at.current,me(at,c?a&1|2:a&1),De&&zs(s,r.treeForkCount),t):(Ge(s),null);case 22:case 23:return Yt(s),Mc(),r=s.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(s.flags|=8192):r&&(s.flags|=8192),r?(a&536870912)!==0&&(s.flags&128)===0&&(Ge(s),s.subtreeFlags&6&&(s.flags|=8192)):Ge(s),a=s.updateQueue,a!==null&&Mi(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==a&&(s.flags|=2048),t!==null&&ve(nl),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Us(ot),Ge(s),null;case 25:return null;case 30:return null}throw Error(o(156,s.tag))}function Xb(t,s){switch(yc(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Us(ot),ft(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return $(s),null;case 31:if(s.memoizedState!==null){if(Yt(s),s.alternate===null)throw Error(o(340));al()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(Yt(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(o(340));al()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return ve(at),null;case 4:return ft(),null;case 10:return Us(s.type),null;case 22:case 23:return Yt(s),Mc(),t!==null&&ve(nl),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Us(ot),null;case 25:return null;default:return null}}function Cx(t,s){switch(yc(s),s.tag){case 3:Us(ot),ft();break;case 26:case 27:case 5:$(s);break;case 4:ft();break;case 31:s.memoizedState!==null&&Yt(s);break;case 13:Yt(s);break;case 19:ve(at);break;case 10:Us(s.type);break;case 22:case 23:Yt(s),Mc(),t!==null&&ve(nl);break;case 24:Us(ot)}}function ln(t,s){try{var a=s.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var c=r.next;a=c;do{if((a.tag&t)===t){r=void 0;var d=a.create,h=a.inst;r=d(),h.destroy=r}a=a.next}while(a!==c)}}catch(p){Be(s,s.return,p)}}function ya(t,s,a){try{var r=s.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var d=c.next;r=d;do{if((r.tag&t)===t){var h=r.inst,p=h.destroy;if(p!==void 0){h.destroy=void 0,c=s;var S=a,P=p;try{P()}catch(X){Be(c,S,X)}}}r=r.next}while(r!==d)}}catch(X){Be(s,s.return,X)}}function Tx(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{gh(s,a)}catch(r){Be(t,t.return,r)}}}function kx(t,s,a){a.props=ul(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(r){Be(t,s,r)}}function rn(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof a=="function"?t.refCleanup=a(r):a.current=r}}catch(c){Be(t,s,c)}}function Ss(t,s){var a=t.ref,r=t.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(c){Be(t,s,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Be(t,s,c)}else a.current=null}function Ax(t){var s=t.type,a=t.memoizedProps,r=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(c){Be(t,t.return,c)}}function md(t,s,a){try{var r=t.stateNode;by(r,t.type,a,s),r[Mt]=s}catch(c){Be(t,t.return,c)}}function Ex(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ta(t.type)||t.tag===4}function hd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ex(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ta(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xd(t,s,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Os));else if(r!==4&&(r===27&&Ta(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(xd(t,s,a),t=t.sibling;t!==null;)xd(t,s,a),t=t.sibling}function Ii(t,s,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(r!==4&&(r===27&&Ta(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ii(t,s,a),t=t.sibling;t!==null;)Ii(t,s,a),t=t.sibling}function _x(t){var s=t.stateNode,a=t.memoizedProps;try{for(var r=t.type,c=s.attributes;c.length;)s.removeAttributeNode(c[0]);wt(s,r,a),s[yt]=t,s[Mt]=a}catch(d){Be(t,t.return,d)}}var Vs=!1,ut=!1,fd=!1,Dx=typeof WeakSet=="function"?WeakSet:Set,pt=null;function Jb(t,s){if(t=t.containerInfo,zd=so,t=Vm(t),oc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var c=r.anchorOffset,d=r.focusNode;r=r.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var h=0,p=-1,S=-1,P=0,X=0,Z=t,V=null;t:for(;;){for(var G;Z!==a||c!==0&&Z.nodeType!==3||(p=h+c),Z!==d||r!==0&&Z.nodeType!==3||(S=h+r),Z.nodeType===3&&(h+=Z.nodeValue.length),(G=Z.firstChild)!==null;)V=Z,Z=G;for(;;){if(Z===t)break t;if(V===a&&++P===c&&(p=h),V===d&&++X===r&&(S=h),(G=Z.nextSibling)!==null)break;Z=V,V=Z.parentNode}Z=G}a=p===-1||S===-1?null:{start:p,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ld={focusedElem:t,selectionRange:a},so=!1,pt=s;pt!==null;)if(s=pt,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,pt=t;else for(;pt!==null;){switch(s=pt,d=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=s,c=d.memoizedProps,d=d.memoizedState,r=a.stateNode;try{var ne=ul(a.type,c);t=r.getSnapshotBeforeUpdate(ne,d),r.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Be(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)Pd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Pd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=s.sibling,t!==null){t.return=s.return,pt=t;break}pt=s.return}}function Rx(t,s,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:Fs(t,a),r&4&&ln(5,a);break;case 1:if(Fs(t,a),r&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(h){Be(a,a.return,h)}else{var c=ul(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(c,s,t.__reactInternalSnapshotBeforeUpdate)}catch(h){Be(a,a.return,h)}}r&64&&Tx(a),r&512&&rn(a,a.return);break;case 3:if(Fs(t,a),r&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{gh(t,s)}catch(h){Be(a,a.return,h)}}break;case 27:s===null&&r&4&&_x(a);case 26:case 5:Fs(t,a),s===null&&r&4&&Ax(a),r&512&&rn(a,a.return);break;case 12:Fs(t,a);break;case 31:Fs(t,a),r&4&&Ix(t,a);break;case 13:Fs(t,a),r&4&&zx(t,a),r&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=ny.bind(null,a),Ty(t,a))));break;case 22:if(r=a.memoizedState!==null||Vs,!r){s=s!==null&&s.memoizedState!==null||ut,c=Vs;var d=ut;Vs=r,(ut=s)&&!d?Gs(t,a,(a.subtreeFlags&8772)!==0):Fs(t,a),Vs=c,ut=d}break;case 30:break;default:Fs(t,a)}}function Ox(t){var s=t.alternate;s!==null&&(t.alternate=null,Ox(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Fo(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Xe=null,zt=!1;function $s(t,s,a){for(a=a.child;a!==null;)Mx(t,s,a),a=a.sibling}function Mx(t,s,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Er,a)}catch{}switch(a.tag){case 26:ut||Ss(a,s),$s(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ut||Ss(a,s);var r=Xe,c=zt;Ta(a.type)&&(Xe=a.stateNode,zt=!1),$s(t,s,a),fn(a.stateNode),Xe=r,zt=c;break;case 5:ut||Ss(a,s);case 6:if(r=Xe,c=zt,Xe=null,$s(t,s,a),Xe=r,zt=c,Xe!==null)if(zt)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(a.stateNode)}catch(d){Be(a,s,d)}else try{Xe.removeChild(a.stateNode)}catch(d){Be(a,s,d)}break;case 18:Xe!==null&&(zt?(t=Xe,kf(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),lr(t)):kf(Xe,a.stateNode));break;case 4:r=Xe,c=zt,Xe=a.stateNode.containerInfo,zt=!0,$s(t,s,a),Xe=r,zt=c;break;case 0:case 11:case 14:case 15:ya(2,a,s),ut||ya(4,a,s),$s(t,s,a);break;case 1:ut||(Ss(a,s),r=a.stateNode,typeof r.componentWillUnmount=="function"&&kx(a,s,r)),$s(t,s,a);break;case 21:$s(t,s,a);break;case 22:ut=(r=ut)||a.memoizedState!==null,$s(t,s,a),ut=r;break;default:$s(t,s,a)}}function Ix(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{lr(t)}catch(a){Be(s,s.return,a)}}}function zx(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{lr(t)}catch(a){Be(s,s.return,a)}}function Zb(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Dx),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Dx),s;default:throw Error(o(435,t.tag))}}function zi(t,s){var a=Zb(t);s.forEach(function(r){if(!a.has(r)){a.add(r);var c=iy.bind(null,t,r);r.then(c,c)}})}function Lt(t,s){var a=s.deletions;if(a!==null)for(var r=0;r<a.length;r++){var c=a[r],d=t,h=s,p=h;e:for(;p!==null;){switch(p.tag){case 27:if(Ta(p.type)){Xe=p.stateNode,zt=!1;break e}break;case 5:Xe=p.stateNode,zt=!1;break e;case 3:case 4:Xe=p.stateNode.containerInfo,zt=!0;break e}p=p.return}if(Xe===null)throw Error(o(160));Mx(d,h,c),Xe=null,zt=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Lx(s,t),s=s.sibling}var hs=null;function Lx(t,s){var a=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Lt(s,t),Ut(t),r&4&&(ya(3,t,t.return),ln(3,t),ya(5,t,t.return));break;case 1:Lt(s,t),Ut(t),r&512&&(ut||a===null||Ss(a,a.return)),r&64&&Vs&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var c=hs;if(Lt(s,t),Ut(t),r&512&&(ut||a===null||Ss(a,a.return)),r&4){var d=a!==null?a.memoizedState:null;if(r=t.memoizedState,a===null)if(r===null)if(t.stateNode===null){e:{r=t.type,a=t.memoizedProps,c=c.ownerDocument||c;t:switch(r){case"title":d=c.getElementsByTagName("title")[0],(!d||d[Rr]||d[yt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(r),c.head.insertBefore(d,c.querySelector("head > title"))),wt(d,r,a),d[yt]=t,gt(d),r=d;break e;case"link":var h=Uf("link","href",c).get(r+(a.href||""));if(h){for(var p=0;p<h.length;p++)if(d=h[p],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){h.splice(p,1);break t}}d=c.createElement(r),wt(d,r,a),c.head.appendChild(d);break;case"meta":if(h=Uf("meta","content",c).get(r+(a.content||""))){for(p=0;p<h.length;p++)if(d=h[p],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){h.splice(p,1);break t}}d=c.createElement(r),wt(d,r,a),c.head.appendChild(d);break;default:throw Error(o(468,r))}d[yt]=t,gt(d),r=d}t.stateNode=r}else Bf(c,t.type,t.stateNode);else t.stateNode=Lf(c,r,t.memoizedProps);else d!==r?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,r===null?Bf(c,t.type,t.stateNode):Lf(c,r,t.memoizedProps)):r===null&&t.stateNode!==null&&md(t,t.memoizedProps,a.memoizedProps)}break;case 27:Lt(s,t),Ut(t),r&512&&(ut||a===null||Ss(a,a.return)),a!==null&&r&4&&md(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Lt(s,t),Ut(t),r&512&&(ut||a===null||Ss(a,a.return)),t.flags&32){c=t.stateNode;try{kl(c,"")}catch(ne){Be(t,t.return,ne)}}r&4&&t.stateNode!=null&&(c=t.memoizedProps,md(t,c,a!==null?a.memoizedProps:c)),r&1024&&(fd=!0);break;case 6:if(Lt(s,t),Ut(t),r&4){if(t.stateNode===null)throw Error(o(162));r=t.memoizedProps,a=t.stateNode;try{a.nodeValue=r}catch(ne){Be(t,t.return,ne)}}break;case 3:if(Zi=null,c=hs,hs=Xi(s.containerInfo),Lt(s,t),hs=c,Ut(t),r&4&&a!==null&&a.memoizedState.isDehydrated)try{lr(s.containerInfo)}catch(ne){Be(t,t.return,ne)}fd&&(fd=!1,Ux(t));break;case 4:r=hs,hs=Xi(t.stateNode.containerInfo),Lt(s,t),Ut(t),hs=r;break;case 12:Lt(s,t),Ut(t);break;case 31:Lt(s,t),Ut(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,zi(t,r)));break;case 13:Lt(s,t),Ut(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ui=Dt()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,zi(t,r)));break;case 22:c=t.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,P=Vs,X=ut;if(Vs=P||c,ut=X||S,Lt(s,t),ut=X,Vs=P,Ut(t),r&8192)e:for(s=t.stateNode,s._visibility=c?s._visibility&-2:s._visibility|1,c&&(a===null||S||Vs||ut||ml(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){S=a=s;try{if(d=S.stateNode,c)h=d.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{p=S.stateNode;var Z=S.memoizedProps.style,V=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;p.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(ne){Be(S,S.return,ne)}}}else if(s.tag===6){if(a===null){S=s;try{S.stateNode.nodeValue=c?"":S.memoizedProps}catch(ne){Be(S,S.return,ne)}}}else if(s.tag===18){if(a===null){S=s;try{var G=S.stateNode;c?Af(G,!0):Af(S.stateNode,!1)}catch(ne){Be(S,S.return,ne)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}r&4&&(r=t.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,zi(t,a))));break;case 19:Lt(s,t),Ut(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,zi(t,r)));break;case 30:break;case 21:break;default:Lt(s,t),Ut(t)}}function Ut(t){var s=t.flags;if(s&2){try{for(var a,r=t.return;r!==null;){if(Ex(r)){a=r;break}r=r.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var c=a.stateNode,d=hd(t);Ii(t,d,c);break;case 5:var h=a.stateNode;a.flags&32&&(kl(h,""),a.flags&=-33);var p=hd(t);Ii(t,p,h);break;case 3:case 4:var S=a.stateNode.containerInfo,P=hd(t);xd(t,P,S);break;default:throw Error(o(161))}}catch(X){Be(t,t.return,X)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Ux(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Ux(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Fs(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Rx(t,s.alternate,s),s=s.sibling}function ml(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:ya(4,s,s.return),ml(s);break;case 1:Ss(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&kx(s,s.return,a),ml(s);break;case 27:fn(s.stateNode);case 26:case 5:Ss(s,s.return),ml(s);break;case 22:s.memoizedState===null&&ml(s);break;case 30:ml(s);break;default:ml(s)}t=t.sibling}}function Gs(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var r=s.alternate,c=t,d=s,h=d.flags;switch(d.tag){case 0:case 11:case 15:Gs(c,d,a),ln(4,d);break;case 1:if(Gs(c,d,a),r=d,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Be(r,r.return,P)}if(r=d,c=r.updateQueue,c!==null){var p=r.stateNode;try{var S=c.shared.hiddenCallbacks;if(S!==null)for(c.shared.hiddenCallbacks=null,c=0;c<S.length;c++)fh(S[c],p)}catch(P){Be(r,r.return,P)}}a&&h&64&&Tx(d),rn(d,d.return);break;case 27:_x(d);case 26:case 5:Gs(c,d,a),a&&r===null&&h&4&&Ax(d),rn(d,d.return);break;case 12:Gs(c,d,a);break;case 31:Gs(c,d,a),a&&h&4&&Ix(c,d);break;case 13:Gs(c,d,a),a&&h&4&&zx(c,d);break;case 22:d.memoizedState===null&&Gs(c,d,a),rn(d,d.return);break;case 30:break;default:Gs(c,d,a)}s=s.sibling}}function gd(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Fr(a))}function pd(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Fr(t))}function xs(t,s,a,r){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Bx(t,s,a,r),s=s.sibling}function Bx(t,s,a,r){var c=s.flags;switch(s.tag){case 0:case 11:case 15:xs(t,s,a,r),c&2048&&ln(9,s);break;case 1:xs(t,s,a,r);break;case 3:xs(t,s,a,r),c&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Fr(t)));break;case 12:if(c&2048){xs(t,s,a,r),t=s.stateNode;try{var d=s.memoizedProps,h=d.id,p=d.onPostCommit;typeof p=="function"&&p(h,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){Be(s,s.return,S)}}else xs(t,s,a,r);break;case 31:xs(t,s,a,r);break;case 13:xs(t,s,a,r);break;case 23:break;case 22:d=s.stateNode,h=s.alternate,s.memoizedState!==null?d._visibility&2?xs(t,s,a,r):nn(t,s):d._visibility&2?xs(t,s,a,r):(d._visibility|=2,Yl(t,s,a,r,(s.subtreeFlags&10256)!==0||!1)),c&2048&&gd(h,s);break;case 24:xs(t,s,a,r),c&2048&&pd(s.alternate,s);break;default:xs(t,s,a,r)}}function Yl(t,s,a,r,c){for(c=c&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=t,h=s,p=a,S=r,P=h.flags;switch(h.tag){case 0:case 11:case 15:Yl(d,h,p,S,c),ln(8,h);break;case 23:break;case 22:var X=h.stateNode;h.memoizedState!==null?X._visibility&2?Yl(d,h,p,S,c):nn(d,h):(X._visibility|=2,Yl(d,h,p,S,c)),c&&P&2048&&gd(h.alternate,h);break;case 24:Yl(d,h,p,S,c),c&&P&2048&&pd(h.alternate,h);break;default:Yl(d,h,p,S,c)}s=s.sibling}}function nn(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,r=s,c=r.flags;switch(r.tag){case 22:nn(a,r),c&2048&&gd(r.alternate,r);break;case 24:nn(a,r),c&2048&&pd(r.alternate,r);break;default:nn(a,r)}s=s.sibling}}var on=8192;function Kl(t,s,a){if(t.subtreeFlags&on)for(t=t.child;t!==null;)Px(t,s,a),t=t.sibling}function Px(t,s,a){switch(t.tag){case 26:Kl(t,s,a),t.flags&on&&t.memoizedState!==null&&Uy(a,hs,t.memoizedState,t.memoizedProps);break;case 5:Kl(t,s,a);break;case 3:case 4:var r=hs;hs=Xi(t.stateNode.containerInfo),Kl(t,s,a),hs=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=on,on=16777216,Kl(t,s,a),on=r):Kl(t,s,a));break;default:Kl(t,s,a)}}function Hx(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function cn(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var r=s[a];pt=r,Vx(r,t)}Hx(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qx(t),t=t.sibling}function qx(t){switch(t.tag){case 0:case 11:case 15:cn(t),t.flags&2048&&ya(9,t,t.return);break;case 3:cn(t);break;case 12:cn(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Li(t)):cn(t);break;default:cn(t)}}function Li(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var r=s[a];pt=r,Vx(r,t)}Hx(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:ya(8,s,s.return),Li(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Li(s));break;default:Li(s)}t=t.sibling}}function Vx(t,s){for(;pt!==null;){var a=pt;switch(a.tag){case 0:case 11:case 15:ya(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Fr(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,pt=r;else e:for(a=t;pt!==null;){r=pt;var c=r.sibling,d=r.return;if(Ox(r),r===a){pt=null;break e}if(c!==null){c.return=d,pt=c;break e}pt=d}}}var Wb={getCacheForType:function(t){var s=jt(ot),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return jt(ot).controller.signal}},ey=typeof WeakMap=="function"?WeakMap:Map,Le=0,Ve=null,ke=null,Ee=0,Ue=0,Kt=null,va=!1,Ql=!1,bd=!1,Ys=0,et=0,ja=0,hl=0,yd=0,Qt=0,Xl=0,dn=null,Bt=null,vd=!1,Ui=0,$x=0,Bi=1/0,Pi=null,Na=null,ht=0,wa=null,Jl=null,Ks=0,jd=0,Nd=null,Fx=null,un=0,wd=null;function Xt(){return(Le&2)!==0&&Ee!==0?Ee&-Ee:T.T!==null?Ed():im()}function Gx(){if(Qt===0)if((Ee&536870912)===0||De){var t=Kn;Kn<<=1,(Kn&3932160)===0&&(Kn=262144),Qt=t}else Qt=536870912;return t=Gt.current,t!==null&&(t.flags|=32),Qt}function Pt(t,s,a){(t===Ve&&(Ue===2||Ue===9)||t.cancelPendingCommit!==null)&&(Zl(t,0),Sa(t,Ee,Qt,!1)),Dr(t,a),((Le&2)===0||t!==Ve)&&(t===Ve&&((Le&2)===0&&(hl|=a),et===4&&Sa(t,Ee,Qt,!1)),Cs(t))}function Yx(t,s,a){if((Le&6)!==0)throw Error(o(327));var r=!a&&(s&127)===0&&(s&t.expiredLanes)===0||_r(t,s),c=r?ay(t,s):Cd(t,s,!0),d=r;do{if(c===0){Ql&&!r&&Sa(t,s,0,!1);break}else{if(a=t.current.alternate,d&&!ty(a)){c=Cd(t,s,!1),d=!1;continue}if(c===2){if(d=s,t.errorRecoveryDisabledLanes&d)var h=0;else h=t.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){s=h;e:{var p=t;c=dn;var S=p.current.memoizedState.isDehydrated;if(S&&(Zl(p,h).flags|=256),h=Cd(p,h,!1),h!==2){if(bd&&!S){p.errorRecoveryDisabledLanes|=d,hl|=d,c=4;break e}d=Bt,Bt=c,d!==null&&(Bt===null?Bt=d:Bt.push.apply(Bt,d))}c=h}if(d=!1,c!==2)continue}}if(c===1){Zl(t,0),Sa(t,s,0,!0);break}e:{switch(r=t,d=c,d){case 0:case 1:throw Error(o(345));case 4:if((s&4194048)!==s)break;case 6:Sa(r,s,Qt,!va);break e;case 2:Bt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((s&62914560)===s&&(c=Ui+300-Dt(),10<c)){if(Sa(r,s,Qt,!va),Xn(r,0,!0)!==0)break e;Ks=s,r.timeoutHandle=Cf(Kx.bind(null,r,a,Bt,Pi,vd,s,Qt,hl,Xl,va,d,"Throttled",-0,0),c);break e}Kx(r,a,Bt,Pi,vd,s,Qt,hl,Xl,va,d,null,-0,0)}}break}while(!0);Cs(t)}function Kx(t,s,a,r,c,d,h,p,S,P,X,Z,V,G){if(t.timeoutHandle=-1,Z=s.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Os},Px(s,d,Z);var ne=(d&62914560)===d?Ui-Dt():(d&4194048)===d?$x-Dt():0;if(ne=By(Z,ne),ne!==null){Ks=d,t.cancelPendingCommit=ne(sf.bind(null,t,s,d,a,r,c,h,p,S,X,Z,null,V,G)),Sa(t,d,h,!P);return}}sf(t,s,d,a,r,c,h,p,S)}function ty(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var c=a[r],d=c.getSnapshot;c=c.value;try{if(!$t(d(),c))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Sa(t,s,a,r){s&=~yd,s&=~hl,t.suspendedLanes|=s,t.pingedLanes&=~s,r&&(t.warmLanes|=s),r=t.expirationTimes;for(var c=s;0<c;){var d=31-Vt(c),h=1<<d;r[d]=-1,c&=~h}a!==0&&lm(t,a,s)}function Hi(){return(Le&6)===0?(mn(0),!1):!0}function Sd(){if(ke!==null){if(Ue===0)var t=ke.return;else t=ke,Ls=ll=null,Pc(t),ql=null,Yr=0,t=ke;for(;t!==null;)Cx(t.alternate,t),t=t.return;ke=null}}function Zl(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,jy(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ks=0,Sd(),Ve=t,ke=a=Is(t.current,null),Ee=s,Ue=0,Kt=null,va=!1,Ql=_r(t,s),bd=!1,Xl=Qt=yd=hl=ja=et=0,Bt=dn=null,vd=!1,(s&8)!==0&&(s|=s&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=s;0<r;){var c=31-Vt(r),d=1<<c;s|=t[c],r&=~d}return Ys=s,oi(),a}function Qx(t,s){je=null,T.H=tn,s===Hl||s===gi?(s=uh(),Ue=3):s===Ac?(s=uh(),Ue=4):Ue=s===sd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Kt=s,ke===null&&(et=1,_i(t,ts(s,t.current)))}function Xx(){var t=Gt.current;return t===null?!0:(Ee&4194048)===Ee?rs===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?t===rs:!1}function Jx(){var t=T.H;return T.H=tn,t===null?tn:t}function Zx(){var t=T.A;return T.A=Wb,t}function qi(){et=4,va||(Ee&4194048)!==Ee&&Gt.current!==null||(Ql=!0),(ja&134217727)===0&&(hl&134217727)===0||Ve===null||Sa(Ve,Ee,Qt,!1)}function Cd(t,s,a){var r=Le;Le|=2;var c=Jx(),d=Zx();(Ve!==t||Ee!==s)&&(Pi=null,Zl(t,s)),s=!1;var h=et;e:do try{if(Ue!==0&&ke!==null){var p=ke,S=Kt;switch(Ue){case 8:Sd(),h=6;break e;case 3:case 2:case 9:case 6:Gt.current===null&&(s=!0);var P=Ue;if(Ue=0,Kt=null,Wl(t,p,S,P),a&&Ql){h=0;break e}break;default:P=Ue,Ue=0,Kt=null,Wl(t,p,S,P)}}sy(),h=et;break}catch(X){Qx(t,X)}while(!0);return s&&t.shellSuspendCounter++,Ls=ll=null,Le=r,T.H=c,T.A=d,ke===null&&(Ve=null,Ee=0,oi()),h}function sy(){for(;ke!==null;)Wx(ke)}function ay(t,s){var a=Le;Le|=2;var r=Jx(),c=Zx();Ve!==t||Ee!==s?(Pi=null,Bi=Dt()+500,Zl(t,s)):Ql=_r(t,s);e:do try{if(Ue!==0&&ke!==null){s=ke;var d=Kt;t:switch(Ue){case 1:Ue=0,Kt=null,Wl(t,s,d,1);break;case 2:case 9:if(ch(d)){Ue=0,Kt=null,ef(s);break}s=function(){Ue!==2&&Ue!==9||Ve!==t||(Ue=7),Cs(t)},d.then(s,s);break e;case 3:Ue=7;break e;case 4:Ue=5;break e;case 7:ch(d)?(Ue=0,Kt=null,ef(s)):(Ue=0,Kt=null,Wl(t,s,d,7));break;case 5:var h=null;switch(ke.tag){case 26:h=ke.memoizedState;case 5:case 27:var p=ke;if(h?Pf(h):p.stateNode.complete){Ue=0,Kt=null;var S=p.sibling;if(S!==null)ke=S;else{var P=p.return;P!==null?(ke=P,Vi(P)):ke=null}break t}}Ue=0,Kt=null,Wl(t,s,d,5);break;case 6:Ue=0,Kt=null,Wl(t,s,d,6);break;case 8:Sd(),et=6;break e;default:throw Error(o(462))}}ly();break}catch(X){Qx(t,X)}while(!0);return Ls=ll=null,T.H=r,T.A=c,Le=a,ke!==null?0:(Ve=null,Ee=0,oi(),et)}function ly(){for(;ke!==null&&!Uo();)Wx(ke)}function Wx(t){var s=wx(t.alternate,t,Ys);t.memoizedProps=t.pendingProps,s===null?Vi(t):ke=s}function ef(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=px(a,s,s.pendingProps,s.type,void 0,Ee);break;case 11:s=px(a,s,s.pendingProps,s.type.render,s.ref,Ee);break;case 5:Pc(s);default:Cx(a,s),s=ke=Zm(s,Ys),s=wx(a,s,Ys)}t.memoizedProps=t.pendingProps,s===null?Vi(t):ke=s}function Wl(t,s,a,r){Ls=ll=null,Pc(s),ql=null,Yr=0;var c=s.return;try{if(Gb(t,c,s,a,Ee)){et=1,_i(t,ts(a,t.current)),ke=null;return}}catch(d){if(c!==null)throw ke=c,d;et=1,_i(t,ts(a,t.current)),ke=null;return}s.flags&32768?(De||r===1?t=!0:Ql||(Ee&536870912)!==0?t=!1:(va=t=!0,(r===2||r===9||r===3||r===6)&&(r=Gt.current,r!==null&&r.tag===13&&(r.flags|=16384))),tf(s,t)):Vi(s)}function Vi(t){var s=t;do{if((s.flags&32768)!==0){tf(s,va);return}t=s.return;var a=Qb(s.alternate,s,Ys);if(a!==null){ke=a;return}if(s=s.sibling,s!==null){ke=s;return}ke=s=t}while(s!==null);et===0&&(et=5)}function tf(t,s){do{var a=Xb(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);et=6,ke=null}function sf(t,s,a,r,c,d,h,p,S){t.cancelPendingCommit=null;do $i();while(ht!==0);if((Le&6)!==0)throw Error(o(327));if(s!==null){if(s===t.current)throw Error(o(177));if(d=s.lanes|s.childLanes,d|=hc,L0(t,a,d,h,p,S),t===Ve&&(ke=Ve=null,Ee=0),Jl=s,wa=t,Ks=a,jd=d,Nd=c,Fx=r,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,oy(Ar,function(){return of(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||r){r=T.T,T.T=null,c=F.p,F.p=2,h=Le,Le|=4;try{Jb(t,s,a)}finally{Le=h,F.p=c,T.T=r}}ht=1,af(),lf(),rf()}}function af(){if(ht===1){ht=0;var t=wa,s=Jl,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=T.T,T.T=null;var r=F.p;F.p=2;var c=Le;Le|=4;try{Lx(s,t);var d=Ld,h=Vm(t.containerInfo),p=d.focusedElem,S=d.selectionRange;if(h!==p&&p&&p.ownerDocument&&qm(p.ownerDocument.documentElement,p)){if(S!==null&&oc(p)){var P=S.start,X=S.end;if(X===void 0&&(X=P),"selectionStart"in p)p.selectionStart=P,p.selectionEnd=Math.min(X,p.value.length);else{var Z=p.ownerDocument||document,V=Z&&Z.defaultView||window;if(V.getSelection){var G=V.getSelection(),ne=p.textContent.length,ge=Math.min(S.start,ne),qe=S.end===void 0?ge:Math.min(S.end,ne);!G.extend&&ge>qe&&(h=qe,qe=ge,ge=h);var O=Hm(p,ge),E=Hm(p,qe);if(O&&E&&(G.rangeCount!==1||G.anchorNode!==O.node||G.anchorOffset!==O.offset||G.focusNode!==E.node||G.focusOffset!==E.offset)){var B=Z.createRange();B.setStart(O.node,O.offset),G.removeAllRanges(),ge>qe?(G.addRange(B),G.extend(E.node,E.offset)):(B.setEnd(E.node,E.offset),G.addRange(B))}}}}for(Z=[],G=p;G=G.parentNode;)G.nodeType===1&&Z.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<Z.length;p++){var J=Z[p];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}so=!!zd,Ld=zd=null}finally{Le=c,F.p=r,T.T=a}}t.current=s,ht=2}}function lf(){if(ht===2){ht=0;var t=wa,s=Jl,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=T.T,T.T=null;var r=F.p;F.p=2;var c=Le;Le|=4;try{Rx(t,s.alternate,s)}finally{Le=c,F.p=r,T.T=a}}ht=3}}function rf(){if(ht===4||ht===3){ht=0,Bo();var t=wa,s=Jl,a=Ks,r=Fx;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ht=5:(ht=0,Jl=wa=null,nf(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Na=null),Vo(a),s=s.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Er,s,void 0,(s.current.flags&128)===128)}catch{}if(r!==null){s=T.T,c=F.p,F.p=2,T.T=null;try{for(var d=t.onRecoverableError,h=0;h<r.length;h++){var p=r[h];d(p.value,{componentStack:p.stack})}}finally{T.T=s,F.p=c}}(Ks&3)!==0&&$i(),Cs(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===wd?un++:(un=0,wd=t):un=0,mn(0)}}function nf(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Fr(s)))}function $i(){return af(),lf(),rf(),of()}function of(){if(ht!==5)return!1;var t=wa,s=jd;jd=0;var a=Vo(Ks),r=T.T,c=F.p;try{F.p=32>a?32:a,T.T=null,a=Nd,Nd=null;var d=wa,h=Ks;if(ht=0,Jl=wa=null,Ks=0,(Le&6)!==0)throw Error(o(331));var p=Le;if(Le|=4,qx(d.current),Bx(d,d.current,h,a),Le=p,mn(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Er,d)}catch{}return!0}finally{F.p=c,T.T=r,nf(t,s)}}function cf(t,s,a){s=ts(a,s),s=td(t.stateNode,s,2),t=ga(t,s,2),t!==null&&(Dr(t,2),Cs(t))}function Be(t,s,a){if(t.tag===3)cf(t,t,a);else for(;s!==null;){if(s.tag===3){cf(s,t,a);break}else if(s.tag===1){var r=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Na===null||!Na.has(r))){t=ts(a,t),a=cx(2),r=ga(s,a,2),r!==null&&(dx(a,r,s,t),Dr(r,2),Cs(r));break}}s=s.return}}function Td(t,s,a){var r=t.pingCache;if(r===null){r=t.pingCache=new ey;var c=new Set;r.set(s,c)}else c=r.get(s),c===void 0&&(c=new Set,r.set(s,c));c.has(a)||(bd=!0,c.add(a),t=ry.bind(null,t,s,a),s.then(t,t))}function ry(t,s,a){var r=t.pingCache;r!==null&&r.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ve===t&&(Ee&a)===a&&(et===4||et===3&&(Ee&62914560)===Ee&&300>Dt()-Ui?(Le&2)===0&&Zl(t,0):yd|=a,Xl===Ee&&(Xl=0)),Cs(t)}function df(t,s){s===0&&(s=am()),t=tl(t,s),t!==null&&(Dr(t,s),Cs(t))}function ny(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),df(t,a)}function iy(t,s){var a=0;switch(t.tag){case 31:case 13:var r=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(o(314))}r!==null&&r.delete(s),df(t,a)}function oy(t,s){return Tr(t,s)}var Fi=null,er=null,kd=!1,Gi=!1,Ad=!1,Ca=0;function Cs(t){t!==er&&t.next===null&&(er===null?Fi=er=t:er=er.next=t),Gi=!0,kd||(kd=!0,dy())}function mn(t,s){if(!Ad&&Gi){Ad=!0;do for(var a=!1,r=Fi;r!==null;){if(t!==0){var c=r.pendingLanes;if(c===0)var d=0;else{var h=r.suspendedLanes,p=r.pingedLanes;d=(1<<31-Vt(42|t)+1)-1,d&=c&~(h&~p),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,xf(r,d))}else d=Ee,d=Xn(r,r===Ve?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(d&3)===0||_r(r,d)||(a=!0,xf(r,d));r=r.next}while(a);Ad=!1}}function cy(){uf()}function uf(){Gi=kd=!1;var t=0;Ca!==0&&vy()&&(t=Ca);for(var s=Dt(),a=null,r=Fi;r!==null;){var c=r.next,d=mf(r,s);d===0?(r.next=null,a===null?Fi=c:a.next=c,c===null&&(er=a)):(a=r,(t!==0||(d&3)!==0)&&(Gi=!0)),r=c}ht!==0&&ht!==5||mn(t),Ca!==0&&(Ca=0)}function mf(t,s){for(var a=t.suspendedLanes,r=t.pingedLanes,c=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var h=31-Vt(d),p=1<<h,S=c[h];S===-1?((p&a)===0||(p&r)!==0)&&(c[h]=z0(p,s)):S<=s&&(t.expiredLanes|=p),d&=~p}if(s=Ve,a=Ee,a=Xn(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,a===0||t===s&&(Ue===2||Ue===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&kr(r),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||_r(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(r!==null&&kr(r),Vo(a)){case 2:case 8:a=Gn;break;case 32:a=Ar;break;case 268435456:a=sm;break;default:a=Ar}return r=hf.bind(null,t),a=Tr(a,r),t.callbackPriority=s,t.callbackNode=a,s}return r!==null&&r!==null&&kr(r),t.callbackPriority=2,t.callbackNode=null,2}function hf(t,s){if(ht!==0&&ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if($i()&&t.callbackNode!==a)return null;var r=Ee;return r=Xn(t,t===Ve?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(Yx(t,r,s),mf(t,Dt()),t.callbackNode!=null&&t.callbackNode===a?hf.bind(null,t):null)}function xf(t,s){if($i())return null;Yx(t,s,!0)}function dy(){Ny(function(){(Le&6)!==0?Tr(Fn,cy):uf()})}function Ed(){if(Ca===0){var t=Bl;t===0&&(t=Yn,Yn<<=1,(Yn&261888)===0&&(Yn=256)),Ca=t}return Ca}function ff(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ei(""+t)}function gf(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function uy(t,s,a,r,c){if(s==="submit"&&a&&a.stateNode===c){var d=ff((c[Mt]||null).action),h=r.submitter;h&&(s=(s=h[Mt]||null)?ff(s.formAction):h.getAttribute("formAction"),s!==null&&(d=s,h=null));var p=new li("action","action",null,r,c);t.push({event:p,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Ca!==0){var S=h?gf(c,h):new FormData(c);Qc(a,{pending:!0,data:S,method:c.method,action:d},null,S)}}else typeof d=="function"&&(p.preventDefault(),S=h?gf(c,h):new FormData(c),Qc(a,{pending:!0,data:S,method:c.method,action:d},d,S))},currentTarget:c}]})}}for(var _d=0;_d<mc.length;_d++){var Dd=mc[_d],my=Dd.toLowerCase(),hy=Dd[0].toUpperCase()+Dd.slice(1);ms(my,"on"+hy)}ms(Gm,"onAnimationEnd"),ms(Ym,"onAnimationIteration"),ms(Km,"onAnimationStart"),ms("dblclick","onDoubleClick"),ms("focusin","onFocus"),ms("focusout","onBlur"),ms(Eb,"onTransitionRun"),ms(_b,"onTransitionStart"),ms(Db,"onTransitionCancel"),ms(Qm,"onTransitionEnd"),Cl("onMouseEnter",["mouseout","mouseover"]),Cl("onMouseLeave",["mouseout","mouseover"]),Cl("onPointerEnter",["pointerout","pointerover"]),Cl("onPointerLeave",["pointerout","pointerover"]),Ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ja("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hn));function pf(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var r=t[a],c=r.event;r=r.listeners;e:{var d=void 0;if(s)for(var h=r.length-1;0<=h;h--){var p=r[h],S=p.instance,P=p.currentTarget;if(p=p.listener,S!==d&&c.isPropagationStopped())break e;d=p,c.currentTarget=P;try{d(c)}catch(X){ii(X)}c.currentTarget=null,d=S}else for(h=0;h<r.length;h++){if(p=r[h],S=p.instance,P=p.currentTarget,p=p.listener,S!==d&&c.isPropagationStopped())break e;d=p,c.currentTarget=P;try{d(c)}catch(X){ii(X)}c.currentTarget=null,d=S}}}}function Ae(t,s){var a=s[$o];a===void 0&&(a=s[$o]=new Set);var r=t+"__bubble";a.has(r)||(bf(s,t,2,!1),a.add(r))}function Rd(t,s,a){var r=0;s&&(r|=4),bf(a,t,r,s)}var Yi="_reactListening"+Math.random().toString(36).slice(2);function Od(t){if(!t[Yi]){t[Yi]=!0,dm.forEach(function(a){a!=="selectionchange"&&(xy.has(a)||Rd(a,!1,t),Rd(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Yi]||(s[Yi]=!0,Rd("selectionchange",!1,s))}}function bf(t,s,a,r){switch(Yf(s)){case 2:var c=qy;break;case 8:c=Vy;break;default:c=Kd}a=c.bind(null,s,a,t),c=void 0,!Wo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(c=!0),r?c!==void 0?t.addEventListener(s,a,{capture:!0,passive:c}):t.addEventListener(s,a,!0):c!==void 0?t.addEventListener(s,a,{passive:c}):t.addEventListener(s,a,!1)}function Md(t,s,a,r,c){var d=r;if((s&1)===0&&(s&2)===0&&r!==null)e:for(;;){if(r===null)return;var h=r.tag;if(h===3||h===4){var p=r.stateNode.containerInfo;if(p===c)break;if(h===4)for(h=r.return;h!==null;){var S=h.tag;if((S===3||S===4)&&h.stateNode.containerInfo===c)return;h=h.return}for(;p!==null;){if(h=Nl(p),h===null)return;if(S=h.tag,S===5||S===6||S===26||S===27){r=d=h;continue e}p=p.parentNode}}r=r.return}Nm(function(){var P=d,X=Jo(a),Z=[];e:{var V=Xm.get(t);if(V!==void 0){var G=li,ne=t;switch(t){case"keypress":if(si(a)===0)break e;case"keydown":case"keyup":G=ib;break;case"focusin":ne="focus",G=ac;break;case"focusout":ne="blur",G=ac;break;case"beforeblur":case"afterblur":G=ac;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Cm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Q0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=db;break;case Gm:case Ym:case Km:G=Z0;break;case Qm:G=mb;break;case"scroll":case"scrollend":G=Y0;break;case"wheel":G=xb;break;case"copy":case"cut":case"paste":G=eb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=km;break;case"toggle":case"beforetoggle":G=gb}var ge=(s&4)!==0,qe=!ge&&(t==="scroll"||t==="scrollend"),O=ge?V!==null?V+"Capture":null:V;ge=[];for(var E=P,B;E!==null;){var J=E;if(B=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||B===null||O===null||(J=Mr(E,O),J!=null&&ge.push(xn(E,J,B))),qe)break;E=E.return}0<ge.length&&(V=new G(V,ne,null,a,X),Z.push({event:V,listeners:ge}))}}if((s&7)===0){e:{if(V=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",V&&a!==Xo&&(ne=a.relatedTarget||a.fromElement)&&(Nl(ne)||ne[jl]))break e;if((G||V)&&(V=X.window===X?X:(V=X.ownerDocument)?V.defaultView||V.parentWindow:window,G?(ne=a.relatedTarget||a.toElement,G=P,ne=ne?Nl(ne):null,ne!==null&&(qe=m(ne),ge=ne.tag,ne!==qe||ge!==5&&ge!==27&&ge!==6)&&(ne=null)):(G=null,ne=P),G!==ne)){if(ge=Cm,J="onMouseLeave",O="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(ge=km,J="onPointerLeave",O="onPointerEnter",E="pointer"),qe=G==null?V:Or(G),B=ne==null?V:Or(ne),V=new ge(J,E+"leave",G,a,X),V.target=qe,V.relatedTarget=B,J=null,Nl(X)===P&&(ge=new ge(O,E+"enter",ne,a,X),ge.target=B,ge.relatedTarget=qe,J=ge),qe=J,G&&ne)t:{for(ge=fy,O=G,E=ne,B=0,J=O;J;J=ge(J))B++;J=0;for(var xe=E;xe;xe=ge(xe))J++;for(;0<B-J;)O=ge(O),B--;for(;0<J-B;)E=ge(E),J--;for(;B--;){if(O===E||E!==null&&O===E.alternate){ge=O;break t}O=ge(O),E=ge(E)}ge=null}else ge=null;G!==null&&yf(Z,V,G,ge,!1),ne!==null&&qe!==null&&yf(Z,qe,ne,ge,!0)}}e:{if(V=P?Or(P):window,G=V.nodeName&&V.nodeName.toLowerCase(),G==="select"||G==="input"&&V.type==="file")var Ie=Im;else if(Om(V))if(zm)Ie=Tb;else{Ie=Sb;var de=wb}else G=V.nodeName,!G||G.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?P&&Qo(P.elementType)&&(Ie=Im):Ie=Cb;if(Ie&&(Ie=Ie(t,P))){Mm(Z,Ie,a,X);break e}de&&de(t,V,P),t==="focusout"&&P&&V.type==="number"&&P.memoizedProps.value!=null&&Ko(V,"number",V.value)}switch(de=P?Or(P):window,t){case"focusin":(Om(de)||de.contentEditable==="true")&&(Dl=de,cc=P,qr=null);break;case"focusout":qr=cc=Dl=null;break;case"mousedown":dc=!0;break;case"contextmenu":case"mouseup":case"dragend":dc=!1,$m(Z,a,X);break;case"selectionchange":if(Ab)break;case"keydown":case"keyup":$m(Z,a,X)}var we;if(rc)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else _l?Dm(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(Am&&a.locale!=="ko"&&(_l||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&_l&&(we=wm()):(ca=X,ec="value"in ca?ca.value:ca.textContent,_l=!0)),de=Ki(P,_e),0<de.length&&(_e=new Tm(_e,t,null,a,X),Z.push({event:_e,listeners:de}),we?_e.data=we:(we=Rm(a),we!==null&&(_e.data=we)))),(we=bb?yb(t,a):vb(t,a))&&(_e=Ki(P,"onBeforeInput"),0<_e.length&&(de=new Tm("onBeforeInput","beforeinput",null,a,X),Z.push({event:de,listeners:_e}),de.data=we)),uy(Z,t,P,a,X)}pf(Z,s)})}function xn(t,s,a){return{instance:t,listener:s,currentTarget:a}}function Ki(t,s){for(var a=s+"Capture",r=[];t!==null;){var c=t,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=Mr(t,a),c!=null&&r.unshift(xn(t,c,d)),c=Mr(t,s),c!=null&&r.push(xn(t,c,d))),t.tag===3)return r;t=t.return}return[]}function fy(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function yf(t,s,a,r,c){for(var d=s._reactName,h=[];a!==null&&a!==r;){var p=a,S=p.alternate,P=p.stateNode;if(p=p.tag,S!==null&&S===r)break;p!==5&&p!==26&&p!==27||P===null||(S=P,c?(P=Mr(a,d),P!=null&&h.unshift(xn(a,P,S))):c||(P=Mr(a,d),P!=null&&h.push(xn(a,P,S)))),a=a.return}h.length!==0&&t.push({event:s,listeners:h})}var gy=/\r\n?/g,py=/\u0000|\uFFFD/g;function vf(t){return(typeof t=="string"?t:""+t).replace(gy,`
`).replace(py,"")}function jf(t,s){return s=vf(s),vf(t)===s}function He(t,s,a,r,c,d){switch(a){case"children":typeof r=="string"?s==="body"||s==="textarea"&&r===""||kl(t,r):(typeof r=="number"||typeof r=="bigint")&&s!=="body"&&kl(t,""+r);break;case"className":Zn(t,"class",r);break;case"tabIndex":Zn(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Zn(t,a,r);break;case"style":vm(t,r,d);break;case"data":if(s!=="object"){Zn(t,"data",r);break}case"src":case"href":if(r===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=ei(""+r),t.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&He(t,s,"name",c.name,c,null),He(t,s,"formEncType",c.formEncType,c,null),He(t,s,"formMethod",c.formMethod,c,null),He(t,s,"formTarget",c.formTarget,c,null)):(He(t,s,"encType",c.encType,c,null),He(t,s,"method",c.method,c,null),He(t,s,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=ei(""+r),t.setAttribute(a,r);break;case"onClick":r!=null&&(t.onclick=Os);break;case"onScroll":r!=null&&Ae("scroll",t);break;case"onScrollEnd":r!=null&&Ae("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(a=r.__html,a!=null){if(c.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}a=ei(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""+r):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":r===!0?t.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,r):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(a,r):t.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(a):t.setAttribute(a,r);break;case"popover":Ae("beforetoggle",t),Ae("toggle",t),Jn(t,"popover",r);break;case"xlinkActuate":Rs(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Rs(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Rs(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Rs(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Rs(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Rs(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Rs(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Rs(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Rs(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Jn(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=F0.get(a)||a,Jn(t,a,r))}}function Id(t,s,a,r,c,d){switch(a){case"style":vm(t,r,d);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(a=r.__html,a!=null){if(c.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"children":typeof r=="string"?kl(t,r):(typeof r=="number"||typeof r=="bigint")&&kl(t,""+r);break;case"onScroll":r!=null&&Ae("scroll",t);break;case"onScrollEnd":r!=null&&Ae("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Os);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!um.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),s=a.slice(2,c?a.length-7:void 0),d=t[Mt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(s,d,c),typeof r=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,r,c);break e}a in t?t[a]=r:r===!0?t.setAttribute(a,""):Jn(t,a,r)}}}function wt(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",t),Ae("load",t);var r=!1,c=!1,d;for(d in a)if(a.hasOwnProperty(d)){var h=a[d];if(h!=null)switch(d){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:He(t,s,d,h,a,null)}}c&&He(t,s,"srcSet",a.srcSet,a,null),r&&He(t,s,"src",a.src,a,null);return;case"input":Ae("invalid",t);var p=d=h=c=null,S=null,P=null;for(r in a)if(a.hasOwnProperty(r)){var X=a[r];if(X!=null)switch(r){case"name":c=X;break;case"type":h=X;break;case"checked":S=X;break;case"defaultChecked":P=X;break;case"value":d=X;break;case"defaultValue":p=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(o(137,s));break;default:He(t,s,r,X,a,null)}}gm(t,d,p,S,P,h,c,!1);return;case"select":Ae("invalid",t),r=h=d=null;for(c in a)if(a.hasOwnProperty(c)&&(p=a[c],p!=null))switch(c){case"value":d=p;break;case"defaultValue":h=p;break;case"multiple":r=p;default:He(t,s,c,p,a,null)}s=d,a=h,t.multiple=!!r,s!=null?Tl(t,!!r,s,!1):a!=null&&Tl(t,!!r,a,!0);return;case"textarea":Ae("invalid",t),d=c=r=null;for(h in a)if(a.hasOwnProperty(h)&&(p=a[h],p!=null))switch(h){case"value":r=p;break;case"defaultValue":c=p;break;case"children":d=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(o(91));break;default:He(t,s,h,p,a,null)}bm(t,r,c,d);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(r=a[S],r!=null))switch(S){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:He(t,s,S,r,a,null)}return;case"dialog":Ae("beforetoggle",t),Ae("toggle",t),Ae("cancel",t),Ae("close",t);break;case"iframe":case"object":Ae("load",t);break;case"video":case"audio":for(r=0;r<hn.length;r++)Ae(hn[r],t);break;case"image":Ae("error",t),Ae("load",t);break;case"details":Ae("toggle",t);break;case"embed":case"source":case"link":Ae("error",t),Ae("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(r=a[P],r!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:He(t,s,P,r,a,null)}return;default:if(Qo(s)){for(X in a)a.hasOwnProperty(X)&&(r=a[X],r!==void 0&&Id(t,s,X,r,a,void 0));return}}for(p in a)a.hasOwnProperty(p)&&(r=a[p],r!=null&&He(t,s,p,r,a,null))}function by(t,s,a,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,h=null,p=null,S=null,P=null,X=null;for(G in a){var Z=a[G];if(a.hasOwnProperty(G)&&Z!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":S=Z;default:r.hasOwnProperty(G)||He(t,s,G,null,r,Z)}}for(var V in r){var G=r[V];if(Z=a[V],r.hasOwnProperty(V)&&(G!=null||Z!=null))switch(V){case"type":d=G;break;case"name":c=G;break;case"checked":P=G;break;case"defaultChecked":X=G;break;case"value":h=G;break;case"defaultValue":p=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(o(137,s));break;default:G!==Z&&He(t,s,V,G,r,Z)}}Yo(t,h,p,S,P,X,d,c);return;case"select":G=h=p=V=null;for(d in a)if(S=a[d],a.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":G=S;default:r.hasOwnProperty(d)||He(t,s,d,null,r,S)}for(c in r)if(d=r[c],S=a[c],r.hasOwnProperty(c)&&(d!=null||S!=null))switch(c){case"value":V=d;break;case"defaultValue":p=d;break;case"multiple":h=d;default:d!==S&&He(t,s,c,d,r,S)}s=p,a=h,r=G,V!=null?Tl(t,!!a,V,!1):!!r!=!!a&&(s!=null?Tl(t,!!a,s,!0):Tl(t,!!a,a?[]:"",!1));return;case"textarea":G=V=null;for(p in a)if(c=a[p],a.hasOwnProperty(p)&&c!=null&&!r.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:He(t,s,p,null,r,c)}for(h in r)if(c=r[h],d=a[h],r.hasOwnProperty(h)&&(c!=null||d!=null))switch(h){case"value":V=c;break;case"defaultValue":G=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:c!==d&&He(t,s,h,c,r,d)}pm(t,V,G);return;case"option":for(var ne in a)if(V=a[ne],a.hasOwnProperty(ne)&&V!=null&&!r.hasOwnProperty(ne))switch(ne){case"selected":t.selected=!1;break;default:He(t,s,ne,null,r,V)}for(S in r)if(V=r[S],G=a[S],r.hasOwnProperty(S)&&V!==G&&(V!=null||G!=null))switch(S){case"selected":t.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:He(t,s,S,V,r,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)V=a[ge],a.hasOwnProperty(ge)&&V!=null&&!r.hasOwnProperty(ge)&&He(t,s,ge,null,r,V);for(P in r)if(V=r[P],G=a[P],r.hasOwnProperty(P)&&V!==G&&(V!=null||G!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(o(137,s));break;default:He(t,s,P,V,r,G)}return;default:if(Qo(s)){for(var qe in a)V=a[qe],a.hasOwnProperty(qe)&&V!==void 0&&!r.hasOwnProperty(qe)&&Id(t,s,qe,void 0,r,V);for(X in r)V=r[X],G=a[X],!r.hasOwnProperty(X)||V===G||V===void 0&&G===void 0||Id(t,s,X,V,r,G);return}}for(var O in a)V=a[O],a.hasOwnProperty(O)&&V!=null&&!r.hasOwnProperty(O)&&He(t,s,O,null,r,V);for(Z in r)V=r[Z],G=a[Z],!r.hasOwnProperty(Z)||V===G||V==null&&G==null||He(t,s,Z,V,r,G)}function Nf(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yy(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),r=0;r<a.length;r++){var c=a[r],d=c.transferSize,h=c.initiatorType,p=c.duration;if(d&&p&&Nf(h)){for(h=0,p=c.responseEnd,r+=1;r<a.length;r++){var S=a[r],P=S.startTime;if(P>p)break;var X=S.transferSize,Z=S.initiatorType;X&&Nf(Z)&&(S=S.responseEnd,h+=X*(S<p?1:(p-P)/(S-P)))}if(--r,s+=8*(d+h)/(c.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var zd=null,Ld=null;function Qi(t){return t.nodeType===9?t:t.ownerDocument}function wf(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sf(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Ud(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Bd=null;function vy(){var t=window.event;return t&&t.type==="popstate"?t===Bd?!1:(Bd=t,!0):(Bd=null,!1)}var Cf=typeof setTimeout=="function"?setTimeout:void 0,jy=typeof clearTimeout=="function"?clearTimeout:void 0,Tf=typeof Promise=="function"?Promise:void 0,Ny=typeof queueMicrotask=="function"?queueMicrotask:typeof Tf<"u"?function(t){return Tf.resolve(null).then(t).catch(wy)}:Cf;function wy(t){setTimeout(function(){throw t})}function Ta(t){return t==="head"}function kf(t,s){var a=s,r=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(r===0){t.removeChild(c),lr(s);return}r--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")r++;else if(a==="html")fn(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,fn(a);for(var d=a.firstChild;d;){var h=d.nextSibling,p=d.nodeName;d[Rr]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=h}}else a==="body"&&fn(t.ownerDocument.body);a=c}while(a);lr(s)}function Af(t,s){var a=t;t=0;do{var r=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=r}while(a)}function Pd(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Pd(a),Fo(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Sy(t,s,a,r){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Rr])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ns(t.nextSibling),t===null)break}return null}function Cy(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ns(t.nextSibling),t===null))return null;return t}function Ef(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ns(t.nextSibling),t===null))return null;return t}function Hd(t){return t.data==="$?"||t.data==="$~"}function qd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Ty(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var r=function(){s(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function ns(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Vd=null;function _f(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return ns(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function Df(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function Rf(t,s,a){switch(s=Qi(a),t){case"html":if(t=s.documentElement,!t)throw Error(o(452));return t;case"head":if(t=s.head,!t)throw Error(o(453));return t;case"body":if(t=s.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function fn(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Fo(t)}var is=new Map,Of=new Set;function Xi(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Qs=F.d;F.d={f:ky,r:Ay,D:Ey,C:_y,L:Dy,m:Ry,X:My,S:Oy,M:Iy};function ky(){var t=Qs.f(),s=Hi();return t||s}function Ay(t){var s=wl(t);s!==null&&s.tag===5&&s.type==="form"?Qh(s):Qs.r(t)}var tr=typeof document>"u"?null:document;function Mf(t,s,a){var r=tr;if(r&&typeof s=="string"&&s){var c=Wt(s);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Of.has(c)||(Of.add(c),t={rel:t,crossOrigin:a,href:s},r.querySelector(c)===null&&(s=r.createElement("link"),wt(s,"link",t),gt(s),r.head.appendChild(s)))}}function Ey(t){Qs.D(t),Mf("dns-prefetch",t,null)}function _y(t,s){Qs.C(t,s),Mf("preconnect",t,s)}function Dy(t,s,a){Qs.L(t,s,a);var r=tr;if(r&&t&&s){var c='link[rel="preload"][as="'+Wt(s)+'"]';s==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Wt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Wt(a.imageSizes)+'"]')):c+='[href="'+Wt(t)+'"]';var d=c;switch(s){case"style":d=sr(t);break;case"script":d=ar(t)}is.has(d)||(t=y({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),is.set(d,t),r.querySelector(c)!==null||s==="style"&&r.querySelector(gn(d))||s==="script"&&r.querySelector(pn(d))||(s=r.createElement("link"),wt(s,"link",t),gt(s),r.head.appendChild(s)))}}function Ry(t,s){Qs.m(t,s);var a=tr;if(a&&t){var r=s&&typeof s.as=="string"?s.as:"script",c='link[rel="modulepreload"][as="'+Wt(r)+'"][href="'+Wt(t)+'"]',d=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ar(t)}if(!is.has(d)&&(t=y({rel:"modulepreload",href:t},s),is.set(d,t),a.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(pn(d)))return}r=a.createElement("link"),wt(r,"link",t),gt(r),a.head.appendChild(r)}}}function Oy(t,s,a){Qs.S(t,s,a);var r=tr;if(r&&t){var c=Sl(r).hoistableStyles,d=sr(t);s=s||"default";var h=c.get(d);if(!h){var p={loading:0,preload:null};if(h=r.querySelector(gn(d)))p.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":s},a),(a=is.get(d))&&$d(t,a);var S=h=r.createElement("link");gt(S),wt(S,"link",t),S._p=new Promise(function(P,X){S.onload=P,S.onerror=X}),S.addEventListener("load",function(){p.loading|=1}),S.addEventListener("error",function(){p.loading|=2}),p.loading|=4,Ji(h,s,r)}h={type:"stylesheet",instance:h,count:1,state:p},c.set(d,h)}}}function My(t,s){Qs.X(t,s);var a=tr;if(a&&t){var r=Sl(a).hoistableScripts,c=ar(t),d=r.get(c);d||(d=a.querySelector(pn(c)),d||(t=y({src:t,async:!0},s),(s=is.get(c))&&Fd(t,s),d=a.createElement("script"),gt(d),wt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(c,d))}}function Iy(t,s){Qs.M(t,s);var a=tr;if(a&&t){var r=Sl(a).hoistableScripts,c=ar(t),d=r.get(c);d||(d=a.querySelector(pn(c)),d||(t=y({src:t,async:!0,type:"module"},s),(s=is.get(c))&&Fd(t,s),d=a.createElement("script"),gt(d),wt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(c,d))}}function If(t,s,a,r){var c=(c=Ke.current)?Xi(c):null;if(!c)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=sr(a.href),a=Sl(c).hoistableStyles,r=a.get(s),r||(r={type:"style",instance:null,count:0,state:null},a.set(s,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=sr(a.href);var d=Sl(c).hoistableStyles,h=d.get(t);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,h),(d=c.querySelector(gn(t)))&&!d._p&&(h.instance=d,h.state.loading=5),is.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},is.set(t,a),d||zy(c,t,a,h.state))),s&&r===null)throw Error(o(528,""));return h}if(s&&r!==null)throw Error(o(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ar(a),a=Sl(c).hoistableScripts,r=a.get(s),r||(r={type:"script",instance:null,count:0,state:null},a.set(s,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function sr(t){return'href="'+Wt(t)+'"'}function gn(t){return'link[rel="stylesheet"]['+t+"]"}function zf(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function zy(t,s,a,r){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?r.loading=1:(s=t.createElement("link"),r.preload=s,s.addEventListener("load",function(){return r.loading|=1}),s.addEventListener("error",function(){return r.loading|=2}),wt(s,"link",a),gt(s),t.head.appendChild(s))}function ar(t){return'[src="'+Wt(t)+'"]'}function pn(t){return"script[async]"+t}function Lf(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var r=t.querySelector('style[data-href~="'+Wt(a.href)+'"]');if(r)return s.instance=r,gt(r),r;var c=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),gt(r),wt(r,"style",c),Ji(r,a.precedence,t),s.instance=r;case"stylesheet":c=sr(a.href);var d=t.querySelector(gn(c));if(d)return s.state.loading|=4,s.instance=d,gt(d),d;r=zf(a),(c=is.get(c))&&$d(r,c),d=(t.ownerDocument||t).createElement("link"),gt(d);var h=d;return h._p=new Promise(function(p,S){h.onload=p,h.onerror=S}),wt(d,"link",r),s.state.loading|=4,Ji(d,a.precedence,t),s.instance=d;case"script":return d=ar(a.src),(c=t.querySelector(pn(d)))?(s.instance=c,gt(c),c):(r=a,(c=is.get(d))&&(r=y({},a),Fd(r,c)),t=t.ownerDocument||t,c=t.createElement("script"),gt(c),wt(c,"link",r),t.head.appendChild(c),s.instance=c);case"void":return null;default:throw Error(o(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(r=s.instance,s.state.loading|=4,Ji(r,a.precedence,t));return s.instance}function Ji(t,s,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,d=c,h=0;h<r.length;h++){var p=r[h];if(p.dataset.precedence===s)d=p;else if(d!==c)break}d?d.parentNode.insertBefore(t,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function $d(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Fd(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Zi=null;function Uf(t,s,a){if(Zi===null){var r=new Map,c=Zi=new Map;c.set(a,r)}else c=Zi,r=c.get(a),r||(r=new Map,c.set(a,r));if(r.has(t))return r;for(r.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var d=a[c];if(!(d[Rr]||d[yt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var h=d.getAttribute(s)||"";h=t+h;var p=r.get(h);p?p.push(d):r.set(h,[d])}}return r}function Bf(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function Ly(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Pf(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Uy(t,s,a,r){if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=sr(r.href),d=s.querySelector(gn(c));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=Wi.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=d,gt(d);return}d=s.ownerDocument||s,r=zf(r),(c=is.get(c))&&$d(r,c),d=d.createElement("link"),gt(d);var h=d;h._p=new Promise(function(p,S){h.onload=p,h.onerror=S}),wt(d,"link",r),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Wi.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var Gd=0;function By(t,s){return t.stylesheets&&t.count===0&&to(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var r=setTimeout(function(){if(t.stylesheets&&to(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+s);0<t.imgBytes&&Gd===0&&(Gd=62500*yy());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&to(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Gd?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(c)}}:null}function Wi(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)to(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var eo=null;function to(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,eo=new Map,s.forEach(Py,t),eo=null,Wi.call(t))}function Py(t,s){if(!(s.state.loading&4)){var a=eo.get(t);if(a)var r=a.get(null);else{a=new Map,eo.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var h=c[d];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(a.set(h.dataset.precedence,h),r=h)}r&&a.set(null,r)}c=s.instance,h=c.getAttribute("data-precedence"),d=a.get(h)||r,d===r&&a.set(null,c),a.set(h,c),this.count++,r=Wi.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),d?d.parentNode.insertBefore(c,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),s.state.loading|=4}}var bn={$$typeof:N,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function Hy(t,s,a,r,c,d,h,p,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ho(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ho(0),this.hiddenUpdates=Ho(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Hf(t,s,a,r,c,d,h,p,S,P,X,Z){return t=new Hy(t,s,a,h,S,P,X,Z,p),s=1,d===!0&&(s|=24),d=Ft(3,null,null,s),t.current=d,d.stateNode=t,s=Cc(),s.refCount++,t.pooledCache=s,s.refCount++,d.memoizedState={element:r,isDehydrated:a,cache:s},Ec(d),t}function qf(t){return t?(t=Ml,t):Ml}function Vf(t,s,a,r,c,d){c=qf(c),r.context===null?r.context=c:r.pendingContext=c,r=fa(s),r.payload={element:a},d=d===void 0?null:d,d!==null&&(r.callback=d),a=ga(t,r,s),a!==null&&(Pt(a,t,s),Qr(a,t,s))}function $f(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function Yd(t,s){$f(t,s),(t=t.alternate)&&$f(t,s)}function Ff(t){if(t.tag===13||t.tag===31){var s=tl(t,67108864);s!==null&&Pt(s,t,67108864),Yd(t,67108864)}}function Gf(t){if(t.tag===13||t.tag===31){var s=Xt();s=qo(s);var a=tl(t,s);a!==null&&Pt(a,t,s),Yd(t,s)}}var so=!0;function qy(t,s,a,r){var c=T.T;T.T=null;var d=F.p;try{F.p=2,Kd(t,s,a,r)}finally{F.p=d,T.T=c}}function Vy(t,s,a,r){var c=T.T;T.T=null;var d=F.p;try{F.p=8,Kd(t,s,a,r)}finally{F.p=d,T.T=c}}function Kd(t,s,a,r){if(so){var c=Qd(r);if(c===null)Md(t,s,r,ao,a),Kf(t,r);else if(Fy(c,t,s,a,r))r.stopPropagation();else if(Kf(t,r),s&4&&-1<$y.indexOf(t)){for(;c!==null;){var d=wl(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var h=Xa(d.pendingLanes);if(h!==0){var p=d;for(p.pendingLanes|=2,p.entangledLanes|=2;h;){var S=1<<31-Vt(h);p.entanglements[1]|=S,h&=~S}Cs(d),(Le&6)===0&&(Bi=Dt()+500,mn(0))}}break;case 31:case 13:p=tl(d,2),p!==null&&Pt(p,d,2),Hi(),Yd(d,2)}if(d=Qd(r),d===null&&Md(t,s,r,ao,a),d===c)break;c=d}c!==null&&r.stopPropagation()}else Md(t,s,r,null,a)}}function Qd(t){return t=Jo(t),Xd(t)}var ao=null;function Xd(t){if(ao=null,t=Nl(t),t!==null){var s=m(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=x(s),t!==null)return t;t=null}else if(a===31){if(t=f(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return ao=t,null}function Yf(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Po()){case Fn:return 2;case Gn:return 8;case Ar:case _0:return 32;case sm:return 268435456;default:return 32}default:return 32}}var Jd=!1,ka=null,Aa=null,Ea=null,yn=new Map,vn=new Map,_a=[],$y="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kf(t,s){switch(t){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":Aa=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":yn.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":vn.delete(s.pointerId)}}function jn(t,s,a,r,c,d){return t===null||t.nativeEvent!==d?(t={blockedOn:s,domEventName:a,eventSystemFlags:r,nativeEvent:d,targetContainers:[c]},s!==null&&(s=wl(s),s!==null&&Ff(s)),t):(t.eventSystemFlags|=r,s=t.targetContainers,c!==null&&s.indexOf(c)===-1&&s.push(c),t)}function Fy(t,s,a,r,c){switch(s){case"focusin":return ka=jn(ka,t,s,a,r,c),!0;case"dragenter":return Aa=jn(Aa,t,s,a,r,c),!0;case"mouseover":return Ea=jn(Ea,t,s,a,r,c),!0;case"pointerover":var d=c.pointerId;return yn.set(d,jn(yn.get(d)||null,t,s,a,r,c)),!0;case"gotpointercapture":return d=c.pointerId,vn.set(d,jn(vn.get(d)||null,t,s,a,r,c)),!0}return!1}function Qf(t){var s=Nl(t.target);if(s!==null){var a=m(s);if(a!==null){if(s=a.tag,s===13){if(s=x(a),s!==null){t.blockedOn=s,om(t.priority,function(){Gf(a)});return}}else if(s===31){if(s=f(a),s!==null){t.blockedOn=s,om(t.priority,function(){Gf(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lo(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Qd(t.nativeEvent);if(a===null){a=t.nativeEvent;var r=new a.constructor(a.type,a);Xo=r,a.target.dispatchEvent(r),Xo=null}else return s=wl(a),s!==null&&Ff(s),t.blockedOn=a,!1;s.shift()}return!0}function Xf(t,s,a){lo(t)&&a.delete(s)}function Gy(){Jd=!1,ka!==null&&lo(ka)&&(ka=null),Aa!==null&&lo(Aa)&&(Aa=null),Ea!==null&&lo(Ea)&&(Ea=null),yn.forEach(Xf),vn.forEach(Xf)}function ro(t,s){t.blockedOn===s&&(t.blockedOn=null,Jd||(Jd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Gy)))}var no=null;function Jf(t){no!==t&&(no=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){no===t&&(no=null);for(var s=0;s<t.length;s+=3){var a=t[s],r=t[s+1],c=t[s+2];if(typeof r!="function"){if(Xd(r||a)===null)continue;break}var d=wl(a);d!==null&&(t.splice(s,3),s-=3,Qc(d,{pending:!0,data:c,method:a.method,action:r},r,c))}}))}function lr(t){function s(S){return ro(S,t)}ka!==null&&ro(ka,t),Aa!==null&&ro(Aa,t),Ea!==null&&ro(Ea,t),yn.forEach(s),vn.forEach(s);for(var a=0;a<_a.length;a++){var r=_a[a];r.blockedOn===t&&(r.blockedOn=null)}for(;0<_a.length&&(a=_a[0],a.blockedOn===null);)Qf(a),a.blockedOn===null&&_a.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var c=a[r],d=a[r+1],h=c[Mt]||null;if(typeof d=="function")h||Jf(a);else if(h){var p=null;if(d&&d.hasAttribute("formAction")){if(c=d,h=d[Mt]||null)p=h.formAction;else if(Xd(c)!==null)continue}else p=h.action;typeof p=="function"?a[r+1]=p:(a.splice(r,3),r-=3),Jf(a)}}}function Zf(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(h){return c=h})},focusReset:"manual",scroll:"manual"})}function s(){c!==null&&(c(),c=null),r||setTimeout(a,20)}function a(){if(!r&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),c!==null&&(c(),c=null)}}}function Zd(t){this._internalRoot=t}io.prototype.render=Zd.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(o(409));var a=s.current,r=Xt();Vf(a,r,t,s,null,null)},io.prototype.unmount=Zd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Vf(t.current,2,null,t,null,null),Hi(),s[jl]=null}};function io(t){this._internalRoot=t}io.prototype.unstable_scheduleHydration=function(t){if(t){var s=im();t={blockedOn:null,target:t,priority:s};for(var a=0;a<_a.length&&s!==0&&s<_a[a].priority;a++);_a.splice(a,0,t),a===0&&Qf(t)}};var Wf=l.version;if(Wf!=="19.2.0")throw Error(o(527,Wf,"19.2.0"));F.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=w(s),t=t!==null?j(t):null,t=t===null?null:t.stateNode,t};var Yy={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:T,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oo.isDisabled&&oo.supportsFiber)try{Er=oo.inject(Yy),qt=oo}catch{}}return wn.createRoot=function(t,s){if(!u(t))throw Error(o(299));var a=!1,r="",c=rx,d=nx,h=ix;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(r=s.identifierPrefix),s.onUncaughtError!==void 0&&(c=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),s=Hf(t,1,!1,null,null,a,r,null,c,d,h,Zf),t[jl]=s.current,Od(t),new Zd(s)},wn.hydrateRoot=function(t,s,a){if(!u(t))throw Error(o(299));var r=!1,c="",d=rx,h=nx,p=ix,S=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(h=a.onCaughtError),a.onRecoverableError!==void 0&&(p=a.onRecoverableError),a.formState!==void 0&&(S=a.formState)),s=Hf(t,1,!0,s,a??null,r,c,S,d,h,p,Zf),s.context=qf(null),a=s.current,r=Xt(),r=qo(r),c=fa(r),c.callback=null,ga(a,c,r),a=r,s.current.lanes=a,Dr(s,a),Cs(s),t[jl]=s.current,Od(t),new io(s)},wn.version="19.2.0",wn}var pg;function Dv(){if(pg)return eu.exports;pg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(l){console.error(l)}}return n(),eu.exports=_v(),eu.exports}var Rv=Dv();class Ov{config=null;configPromise=null;async getConfig(){return this.config?this.config:(this.config=this.getBuildTimeConfig(),this.config)}async fetchConfig(){const l=window.location.origin;try{const i=await fetch(`${l}/api/runtime-config`);if(!i.ok)throw new Error(`Config fetch failed: ${i.status}`);const o=await i.json();return{apiBaseUrl:l,firebase:o.firebase,googleMapsApiKey:"AIzaSyDTV_5KiXOuYRtG2TEMIvrHPCsht3sSWEQ",unsplash:{accessKey:""}}}catch(i){return console.error("Failed to fetch runtime config, using fallback:",i),this.getBuildTimeConfig()}}getBuildTimeConfig(){return{apiBaseUrl:window.location.origin,firebase:{apiKey:"AIzaSyCuJr5N0ytr1h_Aq_5qQazNL0wQUnsZlAw",authDomain:"travelbuddy-2d1c5.firebaseapp.com",projectId:"travelbuddy-2d1c5",storageBucket:"travelbuddy-2d1c5.firebasestorage.app",messagingSenderId:"45425409967",appId:"1:45425409967:web:782638c65a40dcb156b95a"},googleMapsApiKey:"AIzaSyDTV_5KiXOuYRtG2TEMIvrHPCsht3sSWEQ",unsplash:{accessKey:""}}}}const ds=new Ov,hp=v.createContext({config:null,loading:!0,error:null}),zn=()=>{const n=v.useContext(hp);if(!n)throw new Error("useConfig must be used within a ConfigProvider");return n},Mv=({children:n})=>{const[l,i]=v.useState(null),[o,u]=v.useState(!0),[m,x]=v.useState(null);return v.useEffect(()=>{(async()=>{try{const g=await ds.getConfig();i(g),x(null)}catch(g){x(g instanceof Error?g.message:"Failed to load config")}finally{u(!1)}})()},[]),e.jsx(hp.Provider,{value:{config:l,loading:o,error:m},children:n})},Iv=()=>{};var bg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp=function(n){const l=[];let i=0;for(let o=0;o<n.length;o++){let u=n.charCodeAt(o);u<128?l[i++]=u:u<2048?(l[i++]=u>>6|192,l[i++]=u&63|128):(u&64512)===55296&&o+1<n.length&&(n.charCodeAt(o+1)&64512)===56320?(u=65536+((u&1023)<<10)+(n.charCodeAt(++o)&1023),l[i++]=u>>18|240,l[i++]=u>>12&63|128,l[i++]=u>>6&63|128,l[i++]=u&63|128):(l[i++]=u>>12|224,l[i++]=u>>6&63|128,l[i++]=u&63|128)}return l},zv=function(n){const l=[];let i=0,o=0;for(;i<n.length;){const u=n[i++];if(u<128)l[o++]=String.fromCharCode(u);else if(u>191&&u<224){const m=n[i++];l[o++]=String.fromCharCode((u&31)<<6|m&63)}else if(u>239&&u<365){const m=n[i++],x=n[i++],f=n[i++],g=((u&7)<<18|(m&63)<<12|(x&63)<<6|f&63)-65536;l[o++]=String.fromCharCode(55296+(g>>10)),l[o++]=String.fromCharCode(56320+(g&1023))}else{const m=n[i++],x=n[i++];l[o++]=String.fromCharCode((u&15)<<12|(m&63)<<6|x&63)}}return l.join("")},fp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,l){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=l?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let u=0;u<n.length;u+=3){const m=n[u],x=u+1<n.length,f=x?n[u+1]:0,g=u+2<n.length,w=g?n[u+2]:0,j=m>>2,y=(m&3)<<4|f>>4;let b=(f&15)<<2|w>>6,I=w&63;g||(I=64,x||(b=64)),o.push(i[j],i[y],i[b],i[I])}return o.join("")},encodeString(n,l){return this.HAS_NATIVE_SUPPORT&&!l?btoa(n):this.encodeByteArray(xp(n),l)},decodeString(n,l){return this.HAS_NATIVE_SUPPORT&&!l?atob(n):zv(this.decodeStringToByteArray(n,l))},decodeStringToByteArray(n,l){this.init_();const i=l?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let u=0;u<n.length;){const m=i[n.charAt(u++)],f=u<n.length?i[n.charAt(u)]:0;++u;const w=u<n.length?i[n.charAt(u)]:64;++u;const y=u<n.length?i[n.charAt(u)]:64;if(++u,m==null||f==null||w==null||y==null)throw new Lv;const b=m<<2|f>>4;if(o.push(b),w!==64){const I=f<<4&240|w>>2;if(o.push(I),y!==64){const L=w<<6&192|y;o.push(L)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Lv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Uv=function(n){const l=xp(n);return fp.encodeByteArray(l,!0)},gp=function(n){return Uv(n).replace(/\./g,"")},pp=function(n){try{return fp.decodeString(n,!0)}catch(l){console.error("base64Decode failed: ",l)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=()=>Bv().__FIREBASE_DEFAULTS__,Hv=()=>{if(typeof process>"u"||typeof bg>"u")return;const n=bg.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},qv=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const l=n&&pp(n[1]);return l&&JSON.parse(l)},qu=()=>{try{return Iv()||Pv()||Hv()||qv()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Vv=n=>qu()?.emulatorHosts?.[n],bp=()=>qu()?.config,yp=n=>qu()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((l,i)=>{this.resolve=l,this.reject=i})}wrapCallback(l){return(i,o)=>{i?this.reject(i):this.resolve(o),typeof l=="function"&&(this.promise.catch(()=>{}),l.length===1?l(i):l(i,o))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Fv(n){return(await fetch(n,{credentials:"include"})).ok}const An={};function Gv(){const n={prod:[],emulator:[]};for(const l of Object.keys(An))An[l]?n.emulator.push(l):n.prod.push(l);return n}function Yv(n){let l=document.getElementById(n),i=!1;return l||(l=document.createElement("div"),l.setAttribute("id",n),i=!0),{created:i,element:l}}let yg=!1;function Kv(n,l){if(typeof window>"u"||typeof document>"u"||!Mo(window.location.host)||An[n]===l||An[n]||yg)return;An[n]=l;function i(b){return`__firebase__banner__${b}`}const o="__firebase__banner",m=Gv().prod.length>0;function x(){const b=document.getElementById(o);b&&b.remove()}function f(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function g(b,I){b.setAttribute("width","24"),b.setAttribute("id",I),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function w(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{yg=!0,x()},b}function j(b,I){b.setAttribute("id",I),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function y(){const b=Yv(o),I=i("text"),L=document.getElementById(I)||document.createElement("span"),R=i("learnmore"),D=document.getElementById(R)||document.createElement("a"),C=i("preprendIcon"),_=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const N=b.element;f(N),j(D,R);const q=w();g(_,C),N.append(_,L,D,q),document.body.appendChild(N)}m?(L.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function Xv(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Jv(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Zv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Wv(){const n=Ot();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ej(){try{return typeof indexedDB=="object"}catch{return!1}}function tj(){return new Promise((n,l)=>{try{let i=!0;const o="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(o);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(o),n(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{l(u.error?.message||"")}}catch(i){l(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj="FirebaseError";class Ya extends Error{constructor(l,i,o){super(i),this.code=l,this.customData=o,this.name=sj,Object.setPrototypeOf(this,Ya.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ln.prototype.create)}}class Ln{constructor(l,i,o){this.service=l,this.serviceName=i,this.errors=o}create(l,...i){const o=i[0]||{},u=`${this.service}/${l}`,m=this.errors[l],x=m?aj(m,o):"Error",f=`${this.serviceName}: ${x} (${u}).`;return new Ya(u,f,o)}}function aj(n,l){return n.replace(lj,(i,o)=>{const u=l[o];return u!=null?String(u):`<${o}?>`})}const lj=/\{\$([^}]+)}/g;function rj(n){for(const l in n)if(Object.prototype.hasOwnProperty.call(n,l))return!1;return!0}function vr(n,l){if(n===l)return!0;const i=Object.keys(n),o=Object.keys(l);for(const u of i){if(!o.includes(u))return!1;const m=n[u],x=l[u];if(vg(m)&&vg(x)){if(!vr(m,x))return!1}else if(m!==x)return!1}for(const u of o)if(!i.includes(u))return!1;return!0}function vg(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(n){const l=[];for(const[i,o]of Object.entries(n))Array.isArray(o)?o.forEach(u=>{l.push(encodeURIComponent(i)+"="+encodeURIComponent(u))}):l.push(encodeURIComponent(i)+"="+encodeURIComponent(o));return l.length?"&"+l.join("&"):""}function Cn(n){const l={};return n.replace(/^\?/,"").split("&").forEach(o=>{if(o){const[u,m]=o.split("=");l[decodeURIComponent(u)]=decodeURIComponent(m)}}),l}function Tn(n){const l=n.indexOf("?");if(!l)return"";const i=n.indexOf("#",l);return n.substring(l,i>0?i:void 0)}function nj(n,l){const i=new ij(n,l);return i.subscribe.bind(i)}class ij{constructor(l,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{l(this)}).catch(o=>{this.error(o)})}next(l){this.forEachObserver(i=>{i.next(l)})}error(l){this.forEachObserver(i=>{i.error(l)}),this.close(l)}complete(){this.forEachObserver(l=>{l.complete()}),this.close()}subscribe(l,i,o){let u;if(l===void 0&&i===void 0&&o===void 0)throw new Error("Missing Observer.");oj(l,["next","error","complete"])?u=l:u={next:l,error:i,complete:o},u.next===void 0&&(u.next=au),u.error===void 0&&(u.error=au),u.complete===void 0&&(u.complete=au);const m=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?u.error(this.finalError):u.complete()}catch{}}),this.observers.push(u),m}unsubscribeOne(l){this.observers===void 0||this.observers[l]===void 0||(delete this.observers[l],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(l){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,l)}sendOne(l,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[l]!==void 0)try{i(this.observers[l])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})}close(l){this.finalized||(this.finalized=!0,l!==void 0&&(this.finalError=l),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oj(n,l){if(typeof n!="object"||n===null)return!1;for(const i of l)if(i in n&&typeof n[i]=="function")return!0;return!1}function au(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(n){return n&&n._delegate?n._delegate:n}class jr{constructor(l,i,o){this.name=l,this.instanceFactory=i,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(l){return this.instantiationMode=l,this}setMultipleInstances(l){return this.multipleInstances=l,this}setServiceProps(l){return this.serviceProps=l,this}setInstanceCreatedCallback(l){return this.onInstanceCreated=l,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(l,i){this.name=l,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(l){const i=this.normalizeInstanceIdentifier(l);if(!this.instancesDeferred.has(i)){const o=new $v;if(this.instancesDeferred.set(i,o),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&o.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(l){const i=this.normalizeInstanceIdentifier(l?.identifier),o=l?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(l){if(l.name!==this.name)throw Error(`Mismatching Component ${l.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=l,!!this.shouldAutoInitialize()){if(uj(l))try{this.getOrInitializeService({instanceIdentifier:gl})}catch{}for(const[i,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const m=this.getOrInitializeService({instanceIdentifier:u});o.resolve(m)}catch{}}}}clearInstance(l=gl){this.instancesDeferred.delete(l),this.instancesOptions.delete(l),this.instances.delete(l)}async delete(){const l=Array.from(this.instances.values());await Promise.all([...l.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...l.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(l=gl){return this.instances.has(l)}getOptions(l=gl){return this.instancesOptions.get(l)||{}}initialize(l={}){const{options:i={}}=l,o=this.normalizeInstanceIdentifier(l.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:o,options:i});for(const[m,x]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(m);o===f&&x.resolve(u)}return u}onInit(l,i){const o=this.normalizeInstanceIdentifier(i),u=this.onInitCallbacks.get(o)??new Set;u.add(l),this.onInitCallbacks.set(o,u);const m=this.instances.get(o);return m&&l(m,o),()=>{u.delete(l)}}invokeOnInitCallbacks(l,i){const o=this.onInitCallbacks.get(i);if(o)for(const u of o)try{u(l,i)}catch{}}getOrInitializeService({instanceIdentifier:l,options:i={}}){let o=this.instances.get(l);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:dj(l),options:i}),this.instances.set(l,o),this.instancesOptions.set(l,i),this.invokeOnInitCallbacks(o,l),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,l,o)}catch{}return o||null}normalizeInstanceIdentifier(l=gl){return this.component?this.component.multipleInstances?l:gl:l}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dj(n){return n===gl?void 0:n}function uj(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(l){this.name=l,this.providers=new Map}addComponent(l){const i=this.getProvider(l.name);if(i.isComponentSet())throw new Error(`Component ${l.name} has already been registered with ${this.name}`);i.setComponent(l)}addOrOverwriteComponent(l){this.getProvider(l.name).isComponentSet()&&this.providers.delete(l.name),this.addComponent(l)}getProvider(l){if(this.providers.has(l))return this.providers.get(l);const i=new cj(l,this);return this.providers.set(l,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})($e||($e={}));const hj={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},xj=$e.INFO,fj={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},gj=(n,l,...i)=>{if(l<n.logLevel)return;const o=new Date().toISOString(),u=fj[l];if(u)console[u](`[${o}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${l})`)};class vp{constructor(l){this.name=l,this._logLevel=xj,this._logHandler=gj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(l){if(!(l in $e))throw new TypeError(`Invalid value "${l}" assigned to \`logLevel\``);this._logLevel=l}setLogLevel(l){this._logLevel=typeof l=="string"?hj[l]:l}get logHandler(){return this._logHandler}set logHandler(l){if(typeof l!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=l}get userLogHandler(){return this._userLogHandler}set userLogHandler(l){this._userLogHandler=l}debug(...l){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...l),this._logHandler(this,$e.DEBUG,...l)}log(...l){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...l),this._logHandler(this,$e.VERBOSE,...l)}info(...l){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...l),this._logHandler(this,$e.INFO,...l)}warn(...l){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...l),this._logHandler(this,$e.WARN,...l)}error(...l){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...l),this._logHandler(this,$e.ERROR,...l)}}const pj=(n,l)=>l.some(i=>n instanceof i);let jg,Ng;function bj(){return jg||(jg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yj(){return Ng||(Ng=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jp=new WeakMap,wu=new WeakMap,Np=new WeakMap,lu=new WeakMap,Vu=new WeakMap;function vj(n){const l=new Promise((i,o)=>{const u=()=>{n.removeEventListener("success",m),n.removeEventListener("error",x)},m=()=>{i(qa(n.result)),u()},x=()=>{o(n.error),u()};n.addEventListener("success",m),n.addEventListener("error",x)});return l.then(i=>{i instanceof IDBCursor&&jp.set(i,n)}).catch(()=>{}),Vu.set(l,n),l}function jj(n){if(wu.has(n))return;const l=new Promise((i,o)=>{const u=()=>{n.removeEventListener("complete",m),n.removeEventListener("error",x),n.removeEventListener("abort",x)},m=()=>{i(),u()},x=()=>{o(n.error||new DOMException("AbortError","AbortError")),u()};n.addEventListener("complete",m),n.addEventListener("error",x),n.addEventListener("abort",x)});wu.set(n,l)}let Su={get(n,l,i){if(n instanceof IDBTransaction){if(l==="done")return wu.get(n);if(l==="objectStoreNames")return n.objectStoreNames||Np.get(n);if(l==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return qa(n[l])},set(n,l,i){return n[l]=i,!0},has(n,l){return n instanceof IDBTransaction&&(l==="done"||l==="store")?!0:l in n}};function Nj(n){Su=n(Su)}function wj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(l,...i){const o=n.call(ru(this),l,...i);return Np.set(o,l.sort?l.sort():[l]),qa(o)}:yj().includes(n)?function(...l){return n.apply(ru(this),l),qa(jp.get(this))}:function(...l){return qa(n.apply(ru(this),l))}}function Sj(n){return typeof n=="function"?wj(n):(n instanceof IDBTransaction&&jj(n),pj(n,bj())?new Proxy(n,Su):n)}function qa(n){if(n instanceof IDBRequest)return vj(n);if(lu.has(n))return lu.get(n);const l=Sj(n);return l!==n&&(lu.set(n,l),Vu.set(l,n)),l}const ru=n=>Vu.get(n);function Cj(n,l,{blocked:i,upgrade:o,blocking:u,terminated:m}={}){const x=indexedDB.open(n,l),f=qa(x);return o&&x.addEventListener("upgradeneeded",g=>{o(qa(x.result),g.oldVersion,g.newVersion,qa(x.transaction),g)}),i&&x.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),f.then(g=>{m&&g.addEventListener("close",()=>m()),u&&g.addEventListener("versionchange",w=>u(w.oldVersion,w.newVersion,w))}).catch(()=>{}),f}const Tj=["get","getKey","getAll","getAllKeys","count"],kj=["put","add","delete","clear"],nu=new Map;function wg(n,l){if(!(n instanceof IDBDatabase&&!(l in n)&&typeof l=="string"))return;if(nu.get(l))return nu.get(l);const i=l.replace(/FromIndex$/,""),o=l!==i,u=kj.includes(i);if(!(i in(o?IDBIndex:IDBObjectStore).prototype)||!(u||Tj.includes(i)))return;const m=async function(x,...f){const g=this.transaction(x,u?"readwrite":"readonly");let w=g.store;return o&&(w=w.index(f.shift())),(await Promise.all([w[i](...f),u&&g.done]))[0]};return nu.set(l,m),m}Nj(n=>({...n,get:(l,i,o)=>wg(l,i)||n.get(l,i,o),has:(l,i)=>!!wg(l,i)||n.has(l,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(l){this.container=l}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Ej(i)){const o=i.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(i=>i).join(" ")}}function Ej(n){return n.getComponent()?.type==="VERSION"}const Cu="@firebase/app",Sg="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new vp("@firebase/app"),_j="@firebase/app-compat",Dj="@firebase/analytics-compat",Rj="@firebase/analytics",Oj="@firebase/app-check-compat",Mj="@firebase/app-check",Ij="@firebase/auth",zj="@firebase/auth-compat",Lj="@firebase/database",Uj="@firebase/data-connect",Bj="@firebase/database-compat",Pj="@firebase/functions",Hj="@firebase/functions-compat",qj="@firebase/installations",Vj="@firebase/installations-compat",$j="@firebase/messaging",Fj="@firebase/messaging-compat",Gj="@firebase/performance",Yj="@firebase/performance-compat",Kj="@firebase/remote-config",Qj="@firebase/remote-config-compat",Xj="@firebase/storage",Jj="@firebase/storage-compat",Zj="@firebase/firestore",Wj="@firebase/ai",eN="@firebase/firestore-compat",tN="firebase",sN="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu="[DEFAULT]",aN={[Cu]:"fire-core",[_j]:"fire-core-compat",[Rj]:"fire-analytics",[Dj]:"fire-analytics-compat",[Mj]:"fire-app-check",[Oj]:"fire-app-check-compat",[Ij]:"fire-auth",[zj]:"fire-auth-compat",[Lj]:"fire-rtdb",[Uj]:"fire-data-connect",[Bj]:"fire-rtdb-compat",[Pj]:"fire-fn",[Hj]:"fire-fn-compat",[qj]:"fire-iid",[Vj]:"fire-iid-compat",[$j]:"fire-fcm",[Fj]:"fire-fcm-compat",[Gj]:"fire-perf",[Yj]:"fire-perf-compat",[Kj]:"fire-rc",[Qj]:"fire-rc-compat",[Xj]:"fire-gcs",[Jj]:"fire-gcs-compat",[Zj]:"fire-fst",[eN]:"fire-fst-compat",[Wj]:"fire-vertex","fire-js":"fire-js",[tN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=new Map,lN=new Map,ku=new Map;function Cg(n,l){try{n.container.addComponent(l)}catch(i){la.debug(`Component ${l.name} failed to register with FirebaseApp ${n.name}`,i)}}function _n(n){const l=n.name;if(ku.has(l))return la.debug(`There were multiple attempts to register component ${l}.`),!1;ku.set(l,n);for(const i of So.values())Cg(i,n);for(const i of lN.values())Cg(i,n);return!0}function wp(n,l){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(l)}function os(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Va=new Ln("app","Firebase",rN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(l,i,o){this._isDeleted=!1,this._options={...l},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(l){this.checkDestroyed(),this._automaticDataCollectionEnabled=l}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(l){this._isDeleted=l}checkDestroyed(){if(this.isDeleted)throw Va.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn=sN;function Sp(n,l={}){let i=n;typeof l!="object"&&(l={name:l});const o={name:Tu,automaticDataCollectionEnabled:!0,...l},u=o.name;if(typeof u!="string"||!u)throw Va.create("bad-app-name",{appName:String(u)});if(i||(i=bp()),!i)throw Va.create("no-options");const m=So.get(u);if(m){if(vr(i,m.options)&&vr(o,m.config))return m;throw Va.create("duplicate-app",{appName:u})}const x=new mj(u);for(const g of ku.values())x.addComponent(g);const f=new nN(i,o,x);return So.set(u,f),f}function iN(n=Tu){const l=So.get(n);if(!l&&n===Tu&&bp())return Sp();if(!l)throw Va.create("no-app",{appName:n});return l}function mr(n,l,i){let o=aN[n]??n;i&&(o+=`-${i}`);const u=o.match(/\s|\//),m=l.match(/\s|\//);if(u||m){const x=[`Unable to register library "${o}" with version "${l}":`];u&&x.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&m&&x.push("and"),m&&x.push(`version name "${l}" contains illegal characters (whitespace or "/")`),la.warn(x.join(" "));return}_n(new jr(`${o}-version`,()=>({library:o,version:l}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="firebase-heartbeat-database",cN=1,Dn="firebase-heartbeat-store";let iu=null;function Cp(){return iu||(iu=Cj(oN,cN,{upgrade:(n,l)=>{switch(l){case 0:try{n.createObjectStore(Dn)}catch(i){console.warn(i)}}}}).catch(n=>{throw Va.create("idb-open",{originalErrorMessage:n.message})})),iu}async function dN(n){try{const i=(await Cp()).transaction(Dn),o=await i.objectStore(Dn).get(Tp(n));return await i.done,o}catch(l){if(l instanceof Ya)la.warn(l.message);else{const i=Va.create("idb-get",{originalErrorMessage:l?.message});la.warn(i.message)}}}async function Tg(n,l){try{const o=(await Cp()).transaction(Dn,"readwrite");await o.objectStore(Dn).put(l,Tp(n)),await o.done}catch(i){if(i instanceof Ya)la.warn(i.message);else{const o=Va.create("idb-set",{originalErrorMessage:i?.message});la.warn(o.message)}}}function Tp(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=1024,mN=30;class hN{constructor(l){this.container=l,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new fN(i),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=kg();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>mN){const u=gN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(l){la.warn(l)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const l=kg(),{heartbeatsToSend:i,unsentEntries:o}=xN(this._heartbeatsCache.heartbeats),u=gp(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=l,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(l){return la.warn(l),""}}}function kg(){return new Date().toISOString().substring(0,10)}function xN(n,l=uN){const i=[];let o=n.slice();for(const u of n){const m=i.find(x=>x.agent===u.agent);if(m){if(m.dates.push(u.date),Ag(i)>l){m.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Ag(i)>l){i.pop();break}o=o.slice(1)}return{heartbeatsToSend:i,unsentEntries:o}}class fN{constructor(l){this.app=l,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ej()?tj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await dN(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(l){if(await this._canUseIndexedDBPromise){const o=await this.read();return Tg(this.app,{lastSentHeartbeatDate:l.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:l.heartbeats})}else return}async add(l){if(await this._canUseIndexedDBPromise){const o=await this.read();return Tg(this.app,{lastSentHeartbeatDate:l.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...l.heartbeats]})}else return}}function Ag(n){return gp(JSON.stringify({version:2,heartbeats:n})).length}function gN(n){if(n.length===0)return-1;let l=0,i=n[0].date;for(let o=1;o<n.length;o++)n[o].date<i&&(i=n[o].date,l=o);return l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(n){_n(new jr("platform-logger",l=>new Aj(l),"PRIVATE")),_n(new jr("heartbeat",l=>new hN(l),"PRIVATE")),mr(Cu,Sg,n),mr(Cu,Sg,"esm2020"),mr("fire-js","")}pN("");function kp(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bN=kp,Ap=new Ln("auth","Firebase",kp());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=new vp("@firebase/auth");function yN(n,...l){Co.logLevel<=$e.WARN&&Co.warn(`Auth (${Bn}): ${n}`,...l)}function go(n,...l){Co.logLevel<=$e.ERROR&&Co.error(`Auth (${Bn}): ${n}`,...l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(n,...l){throw Fu(n,...l)}function As(n,...l){return Fu(n,...l)}function $u(n,l,i){const o={...bN(),[l]:i};return new Ln("auth","Firebase",o).create(l,{appName:n.name})}function Es(n){return $u(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vN(n,l,i){const o=i;if(!(l instanceof o))throw o.name!==l.constructor.name&&us(n,"argument-error"),$u(n,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fu(n,...l){if(typeof n!="string"){const i=l[0],o=[...l.slice(1)];return o[0]&&(o[0].appName=n.name),n._errorFactory.create(i,...o)}return Ap.create(n,...l)}function be(n,l,...i){if(!n)throw Fu(l,...i)}function Js(n){const l="INTERNAL ASSERTION FAILED: "+n;throw go(l),new Error(l)}function ra(n,l){n||Js(l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(){return typeof self<"u"&&self.location?.href||""}function jN(){return Eg()==="http:"||Eg()==="https:"}function Eg(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jN()||Jv()||"connection"in navigator)?navigator.onLine:!0}function wN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(l,i){this.shortDelay=l,this.longDelay=i,ra(i>l,"Short delay should be less than long delay!"),this.isMobile=Qv()||Zv()}get(){return NN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(n,l){ra(n.emulator,"Emulator should always be set here");const{url:i}=n.emulator;return l?`${i}${l.startsWith("/")?l.slice(1):l}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{static initialize(l,i,o){this.fetchImpl=l,i&&(this.headersImpl=i),o&&(this.responseImpl=o)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Js("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Js("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Js("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TN=new Pn(3e4,6e4);function Ka(n,l){return n.tenantId&&!l.tenantId?{...l,tenantId:n.tenantId}:l}async function Qa(n,l,i,o,u={}){return _p(n,u,async()=>{let m={},x={};o&&(l==="GET"?x=o:m={body:JSON.stringify(o)});const f=Un({key:n.config.apiKey,...x}).slice(1),g=await n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);const w={method:l,headers:g,...m};return Xv()||(w.referrerPolicy="no-referrer"),n.emulatorConfig&&Mo(n.emulatorConfig.host)&&(w.credentials="include"),Ep.fetch()(await Dp(n,n.config.apiHost,i,f),w)})}async function _p(n,l,i){n._canInitEmulator=!1;const o={...SN,...l};try{const u=new AN(n),m=await Promise.race([i(),u.promise]);u.clearNetworkTimeout();const x=await m.json();if("needConfirmation"in x)throw mo(n,"account-exists-with-different-credential",x);if(m.ok&&!("errorMessage"in x))return x;{const f=m.ok?x.errorMessage:x.error.message,[g,w]=f.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw mo(n,"credential-already-in-use",x);if(g==="EMAIL_EXISTS")throw mo(n,"email-already-in-use",x);if(g==="USER_DISABLED")throw mo(n,"user-disabled",x);const j=o[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(w)throw $u(n,j,w);us(n,j)}}catch(u){if(u instanceof Ya)throw u;us(n,"network-request-failed",{message:String(u)})}}async function Hn(n,l,i,o,u={}){const m=await Qa(n,l,i,o,u);return"mfaPendingCredential"in m&&us(n,"multi-factor-auth-required",{_serverResponse:m}),m}async function Dp(n,l,i,o){const u=`${l}${i}?${o}`,m=n,x=m.config.emulator?Gu(n.config,u):`${n.config.apiScheme}://${u}`;return CN.includes(i)&&(await m._persistenceManagerAvailable,m._getPersistenceType()==="COOKIE")?m._getPersistence()._getFinalTarget(x).toString():x}function kN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((i,o)=>{this.timer=setTimeout(()=>o(As(this.auth,"network-request-failed")),TN.get())})}}function mo(n,l,i){const o={appName:n.name};i.email&&(o.email=i.email),i.phoneNumber&&(o.phoneNumber=i.phoneNumber);const u=As(n,l,o);return u.customData._tokenResponse=i,u}function _g(n){return n!==void 0&&n.enterprise!==void 0}class EN{constructor(l){if(this.siteKey="",this.recaptchaEnforcementState=[],l.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=l.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=l.recaptchaEnforcementState}getProviderEnforcementState(l){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===l)return kN(i.enforcementState);return null}isProviderEnabled(l){return this.getProviderEnforcementState(l)==="ENFORCE"||this.getProviderEnforcementState(l)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _N(n,l){return Qa(n,"GET","/v2/recaptchaConfig",Ka(n,l))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(n,l){return Qa(n,"POST","/v1/accounts:delete",l)}async function To(n,l){return Qa(n,"POST","/v1/accounts:lookup",l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(n){if(n)try{const l=new Date(Number(n));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}async function RN(n,l=!1){const i=Ds(n),o=await i.getIdToken(l),u=Yu(o);be(u&&u.exp&&u.auth_time&&u.iat,i.auth,"internal-error");const m=typeof u.firebase=="object"?u.firebase:void 0,x=m?.sign_in_provider;return{claims:u,token:o,authTime:En(ou(u.auth_time)),issuedAtTime:En(ou(u.iat)),expirationTime:En(ou(u.exp)),signInProvider:x||null,signInSecondFactor:m?.sign_in_second_factor||null}}function ou(n){return Number(n)*1e3}function Yu(n){const[l,i,o]=n.split(".");if(l===void 0||i===void 0||o===void 0)return go("JWT malformed, contained fewer than 3 sections"),null;try{const u=pp(i);return u?JSON.parse(u):(go("Failed to decode base64 JWT payload"),null)}catch(u){return go("Caught error parsing JWT payload as JSON",u?.toString()),null}}function Dg(n){const l=Yu(n);return be(l,"internal-error"),be(typeof l.exp<"u","internal-error"),be(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rn(n,l,i=!1){if(i)return l;try{return await l}catch(o){throw o instanceof Ya&&ON(o)&&n.auth.currentUser===n&&await n.auth.signOut(),o}}function ON({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(l){if(l){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,o)}}schedule(l=!1){if(!this.isRunning)return;const i=this.getInterval(l);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(l){l?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(l,i){this.createdAt=l,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=En(this.lastLoginAt),this.creationTime=En(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(n){const l=n.auth,i=await n.getIdToken(),o=await Rn(n,To(l,{idToken:i}));be(o?.users.length,l,"internal-error");const u=o.users[0];n._notifyReloadListener(u);const m=u.providerUserInfo?.length?Rp(u.providerUserInfo):[],x=zN(n.providerData,m),f=n.isAnonymous,g=!(n.email&&u.passwordHash)&&!x?.length,w=f?g:!1,j={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:x,metadata:new Eu(u.createdAt,u.lastLoginAt),isAnonymous:w};Object.assign(n,j)}async function IN(n){const l=Ds(n);await ko(l),await l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)}function zN(n,l){return[...n.filter(o=>!l.some(u=>u.providerId===o.providerId)),...l]}function Rp(n){return n.map(({providerId:l,...i})=>({providerId:l,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(n,l){const i=await _p(n,{},async()=>{const o=Un({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:u,apiKey:m}=n.config,x=await Dp(n,u,"/v1/token",`key=${m}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:f,body:o};return n.emulatorConfig&&Mo(n.emulatorConfig.host)&&(g.credentials="include"),Ep.fetch()(x,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function UN(n,l){return Qa(n,"POST","/v2/accounts:revokeToken",Ka(n,l))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){be(l.idToken,"internal-error"),be(typeof l.idToken<"u","internal-error"),be(typeof l.refreshToken<"u","internal-error");const i="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):Dg(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,i)}updateFromIdToken(l){be(l.length!==0,"internal-error");const i=Dg(l);this.updateTokensAndExpiration(l,null,i)}async getToken(l,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,l,"user-token-expired"),this.refreshToken?(await this.refresh(l,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(l,i){const{accessToken:o,refreshToken:u,expiresIn:m}=await LN(l,i);this.updateTokensAndExpiration(o,u,Number(m))}updateTokensAndExpiration(l,i,o){this.refreshToken=i||null,this.accessToken=l||null,this.expirationTime=Date.now()+o*1e3}static fromJSON(l,i){const{refreshToken:o,accessToken:u,expirationTime:m}=i,x=new hr;return o&&(be(typeof o=="string","internal-error",{appName:l}),x.refreshToken=o),u&&(be(typeof u=="string","internal-error",{appName:l}),x.accessToken=u),m&&(be(typeof m=="number","internal-error",{appName:l}),x.expirationTime=m),x}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new hr,this.toJSON())}_performRefresh(){return Js("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(n,l){be(typeof n=="string"||typeof n>"u","internal-error",{appName:l})}class ps{constructor({uid:l,auth:i,stsTokenManager:o,...u}){this.providerId="firebase",this.proactiveRefresh=new MN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=l,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Eu(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(l){const i=await Rn(this,this.stsTokenManager.getToken(this.auth,l));return be(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(l){return RN(this,l)}reload(){return IN(this)}_assign(l){this!==l&&(be(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(i=>({...i})),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){const i=new ps({...this,auth:l,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(l){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(l,i=!1){let o=!1;l.idToken&&l.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(l),o=!0),i&&await ko(this),await this.auth._persistUserIfCurrent(this),o&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(os(this.auth.app))return Promise.reject(Es(this.auth));const l=await this.getIdToken();return await Rn(this,DN(this.auth,{idToken:l})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>({...l})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,i){const o=i.displayName??void 0,u=i.email??void 0,m=i.phoneNumber??void 0,x=i.photoURL??void 0,f=i.tenantId??void 0,g=i._redirectEventId??void 0,w=i.createdAt??void 0,j=i.lastLoginAt??void 0,{uid:y,emailVerified:b,isAnonymous:I,providerData:L,stsTokenManager:R}=i;be(y&&R,l,"internal-error");const D=hr.fromJSON(this.name,R);be(typeof y=="string",l,"internal-error"),Ra(o,l.name),Ra(u,l.name),be(typeof b=="boolean",l,"internal-error"),be(typeof I=="boolean",l,"internal-error"),Ra(m,l.name),Ra(x,l.name),Ra(f,l.name),Ra(g,l.name),Ra(w,l.name),Ra(j,l.name);const C=new ps({uid:y,auth:l,email:u,emailVerified:b,displayName:o,isAnonymous:I,photoURL:x,phoneNumber:m,tenantId:f,stsTokenManager:D,createdAt:w,lastLoginAt:j});return L&&Array.isArray(L)&&(C.providerData=L.map(_=>({..._}))),g&&(C._redirectEventId=g),C}static async _fromIdTokenResponse(l,i,o=!1){const u=new hr;u.updateFromServerResponse(i);const m=new ps({uid:i.localId,auth:l,stsTokenManager:u,isAnonymous:o});return await ko(m),m}static async _fromGetAccountInfoResponse(l,i,o){const u=i.users[0];be(u.localId!==void 0,"internal-error");const m=u.providerUserInfo!==void 0?Rp(u.providerUserInfo):[],x=!(u.email&&u.passwordHash)&&!m?.length,f=new hr;f.updateFromIdToken(o);const g=new ps({uid:u.localId,auth:l,stsTokenManager:f,isAnonymous:x}),w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Eu(u.createdAt,u.lastLoginAt),isAnonymous:!(u.email&&u.passwordHash)&&!m?.length};return Object.assign(g,w),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg=new Map;function Zs(n){ra(n instanceof Function,"Expected a class definition");let l=Rg.get(n);return l?(ra(l instanceof n,"Instance stored in cache mismatched with class"),l):(l=new n,Rg.set(n,l),l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(l,i){this.storage[l]=i}async _get(l){const i=this.storage[l];return i===void 0?null:i}async _remove(l){delete this.storage[l]}_addListener(l,i){}_removeListener(l,i){}}Op.type="NONE";const Og=Op;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(n,l,i){return`firebase:${n}:${l}:${i}`}class xr{constructor(l,i,o){this.persistence=l,this.auth=i,this.userKey=o;const{config:u,name:m}=this.auth;this.fullUserKey=po(this.userKey,u.apiKey,m),this.fullPersistenceKey=po("persistence",u.apiKey,m),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}async getCurrentUser(){const l=await this.persistence._get(this.fullUserKey);if(!l)return null;if(typeof l=="string"){const i=await To(this.auth,{idToken:l}).catch(()=>{});return i?ps._fromGetAccountInfoResponse(this.auth,i,l):null}return ps._fromJSON(this.auth,l)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(l){if(this.persistence===l)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=l,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(l,i,o="authUser"){if(!i.length)return new xr(Zs(Og),l,o);const u=(await Promise.all(i.map(async w=>{if(await w._isAvailable())return w}))).filter(w=>w);let m=u[0]||Zs(Og);const x=po(o,l.config.apiKey,l.name);let f=null;for(const w of i)try{const j=await w._get(x);if(j){let y;if(typeof j=="string"){const b=await To(l,{idToken:j}).catch(()=>{});if(!b)break;y=await ps._fromGetAccountInfoResponse(l,b,j)}else y=ps._fromJSON(l,j);w!==m&&(f=y),m=w;break}}catch{}const g=u.filter(w=>w._shouldAllowMigration);return!m._shouldAllowMigration||!g.length?new xr(m,l,o):(m=g[0],f&&await m._set(x,f.toJSON()),await Promise.all(i.map(async w=>{if(w!==m)try{await w._remove(x)}catch{}})),new xr(m,l,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(n){const l=n.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(Lp(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(Mp(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(Bp(l))return"Blackberry";if(Pp(l))return"Webos";if(Ip(l))return"Safari";if((l.includes("chrome/")||zp(l))&&!l.includes("edge/"))return"Chrome";if(Up(l))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,o=n.match(i);if(o?.length===2)return o[1]}return"Other"}function Mp(n=Ot()){return/firefox\//i.test(n)}function Ip(n=Ot()){const l=n.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function zp(n=Ot()){return/crios\//i.test(n)}function Lp(n=Ot()){return/iemobile/i.test(n)}function Up(n=Ot()){return/android/i.test(n)}function Bp(n=Ot()){return/blackberry/i.test(n)}function Pp(n=Ot()){return/webos/i.test(n)}function Ku(n=Ot()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function BN(n=Ot()){return Ku(n)&&!!window.navigator?.standalone}function PN(){return Wv()&&document.documentMode===10}function Hp(n=Ot()){return Ku(n)||Up(n)||Pp(n)||Bp(n)||/windows phone/i.test(n)||Lp(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(n,l=[]){let i;switch(n){case"Browser":i=Mg(Ot());break;case"Worker":i=`${Mg(Ot())}-${n}`;break;default:i=n}const o=l.length?l.join(","):"FirebaseCore-web";return`${i}/JsCore/${Bn}/${o}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,i){const o=m=>new Promise((x,f)=>{try{const g=l(m);x(g)}catch(g){f(g)}});o.onAbort=i,this.queue.push(o);const u=this.queue.length-1;return()=>{this.queue[u]=()=>Promise.resolve()}}async runMiddleware(l){if(this.auth.currentUser===l)return;const i=[];try{for(const o of this.queue)await o(l),o.onAbort&&i.push(o.onAbort)}catch(o){i.reverse();for(const u of i)try{u()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qN(n,l={}){return Qa(n,"GET","/v2/passwordPolicy",Ka(n,l))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=6;class $N{constructor(l){const i=l.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??VN,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=l.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=l.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=l.forceUpgradeOnSignin??!1,this.schemaVersion=l.schemaVersion}validatePassword(l){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(l,i),this.validatePasswordCharacterOptions(l,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(l,i){const o=this.customStrengthOptions.minPasswordLength,u=this.customStrengthOptions.maxPasswordLength;o&&(i.meetsMinPasswordLength=l.length>=o),u&&(i.meetsMaxPasswordLength=l.length<=u)}validatePasswordCharacterOptions(l,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let o;for(let u=0;u<l.length;u++)o=l.charAt(u),this.updatePasswordCharacterOptionsStatuses(i,o>="a"&&o<="z",o>="A"&&o<="Z",o>="0"&&o<="9",this.allowedNonAlphanumericCharacters.includes(o))}updatePasswordCharacterOptionsStatuses(l,i,o,u,m){this.customStrengthOptions.containsLowercaseLetter&&(l.containsLowercaseLetter||(l.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(l.containsUppercaseLetter||(l.containsUppercaseLetter=o)),this.customStrengthOptions.containsNumericCharacter&&(l.containsNumericCharacter||(l.containsNumericCharacter=u)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(l.containsNonAlphanumericCharacter||(l.containsNonAlphanumericCharacter=m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(l,i,o,u){this.app=l,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=o,this.config=u,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ig(this),this.idTokenSubscription=new Ig(this),this.beforeStateQueue=new HN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ap,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=u.sdkClientVersion,this._persistenceManagerAvailable=new Promise(m=>this._resolvePersistenceManagerAvailable=m)}_initializeWithPersistence(l,i){return i&&(this._popupRedirectResolver=Zs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await xr.create(this,l),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const l=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!l)){if(this.currentUser&&l&&this.currentUser.uid===l.uid){this._currentUser._assign(l),await this.currentUser.getIdToken();return}await this._updateCurrentUser(l,!0)}}async initializeCurrentUserFromIdToken(l){try{const i=await To(this,{idToken:l}),o=await ps._fromGetAccountInfoResponse(this,i,l);await this.directlySetCurrentUser(o)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(l){if(os(this.app)){const m=this.app.settings.authIdToken;return m?new Promise(x=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(m).then(x,x))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,u=!1;if(l&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const m=this.redirectUser?._redirectEventId,x=o?._redirectEventId,f=await this.tryRedirectSignIn(l);(!m||m===x)&&f?.user&&(o=f.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(m){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(m))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(l){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,l,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(l){try{await ko(l)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(l)}useDeviceLanguage(){this.languageCode=wN()}async _delete(){this._deleted=!0}async updateCurrentUser(l){if(os(this.app))return Promise.reject(Es(this));const i=l?Ds(l):null;return i&&be(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(l,i=!1){if(!this._deleted)return l&&be(this.tenantId===l.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(l),this.queue(async()=>{await this.directlySetCurrentUser(l),this.notifyAuthListeners()})}async signOut(){return os(this.app)?Promise.reject(Es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(l){return os(this.app)?Promise.reject(Es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zs(l))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(l){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(l)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const l=await qN(this),i=new $N(l);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(l){this._errorFactory=new Ln("auth","Firebase",l())}onAuthStateChanged(l,i,o){return this.registerStateListener(this.authStateSubscription,l,i,o)}beforeAuthStateChanged(l,i){return this.beforeStateQueue.pushCallback(l,i)}onIdTokenChanged(l,i,o){return this.registerStateListener(this.idTokenSubscription,l,i,o)}authStateReady(){return new Promise((l,i)=>{if(this.currentUser)l();else{const o=this.onAuthStateChanged(()=>{o(),l()},i)}})}async revokeAccessToken(l){if(this.currentUser){const i=await this.currentUser.getIdToken(),o={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:l,idToken:i};this.tenantId!=null&&(o.tenantId=this.tenantId),await UN(this,o)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(l,i){const o=await this.getOrInitRedirectPersistenceManager(i);return l===null?o.removeCurrentUser():o.setCurrentUser(l)}async getOrInitRedirectPersistenceManager(l){if(!this.redirectPersistenceManager){const i=l&&Zs(l)||this._popupRedirectResolver;be(i,this,"argument-error"),this.redirectPersistenceManager=await xr.create(this,[Zs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(l){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===l?this._currentUser:this.redirectUser?._redirectEventId===l?this.redirectUser:null}async _persistUserIfCurrent(l){if(l===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(l))}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const l=this.currentUser?.uid??null;this.lastNotifiedUid!==l&&(this.lastNotifiedUid=l,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,i,o,u){if(this._deleted)return()=>{};const m=typeof i=="function"?i:i.next.bind(i);let x=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(f,this,"internal-error"),f.then(()=>{x||m(this.currentUser)}),typeof i=="function"){const g=l.addObserver(i,o,u);return()=>{x=!0,g()}}else{const g=l.addObserver(i);return()=>{x=!0,g()}}}async directlySetCurrentUser(l){this.currentUser&&this.currentUser!==l&&this._currentUser._stopProactiveRefresh(),l&&this.isProactiveRefreshEnabled&&l._startProactiveRefresh(),this.currentUser=l,l?await this.assertedPersistence.setCurrentUser(l):await this.assertedPersistence.removeCurrentUser()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=qp(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const l={"X-Client-Version":this.clientVersion};this.app.options.appId&&(l["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(l["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(l["X-Firebase-AppCheck"]=o),l}async _getAppCheckToken(){if(os(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const l=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return l?.error&&yN(`Error while retrieving App Check token: ${l.error}`),l?.token}}function na(n){return Ds(n)}class Ig{constructor(l){this.auth=l,this.observer=null,this.addObserver=nj(i=>this.observer=i)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GN(n){Io=n}function Vp(n){return Io.loadJS(n)}function YN(){return Io.recaptchaEnterpriseScript}function KN(){return Io.gapiScript}function QN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class XN{constructor(){this.enterprise=new JN}ready(l){l()}execute(l,i){return Promise.resolve("token")}render(l,i){return""}}class JN{ready(l){l()}execute(l,i){return Promise.resolve("token")}render(l,i){return""}}const ZN="recaptcha-enterprise",$p="NO_RECAPTCHA";class WN{constructor(l){this.type=ZN,this.auth=na(l)}async verify(l="verify",i=!1){async function o(m){if(!i){if(m.tenantId==null&&m._agentRecaptchaConfig!=null)return m._agentRecaptchaConfig.siteKey;if(m.tenantId!=null&&m._tenantRecaptchaConfigs[m.tenantId]!==void 0)return m._tenantRecaptchaConfigs[m.tenantId].siteKey}return new Promise(async(x,f)=>{_N(m,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const w=new EN(g);return m.tenantId==null?m._agentRecaptchaConfig=w:m._tenantRecaptchaConfigs[m.tenantId]=w,x(w.siteKey)}}).catch(g=>{f(g)})})}function u(m,x,f){const g=window.grecaptcha;_g(g)?g.enterprise.ready(()=>{g.enterprise.execute(m,{action:l}).then(w=>{x(w)}).catch(()=>{x($p)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new XN().execute("siteKey",{action:"verify"}):new Promise((m,x)=>{o(this.auth).then(f=>{if(!i&&_g(window.grecaptcha))u(f,m,x);else{if(typeof window>"u"){x(new Error("RecaptchaVerifier is only supported in browser"));return}let g=YN();g.length!==0&&(g+=f),Vp(g).then(()=>{u(f,m,x)}).catch(w=>{x(w)})}}).catch(f=>{x(f)})})}}async function zg(n,l,i,o=!1,u=!1){const m=new WN(n);let x;if(u)x=$p;else try{x=await m.verify(i)}catch{x=await m.verify(i,!0)}const f={...l};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const g=f.phoneEnrollmentInfo.phoneNumber,w=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:w,captchaResponse:x,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const g=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:x,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return o?Object.assign(f,{captchaResp:x}):Object.assign(f,{captchaResponse:x}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function _u(n,l,i,o,u){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const m=await zg(n,l,i,i==="getOobCode");return o(n,m)}else return o(n,l).catch(async m=>{if(m.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const x=await zg(n,l,i,i==="getOobCode");return o(n,x)}else return Promise.reject(m)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(n,l){const i=wp(n,"auth");if(i.isInitialized()){const u=i.getImmediate(),m=i.getOptions();if(vr(m,l??{}))return u;us(u,"already-initialized")}return i.initialize({options:l})}function tw(n,l){const i=l?.persistence||[],o=(Array.isArray(i)?i:[i]).map(Zs);l?.errorMap&&n._updateErrorMap(l.errorMap),n._initializeWithPersistence(o,l?.popupRedirectResolver)}function sw(n,l,i){const o=na(n);be(/^https?:\/\//.test(l),o,"invalid-emulator-scheme");const u=!1,m=Fp(l),{host:x,port:f}=aw(l),g=f===null?"":`:${f}`,w={url:`${m}//${x}${g}/`},j=Object.freeze({host:x,port:f,protocol:m.replace(":",""),options:Object.freeze({disableWarnings:u})});if(!o._canInitEmulator){be(o.config.emulator&&o.emulatorConfig,o,"emulator-config-failed"),be(vr(w,o.config.emulator)&&vr(j,o.emulatorConfig),o,"emulator-config-failed");return}o.config.emulator=w,o.emulatorConfig=j,o.settings.appVerificationDisabledForTesting=!0,Mo(x)?(Fv(`${m}//${x}${g}`),Kv("Auth",!0)):lw()}function Fp(n){const l=n.indexOf(":");return l<0?"":n.substr(0,l+1)}function aw(n){const l=Fp(n),i=/(\/\/)?([^?#/]+)/.exec(n.substr(l.length));if(!i)return{host:"",port:null};const o=i[2].split("@").pop()||"",u=/^(\[[^\]]+\])(:|$)/.exec(o);if(u){const m=u[1];return{host:m,port:Lg(o.substr(m.length+1))}}else{const[m,x]=o.split(":");return{host:m,port:Lg(x)}}}function Lg(n){if(!n)return null;const l=Number(n);return isNaN(l)?null:l}function lw(){function n(){const l=document.createElement("p"),i=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(l,i){this.providerId=l,this.signInMethod=i}toJSON(){return Js("not implemented")}_getIdTokenResponse(l){return Js("not implemented")}_linkToIdToken(l,i){return Js("not implemented")}_getReauthenticationResolver(l){return Js("not implemented")}}async function rw(n,l){return Qa(n,"POST","/v1/accounts:signUp",l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nw(n,l){return Hn(n,"POST","/v1/accounts:signInWithPassword",Ka(n,l))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iw(n,l){return Hn(n,"POST","/v1/accounts:signInWithEmailLink",Ka(n,l))}async function ow(n,l){return Hn(n,"POST","/v1/accounts:signInWithEmailLink",Ka(n,l))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On extends Qu{constructor(l,i,o,u=null){super("password",o),this._email=l,this._password=i,this._tenantId=u}static _fromEmailAndPassword(l,i){return new On(l,i,"password")}static _fromEmailAndCode(l,i,o=null){return new On(l,i,"emailLink",o)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const i=typeof l=="string"?JSON.parse(l):l;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(l){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _u(l,i,"signInWithPassword",nw);case"emailLink":return iw(l,{email:this._email,oobCode:this._password});default:us(l,"internal-error")}}async _linkToIdToken(l,i){switch(this.signInMethod){case"password":const o={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _u(l,o,"signUpPassword",rw);case"emailLink":return ow(l,{idToken:i,email:this._email,oobCode:this._password});default:us(l,"internal-error")}}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fr(n,l){return Hn(n,"POST","/v1/accounts:signInWithIdp",Ka(n,l))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="http://localhost";class yl extends Qu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const i=new yl(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(i.idToken=l.idToken),l.accessToken&&(i.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(i.nonce=l.nonce),l.pendingToken&&(i.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(i.accessToken=l.oauthToken,i.secret=l.oauthTokenSecret):us("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const i=typeof l=="string"?JSON.parse(l):l,{providerId:o,signInMethod:u,...m}=i;if(!o||!u)return null;const x=new yl(o,u);return x.idToken=m.idToken||void 0,x.accessToken=m.accessToken||void 0,x.secret=m.secret,x.nonce=m.nonce,x.pendingToken=m.pendingToken||null,x}_getIdTokenResponse(l){const i=this.buildRequest();return fr(l,i)}_linkToIdToken(l,i){const o=this.buildRequest();return o.idToken=i,fr(l,o)}_getReauthenticationResolver(l){const i=this.buildRequest();return i.autoCreate=!1,fr(l,i)}buildRequest(){const l={requestUri:cw,returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),l.postBody=Un(i)}return l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uw(n){const l=Cn(Tn(n)).link,i=l?Cn(Tn(l)).deep_link_id:null,o=Cn(Tn(n)).deep_link_id;return(o?Cn(Tn(o)).link:null)||o||i||l||n}class Xu{constructor(l){const i=Cn(Tn(l)),o=i.apiKey??null,u=i.oobCode??null,m=dw(i.mode??null);be(o&&u&&m,"argument-error"),this.apiKey=o,this.operation=m,this.code=u,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(l){const i=uw(l);try{return new Xu(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(){this.providerId=Nr.PROVIDER_ID}static credential(l,i){return On._fromEmailAndPassword(l,i)}static credentialWithLink(l,i){const o=Xu.parseLink(i);return be(o,"argument-error"),On._fromEmailAndCode(l,o.code,o.tenantId)}}Nr.PROVIDER_ID="password";Nr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn extends Ju{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends qn{constructor(){super("facebook.com")}static credential(l){return yl._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.FACEBOOK_SIGN_IN_METHOD,accessToken:l})}static credentialFromResult(l){return za.credentialFromTaggedObject(l)}static credentialFromError(l){return za.credentialFromTaggedObject(l.customData||{})}static credentialFromTaggedObject({_tokenResponse:l}){if(!l||!("oauthAccessToken"in l)||!l.oauthAccessToken)return null;try{return za.credential(l.oauthAccessToken)}catch{return null}}}za.FACEBOOK_SIGN_IN_METHOD="facebook.com";za.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends qn{constructor(){super("google.com"),this.addScope("profile")}static credential(l,i){return yl._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GOOGLE_SIGN_IN_METHOD,idToken:l,accessToken:i})}static credentialFromResult(l){return ks.credentialFromTaggedObject(l)}static credentialFromError(l){return ks.credentialFromTaggedObject(l.customData||{})}static credentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:i,oauthAccessToken:o}=l;if(!i&&!o)return null;try{return ks.credential(i,o)}catch{return null}}}ks.GOOGLE_SIGN_IN_METHOD="google.com";ks.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La extends qn{constructor(){super("github.com")}static credential(l){return yl._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.GITHUB_SIGN_IN_METHOD,accessToken:l})}static credentialFromResult(l){return La.credentialFromTaggedObject(l)}static credentialFromError(l){return La.credentialFromTaggedObject(l.customData||{})}static credentialFromTaggedObject({_tokenResponse:l}){if(!l||!("oauthAccessToken"in l)||!l.oauthAccessToken)return null;try{return La.credential(l.oauthAccessToken)}catch{return null}}}La.GITHUB_SIGN_IN_METHOD="github.com";La.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua extends qn{constructor(){super("twitter.com")}static credential(l,i){return yl._fromParams({providerId:Ua.PROVIDER_ID,signInMethod:Ua.TWITTER_SIGN_IN_METHOD,oauthToken:l,oauthTokenSecret:i})}static credentialFromResult(l){return Ua.credentialFromTaggedObject(l)}static credentialFromError(l){return Ua.credentialFromTaggedObject(l.customData||{})}static credentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthAccessToken:i,oauthTokenSecret:o}=l;if(!i||!o)return null;try{return Ua.credential(i,o)}catch{return null}}}Ua.TWITTER_SIGN_IN_METHOD="twitter.com";Ua.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mw(n,l){return Hn(n,"POST","/v1/accounts:signUp",Ka(n,l))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static async _fromIdTokenResponse(l,i,o,u=!1){const m=await ps._fromIdTokenResponse(l,o,u),x=Ug(o);return new vl({user:m,providerId:x,_tokenResponse:o,operationType:i})}static async _forOperation(l,i,o){await l._updateTokensIfNecessary(o,!0);const u=Ug(o);return new vl({user:l,providerId:u,_tokenResponse:o,operationType:i})}}function Ug(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends Ya{constructor(l,i,o,u){super(i.code,i.message),this.operationType=o,this.user=u,Object.setPrototypeOf(this,Ao.prototype),this.customData={appName:l.name,tenantId:l.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:o}}static _fromErrorAndOperation(l,i,o,u){return new Ao(l,i,o,u)}}function Gp(n,l,i,o){return(l==="reauthenticate"?i._getReauthenticationResolver(n):i._getIdTokenResponse(n)).catch(m=>{throw m.code==="auth/multi-factor-auth-required"?Ao._fromErrorAndOperation(n,m,l,o):m})}async function hw(n,l,i=!1){const o=await Rn(n,l._linkToIdToken(n.auth,await n.getIdToken()),i);return vl._forOperation(n,"link",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xw(n,l,i=!1){const{auth:o}=n;if(os(o.app))return Promise.reject(Es(o));const u="reauthenticate";try{const m=await Rn(n,Gp(o,u,l,n),i);be(m.idToken,o,"internal-error");const x=Yu(m.idToken);be(x,o,"internal-error");const{sub:f}=x;return be(n.uid===f,o,"user-mismatch"),vl._forOperation(n,u,m)}catch(m){throw m?.code==="auth/user-not-found"&&us(o,"user-mismatch"),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yp(n,l,i=!1){if(os(n.app))return Promise.reject(Es(n));const o="signIn",u=await Gp(n,o,l),m=await vl._fromIdTokenResponse(n,o,u);return i||await n._updateCurrentUser(m.user),m}async function fw(n,l){return Yp(na(n),l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kp(n){const l=na(n);l._getPasswordPolicyInternal()&&await l._updatePasswordPolicy()}async function gw(n,l,i){if(os(n.app))return Promise.reject(Es(n));const o=na(n),x=await _u(o,{returnSecureToken:!0,email:l,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mw).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&Kp(n),g}),f=await vl._fromIdTokenResponse(o,"signIn",x);return await o._updateCurrentUser(f.user),f}function pw(n,l,i){return os(n.app)?Promise.reject(Es(n)):fw(Ds(n),Nr.credential(l,i)).catch(async o=>{throw o.code==="auth/password-does-not-meet-requirements"&&Kp(n),o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(n,l){return Ds(n).setPersistence(l)}function yw(n,l,i,o){return Ds(n).onIdTokenChanged(l,i,o)}function vw(n,l,i){return Ds(n).beforeAuthStateChanged(l,i)}function jw(n,l,i,o){return Ds(n).onAuthStateChanged(l,i,o)}function Nw(n){return Ds(n).signOut()}const Eo="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(l,i){this.storageRetriever=l,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Eo,"1"),this.storage.removeItem(Eo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(l,i){return this.storage.setItem(l,JSON.stringify(i)),Promise.resolve()}_get(l){const i=this.storage.getItem(l);return Promise.resolve(i?JSON.parse(i):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=1e3,Sw=10;class Xp extends Qp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(l,i)=>this.onStorageEvent(l,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Hp(),this._shouldAllowMigration=!0}forAllChangedKeys(l){for(const i of Object.keys(this.listeners)){const o=this.storage.getItem(i),u=this.localCache[i];o!==u&&l(i,u,o)}}onStorageEvent(l,i=!1){if(!l.key){this.forAllChangedKeys((x,f,g)=>{this.notifyListeners(x,g)});return}const o=l.key;i?this.detachListener():this.stopPolling();const u=()=>{const x=this.storage.getItem(o);!i&&this.localCache[o]===x||this.notifyListeners(o,x)},m=this.storage.getItem(o);PN()&&m!==l.newValue&&l.newValue!==l.oldValue?setTimeout(u,Sw):u()}notifyListeners(l,i){this.localCache[l]=i;const o=this.listeners[l];if(o)for(const u of Array.from(o))u(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((l,i,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:l,oldValue:i,newValue:o}),!0)})},ww)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(l,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[l]||(this.listeners[l]=new Set,this.localCache[l]=this.storage.getItem(l)),this.listeners[l].add(i)}_removeListener(l,i){this.listeners[l]&&(this.listeners[l].delete(i),this.listeners[l].size===0&&delete this.listeners[l]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(l,i){await super._set(l,i),this.localCache[l]=JSON.stringify(i)}async _get(l){const i=await super._get(l);return this.localCache[l]=JSON.stringify(i),i}async _remove(l){await super._remove(l),delete this.localCache[l]}}Xp.type="LOCAL";const Jp=Xp;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp extends Qp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(l,i){}_removeListener(l,i){}}Zp.type="SESSION";const Wp=Zp;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(n){return Promise.all(n.map(async l=>{try{return{fulfilled:!0,value:await l}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(l){this.eventTarget=l,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(l){const i=this.receivers.find(u=>u.isListeningto(l));if(i)return i;const o=new zo(l);return this.receivers.push(o),o}isListeningto(l){return this.eventTarget===l}async handleEvent(l){const i=l,{eventId:o,eventType:u,data:m}=i.data,x=this.handlersMap[u];if(!x?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:u});const f=Array.from(x).map(async w=>w(i.origin,m)),g=await Cw(f);i.ports[0].postMessage({status:"done",eventId:o,eventType:u,response:g})}_subscribe(l,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[l]||(this.handlersMap[l]=new Set),this.handlersMap[l].add(i)}_unsubscribe(l,i){this.handlersMap[l]&&i&&this.handlersMap[l].delete(i),(!i||this.handlersMap[l].size===0)&&delete this.handlersMap[l],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zo.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(n="",l=10){let i="";for(let o=0;o<l;o++)i+=Math.floor(Math.random()*10);return n+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}async _send(l,i,o=50){const u=typeof MessageChannel<"u"?new MessageChannel:null;if(!u)throw new Error("connection_unavailable");let m,x;return new Promise((f,g)=>{const w=Zu("",20);u.port1.start();const j=setTimeout(()=>{g(new Error("unsupported_event"))},o);x={messageChannel:u,onMessage(y){const b=y;if(b.data.eventId===w)switch(b.data.status){case"ack":clearTimeout(j),m=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(m),f(b.data.response);break;default:clearTimeout(j),clearTimeout(m),g(new Error("invalid_response"));break}}},this.handlers.add(x),u.port1.addEventListener("message",x.onMessage),this.target.postMessage({eventType:l,eventId:w,data:i},[u.port2])}).finally(()=>{x&&this.removeMessageHandler(x)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(){return window}function kw(n){_s().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(){return typeof _s().WorkerGlobalScope<"u"&&typeof _s().importScripts=="function"}async function Aw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ew(){return navigator?.serviceWorker?.controller||null}function _w(){return e0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="firebaseLocalStorageDb",Dw=1,_o="firebaseLocalStorage",s0="fbase_key";class Vn{constructor(l){this.request=l}toPromise(){return new Promise((l,i)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Lo(n,l){return n.transaction([_o],l?"readwrite":"readonly").objectStore(_o)}function Rw(){const n=indexedDB.deleteDatabase(t0);return new Vn(n).toPromise()}function Du(){const n=indexedDB.open(t0,Dw);return new Promise((l,i)=>{n.addEventListener("error",()=>{i(n.error)}),n.addEventListener("upgradeneeded",()=>{const o=n.result;try{o.createObjectStore(_o,{keyPath:s0})}catch(u){i(u)}}),n.addEventListener("success",async()=>{const o=n.result;o.objectStoreNames.contains(_o)?l(o):(o.close(),await Rw(),l(await Du()))})})}async function Bg(n,l,i){const o=Lo(n,!0).put({[s0]:l,value:i});return new Vn(o).toPromise()}async function Ow(n,l){const i=Lo(n,!1).get(l),o=await new Vn(i).toPromise();return o===void 0?null:o.value}function Pg(n,l){const i=Lo(n,!0).delete(l);return new Vn(i).toPromise()}const Mw=800,Iw=3;class a0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Du(),this.db)}async _withRetries(l){let i=0;for(;;)try{const o=await this._openDb();return await l(o)}catch(o){if(i++>Iw)throw o;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return e0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zo._getInstance(_w()),this.receiver._subscribe("keyChanged",async(l,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(l,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Aw(),!this.activeServiceWorker)return;this.sender=new Tw(this.activeServiceWorker);const l=await this.sender._send("ping",{},800);l&&l[0]?.fulfilled&&l[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(l){if(!(!this.sender||!this.activeServiceWorker||Ew()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:l},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const l=await Du();return await Bg(l,Eo,"1"),await Pg(l,Eo),!0}catch{}return!1}async _withPendingWrite(l){this.pendingWrites++;try{await l()}finally{this.pendingWrites--}}async _set(l,i){return this._withPendingWrite(async()=>(await this._withRetries(o=>Bg(o,l,i)),this.localCache[l]=i,this.notifyServiceWorker(l)))}async _get(l){const i=await this._withRetries(o=>Ow(o,l));return this.localCache[l]=i,i}async _remove(l){return this._withPendingWrite(async()=>(await this._withRetries(i=>Pg(i,l)),delete this.localCache[l],this.notifyServiceWorker(l)))}async _poll(){const l=await this._withRetries(u=>{const m=Lo(u,!1).getAll();return new Vn(m).toPromise()});if(!l)return[];if(this.pendingWrites!==0)return[];const i=[],o=new Set;if(l.length!==0)for(const{fbase_key:u,value:m}of l)o.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(m)&&(this.notifyListeners(u,m),i.push(u));for(const u of Object.keys(this.localCache))this.localCache[u]&&!o.has(u)&&(this.notifyListeners(u,null),i.push(u));return i}notifyListeners(l,i){this.localCache[l]=i;const o=this.listeners[l];if(o)for(const u of Array.from(o))u(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Mw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(l,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[l]||(this.listeners[l]=new Set,this._get(l)),this.listeners[l].add(i)}_removeListener(l,i){this.listeners[l]&&(this.listeners[l].delete(i),this.listeners[l].size===0&&delete this.listeners[l]),Object.keys(this.listeners).length===0&&this.stopPolling()}}a0.type="LOCAL";const zw=a0;new Pn(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(n,l){return l?Zs(l):(be(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends Qu{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return fr(l,this._buildIdpRequest())}_linkToIdToken(l,i){return fr(l,this._buildIdpRequest(i))}_getReauthenticationResolver(l){return fr(l,this._buildIdpRequest())}_buildIdpRequest(l){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(i.idToken=l),i}}function Lw(n){return Yp(n.auth,new Wu(n),n.bypassAuthState)}function Uw(n){const{auth:l,user:i}=n;return be(i,l,"internal-error"),xw(i,new Wu(n),n.bypassAuthState)}async function Bw(n){const{auth:l,user:i}=n;return be(i,l,"internal-error"),hw(i,new Wu(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(l,i,o,u,m=!1){this.auth=l,this.resolver=o,this.user=u,this.bypassAuthState=m,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(l,i)=>{this.pendingPromise={resolve:l,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(o){this.reject(o)}})}async onAuthEvent(l){const{urlResponse:i,sessionId:o,postBody:u,tenantId:m,error:x,type:f}=l;if(x){this.reject(x);return}const g={auth:this.auth,requestUri:i,sessionId:o,tenantId:m||void 0,postBody:u||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(g))}catch(w){this.reject(w)}}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return Lw;case"linkViaPopup":case"linkViaRedirect":return Bw;case"reauthViaPopup":case"reauthViaRedirect":return Uw;default:us(this.auth,"internal-error")}}resolve(l){ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=new Pn(2e3,1e4);class cr extends r0{constructor(l,i,o,u,m){super(l,i,u,m),this.provider=o,this.authWindow=null,this.pollId=null,cr.currentPopupAction&&cr.currentPopupAction.cancel(),cr.currentPopupAction=this}async executeNotNull(){const l=await this.execute();return be(l,this.auth,"internal-error"),l}async onExecution(){ra(this.filter.length===1,"Popup operations only handle one event");const l=Zu();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],l),this.authWindow.associatedEvent=l,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(As(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(As(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cr.currentPopupAction=null}pollUserCancellation(){const l=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(As(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(l,Pw.get())};l()}}cr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="pendingRedirect",bo=new Map;class qw extends r0{constructor(l,i,o=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,o),this.eventId=null}async execute(){let l=bo.get(this.auth._key());if(!l){try{const o=await Vw(this.resolver,this.auth)?await super.execute():null;l=()=>Promise.resolve(o)}catch(i){l=()=>Promise.reject(i)}bo.set(this.auth._key(),l)}return this.bypassAuthState||bo.set(this.auth._key(),()=>Promise.resolve(null)),l()}async onAuthEvent(l){if(l.type==="signInViaRedirect")return super.onAuthEvent(l);if(l.type==="unknown"){this.resolve(null);return}if(l.eventId){const i=await this.auth._redirectUserForId(l.eventId);if(i)return this.user=i,super.onAuthEvent(l);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Vw(n,l){const i=i0(l),o=n0(n);if(!await o._isAvailable())return!1;const u=await o._get(i)==="true";return await o._remove(i),u}async function $w(n,l){return n0(n)._set(i0(l),"true")}function Fw(n,l){bo.set(n._key(),l)}function n0(n){return Zs(n._redirectPersistence)}function i0(n){return po(Hw,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(n,l,i){return Yw(n,l,i)}async function Yw(n,l,i){if(os(n.app))return Promise.reject(Es(n));const o=na(n);vN(n,l,Ju),await o._initializationPromise;const u=l0(o,i);return await $w(u,o),u._openRedirect(o,l,"signInViaRedirect")}async function o0(n,l){return await na(n)._initializationPromise,c0(n,l,!1)}async function c0(n,l,i=!1){if(os(n.app))return Promise.reject(Es(n));const o=na(n),u=l0(o,l),x=await new qw(o,u,i).execute();return x&&!i&&(delete x.user._redirectEventId,await o._persistUserIfCurrent(x.user),await o._setRedirectUser(null,l)),x}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=600*1e3;class Qw{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let i=!1;return this.consumers.forEach(o=>{this.isEventForConsumer(l,o)&&(i=!0,this.sendToConsumer(l,o),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!Xw(l)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=l,i=!0)),i}sendToConsumer(l,i){if(l.error&&!d0(l)){const o=l.error.code?.split("auth/")[1]||"internal-error";i.onError(As(this.auth,o))}else i.onAuthEvent(l)}isEventForConsumer(l,i){const o=i.eventId===null||!!l.eventId&&l.eventId===i.eventId;return i.filter.includes(l.type)&&o}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=Kw&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hg(l))}saveEventToCache(l){this.cachedEventUids.add(Hg(l)),this.lastProcessedEventTime=Date.now()}}function Hg(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(l=>l).join("-")}function d0({type:n,error:l}){return n==="unknown"&&l?.code==="auth/no-auth-event"}function Xw(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return d0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jw(n,l={}){return Qa(n,"GET","/v1/projects",l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ww=/^https?/;async function e2(n){if(n.config.emulator)return;const{authorizedDomains:l}=await Jw(n);for(const i of l)try{if(t2(i))return}catch{}us(n,"unauthorized-domain")}function t2(n){const l=Au(),{protocol:i,hostname:o}=new URL(l);if(n.startsWith("chrome-extension://")){const x=new URL(n);return x.hostname===""&&o===""?i==="chrome-extension:"&&n.replace("chrome-extension://","")===l.replace("chrome-extension://",""):i==="chrome-extension:"&&x.hostname===o}if(!Ww.test(i))return!1;if(Zw.test(n))return o===n;const u=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+u+"|"+u+")$","i").test(o)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=new Pn(3e4,6e4);function qg(){const n=_s().___jsl;if(n?.H){for(const l of Object.keys(n.H))if(n.H[l].r=n.H[l].r||[],n.H[l].L=n.H[l].L||[],n.H[l].r=[...n.H[l].L],n.CP)for(let i=0;i<n.CP.length;i++)n.CP[i]=null}}function a2(n){return new Promise((l,i)=>{function o(){qg(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{qg(),i(As(n,"network-request-failed"))},timeout:s2.get()})}if(_s().gapi?.iframes?.Iframe)l(gapi.iframes.getContext());else if(_s().gapi?.load)o();else{const u=QN("iframefcb");return _s()[u]=()=>{gapi.load?o():i(As(n,"network-request-failed"))},Vp(`${KN()}?onload=${u}`).catch(m=>i(m))}}).catch(l=>{throw yo=null,l})}let yo=null;function l2(n){return yo=yo||a2(n),yo}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=new Pn(5e3,15e3),n2="__/auth/iframe",i2="emulator/auth/iframe",o2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},c2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function d2(n){const l=n.config;be(l.authDomain,n,"auth-domain-config-required");const i=l.emulator?Gu(l,i2):`https://${n.config.authDomain}/${n2}`,o={apiKey:l.apiKey,appName:n.name,v:Bn},u=c2.get(n.config.apiHost);u&&(o.eid=u);const m=n._getFrameworks();return m.length&&(o.fw=m.join(",")),`${i}?${Un(o).slice(1)}`}async function u2(n){const l=await l2(n),i=_s().gapi;return be(i,n,"internal-error"),l.open({where:document.body,url:d2(n),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:o2,dontclear:!0},o=>new Promise(async(u,m)=>{await o.restyle({setHideOnLeave:!1});const x=As(n,"network-request-failed"),f=_s().setTimeout(()=>{m(x)},r2.get());function g(){_s().clearTimeout(f),u(o)}o.ping(g).then(g,()=>{m(x)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},h2=500,x2=600,f2="_blank",g2="http://localhost";class Vg{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function p2(n,l,i,o=h2,u=x2){const m=Math.max((window.screen.availHeight-u)/2,0).toString(),x=Math.max((window.screen.availWidth-o)/2,0).toString();let f="";const g={...m2,width:o.toString(),height:u.toString(),top:m,left:x},w=Ot().toLowerCase();i&&(f=zp(w)?f2:i),Mp(w)&&(l=l||g2,g.scrollbars="yes");const j=Object.entries(g).reduce((b,[I,L])=>`${b}${I}=${L},`,"");if(BN(w)&&f!=="_self")return b2(l||"",f),new Vg(null);const y=window.open(l||"",f,j);be(y,n,"popup-blocked");try{y.focus()}catch{}return new Vg(y)}function b2(n,l){const i=document.createElement("a");i.href=n,i.target=l;const o=document.createEvent("MouseEvent");o.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="__/auth/handler",v2="emulator/auth/handler",j2=encodeURIComponent("fac");async function $g(n,l,i,o,u,m){be(n.config.authDomain,n,"auth-domain-config-required"),be(n.config.apiKey,n,"invalid-api-key");const x={apiKey:n.config.apiKey,appName:n.name,authType:i,redirectUrl:o,v:Bn,eventId:u};if(l instanceof Ju){l.setDefaultLanguage(n.languageCode),x.providerId=l.providerId||"",rj(l.getCustomParameters())||(x.customParameters=JSON.stringify(l.getCustomParameters()));for(const[j,y]of Object.entries({}))x[j]=y}if(l instanceof qn){const j=l.getScopes().filter(y=>y!=="");j.length>0&&(x.scopes=j.join(","))}n.tenantId&&(x.tid=n.tenantId);const f=x;for(const j of Object.keys(f))f[j]===void 0&&delete f[j];const g=await n._getAppCheckToken(),w=g?`#${j2}=${encodeURIComponent(g)}`:"";return`${N2(n)}?${Un(f).slice(1)}${w}`}function N2({config:n}){return n.emulator?Gu(n,v2):`https://${n.authDomain}/${y2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu="webStorageSupport";class w2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wp,this._completeRedirectFn=c0,this._overrideRedirectResult=Fw}async _openPopup(l,i,o,u){ra(this.eventManagers[l._key()]?.manager,"_initialize() not called before _openPopup()");const m=await $g(l,i,o,Au(),u);return p2(l,m,Zu())}async _openRedirect(l,i,o,u){await this._originValidation(l);const m=await $g(l,i,o,Au(),u);return kw(m),new Promise(()=>{})}_initialize(l){const i=l._key();if(this.eventManagers[i]){const{manager:u,promise:m}=this.eventManagers[i];return u?Promise.resolve(u):(ra(m,"If manager is not set, promise should be"),m)}const o=this.initAndGetManager(l);return this.eventManagers[i]={promise:o},o.catch(()=>{delete this.eventManagers[i]}),o}async initAndGetManager(l){const i=await u2(l),o=new Qw(l);return i.register("authEvent",u=>(be(u?.authEvent,l,"invalid-auth-event"),{status:o.onEvent(u.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[l._key()]={manager:o},this.iframes[l._key()]=i,o}_isIframeWebStorageSupported(l,i){this.iframes[l._key()].send(cu,{type:cu},u=>{const m=u?.[0]?.[cu];m!==void 0&&i(!!m),us(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const i=l._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=e2(l)),this.originValidationPromises[i]}get _shouldInitProactively(){return Hp()||Ip()||Ku()}}const S2=w2;var Fg="@firebase/auth",Gg="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(l){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(l)}:null}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const i=this.auth.onIdTokenChanged(o=>{l(o?.stsTokenManager.accessToken||null)});this.internalListeners.set(l,i),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const i=this.internalListeners.get(l);i&&(this.internalListeners.delete(l),i(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function k2(n){_n(new jr("auth",(l,{options:i})=>{const o=l.getProvider("app").getImmediate(),u=l.getProvider("heartbeat"),m=l.getProvider("app-check-internal"),{apiKey:x,authDomain:f}=o.options;be(x&&!x.includes(":"),"invalid-api-key",{appName:o.name});const g={apiKey:x,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qp(n)},w=new FN(o,u,m,g);return tw(w,i),w},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,i,o)=>{l.getProvider("auth-internal").initialize()})),_n(new jr("auth-internal",l=>{const i=na(l.getProvider("auth").getImmediate());return(o=>new C2(o))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(Fg,Gg,T2(n)),mr(Fg,Gg,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=300,E2=yp("authIdTokenMaxAge")||A2;let Yg=null;const _2=n=>async l=>{const i=l&&await l.getIdTokenResult(),o=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(o&&o>E2)return;const u=i?.token;Yg!==u&&(Yg=u,await fetch(n,{method:u?"POST":"DELETE",headers:u?{Authorization:`Bearer ${u}`}:{}}))};function D2(n=iN()){const l=wp(n,"auth");if(l.isInitialized())return l.getImmediate();const i=ew(n,{popupRedirectResolver:S2,persistence:[zw,Jp,Wp]}),o=yp("authTokenSyncURL");if(o&&typeof isSecureContext=="boolean"&&isSecureContext){const m=new URL(o,location.origin);if(location.origin===m.origin){const x=_2(m.toString());vw(i,x,()=>x(i.currentUser)),yw(i,f=>x(f))}}const u=Vv("auth");return u&&sw(i,`http://${u}`),i}function R2(){return document.getElementsByTagName("head")?.[0]??document}GN({loadJS(n){return new Promise((l,i)=>{const o=document.createElement("script");o.setAttribute("src",n),o.onload=l,o.onerror=u=>{const m=As("internal-error");m.customData=u,i(m)},o.type="text/javascript",o.charset="UTF-8",R2().appendChild(o)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});k2("Browser");var O2="firebase",M2="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr(O2,M2,"app");const I2={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:3001",VITE_FIREBASE_API_KEY:"AIzaSyCuJr5N0ytr1h_Aq_5qQazNL0wQUnsZlAw",VITE_FIREBASE_APP_ID:"1:45425409967:web:782638c65a40dcb156b95a",VITE_FIREBASE_AUTH_DOMAIN:"travelbuddy-2d1c5.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"45425409967",VITE_FIREBASE_PROJECT_ID:"travelbuddy-2d1c5",VITE_FIREBASE_STORAGE_BUCKET:"travelbuddy-2d1c5.firebasestorage.app",VITE_GOOGLE_MAPS_API_KEY:"AIzaSyDTV_5KiXOuYRtG2TEMIvrHPCsht3sSWEQ",VITE_GOOGLE_PLACES_API_KEY:"AIzaSyDTV_5KiXOuYRtG2TEMIvrHPCsht3sSWEQ"},rr=n=>{const l=window.ENV?.[n],i=I2[n];return l&&!l.startsWith("#{")?l:i},du={apiKey:rr("VITE_FIREBASE_API_KEY"),authDomain:rr("VITE_FIREBASE_AUTH_DOMAIN"),projectId:rr("VITE_FIREBASE_PROJECT_ID"),storageBucket:rr("VITE_FIREBASE_STORAGE_BUCKET"),messagingSenderId:rr("VITE_FIREBASE_MESSAGING_SENDER_ID"),appId:rr("VITE_FIREBASE_APP_ID")};let Kg=null,Ws=null;try{du.apiKey&&du.apiKey!=="undefined"?(Kg=Sp(du),Ws=D2(Kg),bw(Ws,Jp).catch(n=>{console.warn(" Failed to set auth persistence:",n)}),console.log(" Firebase initialized successfully with LOCAL persistence")):console.log(" Firebase config missing, running without Firebase")}catch(n){console.error(" Firebase initialization failed:",n)}const z2=Object.freeze(Object.defineProperty({__proto__:null,get auth(){return Ws}},Symbol.toStringTag,{value:"Module"}));let L2="http://localhost:3001";class U2{async getBaseUrl(){try{return`${(await ds.getConfig()).apiBaseUrl}/api`}catch{return`${L2}/api`}}async request(l,i={}){const u=`${await this.getBaseUrl()}${l}`,m={headers:{"Content-Type":"application/json",...i.headers},...i};try{const x=await fetch(u,m);if(!x.ok){const g=await x.json().catch(()=>({message:"Network error"}));throw new Error(g.message||`HTTP ${x.status}: ${x.statusText}`)}return await x.json()}catch(x){throw console.error(`API request failed [${l}]:`,x),x instanceof TypeError&&x.message.includes("fetch")?new Error("Network connection failed. Please check your internet connection."):x}}async getWeather(l,i){return this.request(`/weather/google?lat=${l}&lng=${i}`)}async getNearbyPlaces(l,i,o,u){if(!l||!i||isNaN(l)||isNaN(i))throw new Error("Valid latitude and longitude are required");if(Math.abs(l)>90||Math.abs(i)>180)throw new Error("Invalid coordinates: latitude must be between -90 and 90, longitude between -180 and 180");const m=new URLSearchParams({lat:l.toString(),lng:i.toString()});return o?.trim()&&m.append("q",o.trim()),u&&u>0&&m.append("radius",u.toString()),this.request(`/places/nearby?${m}`)}async getPlaceSections(l,i){return this.request(`/places/sections?lat=${l}&lng=${i}`)}async getDeals(l,i=!0){const o=new URLSearchParams({isActive:i.toString()});return l&&l!=="all"&&o.append("businessType",l),this.request(`/deals?${o}`)}async getPosts(l=20,i){const o=new URLSearchParams({limit:l.toString()});return i&&o.append("cursor",i),this.request(`/community/posts?${o}`)}async createPost(l){return this.request("/community/posts",{method:"POST",body:JSON.stringify(l)})}async login(l,i){return this.request("/auth/login",{method:"POST",body:JSON.stringify({email:l,password:i})})}async register(l,i,o){return this.request("/auth/register",{method:"POST",body:JSON.stringify({username:l,email:i,password:o})})}async getProfile(){const l=localStorage.getItem("auth_token");return this.request("/auth/profile",{headers:{Authorization:`Bearer ${l}`}})}async updateProfile(l){const i=localStorage.getItem("auth_token");return this.request("/auth/profile",{method:"PUT",headers:{Authorization:`Bearer ${i}`},body:JSON.stringify(l)})}async searchPlaces(l,i){if(!l?.trim())throw new Error("Search query is required");const o=new URLSearchParams({q:l.trim()});i?.category&&o.append("category",i.category),i?.limit&&i.limit>0&&o.append("limit",i.limit.toString()),i?.lat&&o.append("lat",i.lat.toString()),i?.lng&&o.append("lng",i.lng.toString()),i?.radius&&o.append("radius",i.radius.toString());try{const u=await this.request(`/enhanced-places/search?${o}`);if(u?.success&&u.results)return Array.isArray(u.results)?u.results:[];const m=await this.request(`/hybrid/search?${o}`);if(m?.success&&m.results)return Array.isArray(m.results)?m.results:[];const x=await this.request(`/search/places?${o}`);return x?.success&&x.data?Array.isArray(x.data.places)?x.data.places:[]:Array.isArray(x)?x:[]}catch(u){return console.error("Search places failed:",u),[]}}async getSearchSuggestions(l){if(!l||l.length<2)return[];try{return(await this.request(`/search/suggestions?q=${encodeURIComponent(l)}`)).suggestions||[]}catch(i){return console.warn("Suggestions failed:",i),[]}}async getPlaceDetails(l,i,o,u){try{const m=new URLSearchParams;i&&m.append("name",i),o&&m.append("location",o),u&&m.append("category",u);const x=m.toString()?`?${m}`:"",f=await this.request(`/place-details/${l}${x}`);return f.success?f.place:null}catch(m){throw console.error("Place details failed:",m),m}}async healthCheck(){return this.request("/health")}async getUserTrips(){const l=localStorage.getItem("auth_token");return this.request("/users/trip-plans",{headers:{Authorization:`Bearer ${l}`}})}async createTrip(l){const i=localStorage.getItem("auth_token");return this.request("/users/trip-plans",{method:"POST",headers:{Authorization:`Bearer ${i}`},body:JSON.stringify(l)})}async updateTrip(l,i){const o=localStorage.getItem("auth_token");return this.request(`/users/trip-plans/${l}`,{method:"PUT",headers:{Authorization:`Bearer ${o}`},body:JSON.stringify(i)})}async deleteTrip(l){const i=localStorage.getItem("auth_token");return this.request(`/users/trip-plans/${l}`,{method:"DELETE",headers:{Authorization:`Bearer ${i}`}})}async updateTripActivity(l,i,o,u){const m=localStorage.getItem("auth_token");return this.request(`/users/trip-plans/${l}/activities`,{method:"PATCH",headers:{Authorization:`Bearer ${m}`},body:JSON.stringify({dayIndex:i,activityIndex:o,isVisited:u,visitedDate:u?new Date().toISOString():null})})}async generateAITrip(l){const i=localStorage.getItem("auth_token");return this.request("/ai/trip-generator",{method:"POST",headers:{Authorization:`Bearer ${i}`},body:JSON.stringify(l)})}async getUserFavoriteIds(){const l=localStorage.getItem("auth_token");return this.request("/users/favorites",{headers:{Authorization:`Bearer ${l}`}})}async addToFavorites(l){const i=localStorage.getItem("auth_token");return this.request("/users/favorites",{method:"POST",headers:{Authorization:`Bearer ${i}`},body:JSON.stringify({placeId:l})})}async removeFromFavorites(l){const i=localStorage.getItem("auth_token");return this.request(`/users/favorites/${l}`,{method:"DELETE",headers:{Authorization:`Bearer ${i}`}})}async togglePlaceFavorite(l){const i=localStorage.getItem("auth_token");return this.request("/users/favorites/toggle",{method:"POST",headers:{Authorization:`Bearer ${i}`},body:JSON.stringify({placeId:l})})}async getTravelStyle(){const l=localStorage.getItem("auth_token");return this.request("/users/travel-style",{headers:{Authorization:`Bearer ${l}`}})}async setTravelStyle(l){const i=localStorage.getItem("auth_token");return this.request("/users/travel-style",{method:"PUT",headers:{Authorization:`Bearer ${i}`},body:JSON.stringify({travelStyle:l})})}async getPreferences(){const l=localStorage.getItem("auth_token");return this.request("/users/preferences",{headers:{Authorization:`Bearer ${l}`}})}async updatePreferences(l){const i=localStorage.getItem("auth_token");return this.request("/users/preferences",{method:"PUT",headers:{Authorization:`Bearer ${i}`},body:JSON.stringify(l)})}async getExtendedProfile(){const l=localStorage.getItem("auth_token");return this.request("/users/profile/extended",{headers:{Authorization:`Bearer ${l}`}})}async updateExtendedProfile(l){const i=localStorage.getItem("auth_token");return this.request("/users/profile/extended",{method:"PUT",headers:{Authorization:`Bearer ${i}`},body:JSON.stringify(l)})}async uploadAvatar(l){const i=localStorage.getItem("auth_token"),o=new FormData;return o.append("profilePicture",l),fetch(`${await this.getBaseUrl()}/users/profile/picture`,{method:"POST",headers:{Authorization:`Bearer ${i}`},body:o})}async generateTrip(l){const i=localStorage.getItem("auth_token");return this.request("/ai/trip-generator",{method:"POST",headers:{Authorization:`Bearer ${i}`},body:JSON.stringify(l)})}async getSmartRecommendations(l){const i=localStorage.getItem("auth_token");return this.request("/ai/recommendations",{method:"POST",headers:{Authorization:`Bearer ${i}`},body:JSON.stringify(l)})}async getPlaceAIContent(l){return this.request(`/ai/place-content/${l}`)}async enhancedSearch(l,i){const o=new URLSearchParams({q:l});return i&&Object.entries(i).forEach(([u,m])=>{m&&o.append(u,m.toString())}),this.request(`/enhanced-places/search?${o}`)}async getSubscriptionTiers(){return this.request("/subscriptions/tiers")}async getUserSubscription(l){const i=localStorage.getItem("auth_token");return this.request(`/subscriptions/${l}`,{headers:{Authorization:`Bearer ${i}`}})}async getSubscriptionUsage(l){const i=localStorage.getItem("auth_token");return this.request(`/subscriptions/${l}/usage`,{headers:{Authorization:`Bearer ${i}`}})}async startFreeTrial(l,i){const o=localStorage.getItem("auth_token");return this.request("/subscriptions/trial",{method:"POST",headers:{Authorization:`Bearer ${o}`},body:JSON.stringify({userId:l,tier:i,trialDays:7})})}async upgradeSubscription(l,i){const o=localStorage.getItem("auth_token");return this.request("/subscriptions/upgrade",{method:"POST",headers:{Authorization:`Bearer ${o}`},body:JSON.stringify({userId:l,tier:i})})}async cancelSubscription(l,i){const o=localStorage.getItem("auth_token");return this.request(`/subscriptions/${l}/cancel`,{method:"POST",headers:{Authorization:`Bearer ${o}`},body:JSON.stringify({cancelAtPeriodEnd:!0,reason:i||"user_requested"})})}async processPayment(l,i,o,u="paypal"){const m=localStorage.getItem("auth_token");return this.request("/subscriptions/payment",{method:"POST",headers:{Authorization:`Bearer ${m}`},body:JSON.stringify({userId:l,tier:i,amount:o,paymentMethod:u})})}async getPaymentHistory(l){const i=localStorage.getItem("auth_token");return this.request(`/payments/${l}/history`,{headers:{Authorization:`Bearer ${i}`}})}async checkTrialUsage(l){return(await this.request(`/users/${l}/trial-history`))?.hasUsedTrial===!0}async getTrips(){return this.getUserTrips()}}const u0=new U2,Je={log:(...n)=>{},warn:(...n)=>{},error:(...n)=>{console.error(...n)}},m0=v.createContext(void 0),kt=()=>{const n=v.useContext(m0);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},B2=({children:n})=>{const[l,i]=v.useState(null),[o,u]=v.useState(!0),m={auth:Ws},x=!1,{config:f,loading:g}=zn();v.useEffect(()=>{if(g||!f)return;if(m?.auth&&f?.firebase?.apiKey&&o0(m.auth).then(q=>{q&&Je.log(" Google Sign-In redirect successful",q.user.email)}).catch(q=>{Je.error(" Google Sign-In redirect error:",q)}),localStorage.getItem("demo_token")){w();return}if(!m?.auth||!f?.firebase?.apiKey){u(!1);return}const _=m.auth?.currentUser;Je.log(" AUTH STEP 3.1: Checking existing session",{hasAuth:!!m.auth,currentUser:_,currentUserEmail:_?.email,localStorage:{demoToken:!!localStorage.getItem("demo_token"),cachedUser:!!localStorage.getItem("cached_user")}}),_&&m.auth&&j(_).then(()=>u(!1));const N=jw(m.auth,async q=>{Je.log(" AUTH STEP 4: Auth state changed",{hasUser:!!q,uid:q?.uid,email:q?.email,hasDemoToken:!!localStorage.getItem("demo_token")}),q?await j(q):localStorage.getItem("demo_token")||i(null),u(!1)});return()=>N()},[m,f,x,g]);const w=async()=>{try{const C=localStorage.getItem("demo_token");if(!C){u(!1);return}const _=await fetch(`${f?.apiBaseUrl||window.location.origin}/api/demo-auth/verify-token`,{headers:{Authorization:`Bearer ${C}`}});if(_.ok){const N=await _.json();i({id:N.user.id,email:N.user.email,username:N.user.username,tier:N.user.tier,role:N.user.role,isAdmin:N.user.isAdmin})}else Je.log(" Demo token invalid, removing"),localStorage.removeItem("demo_token")}catch(C){Je.error("Failed to restore demo user:",C),localStorage.removeItem("demo_token")}finally{u(!1)}},j=async C=>{const _=`sync_${C.uid}`;if(window[_]){const N=localStorage.getItem("cached_user");if(N&&!l)try{i(JSON.parse(N))}catch{Je.error("Failed to parse cached user")}return}window[_]=!0,setTimeout(()=>{delete window[_]},5e3);try{Je.log(" Starting user sync for:",C.uid),Je.log(" User email:",C.email);const N=await C.getIdToken();Je.log(" Firebase token obtained:",N?"Yes":"No"),localStorage.setItem("token",N);const q={email:C.email,username:C.displayName||C.email?.split("@")[0],firebaseUid:C.uid};Je.log(" Sync data:",q);const M=`${f?.apiBaseUrl||window.location.origin}/api/users/sync`;Je.log(" API URL:",M);const Q=await fetch(M,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N}`},body:JSON.stringify(q)});if(Je.log(" Response status:",Q.status),Je.log(" Response ok:",Q.ok),Q.ok){const W=await Q.json();Je.log(" Sync successful:",W);const k={id:W._id,email:W.email,username:W.username,fullName:W.fullName,phone:W.phone,bio:W.bio,homeCity:W.homeCity,tier:W.tier||"free",profilePicture:W.profilePicture,firebaseUid:C.uid,role:W.role||"regular",isAdmin:W.isAdmin||!1};i(k),localStorage.setItem("cached_user",JSON.stringify(k))}else{const W=await Q.text();Je.error(" Sync failed:",Q.status,W),Je.log(" Using fallback - user will still be authenticated");const k={id:C.uid,email:C.email||"",username:C.displayName||C.email?.split("@")[0]||"User",tier:"free",firebaseUid:C.uid,role:"regular",isAdmin:!1};i(k),localStorage.setItem("cached_user",JSON.stringify(k))}}catch(N){Je.error(" User sync error:",N);const q={id:C.uid,email:C.email||"",username:C.displayName||C.email?.split("@")[0]||"User",tier:"free",firebaseUid:C.uid,role:"regular",isAdmin:!1};i(q),localStorage.setItem("cached_user",JSON.stringify(q))}},y=async(C,_)=>{if(!m)throw new Error("Firebase not initialized");try{Je.log(" Starting login for:",C);const N=await pw(m.auth,C,_);Je.log(" Login successful, waiting for auth state change")}catch(N){throw Je.error(" Login failed:",N),new Error(N.message||"Login failed")}},b=async()=>{if(!m)throw new Error("Firebase not initialized");try{Je.log(" Starting Google Sign-In");const C=new ks;C.setCustomParameters({prompt:"select_account"}),await Gw(m.auth,C)}catch(C){throw Je.error(" Google Sign-In failed:",C),new Error(C.message||"Google Sign-In failed")}},I=async(C,_,N)=>{if(!m)throw new Error("Firebase not initialized");try{const q=await gw(m.auth,_,N)}catch(q){throw new Error(q.message||"Registration failed")}},L=async C=>{try{if(localStorage.getItem("demo_token")){i(M=>M?{...M,...C}:null);return}if(!m?.auth.currentUser)throw new Error("Not authenticated");const N=await m.auth.currentUser.getIdToken(),q=await fetch(`${f?.apiBaseUrl}/api/users/profile`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N}`},body:JSON.stringify(C)});if(q.ok){const M=await q.json();i(W=>W?{...W,...M,...C}:null);const Q={...l,...M,...C};localStorage.setItem("cached_user",JSON.stringify(Q))}else throw new Error("Profile update failed")}catch{throw new Error("Profile update failed")}},R=async()=>{try{i({id:"demo-user-123",email:"admin@travelbuddy.com",username:"Demo Admin",tier:"premium",role:"admin",isAdmin:!0}),localStorage.setItem("demo_token","demo-token-123")}catch(C){throw new Error(C.message||"Demo login failed")}},D=async()=>{try{localStorage.removeItem("demo_token"),localStorage.removeItem("cached_user"),localStorage.removeItem("token"),m&&await Nw(m.auth),i(null)}catch(C){Je.error("Logout failed:",C)}};return e.jsx(m0.Provider,{value:{user:l,login:y,register:I,loginWithGoogle:b,loginDemo:R,logout:D,updateProfile:L,isLoading:o},children:n})},h0=v.createContext(void 0),x0=()=>{const n=v.useContext(h0);if(!n)throw new Error("useApp must be used within AppProvider");return n},P2=({children:n})=>{const[l,i]=v.useState("home"),[o,u]=v.useState(3),{user:m}=kt(),x={id:m?.id||"1",name:m?.username||"Traveler",avatar:m?.profilePicture||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop&crop=face",location:"Current Location",travelStyle:"Explorer",email:m?.email,tier:m?.tier},f=()=>u(y=>y+1),g=()=>u(0),w=(y,b,I)=>{const L=`activity-${y}-${b}-${I}`,R=localStorage.getItem(L)==="true";localStorage.setItem(L,(!R).toString())},j=(y,b,I)=>{const L=`activity-${y}-${b}-${I}`;return localStorage.getItem(L)==="true"};return e.jsx(h0.Provider,{value:{user:x,notifications:o,currentPage:l,setCurrentPage:i,addNotification:f,clearNotifications:g,toggleActivityStatus:w,getActivityStatus:j},children:n})},em="-",H2=n=>{const l=V2(n),{conflictingClassGroups:i,conflictingClassGroupModifiers:o}=n;return{getClassGroupId:x=>{const f=x.split(em);return f[0]===""&&f.length!==1&&f.shift(),f0(f,l)||q2(x)},getConflictingClassGroupIds:(x,f)=>{const g=i[x]||[];return f&&o[x]?[...g,...o[x]]:g}}},f0=(n,l)=>{if(n.length===0)return l.classGroupId;const i=n[0],o=l.nextPart.get(i),u=o?f0(n.slice(1),o):void 0;if(u)return u;if(l.validators.length===0)return;const m=n.join(em);return l.validators.find(({validator:x})=>x(m))?.classGroupId},Qg=/^\[(.+)\]$/,q2=n=>{if(Qg.test(n)){const l=Qg.exec(n)[1],i=l?.substring(0,l.indexOf(":"));if(i)return"arbitrary.."+i}},V2=n=>{const{theme:l,classGroups:i}=n,o={nextPart:new Map,validators:[]};for(const u in i)Ru(i[u],o,u,l);return o},Ru=(n,l,i,o)=>{n.forEach(u=>{if(typeof u=="string"){const m=u===""?l:Xg(l,u);m.classGroupId=i;return}if(typeof u=="function"){if($2(u)){Ru(u(o),l,i,o);return}l.validators.push({validator:u,classGroupId:i});return}Object.entries(u).forEach(([m,x])=>{Ru(x,Xg(l,m),i,o)})})},Xg=(n,l)=>{let i=n;return l.split(em).forEach(o=>{i.nextPart.has(o)||i.nextPart.set(o,{nextPart:new Map,validators:[]}),i=i.nextPart.get(o)}),i},$2=n=>n.isThemeGetter,F2=n=>{if(n<1)return{get:()=>{},set:()=>{}};let l=0,i=new Map,o=new Map;const u=(m,x)=>{i.set(m,x),l++,l>n&&(l=0,o=i,i=new Map)};return{get(m){let x=i.get(m);if(x!==void 0)return x;if((x=o.get(m))!==void 0)return u(m,x),x},set(m,x){i.has(m)?i.set(m,x):u(m,x)}}},Ou="!",Mu=":",G2=Mu.length,Y2=n=>{const{prefix:l,experimentalParseClassName:i}=n;let o=u=>{const m=[];let x=0,f=0,g=0,w;for(let L=0;L<u.length;L++){let R=u[L];if(x===0&&f===0){if(R===Mu){m.push(u.slice(g,L)),g=L+G2;continue}if(R==="/"){w=L;continue}}R==="["?x++:R==="]"?x--:R==="("?f++:R===")"&&f--}const j=m.length===0?u:u.substring(g),y=K2(j),b=y!==j,I=w&&w>g?w-g:void 0;return{modifiers:m,hasImportantModifier:b,baseClassName:y,maybePostfixModifierPosition:I}};if(l){const u=l+Mu,m=o;o=x=>x.startsWith(u)?m(x.substring(u.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:x,maybePostfixModifierPosition:void 0}}if(i){const u=o;o=m=>i({className:m,parseClassName:u})}return o},K2=n=>n.endsWith(Ou)?n.substring(0,n.length-1):n.startsWith(Ou)?n.substring(1):n,Q2=n=>{const l=Object.fromEntries(n.orderSensitiveModifiers.map(o=>[o,!0]));return o=>{if(o.length<=1)return o;const u=[];let m=[];return o.forEach(x=>{x[0]==="["||l[x]?(u.push(...m.sort(),x),m=[]):m.push(x)}),u.push(...m.sort()),u}},X2=n=>({cache:F2(n.cacheSize),parseClassName:Y2(n),sortModifiers:Q2(n),...H2(n)}),J2=/\s+/,Z2=(n,l)=>{const{parseClassName:i,getClassGroupId:o,getConflictingClassGroupIds:u,sortModifiers:m}=l,x=[],f=n.trim().split(J2);let g="";for(let w=f.length-1;w>=0;w-=1){const j=f[w],{isExternal:y,modifiers:b,hasImportantModifier:I,baseClassName:L,maybePostfixModifierPosition:R}=i(j);if(y){g=j+(g.length>0?" "+g:g);continue}let D=!!R,C=o(D?L.substring(0,R):L);if(!C){if(!D){g=j+(g.length>0?" "+g:g);continue}if(C=o(L),!C){g=j+(g.length>0?" "+g:g);continue}D=!1}const _=m(b).join(":"),N=I?_+Ou:_,q=N+C;if(x.includes(q))continue;x.push(q);const M=u(C,D);for(let Q=0;Q<M.length;++Q){const W=M[Q];x.push(N+W)}g=j+(g.length>0?" "+g:g)}return g};function W2(){let n=0,l,i,o="";for(;n<arguments.length;)(l=arguments[n++])&&(i=g0(l))&&(o&&(o+=" "),o+=i);return o}const g0=n=>{if(typeof n=="string")return n;let l,i="";for(let o=0;o<n.length;o++)n[o]&&(l=g0(n[o]))&&(i&&(i+=" "),i+=l);return i};function e1(n,...l){let i,o,u,m=x;function x(g){const w=l.reduce((j,y)=>y(j),n());return i=X2(w),o=i.cache.get,u=i.cache.set,m=f,f(g)}function f(g){const w=o(g);if(w)return w;const j=Z2(g,i);return u(g,j),j}return function(){return m(W2.apply(null,arguments))}}const xt=n=>{const l=i=>i[n]||[];return l.isThemeGetter=!0,l},p0=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,b0=/^\((?:(\w[\w-]*):)?(.+)\)$/i,t1=/^\d+\/\d+$/,s1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,a1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,l1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,r1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,n1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,nr=n=>t1.test(n),Ce=n=>!!n&&!Number.isNaN(Number(n)),Oa=n=>!!n&&Number.isInteger(Number(n)),uu=n=>n.endsWith("%")&&Ce(n.slice(0,-1)),Xs=n=>s1.test(n),i1=()=>!0,o1=n=>a1.test(n)&&!l1.test(n),y0=()=>!1,c1=n=>r1.test(n),d1=n=>n1.test(n),u1=n=>!oe(n)&&!ce(n),m1=n=>wr(n,N0,y0),oe=n=>p0.test(n),xl=n=>wr(n,w0,o1),mu=n=>wr(n,p1,Ce),Jg=n=>wr(n,v0,y0),h1=n=>wr(n,j0,d1),ho=n=>wr(n,S0,c1),ce=n=>b0.test(n),Sn=n=>Sr(n,w0),x1=n=>Sr(n,b1),Zg=n=>Sr(n,v0),f1=n=>Sr(n,N0),g1=n=>Sr(n,j0),xo=n=>Sr(n,S0,!0),wr=(n,l,i)=>{const o=p0.exec(n);return o?o[1]?l(o[1]):i(o[2]):!1},Sr=(n,l,i=!1)=>{const o=b0.exec(n);return o?o[1]?l(o[1]):i:!1},v0=n=>n==="position"||n==="percentage",j0=n=>n==="image"||n==="url",N0=n=>n==="length"||n==="size"||n==="bg-size",w0=n=>n==="length",p1=n=>n==="number",b1=n=>n==="family-name",S0=n=>n==="shadow",y1=()=>{const n=xt("color"),l=xt("font"),i=xt("text"),o=xt("font-weight"),u=xt("tracking"),m=xt("leading"),x=xt("breakpoint"),f=xt("container"),g=xt("spacing"),w=xt("radius"),j=xt("shadow"),y=xt("inset-shadow"),b=xt("text-shadow"),I=xt("drop-shadow"),L=xt("blur"),R=xt("perspective"),D=xt("aspect"),C=xt("ease"),_=xt("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...q(),ce,oe],Q=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto","contain","none"],k=()=>[ce,oe,g],ae=()=>[nr,"full","auto",...k()],fe=()=>[Oa,"none","subgrid",ce,oe],Se=()=>["auto",{span:["full",Oa,ce,oe]},Oa,ce,oe],A=()=>[Oa,"auto",ce,oe],Y=()=>["auto","min","max","fr",ce,oe],se=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],K=()=>["start","end","center","stretch","center-safe","end-safe"],T=()=>["auto",...k()],F=()=>[nr,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],z=()=>[n,ce,oe],ee=()=>[...q(),Zg,Jg,{position:[ce,oe]}],U=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ie=()=>["auto","cover","contain",f1,m1,{size:[ce,oe]}],ve=()=>[uu,Sn,xl],me=()=>["","none","full",w,ce,oe],Ne=()=>["",Ce,Sn,xl],Ye=()=>["solid","dashed","dotted","double"],Ke=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Te=()=>[Ce,uu,Zg,Jg],Ze=()=>["","none",L,ce,oe],ft=()=>["none",Ce,ce,oe],Et=()=>["none",Ce,ce,oe],$=()=>[Ce,ce,oe],ye=()=>[nr,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Xs],breakpoint:[Xs],color:[i1],container:[Xs],"drop-shadow":[Xs],ease:["in","out","in-out"],font:[u1],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Xs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Xs],shadow:[Xs],spacing:["px",Ce],text:[Xs],"text-shadow":[Xs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",nr,oe,ce,D]}],container:["container"],columns:[{columns:[Ce,oe,ce,f]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:Q()}],"overflow-x":[{"overflow-x":Q()}],"overflow-y":[{"overflow-y":Q()}],overscroll:[{overscroll:W()}],"overscroll-x":[{"overscroll-x":W()}],"overscroll-y":[{"overscroll-y":W()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ae()}],"inset-x":[{"inset-x":ae()}],"inset-y":[{"inset-y":ae()}],start:[{start:ae()}],end:[{end:ae()}],top:[{top:ae()}],right:[{right:ae()}],bottom:[{bottom:ae()}],left:[{left:ae()}],visibility:["visible","invisible","collapse"],z:[{z:[Oa,"auto",ce,oe]}],basis:[{basis:[nr,"full","auto",f,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ce,nr,"auto","initial","none",oe]}],grow:[{grow:["",Ce,ce,oe]}],shrink:[{shrink:["",Ce,ce,oe]}],order:[{order:[Oa,"first","last","none",ce,oe]}],"grid-cols":[{"grid-cols":fe()}],"col-start-end":[{col:Se()}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":fe()}],"row-start-end":[{row:Se()}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Y()}],"auto-rows":[{"auto-rows":Y()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...se(),"normal"]}],"justify-items":[{"justify-items":[...K(),"normal"]}],"justify-self":[{"justify-self":["auto",...K()]}],"align-content":[{content:["normal",...se()]}],"align-items":[{items:[...K(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...K(),{baseline:["","last"]}]}],"place-content":[{"place-content":se()}],"place-items":[{"place-items":[...K(),"baseline"]}],"place-self":[{"place-self":["auto",...K()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:T()}],mx:[{mx:T()}],my:[{my:T()}],ms:[{ms:T()}],me:[{me:T()}],mt:[{mt:T()}],mr:[{mr:T()}],mb:[{mb:T()}],ml:[{ml:T()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:F()}],w:[{w:[f,"screen",...F()]}],"min-w":[{"min-w":[f,"screen","none",...F()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[x]},...F()]}],h:[{h:["screen","lh",...F()]}],"min-h":[{"min-h":["screen","lh","none",...F()]}],"max-h":[{"max-h":["screen","lh",...F()]}],"font-size":[{text:["base",i,Sn,xl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,ce,mu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",uu,oe]}],"font-family":[{font:[x1,oe,l]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[u,ce,oe]}],"line-clamp":[{"line-clamp":[Ce,"none",ce,mu]}],leading:[{leading:[m,...k()]}],"list-image":[{"list-image":["none",ce,oe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ce,oe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ye(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ce,"from-font","auto",ce,xl]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[Ce,"auto",ce,oe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce,oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce,oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ee()}],"bg-repeat":[{bg:U()}],"bg-size":[{bg:ie()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Oa,ce,oe],radial:["",ce,oe],conic:[Oa,ce,oe]},g1,h1]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:ve()}],"gradient-via-pos":[{via:ve()}],"gradient-to-pos":[{to:ve()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:me()}],"rounded-s":[{"rounded-s":me()}],"rounded-e":[{"rounded-e":me()}],"rounded-t":[{"rounded-t":me()}],"rounded-r":[{"rounded-r":me()}],"rounded-b":[{"rounded-b":me()}],"rounded-l":[{"rounded-l":me()}],"rounded-ss":[{"rounded-ss":me()}],"rounded-se":[{"rounded-se":me()}],"rounded-ee":[{"rounded-ee":me()}],"rounded-es":[{"rounded-es":me()}],"rounded-tl":[{"rounded-tl":me()}],"rounded-tr":[{"rounded-tr":me()}],"rounded-br":[{"rounded-br":me()}],"rounded-bl":[{"rounded-bl":me()}],"border-w":[{border:Ne()}],"border-w-x":[{"border-x":Ne()}],"border-w-y":[{"border-y":Ne()}],"border-w-s":[{"border-s":Ne()}],"border-w-e":[{"border-e":Ne()}],"border-w-t":[{"border-t":Ne()}],"border-w-r":[{"border-r":Ne()}],"border-w-b":[{"border-b":Ne()}],"border-w-l":[{"border-l":Ne()}],"divide-x":[{"divide-x":Ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ye(),"hidden","none"]}],"divide-style":[{divide:[...Ye(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...Ye(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ce,ce,oe]}],"outline-w":[{outline:["",Ce,Sn,xl]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",j,xo,ho]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",y,xo,ho]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:Ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[Ce,xl]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":Ne()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",b,xo,ho]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[Ce,ce,oe]}],"mix-blend":[{"mix-blend":[...Ke(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ke()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ce]}],"mask-image-linear-from-pos":[{"mask-linear-from":Te()}],"mask-image-linear-to-pos":[{"mask-linear-to":Te()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":Te()}],"mask-image-t-to-pos":[{"mask-t-to":Te()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":Te()}],"mask-image-r-to-pos":[{"mask-r-to":Te()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":Te()}],"mask-image-b-to-pos":[{"mask-b-to":Te()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":Te()}],"mask-image-l-to-pos":[{"mask-l-to":Te()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":Te()}],"mask-image-x-to-pos":[{"mask-x-to":Te()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":Te()}],"mask-image-y-to-pos":[{"mask-y-to":Te()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[ce,oe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Te()}],"mask-image-radial-to-pos":[{"mask-radial-to":Te()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":q()}],"mask-image-conic-pos":[{"mask-conic":[Ce]}],"mask-image-conic-from-pos":[{"mask-conic-from":Te()}],"mask-image-conic-to-pos":[{"mask-conic-to":Te()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ee()}],"mask-repeat":[{mask:U()}],"mask-size":[{mask:ie()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ce,oe]}],filter:[{filter:["","none",ce,oe]}],blur:[{blur:Ze()}],brightness:[{brightness:[Ce,ce,oe]}],contrast:[{contrast:[Ce,ce,oe]}],"drop-shadow":[{"drop-shadow":["","none",I,xo,ho]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",Ce,ce,oe]}],"hue-rotate":[{"hue-rotate":[Ce,ce,oe]}],invert:[{invert:["",Ce,ce,oe]}],saturate:[{saturate:[Ce,ce,oe]}],sepia:[{sepia:["",Ce,ce,oe]}],"backdrop-filter":[{"backdrop-filter":["","none",ce,oe]}],"backdrop-blur":[{"backdrop-blur":Ze()}],"backdrop-brightness":[{"backdrop-brightness":[Ce,ce,oe]}],"backdrop-contrast":[{"backdrop-contrast":[Ce,ce,oe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ce,ce,oe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ce,ce,oe]}],"backdrop-invert":[{"backdrop-invert":["",Ce,ce,oe]}],"backdrop-opacity":[{"backdrop-opacity":[Ce,ce,oe]}],"backdrop-saturate":[{"backdrop-saturate":[Ce,ce,oe]}],"backdrop-sepia":[{"backdrop-sepia":["",Ce,ce,oe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ce,oe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ce,"initial",ce,oe]}],ease:[{ease:["linear","initial",C,ce,oe]}],delay:[{delay:[Ce,ce,oe]}],animate:[{animate:["none",_,ce,oe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[R,ce,oe]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:ft()}],"rotate-x":[{"rotate-x":ft()}],"rotate-y":[{"rotate-y":ft()}],"rotate-z":[{"rotate-z":ft()}],scale:[{scale:Et()}],"scale-x":[{"scale-x":Et()}],"scale-y":[{"scale-y":Et()}],"scale-z":[{"scale-z":Et()}],"scale-3d":["scale-3d"],skew:[{skew:$()}],"skew-x":[{"skew-x":$()}],"skew-y":[{"skew-y":$()}],transform:[{transform:[ce,oe,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ye()}],"translate-x":[{"translate-x":ye()}],"translate-y":[{"translate-y":ye()}],"translate-z":[{"translate-z":ye()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce,oe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce,oe]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[Ce,Sn,xl,mu]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},v1=e1(y1);function Cr(...n){return v1(n.filter(Boolean).join(" "))}const H=({variant:n="primary",size:l="md",loading:i=!1,className:o,children:u,disabled:m,...x})=>{const f="inline-flex items-center justify-center font-medium rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",g={primary:"bg-primary-500 text-white hover:bg-primary-600 focus:ring-primary-500 shadow-lg hover:shadow-xl",default:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 shadow-lg hover:shadow-xl",secondary:"bg-secondary-500 text-white hover:bg-secondary-600 focus:ring-secondary-500 shadow-lg hover:shadow-xl",outline:"border-2 border-primary-500 text-primary-500 hover:bg-primary-50 focus:ring-primary-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-gray-500"},w={sm:"px-3 py-2 text-sm",md:"px-4 py-2.5 text-sm",lg:"px-6 py-3 text-base"};return e.jsxs("button",{className:Cr(f,g[n],w[l],(i||m)&&"opacity-50 cursor-not-allowed",o),disabled:i||m,...x,children:[i&&e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current mr-2"}),u]})},Wg=[{id:"home",label:"Home",icon:Lu,path:"/"},{id:"discover",label:"Destinations",icon:gs,path:"/places"},{id:"planner",label:"Trip Planner",icon:ue,path:"/trips"},{id:"deals",label:"Deals",icon:fs,path:"/deals"},{id:"community",label:"Community",icon:Ct,path:"/community"},{id:"more",label:"More",icon:Uu,path:"#",dropdown:[{label:"Events",path:"/events",icon:At},{label:"Transport Hub",path:"/transport",icon:pl},{label:"Find an Agent",path:"/services",icon:Ct},{label:"About Us",path:"/about",icon:tg},{label:"Contact Us",path:"/contact",icon:ys},{label:"Help Center",path:"/help",icon:tg}]}],ep=[{code:"en",label:"English",flag:""},{code:"si",label:"",flag:""},{code:"ta",label:"",flag:""}],j1=()=>{const{user:n,logout:l}=kt(),i=Do(),[o,u]=v.useState(!1),[m,x]=v.useState(!1),[f,g]=v.useState(!1),[w,j]=v.useState(!1),[y,b]=v.useState(null),[I,L]=v.useState(!1),[R,D]=v.useState(ep[0]);v.useEffect(()=>{const N=()=>{u(window.scrollY>20)};return window.addEventListener("scroll",N),()=>window.removeEventListener("scroll",N)},[]),v.useEffect(()=>{const N=q=>{q.target.closest(".dropdown-container")||(b(null),L(!1),j(!1))};return document.addEventListener("click",N),()=>document.removeEventListener("click",N)},[]);const C=()=>{l(),g(!1)},_=N=>{D(N),j(!1)};return e.jsx("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${o?"bg-white/95 backdrop-blur-md shadow-lg border-b border-white/50":"bg-black/30 backdrop-blur-sm"}`,children:e.jsxs("div",{className:"max-w-full mx-auto px-6 sm:px-8 lg:px-12",children:[e.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs(pe,{to:"/",className:"flex items-center space-x-3 group",title:"TravelBuddy - Your Intelligent Travel Companion",children:[e.jsxs("div",{className:"relative w-12 h-12 bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-600 rounded-2xl flex items-center justify-center group-hover:scale-105 transition-all duration-300 shadow-lg",children:[e.jsx(zu,{className:"w-7 h-7 text-white"}),e.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsx("div",{className:"hidden sm:block",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h1",{className:`text-2xl font-bold transition-all duration-300 ${o?"text-black":"text-white drop-shadow-lg"}`,children:"TravelBuddy"}),e.jsx("span",{className:"px-2 py-0.5 bg-blue-500 text-white text-xs font-semibold rounded-full",children:"Beta"})]})})]})}),e.jsx("nav",{className:"hidden lg:flex items-center space-x-4",children:Wg.map(N=>{const q=N.icon,M=i.pathname===N.path,Q=N.dropdown&&N.dropdown.length>0;return e.jsxs("div",{className:"relative dropdown-container",children:[Q?e.jsxs("button",{onClick:()=>b(y===N.id?null:N.id),className:`flex items-center space-x-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 relative ${M?o?"text-blue-600 font-semibold":"text-white font-semibold":o?"text-gray-700 hover:text-gray-900":"text-white/90 hover:text-white"}`,children:[e.jsx(q,{className:"w-4 h-4"}),e.jsx("span",{children:N.label}),M&&e.jsx("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-blue-600 rounded-full"})]}):e.jsxs(pe,{to:N.path,className:`flex items-center space-x-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 relative ${M?o?"text-blue-600 font-semibold":"text-white font-semibold":o?"text-gray-700 hover:text-gray-900":"text-white/90 hover:text-white"}`,children:[e.jsx(q,{className:"w-4 h-4"}),e.jsx("span",{children:N.label}),M&&e.jsx("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-blue-600 rounded-full"})]}),Q&&y===N.id&&e.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white rounded-xl shadow-xl border border-gray-200 py-2 z-50",children:N.dropdown?.map(W=>{const k=W.icon;return e.jsxs(pe,{to:W.path,onClick:()=>b(null),className:"flex items-center space-x-3 px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[k&&e.jsx(k,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{children:W.label})]},W.path)})})]},N.id)})}),e.jsxs("div",{className:"flex items-center space-x-5",children:[n&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(H,{variant:"ghost",size:"sm",className:`relative p-2 ${o?"text-gray-700 hover:bg-gray-100":"text-white hover:bg-white/10"}`,title:"Notifications",children:[e.jsx(ur,{className:"w-5 h-5"}),e.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full text-xs flex items-center justify-center",children:e.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full"})})]}),e.jsx(H,{variant:"ghost",size:"sm",className:`p-2 ${o?"text-gray-700 hover:bg-gray-100":"text-white hover:bg-white/10"}`,title:"Saved Trips & Favorites",children:e.jsx(mt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"relative hidden md:block dropdown-container",children:[e.jsxs(H,{variant:"ghost",size:"sm",onClick:()=>j(!w),className:`flex items-center space-x-2 px-3 py-2 text-sm font-medium ${o?"text-gray-700 hover:bg-gray-100":"text-white hover:bg-white/10"}`,children:[e.jsx("span",{children:R.flag}),e.jsx("span",{children:R.code.toUpperCase()}),e.jsx(Uu,{className:"w-3 h-3"})]}),w&&e.jsx("div",{className:"absolute right-0 mt-1 w-40 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:ep.map(N=>e.jsxs("button",{onClick:()=>_(N),className:`flex items-center space-x-3 w-full px-4 py-2 text-sm text-left hover:bg-gray-100 transition-colors ${R.code===N.code?"bg-blue-50 text-blue-700":"text-gray-700"}`,children:[e.jsx("span",{children:N.flag}),e.jsx("span",{children:N.label})]},N.code))})]}),n?e.jsxs("div",{className:"relative dropdown-container",children:[e.jsxs("button",{onClick:()=>L(!I),className:`flex items-center space-x-2 px-2 py-2 rounded-full transition-all duration-200 ${o?"hover:bg-gray-100":"hover:bg-white/10"}`,children:[e.jsxs("div",{className:"relative w-9 h-9 bg-gradient-to-br from-blue-500 via-purple-500 to-indigo-500 rounded-full flex items-center justify-center",children:[n.profilePicture?e.jsx("img",{src:n.profilePicture,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):e.jsx($a,{className:"w-5 h-5 text-white"}),e.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 bg-green-500 border-2 border-white rounded-full",title:"Online"})]}),e.jsx("span",{className:`hidden lg:block text-sm font-medium ${o?"text-gray-700":"text-white"}`,children:n.fullName?.split(" ")[0]||n.email?.split("@")[0]||"User"})]}),I&&e.jsxs("div",{className:"absolute right-0 mt-1 w-56 bg-white rounded-xl shadow-2xl border border-gray-200 py-2 z-50",children:[e.jsxs(pe,{to:"/profile",onClick:()=>L(!1),className:"flex items-center space-x-3 px-4 py-3 hover:bg-gray-50 transition-colors",children:[e.jsx($a,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"My Profile"})]}),e.jsxs(pe,{to:"/trips",onClick:()=>L(!1),className:"flex items-center space-x-3 px-4 py-3 hover:bg-gray-50 transition-colors",children:[e.jsx(ue,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"My Trips"})]}),e.jsxs(pe,{to:"/community",onClick:()=>L(!1),className:"flex items-center space-x-3 px-4 py-3 hover:bg-gray-50 transition-colors",children:[e.jsx(mt,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Saved Places"})]}),e.jsxs(pe,{to:"/profile",onClick:()=>L(!1),className:"flex items-center space-x-3 px-4 py-3 hover:bg-gray-50 transition-colors",children:[e.jsx(Wy,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Settings"})]}),e.jsx("div",{className:"border-t border-gray-200 my-2"}),e.jsxs("button",{onClick:C,className:"flex items-center space-x-3 px-4 py-3 hover:bg-red-50 transition-colors w-full text-left",children:[e.jsx(cp,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"text-sm text-red-600",children:"Logout"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(pe,{to:"/login",children:e.jsx(H,{variant:"ghost",size:"sm",className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${o?"text-gray-700 hover:bg-gray-100":"text-white hover:bg-white/10"}`,children:"Login"})}),e.jsx(pe,{to:"/register",children:e.jsx(H,{size:"sm",className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 text-white hover:from-blue-700 hover:via-purple-700 hover:to-indigo-700 px-6 py-2 rounded-lg font-medium shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105",children:"Sign Up Free"})})]}),e.jsx(H,{variant:"ghost",size:"sm",onClick:()=>x(!m),className:`lg:hidden p-2 ${o?"text-gray-700 hover:bg-gray-100":"text-white hover:bg-white/10"}`,children:m?e.jsx(St,{className:"w-5 h-5"}):e.jsx(ev,{className:"w-5 h-5"})})]})]}),m&&e.jsxs("div",{className:"lg:hidden bg-white/95 backdrop-blur-md border-t border-gray-200 py-4",children:[n&&e.jsx("div",{className:"px-4 pb-4 mb-4 border-b border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(pe,{to:"/trips",onClick:()=>x(!1),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-blue-50 rounded-xl text-blue-700 font-medium text-sm",children:[e.jsx(ue,{className:"w-4 h-4"}),e.jsx("span",{children:"Plan Trip"})]}),e.jsxs(pe,{to:"/community",onClick:()=>x(!1),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-purple-50 rounded-xl text-purple-700 font-medium text-sm",children:[e.jsx(mt,{className:"w-4 h-4"}),e.jsx("span",{children:"Saved"})]})]})}),e.jsx("nav",{className:"space-y-1 px-4",children:Wg.map(N=>{const q=N.icon,M=i.pathname===N.path;return e.jsxs(pe,{to:N.path,onClick:()=>x(!1),className:`flex items-center space-x-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200 ${M?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx(q,{className:"w-5 h-5"}),e.jsx("span",{children:N.label})]},N.id)})}),!n&&e.jsx("div",{className:"px-4 pt-4 border-t border-gray-200 mt-4",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(pe,{to:"/login",className:"flex-1",children:e.jsx(H,{variant:"outline",className:"w-full",children:"Login"})}),e.jsx(pe,{to:"/register",className:"flex-1",children:e.jsx(H,{className:"w-full bg-gradient-to-r from-blue-600 to-purple-600",children:"Sign Up"})})]})})]})]})})},N1=()=>e.jsx("footer",{className:"bg-gray-900 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-600 rounded-xl flex items-center justify-center",children:e.jsx(zu,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold",children:"TravelBuddy"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Your Intelligent Travel Companion"})]})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Discover amazing destinations, plan perfect trips, and connect with trusted travel services worldwide."}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(fu,{className:"w-5 h-5"})}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(gu,{className:"w-5 h-5"})}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(pu,{className:"w-5 h-5"})}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(tv,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Explore"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsxs(pe,{to:"/places",className:"text-gray-400 hover:text-white transition-colors flex items-center",children:[e.jsx(ue,{className:"w-4 h-4 mr-2"}),"Destinations"]})}),e.jsx("li",{children:e.jsxs(pe,{to:"/trips",className:"text-gray-400 hover:text-white transition-colors flex items-center",children:[e.jsx(Fa,{className:"w-4 h-4 mr-2"}),"Trip Planner"]})}),e.jsx("li",{children:e.jsxs(pe,{to:"/transport",className:"text-gray-400 hover:text-white transition-colors flex items-center",children:[e.jsx(pl,{className:"w-4 h-4 mr-2"}),"Transportation"]})}),e.jsx("li",{children:e.jsxs(pe,{to:"/services",className:"text-gray-400 hover:text-white transition-colors flex items-center",children:[e.jsx(Ct,{className:"w-4 h-4 mr-2"}),"Travel Agents"]})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Support"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(pe,{to:"/about",className:"text-gray-400 hover:text-white transition-colors",children:"About Us"})}),e.jsx("li",{children:e.jsx(pe,{to:"/contact",className:"text-gray-400 hover:text-white transition-colors",children:"Contact Us"})}),e.jsx("li",{children:e.jsx(pe,{to:"/help",className:"text-gray-400 hover:text-white transition-colors",children:"Help Center"})}),e.jsx("li",{children:e.jsx(pe,{to:"/blog",className:"text-gray-400 hover:text-white transition-colors",children:"Travel Blog"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Contact"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-gray-400",children:[e.jsx(ys,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-sm",children:"support@travelbuddy.com"})]}),e.jsxs("div",{className:"flex items-center text-gray-400",children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-sm",children:"+1 (555) 123-4567"})]})]})]})]}),e.jsxs("div",{className:"border-t border-gray-800 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:" 2024 TravelBuddy. All rights reserved."}),e.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[e.jsx(pe,{to:"/privacy",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Privacy Policy"}),e.jsx(pe,{to:"/terms",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Terms of Service"}),e.jsx(pe,{to:"/cookies",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Cookie Policy"})]})]})]})}),w1="modulepreload",S1=function(n){return"/"+n},tp={},tm=function(l,i,o){let u=Promise.resolve();if(i&&i.length>0){let g=function(w){return Promise.all(w.map(j=>Promise.resolve(j).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const x=document.querySelector("meta[property=csp-nonce]"),f=x?.nonce||x?.getAttribute("nonce");u=g(i.map(w=>{if(w=S1(w),w in tp)return;tp[w]=!0;const j=w.endsWith(".css"),y=j?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${w}"]${y}`))return;const b=document.createElement("link");if(b.rel=j?"stylesheet":w1,j||(b.as="script"),b.crossOrigin="",b.href=w,f&&b.setAttribute("nonce",f),document.head.appendChild(b),j)return new Promise((I,L)=>{b.addEventListener("load",I),b.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${w}`)))})}))}function m(x){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=x,window.dispatchEvent(f),!f.defaultPrevented)throw x}return u.then(x=>{for(const f of x||[])f.status==="rejected"&&m(f.reason);return l().catch(m)})},le=({className:n,hover:l=!1,glass:i=!1,children:o,...u})=>e.jsx("div",{className:Cr("rounded-2xl border border-gray-200 bg-white shadow-sm",l&&"card-hover cursor-pointer",i&&"glass",n),...u,children:o}),st=({className:n,children:l,...i})=>e.jsx("div",{className:Cr("p-6 pb-4",n),...i,children:l}),re=({className:n,children:l,...i})=>e.jsx("div",{className:Cr("px-6 pb-6",n),...i,children:l}),nt=({className:n,children:l,...i})=>e.jsx("h3",{className:Cr("text-lg font-semibold text-gray-900",n),...i,children:l}),C1=({className:n,children:l,...i})=>e.jsx("p",{className:Cr("text-sm text-gray-600",n),...i,children:l}),sp=({src:n,fallbackSrc:l="https://via.placeholder.com/600x400?text=Image+Not+Available",alt:i,loading:o="lazy",...u})=>{const[m,x]=v.useState(n),[f,g]=v.useState(!1),w=()=>{!f&&l&&(x(l),g(!0))};return e.jsx("img",{...u,src:m,alt:i,loading:o,onError:w})},fo={GB:{country:"United Kingdom",countryCode:"GB",city:"London",currency:"GBP",emergencyNumber:"999"},US:{country:"United States",countryCode:"US",city:"New York",currency:"USD",emergencyNumber:"911"},LK:{country:"Sri Lanka",countryCode:"LK",city:"Colombo",currency:"LKR",emergencyNumber:"119"}},C0=()=>{const[n,l]=v.useState(fo.LK),[i,o]=v.useState(!0);return v.useEffect(()=>{(async()=>{try{const m=Intl.DateTimeFormat().resolvedOptions().timeZone;let x="LK";m.includes("America")?x="US":m.includes("Europe/London")?x="GB":m.includes("Asia/Colombo")&&(x="LK");const f=fo[x]||fo.LK;l(f)}catch{console.log("Location detection failed, using default"),l(fo.LK)}finally{o(!1)}})()},[]),{location:n,loading:i}},T1=({title:n="TravelBuddy - AI Travel Planner & Trip Planning App | Discover Destinations Worldwide",description:l="Plan your perfect trip with TravelBuddy's AI-powered travel planner. Explore millions of destinations, create custom itineraries, find deals, and manage everything in one app. Download for iOS & Android.",keywords:i="trip planner, travel app, AI travel planning, itinerary builder, discover destinations, travel deals, vacation planner, travel guide, flight booking, hotel booking"})=>(v.useEffect(()=>{document.title=n;const o=(x,f)=>{let g=document.querySelector(`meta[name="${x}"]`);g||(g=document.createElement("meta"),g.name=x,document.head.appendChild(g)),g.content=f};o("description",l),o("keywords",i),o("robots","index, follow");const u={"@context":"https://schema.org","@graph":[{"@type":"WebPage","@id":"https://travelbuddy.com/",url:"https://travelbuddy.com/",name:n,description:l,inLanguage:"en-US",isPartOf:{"@id":"https://travelbuddy.com/#website"}},{"@type":"LocalBusiness","@id":"https://travelbuddy.com/#business",name:"TravelBuddy",description:"AI-powered travel planning platform helping travelers discover, plan and experience the world effortlessly",url:"https://travelbuddy.com/",telephone:"+1-800-TRAVEL",address:{"@type":"PostalAddress",addressCountry:"US"},sameAs:["https://facebook.com/travelbuddy","https://twitter.com/travelbuddy","https://instagram.com/travelbuddy"]},{"@type":"TravelAgency","@id":"https://travelbuddy.com/#travelagency",name:"TravelBuddy",description:"AI-powered travel planning and booking platform",url:"https://travelbuddy.com/",priceRange:"Free - $19.99",hasOfferCatalog:{"@type":"OfferCatalog",name:"Travel Services",itemListElement:[{"@type":"Offer",itemOffered:{"@type":"Service",name:"AI Trip Planning",description:"Personalized itinerary creation using artificial intelligence"}},{"@type":"Offer",itemOffered:{"@type":"Service",name:"Destination Discovery",description:"Find hidden gems and popular attractions worldwide"}}]}},{"@type":"SoftwareApplication","@id":"https://travelbuddy.com/#app",name:"TravelBuddy",description:l,applicationCategory:"TravelApplication",operatingSystem:["iOS","Android","Web"],offers:{"@type":"Offer",price:"0",priceCurrency:"USD",availability:"https://schema.org/InStock"},aggregateRating:{"@type":"AggregateRating",ratingValue:"4.8",reviewCount:"50000",bestRating:"5",worstRating:"1"}},{"@type":"FAQPage","@id":"https://travelbuddy.com/#faq",mainEntity:[{"@type":"Question",name:"How does TravelBuddy create my itinerary?",acceptedAnswer:{"@type":"Answer",text:"Our AI analyzes your preferences, budget, travel dates, and interests to create personalized itineraries in under 2 minutes. We consider factors like weather, local events, opening hours, and travel distances to optimize your trip."}},{"@type":"Question",name:"Is the AI trip planner free?",acceptedAnswer:{"@type":"Answer",text:"Yes! Our basic AI trip planner is completely free forever. You can create unlimited itineraries, discover places, and plan trips without any cost. Premium features like offline access and advanced weather AI are available for $9.99/month."}},{"@type":"Question",name:"Can I use the app offline?",acceptedAnswer:{"@type":"Answer",text:"Premium users can download their complete itineraries, maps, and place details for offline access. This includes photos, descriptions, contact information, and navigation - perfect for international travel without roaming charges."}}]},{"@type":"Review","@id":"https://travelbuddy.com/#review1",author:{"@type":"Person",name:"Sarah Chen"},reviewRating:{"@type":"Rating",ratingValue:"5",bestRating:"5"},reviewBody:"TravelBuddy helped me discover amazing local cafes in Tokyo I would never have found!",itemReviewed:{"@type":"SoftwareApplication",name:"TravelBuddy"}}]};let m=document.querySelector('script[type="application/ld+json"]');m||(m=document.createElement("script"),m.type="application/ld+json",document.head.appendChild(m)),m.textContent=JSON.stringify(u)},[n,l,i]),null),k1=`
  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes slide-in-left {
    from {
      opacity: 0;
      transform: translateX(-80px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
  
  @keyframes slide-in-right {
    from {
      opacity: 0;
      transform: translateX(80px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
  
  @keyframes message-in {
    from {
      opacity: 0;
      transform: translateY(20px) scale(0.9);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }
  
  @keyframes nav-in {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes feature-in {
    from {
      opacity: 0;
      transform: translateX(-30px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
  
  @keyframes buttons-in {
    from {
      opacity: 0;
      transform: translateY(40px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes pulse-glow {
    0%, 100% {
      opacity: 0.3;
      transform: scale(1);
    }
    50% {
      opacity: 0.6;
      transform: scale(1.1);
    }
  }
  
  @keyframes pulse-slow {
    0%, 100% {
      opacity: 0.3;
    }
    50% {
      opacity: 0.5;
    }
  }
  
  .animate-fade-in-up {
    animation: fade-in-up 0.8s ease-out both;
  }
  
  .animate-slide-in-left {
    animation: slide-in-left 1s ease-out both;
  }
  
  .animate-slide-in-right {
    animation: slide-in-right 1s ease-out both;
  }
  
  .animate-message-in {
    animation: message-in 0.6s ease-out both;
  }
  
  .animate-nav-in {
    animation: nav-in 0.8s ease-out both;
  }
  
  .animate-feature-in {
    animation: feature-in 0.6s ease-out both;
  }
  
  .animate-buttons-in {
    animation: buttons-in 0.8s ease-out both;
  }
  
  .animate-pulse-glow {
    animation: pulse-glow 4s ease-in-out infinite;
  }
  
  .animate-pulse-slow {
    animation: pulse-slow 6s ease-in-out infinite;
  }
  
  @keyframes float {
    0%, 100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-10px);
    }
  }
  
  .animate-float {
    animation: float 3s ease-in-out infinite;
  }
  
  .phone-tilt-container {
    perspective: 1000px;
  }
  
  .phone-tilt-container:hover > div {
    transform: rotateY(-5deg) rotateX(2deg) scale(1.02);
  }
`;v.lazy(()=>tm(()=>import("./LazyDestinationGrid-BiaWbQAa.js"),__vite__mapDeps([0,1,2])));v.lazy(()=>tm(()=>import("./LazyDealsSection-YqJbx-Wp.js"),__vite__mapDeps([3,1,2])));const A1=()=>e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),E1=()=>{const[n,l]=v.useState(null),i=[{icon:"",question:"How does TravelBuddy create my itinerary?",answer:"Our AI analyzes your preferences, budget, travel dates, and interests to create personalized itineraries in under 2 minutes. We consider factors like weather, local events, opening hours, and travel distances to optimize your trip."},{icon:"",question:"Is the AI trip planner free?",answer:"Yes! Our basic AI trip planner is completely free forever. You can create unlimited itineraries, discover places, and plan trips without any cost. Premium features like offline access and advanced weather AI are available for $9.99/month."},{icon:"",question:"Can I use the app offline?",answer:"Premium users can download their complete itineraries, maps, and place details for offline access. This includes photos, descriptions, contact information, and navigation - perfect for international travel without roaming charges."},{icon:"",question:"Are deals verified?",answer:"All deals are verified in real-time through our partner network. We work directly with hotels, airlines, and activity providers to ensure accurate pricing and availability. Deals are updated every 15 minutes."},{icon:"",question:"How accurate are the AI recommendations?",answer:"Our AI has a 94% satisfaction rate based on user feedback. It learns from 125,000+ successful trips and considers 200+ factors including weather, crowds, local events, and personal preferences to make recommendations."},{icon:"",question:"Can I share my itinerary with friends?",answer:"Yes! You can share itineraries via link, export to PDF, or collaborate in real-time. Friends can add suggestions, vote on activities, and make changes together - perfect for group travel planning."}];return e.jsx("div",{className:"space-y-4",children:i.map((o,u)=>e.jsx("div",{className:"group",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-100 overflow-hidden",children:[e.jsxs("button",{onClick:()=>l(n===u?null:u),className:"w-full p-6 text-left flex items-center justify-between hover:bg-gray-50 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-100 to-purple-100 rounded-xl flex items-center justify-center mr-4 group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-xl",children:o.icon})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 group-hover:text-blue-600 transition-colors duration-200",children:o.question}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click to see answer"})]})]}),e.jsx("div",{className:`w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center transition-all duration-300 ${n===u?"rotate-180 bg-blue-600":"group-hover:bg-blue-200"}`,children:e.jsx(Uu,{className:`w-4 h-4 transition-colors duration-300 ${n===u?"text-white":"text-blue-600"}`})})]}),e.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${n===u?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:e.jsx("div",{className:"px-6 pb-6",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border-l-4 border-blue-500",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:o.answer})})})})]})},u))})},_1=()=>{const n=new Date().getMonth(),l={0:[{id:1,name:"Dubai",country:"UAE",image:"https://images.unsplash.com/photo-1512453979798-5ea266f8880c?w=400&h=300&fit=crop&auto=format&q=60",rating:4.8,reason:"Perfect weather",popular:!0},{id:2,name:"Goa",country:"India",image:"https://images.unsplash.com/photo-1512343879784-a960bf40e7f2?w=400&h=300&fit=crop&auto=format&q=60",rating:4.6,reason:"Peak season"},{id:3,name:"Patagonia",country:"Chile",image:"https://images.unsplash.com/photo-1551632811-561732d1e306?w=400&h=300&fit=crop&auto=format&q=60",rating:4.9,reason:"Summer season"},{id:4,name:"New Zealand",country:"South Island",image:"https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=400&h=300&fit=crop&auto=format&q=60",rating:4.7,reason:"Summer adventures"},{id:5,name:"Thailand",country:"Bangkok",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop&auto=format&q=60",rating:4.5,reason:"Cool & dry"},{id:6,name:"Myanmar",country:"Bagan",image:"https://images.unsplash.com/photo-1570366583862-f91883984fde?w=400&h=300&fit=crop&auto=format&q=60",rating:4.6,reason:"Ideal climate"},{id:7,name:"Egypt",country:"Cairo",image:"https://images.unsplash.com/photo-1539650116574-75c0c6d73f6e?w=400&h=300&fit=crop&auto=format&q=60",rating:4.4,reason:"Mild temperatures"},{id:8,name:"Argentina",country:"Buenos Aires",image:"https://images.unsplash.com/photo-1589909202802-8f4aadce1849?w=400&h=300&fit=crop&auto=format&q=60",rating:4.5,reason:"Summer vibes"},{id:9,name:"Australia",country:"Sydney",image:"https://images.unsplash.com/photo-1506973035872-a4ec16b8e8d9?w=400&h=300&fit=crop&auto=format&q=60",rating:4.8,reason:"Beach season",trending:!0}],10:[{id:1,name:"Kyoto",country:"Japan",image:"https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?w=400&h=300&fit=crop&auto=format&q=60",rating:4.9,reason:"Autumn foliage",popular:!0},{id:2,name:"Dubai",country:"UAE",image:"https://images.unsplash.com/photo-1512453979798-5ea266f8880c?w=400&h=300&fit=crop&auto=format&q=60",rating:4.8,reason:"Ideal weather"},{id:3,name:"Patagonia",country:"Chile",image:"https://images.unsplash.com/photo-1551632811-561732d1e306?w=400&h=300&fit=crop&auto=format&q=60",rating:4.9,reason:"Peak season"},{id:4,name:"India",country:"Rajasthan",image:"https://images.unsplash.com/photo-1524492412937-b28074a5d7da?w=400&h=300&fit=crop&auto=format&q=60",rating:4.7,reason:"Pleasant weather"},{id:5,name:"Myanmar",country:"Bagan",image:"https://images.unsplash.com/photo-1570366583862-f91883984fde?w=400&h=300&fit=crop&auto=format&q=60",rating:4.6,reason:"Cool & dry",trending:!0},{id:6,name:"Nepal",country:"Kathmandu",image:"https://images.unsplash.com/photo-1544735716-392fe2489ffa?w=400&h=300&fit=crop&auto=format&q=60",rating:4.5,reason:"Clear mountain views"},{id:7,name:"Egypt",country:"Luxor",image:"https://images.unsplash.com/photo-1539650116574-75c0c6d73f6e?w=400&h=300&fit=crop&auto=format&q=60",rating:4.4,reason:"Comfortable temps"},{id:8,name:"Vietnam",country:"Hanoi",image:"https://images.unsplash.com/photo-1559592413-7cec4d0d2d8f?w=400&h=300&fit=crop&auto=format&q=60",rating:4.6,reason:"Perfect climate"},{id:9,name:"Cambodia",country:"Siem Reap",image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=300&fit=crop&auto=format&q=60",rating:4.5,reason:"Dry season starts"}]};return l[n]||l[10]||l[0]},D1=_1(),R1={testimonials:[{name:"Sarah Chen",location:"Singapore",text:"TravelBuddy helped me discover amazing local cafes in Tokyo I would never have found!",rating:5},{name:"Michael Rodriguez",location:"Barcelona",text:"The AI recommendations were spot-on. Saved me hours of research for my Thailand trip.",rating:5}]},O1=()=>{C0();const{user:n}=kt(),[l,i]=v.useState(""),[o,u]=v.useState(!1),[m,x]=v.useState(0),[f,g]=v.useState(0),w=["You have a trip draft in progress.","There are 3 new deals near your location.","Perfect weather in Ella this weekend!","2 friends shared new travel photos.","Your saved places have price drops."],j=[{title:"Places Discovery",content:e.jsxs("div",{className:"bg-gray-50 h-full relative overflow-hidden",children:[e.jsxs("div",{className:"bg-white p-3 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900",children:"Explore Places"}),e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(ue,{className:"w-3 h-3 text-blue-600"})})]}),e.jsxs("div",{className:"relative mb-3",children:[e.jsx(Ht,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-3 h-3 text-gray-400"}),e.jsx("input",{className:"w-full pl-9 pr-4 py-2 bg-gray-100 rounded-lg text-sm",placeholder:"Search places...",readOnly:!0})]}),e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx("div",{className:"bg-blue-500 text-white px-3 py-1 rounded-full text-xs font-medium",children:"All"}),e.jsx("div",{className:"bg-gray-200 text-gray-700 px-3 py-1 rounded-full text-xs font-medium",children:"Food"}),e.jsx("div",{className:"bg-gray-200 text-gray-700 px-3 py-1 rounded-full text-xs font-medium",children:"Culture"})]})]}),e.jsxs("div",{className:"p-3 space-y-3",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"h-24 rounded-t-lg relative overflow-hidden",children:[e.jsx("img",{src:"https://picsum.photos/300/200?random=1",alt:"Eiffel Tower",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-white/90 rounded-full flex items-center justify-center",children:e.jsx(mt,{className:"w-3 h-3 text-red-500"})})]}),e.jsxs("div",{className:"p-2",children:[e.jsx("h5",{className:"font-bold text-xs text-gray-900 mb-1",children:"Eiffel Tower"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Re,{className:"w-3 h-3 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-xs font-medium",children:"4.8"})]}),e.jsx("span",{className:"text-xs text-gray-500",children:"Landmark"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"h-24 rounded-t-lg relative overflow-hidden",children:e.jsx("img",{src:"https://picsum.photos/300/200?random=2",alt:"Notre Dame",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-2",children:[e.jsx("h5",{className:"font-bold text-xs text-gray-900 mb-1",children:"Notre Dame"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Re,{className:"w-3 h-3 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-xs font-medium",children:"4.7"})]}),e.jsx("span",{className:"text-xs text-gray-500",children:"Cathedral"})]})]})]})]})]})},{title:"Smart Search",content:e.jsxs("div",{className:"bg-gray-50 h-full relative overflow-hidden",children:[e.jsxs("div",{className:"bg-white p-3 border-b border-gray-200",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-3",children:"AI Search"}),e.jsxs("div",{className:"relative mb-3",children:[e.jsx(Ht,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-3 h-3 text-blue-600"}),e.jsx("input",{className:"w-full pl-9 pr-4 py-2 bg-blue-100 border-2 border-blue-300 rounded-lg text-sm font-medium",value:"Romantic dinner Paris",readOnly:!0})]})]}),e.jsxs("div",{className:"p-3 space-y-3",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg p-3 text-white",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(rt,{className:"w-4 h-4 mr-2"}),e.jsx("h5",{className:"font-bold text-sm",children:"AI Suggestion"})]}),e.jsx("p",{className:"text-xs opacity-90",children:"Found 12 romantic restaurants near Eiffel Tower"})]}),e.jsx("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden mr-3",children:e.jsx("img",{src:"https://picsum.photos/100/100?random=3",alt:"Restaurant",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h6",{className:"font-bold text-xs text-gray-900",children:"Le Jules Verne"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Michelin starred  "}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(Re,{className:"w-3 h-3 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-xs font-medium",children:"4.9"})]})]})]})})]})]})},{title:"Trip Planning",content:e.jsxs("div",{className:"bg-gray-50 h-full relative overflow-hidden",children:[e.jsxs("div",{className:"bg-white p-3 border-b border-gray-200",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-3",children:"My Trip"}),e.jsx("div",{className:"bg-gradient-to-r from-green-100 to-blue-100 px-3 py-2 rounded-lg mb-3 border border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-800 font-bold",children:"Paris Weekend"}),e.jsx("p",{className:"text-xs text-green-600",children:"Nov 25-27  2 days"})]}),e.jsx(At,{className:"w-4 h-4 text-green-600"})]})})]}),e.jsxs("div",{className:"p-3 space-y-3",children:[e.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-xs font-bold text-blue-600",children:"1"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900",children:"Day 1: Iconic Paris"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Eiffel Tower  Louvre Museum"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded overflow-hidden",children:e.jsx("img",{src:"https://picsum.photos/50/50?random=4",alt:"",className:"w-full h-full object-cover"})}),e.jsx("div",{className:"w-8 h-8 rounded overflow-hidden",children:e.jsx("img",{src:"https://picsum.photos/50/50?random=5",alt:"",className:"w-full h-full object-cover"})})]})]}),e.jsx("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-xs font-bold text-purple-600",children:"2"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900",children:"Day 2: Culture & Romance"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Montmartre  Seine Cruise"})]})]})})]})]})},{title:"Map Navigation",content:e.jsxs("div",{className:"bg-gray-50 h-full relative overflow-hidden",children:[e.jsxs("div",{className:"bg-white p-3 border-b border-gray-200",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-3",children:"Navigate"}),e.jsx("div",{className:"bg-blue-100 px-3 py-2 rounded-lg mb-3 border border-blue-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ue,{className:"w-4 h-4 text-blue-600 mr-2"}),e.jsx("p",{className:"text-xs text-blue-700 font-medium",children:"You are near Eiffel Tower"})]})})]}),e.jsxs("div",{className:"p-3 bg-gradient-to-br from-green-100 via-blue-100 to-purple-100 h-full relative",children:[e.jsx("div",{className:"absolute inset-0 opacity-20",children:e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-green-200 to-blue-200"})}),e.jsxs("div",{className:"relative space-y-2",children:[e.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded overflow-hidden mr-3",children:e.jsx("img",{src:"https://picsum.photos/50/50?random=6",alt:"",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900",children:"Eiffel Tower"}),e.jsx("p",{className:"text-xs text-green-600",children:"5 min walk  Open now"})]}),e.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:""})})]})}),e.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-orange-600 text-xs",children:""})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900",children:"Caf de Flore"}),e.jsx("p",{className:"text-xs text-orange-600",children:"2 min walk  Popular"})]})]})})]})]})]})}];return v.useEffect(()=>{if(n){const y=setInterval(()=>{x(b=>(b+1)%w.length)},3e3);return()=>clearInterval(y)}},[n,w.length]),v.useEffect(()=>{const y=setInterval(()=>{g(b=>(b+1)%j.length)},4e3);return()=>clearInterval(y)},[j.length]),e.jsxs("div",{className:"min-h-screen",children:[e.jsx(T1,{}),e.jsx("style",{children:k1}),e.jsxs("section",{className:"relative h-screen bg-gradient-to-b from-blue-600 via-indigo-700 to-purple-800 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0",children:e.jsx(sp,{src:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1920&h=1080&fit=crop&auto=format&q=80",fallbackSrc:"https://picsum.photos/1920/1080?random=1",alt:"Travel essentials - map, camera, passport and planning items",className:"w-full h-full object-cover",loading:"eager"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 to-transparent"}),e.jsx("div",{className:"relative z-10 h-screen flex items-center px-4 py-8",children:e.jsxs("div",{className:"w-full max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center text-white mb-8",children:[e.jsxs("h1",{className:"text-3xl md:text-5xl lg:text-6xl font-bold mb-4 leading-tight",children:[n?`Welcome back, ${n.fullName?.split(" ")[0]||n.username?.split(" ")[0]||n.name||"Explorer"}!`:"Your Perfect Trip in",e.jsx("span",{className:"block text-yellow-400",children:n?"Your next adventure is waiting.":"2 Minutes"})]}),e.jsx("h2",{className:"text-lg md:text-xl mb-6 text-white/90 max-w-2xl mx-auto",children:n?e.jsx("span",{className:"inline-block transition-all duration-500 ease-in-out transform",children:w[m]}):"AI plans everything. You just pack and go."})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mt-6",children:n?e.jsxs(e.Fragment,{children:[e.jsx(pe,{to:"/trips",children:e.jsx(H,{className:"bg-white/20 backdrop-blur-sm border border-white/30 text-white hover:bg-white hover:text-gray-900 px-6 py-3 rounded-xl transition-all duration-300",children:"Start Trip Planning"})}),e.jsx(pe,{to:"/places",children:e.jsxs(H,{className:"bg-yellow-500 hover:bg-yellow-600 text-black px-6 py-3 rounded-xl font-semibold transition-all duration-300",children:["Explore Destinations",e.jsx(Ia,{className:"w-4 h-4 ml-2"})]})})]}):e.jsxs(e.Fragment,{children:[e.jsx(pe,{to:"/register",children:e.jsxs(H,{className:"bg-yellow-500 hover:bg-yellow-600 text-black px-6 py-3 rounded-xl font-semibold transition-all duration-300",children:["Get Started Free",e.jsx(Ia,{className:"w-4 h-4 ml-2"})]})}),e.jsx(pe,{to:"/login",children:e.jsx(H,{className:"bg-white/20 backdrop-blur-sm border border-white/30 text-white hover:bg-white hover:text-gray-900 px-6 py-3 rounded-xl transition-all duration-300",children:"Sign In"})})]})})]})})]}),e.jsxs("section",{className:"py-20 bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 to-purple-600/5"}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 relative",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{className:"relative flex justify-center lg:justify-start order-2 lg:order-1",children:[e.jsx("div",{className:"absolute -top-8 -left-8 bg-blue-600 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg animate-pulse",children:" Nearby Places"}),e.jsx("div",{className:"absolute top-32 -right-12 bg-green-600 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg animate-pulse",style:{animationDelay:"1s"},children:" Offline Mode"}),e.jsx("div",{className:"absolute bottom-32 -left-16 bg-purple-600 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg animate-pulse",style:{animationDelay:"2s"},children:" AI Recommendations"}),e.jsx("div",{className:"absolute bottom-16 -right-8 bg-orange-600 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg animate-pulse",style:{animationDelay:"3s"},children:" Live Navigation"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-full blur-3xl animate-pulse-slow"}),e.jsx("div",{className:"relative phone-tilt-container z-10",children:e.jsxs("div",{className:"relative w-72 h-[580px] bg-gradient-to-b from-gray-900 to-black rounded-[3rem] p-2 shadow-2xl",children:[e.jsxs("div",{className:"w-full h-full bg-white rounded-[2.5rem] overflow-hidden relative",children:[e.jsxs("div",{className:"bg-gray-900 h-8 flex items-center justify-between px-6 text-white text-xs",children:[e.jsx("span",{className:"font-medium",children:"9:41"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-4 h-2 bg-white rounded-sm"}),e.jsx("div",{className:"w-1 h-2 bg-white rounded-sm"})]})]}),e.jsx("div",{className:"h-full transition-all duration-1000 ease-in-out",children:j[f].content}),e.jsx("div",{className:"absolute bottom-16 left-1/2 transform -translate-x-1/2 flex gap-2",children:j.map((y,b)=>e.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${b===f?"bg-blue-500 w-6":"bg-gray-300"}`},b))}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-2",children:e.jsxs("div",{className:"flex justify-around",children:[e.jsxs("div",{className:`text-xs text-center transition-colors duration-300 ${f===0?"text-blue-500":"text-gray-400"}`,children:[e.jsx("div",{className:"w-5 h-5 mx-auto mb-1 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(ue,{className:"w-3 h-3"})}),e.jsx("span",{className:"font-medium",children:"Places"})]}),e.jsxs("div",{className:`text-xs text-center transition-colors duration-300 ${f===2?"text-blue-500":"text-gray-400"}`,children:[e.jsx("div",{className:"w-5 h-5 mx-auto mb-1 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(At,{className:"w-3 h-3"})}),e.jsx("span",{children:"Trips"})]}),e.jsxs("div",{className:`text-xs text-center transition-colors duration-300 ${f===3?"text-blue-500":"text-gray-400"}`,children:[e.jsx("div",{className:"w-5 h-5 mx-auto mb-1 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(Ht,{className:"w-3 h-3"})}),e.jsx("span",{children:"Navigate"})]})]})})]}),e.jsx("div",{className:"absolute -bottom-4 left-3 right-3 h-12 bg-gradient-to-b from-black/30 to-transparent rounded-[3rem] blur-2xl"})]})})]}),e.jsxs("div",{className:"space-y-6 order-1 lg:order-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"inline-flex items-center bg-gradient-to-r from-blue-100 to-purple-100 rounded-full px-4 py-2 mb-4",children:[e.jsx("span",{className:"text-2xl mr-2",children:""}),e.jsx("span",{className:"text-blue-800 font-semibold",children:"Mobile App"})]}),e.jsxs("h2",{className:"text-4xl lg:text-5xl font-bold text-gray-900 mb-4 leading-tight",children:["Your Travel Companion",e.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600",children:"In Your Pocket"})]}),e.jsx("p",{className:"text-xl text-gray-600",children:"Unique mobile features that make travel planning effortless"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-4 bg-white rounded-xl p-4 shadow-md hover:shadow-lg transition-all duration-300 group",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-all duration-300",children:e.jsx(ue,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Nearby Places Discovery"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Find restaurants, attractions & hidden gems within walking distance using GPS"})]})]}),e.jsxs("div",{className:"flex items-start gap-4 bg-white rounded-xl p-4 shadow-md hover:shadow-lg transition-all duration-300 group",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-green-600 rounded-xl flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-all duration-300",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Offline Access"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Download maps, itineraries & place details - travel without internet or roaming"})]})]}),e.jsxs("div",{className:"flex items-start gap-4 bg-white rounded-xl p-4 shadow-md hover:shadow-lg transition-all duration-300 group",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-purple-600 rounded-xl flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-all duration-300",children:e.jsx(rt,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Smart AI Recommendations"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Get personalized suggestions based on time, weather, crowds & your preferences"})]})]}),e.jsxs("div",{className:"flex items-start gap-4 bg-white rounded-xl p-4 shadow-md hover:shadow-lg transition-all duration-300 group",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-orange-500 to-orange-600 rounded-xl flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-all duration-300",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Live Navigation"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Turn-by-turn directions to your next destination with real-time traffic updates"})]})]})]}),e.jsxs("div",{className:"pt-4",children:[e.jsx("p",{className:"text-gray-600 mb-4 font-semibold",children:"Download the mobile app:"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("a",{href:"#",className:"inline-flex items-center justify-center bg-black text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[e.jsx("svg",{className:"w-6 h-6 mr-3",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"})}),"App Store"]}),e.jsxs("a",{href:"#",className:"inline-flex items-center justify-center bg-black text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[e.jsx("svg",{className:"w-6 h-6 mr-3",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M3,20.5V3.5C3,2.91 3.34,2.39 3.84,2.15L13.69,12L3.84,21.85C3.34,21.6 3,21.09 3,20.5M16.81,15.12L6.05,21.34L14.54,12.85L16.81,15.12M20.16,10.81C20.5,11.08 20.75,11.5 20.75,12C20.75,12.5 20.53,12.9 20.18,13.18L17.89,14.5L15.39,12L17.89,9.5L20.16,10.81M6.05,2.66L16.81,8.88L14.54,11.15L6.05,2.66Z"})}),"Google Play"]})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"Or use the web app - no download needed!"})]})]})]})})]}),e.jsx("section",{className:"py-20 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Best Places to Visit This Month"}),e.jsxs("p",{className:"text-xl text-gray-600",children:["AI-curated destinations perfect for ",new Date().toLocaleString("default",{month:"long"})]})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:D1.map(y=>e.jsxs(le,{className:"group overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(sp,{src:y.image,fallbackSrc:`https://picsum.photos/400/300?random=${y.id}`,alt:y.name,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"}),y.popular&&e.jsx("div",{className:"absolute top-4 left-4 bg-yellow-500 text-black px-3 py-1 rounded-full text-sm font-medium",children:"Most Popular"}),y.trending&&e.jsx("div",{className:"absolute top-4 left-4 bg-red-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Trending"}),e.jsx("div",{className:"absolute top-4 right-4 bg-blue-600 text-white px-3 py-1 rounded-full text-xs font-medium",children:y.reason})]}),e.jsxs(re,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:y.name}),e.jsx("p",{className:"text-gray-600",children:y.country})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Re,{className:"w-4 h-4 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-sm font-medium",children:y.rating})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-blue-600 font-medium",children:y.reason}),e.jsx(pe,{to:"/places",children:e.jsx(H,{className:"bg-blue-600 text-white hover:bg-blue-700 px-4 py-2",children:"Explore"})})]})]})]},y.id))}),e.jsx("div",{className:"text-center",children:e.jsx(pe,{to:"/places",children:e.jsxs(H,{className:"bg-blue-600 text-white hover:bg-blue-700 px-8 py-4 text-lg rounded-xl",children:["View All Destinations",e.jsx(Ia,{className:"w-5 h-5 ml-2"})]})})})]})}),e.jsxs("section",{className:"py-20 bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 to-purple-600/5"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs("div",{className:"inline-flex items-center bg-gradient-to-r from-blue-100 to-purple-100 rounded-full px-6 py-2 mb-6",children:[e.jsx(rt,{className:"w-5 h-5 text-blue-600 mr-2"}),e.jsx("span",{className:"text-blue-800 font-semibold",children:"AI-Powered Planning"})]}),e.jsx("h2",{className:"text-5xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-6",children:"Plan Your Dream Trip in 3 Simple Steps"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Our AI transforms hours of research into minutes of smart planning"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8 relative",children:[e.jsx("div",{className:"hidden md:block absolute top-24 left-1/4 right-1/4 h-1 bg-gradient-to-r from-blue-400 via-purple-400 to-green-400 rounded-full"}),[{step:1,icon:e.jsx(Ht,{className:"w-10 h-10"}),title:"Tell Us Your Travel Style",description:"Share your interests and budget in just 30 seconds. No lengthy forms!",color:"from-blue-500 to-blue-600",bgColor:"from-blue-50 to-blue-100",time:"30 seconds"},{step:2,icon:e.jsx(rt,{className:"w-10 h-10"}),title:"AI Creates Your Perfect Itinerary",description:"Get personalized itineraries with hidden gems, hotels, transport & activities  all in 2 minutes.",color:"from-purple-500 to-purple-600",bgColor:"from-purple-50 to-purple-100",time:"2 minutes"},{step:3,icon:e.jsx(Fa,{className:"w-10 h-10"}),title:"Download, Share & Book Instantly",description:"One-click booking and offline access. Take your trip anywhere, even without internet.",color:"from-green-500 to-green-600",bgColor:"from-green-50 to-green-100",time:"5 minutes"}].map((y,b)=>e.jsx("div",{className:"relative group",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-4 border border-gray-100",children:[e.jsx("div",{className:`absolute -top-4 left-8 w-12 h-12 bg-gradient-to-r ${y.color} rounded-full flex items-center justify-center shadow-lg`,children:e.jsx("span",{className:"text-white font-bold text-lg",children:y.step})}),e.jsx("div",{className:`w-20 h-20 bg-gradient-to-r ${y.bgColor} rounded-2xl flex items-center justify-center mx-auto mb-6 mt-4 group-hover:scale-110 transition-transform duration-300 animate-float`,children:e.jsx("div",{className:`text-transparent bg-gradient-to-r ${y.color} bg-clip-text`,children:y.icon})}),e.jsxs("div",{className:"inline-flex items-center bg-gray-100 rounded-full px-3 py-1 mb-4",children:[e.jsx(it,{className:"w-4 h-4 text-gray-500 mr-1"}),e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:y.time})]}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:y.title}),e.jsx("p",{className:"text-gray-600 text-base leading-relaxed",children:y.description}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${y.color} opacity-0 group-hover:opacity-5 rounded-2xl transition-opacity duration-300`})]})},y.step))]}),e.jsxs("div",{className:"text-center mt-16",children:[e.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Ready to Start Your Adventure?"}),e.jsx("p",{className:"text-xl text-gray-600 mb-6",children:"Join 50,000+ travelers who saved 3+ hours with AI planning"}),e.jsx(pe,{to:"/trips",children:e.jsxs(H,{className:"bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700 text-white px-10 py-4 text-lg rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[e.jsx(rt,{className:"w-6 h-6 mr-3"}),"Start Planning Free",e.jsx(Ia,{className:"w-5 h-5 ml-3"})]})}),e.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"No credit card required  Free forever"})]})]})]}),e.jsx("section",{className:"py-16 bg-gradient-to-b from-white to-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsx("div",{className:"group",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-yellow-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-400 via-yellow-500 to-orange-500 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-gray-900 font-bold text-lg leading-tight",children:"2024 Award Winner"}),e.jsx("div",{className:"text-gray-600 text-sm font-medium",children:"Best Travel Companion"})]})]})})}),e.jsx("div",{className:"group",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-blue-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 via-blue-600 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-gray-900 font-bold text-lg leading-tight",children:"#1 Trending App"}),e.jsx("div",{className:"text-blue-600 text-sm font-medium",children:"Featured on App Store"})]})]})})}),e.jsx("div",{className:"group",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-green-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 via-green-600 to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-gray-900 font-bold text-lg leading-tight",children:"4.8/5 Rating"}),e.jsx("div",{className:"text-gray-600 text-sm font-medium",children:"Based on 50k+ Reviews"})]})]})})}),e.jsx("div",{className:"group",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-teal-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 via-green-500 to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-gray-900 font-bold text-lg leading-tight",children:"Secure & Private"}),e.jsx("div",{className:"text-gray-600 text-sm font-medium",children:"Bank-grade encryption"})]})]})})}),e.jsx("div",{className:"group",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-orange-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 via-orange-600 to-red-500 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-gray-900 font-bold text-lg leading-tight",children:"Fresh Deals"}),e.jsx("div",{className:"text-gray-600 text-sm font-medium",children:"Updated every hour"})]})]})})}),e.jsx("div",{className:"group",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-purple-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 via-purple-600 to-pink-500 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-gray-900 font-bold text-lg leading-tight",children:"Active Community"}),e.jsx("div",{className:"text-gray-600 text-sm font-medium",children:"67 travelers online now"})]})]})})})]})})}),e.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-50 to-green-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Simple, Transparent Pricing"}),e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Start free, upgrade when you need more"}),e.jsx("p",{className:"text-lg text-blue-600 font-semibold",children:"Used by travelers from 120+ countries"})]}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-6 mb-12",children:[e.jsxs("div",{className:"bg-white rounded-xl px-6 py-4 shadow-lg border border-gray-200",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"50,000+"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Travelers"})]}),e.jsxs("div",{className:"bg-white rounded-xl px-6 py-4 shadow-lg border border-gray-200",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"125,000+"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Trips Generated"})]}),e.jsxs("div",{className:"bg-white rounded-xl px-6 py-4 shadow-lg border border-gray-200",children:[e.jsx("div",{className:"flex items-center gap-1 text-2xl font-bold text-yellow-500",children:""}),e.jsx("div",{className:"text-sm text-gray-600",children:"Play Store Rating"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-gray-200 mb-12",children:[e.jsx("h3",{className:"text-2xl font-bold text-center mb-8",children:"Choose Your Plan"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-900",children:"Feature"}),e.jsx("th",{className:"text-center py-4 px-6 font-semibold text-gray-900",children:"Free"}),e.jsx("th",{className:"text-center py-4 px-6 font-semibold text-blue-600 bg-blue-50 rounded-t-lg",children:"Premium"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-4 px-6 text-gray-700",children:"AI Trip Planning"}),e.jsx("td",{className:"text-center py-4 px-6",children:e.jsx("span",{className:"text-green-500 text-xl",children:""})}),e.jsx("td",{className:"text-center py-4 px-6 bg-blue-50",children:e.jsx("span",{className:"text-green-500 text-xl",children:""})})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-4 px-6 text-gray-700",children:"Unlimited Favorites"}),e.jsx("td",{className:"text-center py-4 px-6",children:e.jsx("span",{className:"text-gray-400 text-xl",children:""})}),e.jsx("td",{className:"text-center py-4 px-6 bg-blue-50",children:e.jsx("span",{className:"text-green-500 text-xl",children:""})})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-4 px-6 text-gray-700",children:"Offline Access"}),e.jsx("td",{className:"text-center py-4 px-6",children:e.jsx("span",{className:"text-gray-400 text-xl",children:""})}),e.jsx("td",{className:"text-center py-4 px-6 bg-blue-50",children:e.jsx("span",{className:"text-green-500 text-xl",children:""})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-4 px-6 text-gray-700",children:"Advanced Weather AI"}),e.jsx("td",{className:"text-center py-4 px-6",children:e.jsx("span",{className:"text-gray-400 text-xl",children:""})}),e.jsx("td",{className:"text-center py-4 px-6 bg-blue-50 rounded-b-lg",children:e.jsx("span",{className:"text-green-500 text-xl",children:""})})]})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mt-8",children:[e.jsx(pe,{to:n?"/trips":"/register",children:e.jsx(H,{className:"bg-gray-600 text-white hover:bg-gray-700 px-8 py-3 rounded-xl",children:"Start Free"})}),e.jsx(pe,{to:"/subscription",children:e.jsx(H,{className:"bg-blue-600 text-white hover:bg-blue-700 px-8 py-3 rounded-xl",children:"Upgrade to Premium - $9.99/month"})})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg",children:[e.jsx("h3",{className:"text-2xl font-bold text-center mb-8",children:"What Our Users Say"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:R1.testimonials.map((y,b)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-3",children:[...Array(y.rating)].map((I,L)=>e.jsx(Re,{className:"w-5 h-5 text-yellow-500 fill-current"},L))}),e.jsxs("p",{className:"text-gray-700 mb-4 italic",children:['"',y.text,'"']}),e.jsx("div",{className:"font-semibold text-gray-900",children:y.name}),e.jsx("div",{className:"text-gray-600 text-sm",children:y.location})]},b))})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsx(pe,{to:"/trips",children:e.jsxs(H,{className:"bg-green-600 text-white hover:bg-green-700 px-8 py-4 text-lg rounded-xl",children:["Start Planning Free",e.jsx(Ia,{className:"w-5 h-5 ml-2"})]})})})]})}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Everything You Need"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Complete travel services in one platform"})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{icon:e.jsx(sv,{className:"w-8 h-8"}),title:"Hotels",description:"Compare the best options in seconds",link:"/services",color:"from-blue-500 to-blue-600",bgColor:"from-blue-50 to-blue-100"},{icon:e.jsx(pl,{className:"w-8 h-8"}),title:"Transport",description:"Taxi, bus, tuk-tuk, train  all in one place",link:"/transport",color:"from-green-500 to-green-600",bgColor:"from-green-50 to-green-100"},{icon:e.jsx(ue,{className:"w-8 h-8"}),title:"Activities",description:"Local events, top attractions & hidden experiences",link:"/discovery",color:"from-purple-500 to-purple-600",bgColor:"from-purple-50 to-purple-100"},{icon:e.jsx(At,{className:"w-8 h-8"}),title:"Trip Planning",description:"Your smart itinerary, always up to date",link:"/trips",color:"from-orange-500 to-orange-600",bgColor:"from-orange-50 to-orange-100"}].map((y,b)=>e.jsx(pe,{to:y.link,children:e.jsxs(le,{className:"p-6 text-center hover:shadow-xl transition-all duration-300 hover:-translate-y-2 cursor-pointer group",children:[e.jsx("div",{className:`w-16 h-16 bg-gradient-to-r ${y.bgColor} rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-all duration-300`,children:e.jsx("div",{className:`text-transparent bg-gradient-to-r ${y.color} bg-clip-text group-hover:scale-110 transition-transform duration-300`,children:y.icon})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors duration-300",children:y.title}),e.jsx("p",{className:"text-gray-600 group-hover:text-gray-700 transition-colors duration-300",children:y.description}),e.jsx("div",{className:"mt-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsx(Ia,{className:"w-5 h-5 text-blue-600 mx-auto"})})]})},b))})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-b from-gray-50 to-white",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs("div",{className:"inline-flex items-center bg-blue-100 rounded-full px-6 py-2 mb-6",children:[e.jsx("span",{className:"text-2xl mr-2",children:""}),e.jsx("span",{className:"text-blue-800 font-semibold",children:"Got Questions?"})]}),e.jsx("h2",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-6",children:"Frequently Asked Questions"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Everything you need to know about TravelBuddy"})]}),e.jsx(E1,{}),e.jsx("div",{className:"text-center mt-16",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Still have questions?"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Our support team is here to help you 24/7"}),e.jsx(pe,{to:"/contact",children:e.jsx(H,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:"Contact Support"})})]})})]})}),n&&e.jsx(v.Suspense,{fallback:e.jsx(A1,{}),children:e.jsx("section",{className:"py-20 bg-gradient-to-r from-purple-50 to-pink-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Recommended For Your Travel Style"}),e.jsx("p",{className:"text-xl text-gray-600",children:"AI-powered suggestions based on your preferences and past trips"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs(le,{className:"p-6 text-center hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-100 to-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(rt,{className:"w-8 h-8 text-purple-600"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Adventure Seeker"}),e.jsx("p",{className:"text-gray-600",children:"Hiking trails, extreme sports, and outdoor adventures"})]}),e.jsxs(le,{className:"p-6 text-center hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-100 to-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(mt,{className:"w-8 h-8 text-green-600"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Culture Explorer"}),e.jsx("p",{className:"text-gray-600",children:"Museums, local cuisine, and authentic experiences"})]}),e.jsxs(le,{className:"p-6 text-center hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-yellow-100 to-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Re,{className:"w-8 h-8 text-orange-600"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Luxury Traveler"}),e.jsx("p",{className:"text-gray-600",children:"Premium hotels, fine dining, and exclusive experiences"})]})]})]})})})]})},ea=({children:n,className:l="",variant:i="default"})=>{const o="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium",u={default:"bg-blue-100 text-blue-800",destructive:"bg-red-100 text-red-800",outline:"border border-gray-300 text-gray-700",secondary:"bg-gray-100 text-gray-800"};return e.jsx("span",{className:`${o} ${u[i]} ${l}`,children:n})},M1=({isOpen:n,onClose:l,currentTier:i="free",upgradeRequired:o=!1})=>{const{user:u}=kt(),{config:m}=zn(),[x,f]=v.useState(!1),[g,w]=v.useState({}),[j,y]=v.useState(null);v.useEffect(()=>{n&&(b(),I())},[n]);const b=async()=>{try{const C=m?.apiBaseUrl||"https://travelbuddy-b2c6hgbbgeh4esdh.eastus2-01.azurewebsites.net",_=await fetch(`${C}/api/subscriptions/tiers`);if(_.ok){const N=await _.json();w(N)}}catch(C){console.error("Failed to fetch tiers:",C)}},I=async()=>{if(u?.id)try{const C=m?.apiBaseUrl||"https://travelbuddy-b2c6hgbbgeh4esdh.eastus2-01.azurewebsites.net",_=await fetch(`${C}/api/subscriptions/status`,{headers:{"x-user-id":u.id}});if(_.ok){const N=await _.json();y(N)}}catch(C){console.error("Failed to fetch subscription status:",C)}},L=async C=>{if(u?.id){f(!0);try{const _=m?.apiBaseUrl||"https://travelbuddy-b2c6hgbbgeh4esdh.eastus2-01.azurewebsites.net",N=await fetch(`${_}/api/subscriptions/upgrade`,{method:"POST",headers:{"Content-Type":"application/json","x-user-id":u.id},body:JSON.stringify({tier:C})});if(N.ok){const q=await N.json();alert(`Successfully upgraded to ${C} plan!`),l(),window.location.reload()}else{const q=await N.json();alert(`Upgrade failed: ${q.error}`)}}catch(_){console.error("Upgrade failed:",_),alert("Upgrade failed. Please try again.")}finally{f(!1)}}};if(!n)return null;const R=["free","basic","premium","pro"],D=R.indexOf(i);return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs(le,{className:"w-full max-w-6xl max-h-[90vh] overflow-y-auto bg-white",children:[e.jsxs(st,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(nt,{className:"flex items-center text-2xl font-bold",children:[e.jsx(Ba,{className:"w-6 h-6 mr-3"}),o?"Upgrade Required":"Choose Your Plan"]}),e.jsx(H,{variant:"outline",size:"sm",onClick:l,className:"bg-white/20 border-white/30 text-white hover:bg-white/30 rounded-full w-8 h-8 p-0",children:e.jsx(St,{className:"w-4 h-4"})})]}),o&&e.jsx("p",{className:"text-blue-100 mt-2",children:"You've reached your plan limit. Upgrade to continue using this feature."})]}),e.jsxs(re,{className:"p-8",children:[j&&e.jsxs("div",{className:"mb-8 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Current Usage"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(j.usage).map(([C,_])=>e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium capitalize",children:C.replace(/([A-Z])/g," $1")}),e.jsxs("div",{className:"text-gray-600",children:[_.current," / ",_.limit===-1?"":_.limit," per ",_.period]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:_.limit===-1?"100%":`${Math.min(100,_.current/_.limit*100)}%`}})})]},C))})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:R.map((C,_)=>{const N=g[C];if(!N)return null;const q=C===i,M=_>D,Q=C==="premium";return e.jsxs("div",{className:`relative border-2 rounded-xl p-6 ${q?"border-green-500 bg-green-50":Q?"border-purple-500 bg-purple-50":"border-gray-200 bg-white"} ${M?"hover:shadow-lg transition-shadow":""}`,children:[Q&&e.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:e.jsx("span",{className:"bg-purple-600 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Most Popular"})}),q&&e.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:e.jsx("span",{className:"bg-green-600 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Current Plan"})}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsxs("div",{className:"flex justify-center mb-2",children:[C==="free"&&e.jsx(rt,{className:"w-8 h-8 text-blue-500"}),C==="basic"&&e.jsx(bs,{className:"w-8 h-8 text-green-500"}),C==="premium"&&e.jsx(Re,{className:"w-8 h-8 text-purple-500"}),C==="pro"&&e.jsx(Ba,{className:"w-8 h-8 text-yellow-500"})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:N.name}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900 mt-2",children:["$",N.price,N.price>0&&e.jsx("span",{className:"text-sm text-gray-500",children:"/month"})]})]}),e.jsx("ul",{className:"space-y-3 mb-6",children:N.features.map((W,k)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(Pa,{className:"w-5 h-5 text-green-500 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-700",children:W})]},k))}),e.jsx(H,{onClick:()=>L(C),disabled:x||q||!M,className:`w-full ${q?"bg-green-600 text-white cursor-default":M?Q?"bg-purple-600 hover:bg-purple-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:x?"Processing...":q?"Current Plan":M?`Upgrade to ${N.name}`:"Downgrade Not Available"})]},C)})}),e.jsxs("div",{className:"mt-8 text-center text-sm text-gray-600",children:[e.jsx("p",{children:"All plans include basic features and customer support."}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Note:"})," This is a demo subscription system. No actual payment is processed."]})]})]})]})})},I1=()=>{const{user:n}=kt(),[l,i]=v.useState({emailVerified:!1,phoneVerified:!1,twoFactorEnabled:!1,lastLogin:new Date,loginHistory:[]}),[o,u]=v.useState(!1),m=async()=>{if(n?.id)try{const f=await ds.getConfig(),g=localStorage.getItem("token")||localStorage.getItem("demo_token"),w={};g&&(w.Authorization=`Bearer ${g}`),n?.id&&(w["x-user-id"]=n.id);const j=await fetch(`${f.apiBaseUrl}/api/users/security`,{headers:w});if(j.ok){const y=await j.json();i(y)}else i({emailVerified:!0,phoneVerified:!1,twoFactorEnabled:!1,lastLogin:new Date,loginHistory:[]})}catch(f){console.error("Failed to fetch security settings:",f),i({emailVerified:!0,phoneVerified:!1,twoFactorEnabled:!1,lastLogin:new Date,loginHistory:[]})}},x=async f=>{u(!0);try{const g=await ds.getConfig(),w=localStorage.getItem("token")||localStorage.getItem("demo_token"),j={"Content-Type":"application/json"};w&&(j.Authorization=`Bearer ${w}`),n?.id&&(j["x-user-id"]=n.id);const y=await fetch(`${g.apiBaseUrl}/api/users/security`,{method:"PUT",headers:j,body:JSON.stringify(f)});if(y.ok){const b=await y.json();return i(I=>({...I,...b})),!0}return!1}catch(g){return console.error("Failed to update security settings:",g),!1}finally{u(!1)}};return v.useEffect(()=>{m()},[n?.id]),{security:l,loading:o,updateSecurity:x,refreshSecurity:m}},z1=({currentPicture:n,onUploadSuccess:l,onUploadError:i,onUploadProgress:o})=>{const{user:u}=kt(),[m,x]=v.useState(!1),[f,g]=v.useState(null),[w,j]=v.useState(0),[y,b]=v.useState(null),[I,L]=v.useState(!1),R=v.useRef(null),D=q=>{const M=q.target.files?.[0];if(!M)return;if(b(null),L(!1),!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(M.type)){const k="Please select a valid image file (JPEG, PNG, GIF, or WebP)";b(k),i?.(k),setTimeout(()=>b(null),5e3);return}if(M.size>5*1024*1024){const k="File size must be less than 5MB";b(k),i?.(k),setTimeout(()=>b(null),5e3);return}const W=new FileReader;W.onload=k=>{g(k.target?.result)},W.readAsDataURL(M),C(M)},C=async q=>{x(!0),j(0),o?.(0);try{const M=new FormData;M.append("profilePicture",q);const Q=localStorage.getItem("token")||localStorage.getItem("demo_token"),W={};Q&&(W.Authorization=`Bearer ${Q}`),u?.id&&(W["x-user-id"]=u.id);const k=setInterval(()=>{j(Y=>Math.min(Y+10,90))},200),fe=`${(await ds.getConfig()).apiBaseUrl}/api/upload/profile-picture`;console.log(" Uploading to:",fe,{userId:u?.id,hasToken:!!Q});const Se=await fetch(fe,{method:"POST",headers:W,body:M});if(console.log(" Upload response:",Se.status,Se.statusText),clearInterval(k),j(100),!Se.ok){const Y=await Se.json();throw new Error(Y.error||"Upload failed")}const A=await Se.json();if(A.success)L(!0),l?.(A.profilePicture),setTimeout(()=>{g(null),j(0),L(!1)},2e3);else throw new Error(A.error||"Upload failed")}catch(M){console.error("Upload error:",M);const Q=M instanceof Error?M.message:"Upload failed. Please try again.";b(Q),i?.(Q),g(null),j(0),setTimeout(()=>b(null),5e3)}finally{x(!1),R.current&&(R.current.value="")}},_=()=>{R.current?.click()},N=f||n;return e.jsxs("div",{className:"relative group",children:[e.jsxs("div",{className:"w-40 h-40 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm border-4 border-white/30 shadow-2xl overflow-hidden",children:[N?e.jsx("img",{src:N,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx($a,{className:"w-20 h-20 text-white"}),m&&e.jsxs("div",{className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center rounded-full",children:[e.jsx(sg,{className:"w-10 h-10 text-white animate-spin mb-2"}),w>0&&e.jsxs("div",{className:"text-white text-sm font-bold",children:[w,"%"]}),e.jsx("div",{className:"w-24 h-1 bg-white/30 rounded-full mt-2 overflow-hidden",children:e.jsx("div",{className:"h-full bg-white transition-all duration-300",style:{width:`${w}%`}})})]}),I&&e.jsxs("div",{className:"absolute inset-0 bg-green-500/90 flex flex-col items-center justify-center rounded-full animate-in fade-in duration-300",children:[e.jsx(Pa,{className:"w-12 h-12 text-white mb-1"}),e.jsx("span",{className:"text-white text-sm font-semibold",children:"Uploaded!"})]})]}),e.jsx("button",{onClick:_,disabled:m||I,className:"absolute bottom-3 right-3 w-12 h-12 bg-white text-blue-600 rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-all duration-200 group-hover:bg-blue-50 disabled:opacity-50 disabled:cursor-not-allowed",title:"Upload profile picture",children:I?e.jsx(Pa,{className:"w-6 h-6 text-green-600"}):m?e.jsx(sg,{className:"w-5 h-5 animate-spin"}):e.jsx(Ha,{className:"w-6 h-6"})}),e.jsx("input",{ref:R,type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:D,className:"hidden"}),y&&e.jsxs("div",{className:"absolute -bottom-16 left-1/2 -translate-x-1/2 w-64 bg-red-500 text-white text-xs py-2 px-3 rounded-lg shadow-lg flex items-center space-x-2 animate-in slide-in-from-bottom-2 duration-300",children:[e.jsx(or,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:y})]}),I&&!y&&e.jsxs("div",{className:"absolute -bottom-16 left-1/2 -translate-x-1/2 w-64 bg-green-500 text-white text-xs py-2 px-3 rounded-lg shadow-lg flex items-center space-x-2 animate-in slide-in-from-bottom-2 duration-300",children:[e.jsx(Pa,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:"Profile picture updated successfully!"})]})]})},L1=()=>{const{user:n,updateProfile:l,logout:i}=kt(),o=Tt(),{security:u,updateSecurity:m}=I1(),[x,f]=v.useState(!1),[g,w]=v.useState({username:n?.username||"",email:n?.email||"",fullName:n?.fullName||"",phone:n?.phone||"",bio:n?.bio||"",homeCity:n?.homeCity||"",languages:n?.languages||[]}),[j,y]=v.useState(!1),[b,I]=v.useState(!1),[L,R]=v.useState({tripsPlanned:0,placesVisited:0,reviewsWritten:0,aiGenerations:0,profileViews:0,dealsCreated:0,clientSatisfaction:0,ridesCompleted:0}),[D,C]=v.useState(!1),[_,N]=v.useState(""),[q,M]=v.useState([]),[Q,W]=v.useState(""),[k,ae]=v.useState({budgetRange:"moderate",travelPace:"moderate",interests:[],accessibility:!1}),[fe,Se]=v.useState({profileVisibility:"public",hideTravel:!1,hideActivity:!1}),[A,Y]=v.useState({email:!0,push:!0,trips:!0,deals:!0,community:!0}),[se,K]=v.useState(!1),[T,F]=v.useState(!1),[z,ee]=v.useState(!1),U=()=>{let $=0;const ye=5;return(n?.fullName||g.fullName)&&$++,u.emailVerified&&$++,(n?.phone||g.phone)&&$++,(n?.bio||g.bio)&&$++,(n?.homeCity||g.homeCity)&&$++,Math.round($/ye*100)};v.useEffect(()=>{ds.getConfig().then($=>N($.apiBaseUrl))},[]),v.useEffect(()=>{n?.id&&ie()},[n?.id]),v.useEffect(()=>{if(n){if(n.socialLinks){const $=n.socialLinks;if(Array.isArray($))M($);else{const ye=Object.entries($).filter(([Me,Oe])=>Oe).map(([Me,Oe])=>({platform:Me,url:Oe}));M(ye)}}n.travelPreferences&&ae(n.travelPreferences)}},[n]),v.useEffect(()=>{const $=ye=>{ye.target.closest(".role-menu-container")||C(!1)};return document.addEventListener("click",$),()=>document.removeEventListener("click",$)},[]);const ie=async()=>{try{const $=await ds.getConfig(),ye=localStorage.getItem("token")||localStorage.getItem("demo_token"),Me={};ye&&(Me.Authorization=`Bearer ${ye}`),n?.id&&(Me["x-user-id"]=n.id);const Oe=await fetch(`${$.apiBaseUrl}/api/users/${n?.id}/stats`,{headers:Me});if(Oe.ok){const Qe=await Oe.json();if(R({tripsPlanned:Qe.totalTrips||0,placesVisited:Qe.totalFavorites||0,reviewsWritten:Qe.totalPosts||0,aiGenerations:0,profileViews:0,dealsCreated:0,clientSatisfaction:0,ridesCompleted:0}),w({username:n?.username||"",email:n?.email||"",fullName:Qe.fullName||n?.fullName||"",phone:Qe.phone||n?.phone||"",bio:Qe.bio||n?.bio||"",homeCity:Qe.homeCity||n?.homeCity||"",languages:Qe.languages||n?.languages||[]}),Qe.socialLinks)if(Array.isArray(Qe.socialLinks))M(Qe.socialLinks);else{const Jt=Object.entries(Qe.socialLinks).filter(([te,he])=>he).map(([te,he])=>({platform:te,url:he}));M(Jt)}Qe.travelPreferences&&ae(Qe.travelPreferences)}}catch($){console.error("Failed to fetch user stats:",$)}},ve=async()=>{y(!0);try{const $=await ds.getConfig(),ye=localStorage.getItem("token")||localStorage.getItem("demo_token"),Me={"Content-Type":"application/json"};ye&&(Me.Authorization=`Bearer ${ye}`),n?.id&&(Me["x-user-id"]=n.id);const Oe=await fetch(`${$.apiBaseUrl}/api/users/profile`,{method:"PUT",headers:Me,body:JSON.stringify({...g,socialLinks:q,travelPreferences:k})});if(Oe.ok){const Qe=await Oe.json();await l({username:g.username,fullName:g.fullName,phone:g.phone,bio:g.bio,homeCity:g.homeCity,socialLinks:q,travelPreferences:k}),f(!1),alert("Profile updated successfully!")}else throw new Error("Failed to update profile")}catch($){console.error("Failed to update profile:",$),alert("Failed to update profile. Please try again.")}finally{y(!1)}},me=()=>{w({username:n?.username||"",email:n?.email||"",fullName:n?.fullName||"",phone:n?.phone||"",bio:n?.bio||"",homeCity:n?.homeCity||"",languages:n?.languages||[]}),f(!1)},Ne=async $=>{console.log("Profile picture uploaded successfully:",$),n&&await l({profilePicture:$}),ie()},Ye=$=>{console.error("Profile picture upload failed:",$)};if(!n)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Not Logged In"}),e.jsx("p",{className:"text-gray-600",children:"Please log in to view your profile"})]})});const Ke=()=>{const $=n.activeRole||n.role;return $==="merchant"?[{icon:cs,label:"Deals Created",value:L.dealsCreated,bgColor:"bg-purple-100",iconColor:"text-purple-600"},{icon:Ga,label:"Profile Views",value:L.profileViews,bgColor:"bg-blue-100",iconColor:"text-blue-600"},{icon:Re,label:"Rating",value:"4.8",bgColor:"bg-yellow-100",iconColor:"text-yellow-600"}]:$==="travel_agent"?[{icon:Ct,label:"Clients Served",value:L.ridesCompleted,bgColor:"bg-green-100",iconColor:"text-green-600"},{icon:bl,label:"Satisfaction",value:`${L.clientSatisfaction}%`,bgColor:"bg-blue-100",iconColor:"text-blue-600"},{icon:Re,label:"Rating",value:"4.9",bgColor:"bg-yellow-100",iconColor:"text-yellow-600"}]:$==="transport_provider"?[{icon:pl,label:"Rides Completed",value:L.ridesCompleted,bgColor:"bg-indigo-100",iconColor:"text-indigo-600"},{icon:cs,label:"Fleet Usage",value:"85%",bgColor:"bg-green-100",iconColor:"text-green-600"},{icon:Re,label:"Driver Rating",value:"4.7",bgColor:"bg-yellow-100",iconColor:"text-yellow-600"}]:[{icon:ue,label:"Trips Planned",value:L.tripsPlanned,bgColor:"bg-blue-100",iconColor:"text-blue-600"},{icon:mt,label:"Places Saved",value:L.placesVisited,bgColor:"bg-green-100",iconColor:"text-green-600"},{icon:ju,label:"Posts Shared",value:L.reviewsWritten,bgColor:"bg-yellow-100",iconColor:"text-yellow-600"}]},Te=()=>{const $=L.tripsPlanned,ye=L.placesVisited;return $>=10?{type:"Adventure Seeker",icon:zu,desc:"Always exploring new horizons"}:ye>=20?{type:"Culture Explorer",icon:gs,desc:"Passionate about diverse experiences"}:$>=5?{type:"Weekend Wanderer",icon:ue,desc:"Regular traveler building memories"}:{type:"Journey Starter",icon:rt,desc:"Beginning your travel adventure"}},Ze=()=>{const $=[];return L.tripsPlanned>0&&$.push({icon:rv,label:"First Trip",color:"text-blue-600"}),L.tripsPlanned>=5&&$.push({icon:co,label:"5 Trips",color:"text-purple-600"}),L.placesVisited>=10&&$.push({icon:nv,label:"10 Places",color:"text-green-600"}),L.reviewsWritten>=5&&$.push({icon:Re,label:"5 Reviews",color:"text-yellow-600"}),$},ft=()=>[],Et=[{id:"culture",label:"Culture & History",icon:gs},{id:"adventure",label:"Adventure",icon:yu},{id:"food",label:"Food & Dining",icon:vu},{id:"beach",label:"Beach & Relaxation",icon:Fa},{id:"nature",label:"Nature & Wildlife",icon:yu},{id:"shopping",label:"Shopping",icon:rg},{id:"nightlife",label:"Nightlife",icon:Re},{id:"photography",label:"Photography",icon:Ha},{id:"wellness",label:"Wellness & Spa",icon:mt},{id:"sports",label:"Sports & Fitness",icon:co},{id:"art",label:"Art & Museums",icon:rt},{id:"music",label:"Music & Festivals",icon:ur}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-16 relative",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-center space-y-8 lg:space-y-0 lg:space-x-12",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(z1,{currentPicture:n.profilePicture,onUploadSuccess:Ne,onUploadError:Ye})}),e.jsxs("div",{className:"text-center lg:text-left flex-1",children:[e.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-3 mb-2",children:[e.jsx("h1",{className:"text-5xl font-bold",children:n.fullName||n.email?.split("@")[0]}),e.jsx(tt,{className:"w-6 h-6 text-green-400",title:"Verified Account"})]}),e.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-2 mb-4",children:[e.jsx(ys,{className:"w-5 h-5 text-white/80"}),e.jsx("p",{className:"text-xl text-white/90",children:n.email}),u.emailVerified?e.jsx(tt,{className:"w-4 h-4 text-green-400",title:"Email Verified"}):e.jsx(or,{className:"w-4 h-4 text-yellow-400",title:"Email Not Verified"})]}),(n.phone||g.phone)&&e.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-2 mb-6",children:[e.jsx(vs,{className:"w-5 h-5 text-white/80"}),e.jsx("p",{className:"text-lg text-white/90",children:n.phone||g.phone}),u.phoneVerified?e.jsx(tt,{className:"w-4 h-4 text-green-400",title:"Phone Verified"}):e.jsx(or,{className:"w-4 h-4 text-yellow-400",title:"Phone Not Verified"})]}),e.jsxs("div",{className:"flex flex-wrap justify-center lg:justify-start gap-3 mb-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 text-yellow-900 px-4 py-2 rounded-full font-semibold shadow-lg",children:[(n.tier==="travelagent"||n.tier==="partner")&&e.jsx(Ba,{className:"w-4 h-4 mr-2 inline"}),n.tier==="wanderpro"&&e.jsx(bs,{className:"w-4 h-4 mr-2 inline"}),(n.tier||"explorer").charAt(0).toUpperCase()+(n.tier||"explorer").slice(1)," Plan"]}),(n.roles||[n.role||"user"]).map($=>e.jsxs("div",{className:`px-4 py-2 rounded-full font-medium shadow-lg ${$===n.activeRole?"bg-white text-blue-600":"bg-white/20 backdrop-blur-sm border border-white/30"}`,children:[$==="merchant"?" Business":$==="transport_provider"?" Transport":$==="travel_agent"?" Agent":" Traveler",$===n.activeRole&&" (Active)"]},$))]}),n.bio&&e.jsx("p",{className:"text-lg text-white/90 max-w-2xl",children:n.bio})]}),e.jsxs("div",{className:"flex flex-col space-y-3",children:[x?e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs(H,{variant:"outline",className:"bg-white/20 border-white/30 text-white hover:bg-white/30",onClick:me,children:[e.jsx(St,{className:"w-4 h-4 mr-2"}),"Cancel"]}),e.jsxs(H,{className:"bg-blue-600 text-white hover:bg-blue-700",onClick:ve,disabled:j,children:[e.jsx(gr,{className:"w-4 h-4 mr-2"}),j?"Saving...":"Save"]})]}):e.jsxs(H,{onClick:()=>f(!0),className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm",children:[e.jsx(bu,{className:"w-5 h-5 mr-2"}),"Edit Profile"]}),e.jsxs(H,{variant:"outline",className:"bg-white/10 border-white/30 text-white hover:bg-white/20",onClick:()=>I(!0),children:[e.jsx(Ba,{className:"w-5 h-5 mr-2"}),"Upgrade Plan"]})]})]})})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 -mt-12 relative z-10",children:[e.jsx(le,{className:"bg-white shadow-lg mb-6 border border-gray-100",children:e.jsxs(re,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:e.jsx(av,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Active Role"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:n.activeRole==="merchant"?" Business Owner":n.activeRole==="transport_provider"?" Transport Provider":n.activeRole==="travel_agent"?" Travel Agent":" Traveler"})]})]}),e.jsx(H,{variant:"outline",className:"border-2",onClick:()=>o("/role-selection"),children:"Switch Role"})]}),(n.roles||[]).length>1&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Available Roles:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(n.roles||[n.role||"user"]).map($=>e.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${$===n.activeRole?"bg-blue-100 text-blue-700 font-semibold":"bg-gray-100 text-gray-600"}`,children:$==="merchant"?" Business":$==="transport_provider"?" Transport":$==="travel_agent"?" Agent":" Traveler"},$))})]})]})}),e.jsx(le,{className:"bg-white shadow-lg mb-8 border border-gray-100",children:e.jsxs(re,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Profile Completion"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Complete your profile to unlock all features"})]}),e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[U(),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-500",style:{width:`${U()}%`}})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${n?.fullName||g.fullName?"bg-green-50":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[n?.fullName||g.fullName?e.jsx(tt,{className:"w-4 h-4 text-green-600"}):e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add your full name"})]}),!(n?.fullName||g.fullName)&&e.jsx(H,{size:"sm",variant:"outline",onClick:()=>f(!0),className:"text-xs",children:"Add"})]}),e.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${u.emailVerified?"bg-green-50":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[u.emailVerified?e.jsx(tt,{className:"w-4 h-4 text-green-600"}):e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Verify your email"})]}),!u.emailVerified&&e.jsx(H,{size:"sm",variant:"outline",className:"text-xs",children:"Verify"})]}),e.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${n?.phone||g.phone?"bg-green-50":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[n?.phone||g.phone?e.jsx(tt,{className:"w-4 h-4 text-green-600"}):e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add phone number"})]}),!(n?.phone||g.phone)&&e.jsx(H,{size:"sm",variant:"outline",onClick:()=>f(!0),className:"text-xs",children:"Add"})]}),e.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${n?.bio||g.bio?"bg-green-50":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[n?.bio||g.bio?e.jsx(tt,{className:"w-4 h-4 text-green-600"}):e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Write a bio"})]}),!(n?.bio||g.bio)&&e.jsx(H,{size:"sm",variant:"outline",onClick:()=>f(!0),className:"text-xs",children:"Add"})]}),e.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${n?.homeCity||g.homeCity?"bg-green-50":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[n?.homeCity||g.homeCity?e.jsx(tt,{className:"w-4 h-4 text-green-600"}):e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add home city"})]}),!(n?.homeCity||g.homeCity)&&e.jsx(H,{size:"sm",variant:"outline",onClick:()=>f(!0),className:"text-xs",children:"Add"})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:Ke().map(($,ye)=>{const Me=$.icon;return e.jsx(le,{className:"bg-white shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1 border-2 border-gray-100",children:e.jsxs(re,{className:"p-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:`w-16 h-16 ${$.bgColor} rounded-2xl flex items-center justify-center`,children:e.jsx(Me,{className:`w-9 h-9 ${$.iconColor}`})})}),e.jsx("div",{className:"text-4xl font-bold text-gray-900 mb-1",children:$.value}),e.jsx("div",{className:"text-gray-600 font-semibold",children:$.label})]})},ye)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-12",children:[e.jsx(le,{className:"bg-white shadow-lg border border-gray-100",children:e.jsxs(re,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-2xl flex items-center justify-center",children:(()=>{const $=Te().icon;return e.jsx($,{className:"w-9 h-9 text-blue-600"})})()}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Your Travel Personality"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:Te().type}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Te().desc})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["$",L.tripsPlanned*450]}),e.jsx("div",{className:"text-xs text-gray-600",children:"Est. Travel Spend"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:L.placesVisited}),e.jsx("div",{className:"text-xs text-gray-600",children:"Places Explored"})]})]})]})}),e.jsx(le,{className:"bg-white shadow-lg border border-gray-100",children:e.jsxs(re,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(co,{className:"w-6 h-6 text-yellow-600"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Achievements"})]}),e.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:[Ze().length," Unlocked"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[Ze().map(($,ye)=>{const Me=$.icon;return e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-xl border border-gray-200",children:[e.jsx("div",{className:"w-10 h-10 bg-white rounded-lg flex items-center justify-center shadow-sm",children:e.jsx(Me,{className:`w-6 h-6 ${$.color}`})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:$.label}),e.jsx("p",{className:"text-xs text-gray-500",children:"Unlocked"})]})]},ye)}),Ze().length===0&&e.jsxs("div",{className:"col-span-2 text-center py-6 text-gray-500",children:[e.jsx(co,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"Start your journey to unlock badges!"})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-12",children:[e.jsxs(le,{className:"bg-white shadow-lg lg:col-span-2 border border-gray-100",children:[e.jsx(st,{className:"border-b border-gray-100",children:e.jsxs(nt,{className:"text-xl text-gray-900 flex items-center",children:[e.jsx(it,{className:"w-5 h-5 mr-2 text-blue-600"}),"Recent Activity"]})}),e.jsx(re,{className:"p-6",children:ft().length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(it,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No recent activity"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Start planning trips to see your activity here"})]}):e.jsx("div",{className:"space-y-4",children:ft().map(($,ye)=>{const Me=$.icon;return e.jsxs("div",{className:"flex items-start space-x-3 p-3 hover:bg-gray-50 rounded-lg transition-colors",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(Me,{className:`w-5 h-5 ${$.color}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm text-gray-900",children:[e.jsx("span",{className:"font-medium",children:$.action})," ",e.jsx("span",{className:"font-semibold text-blue-600",children:$.target})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:$.time})]})]},ye)})})})]}),e.jsxs(le,{className:"bg-white shadow-lg border border-gray-100",children:[e.jsx(st,{className:"border-b border-gray-100",children:e.jsxs(nt,{className:"text-xl text-gray-900 flex items-center",children:[e.jsx(ag,{className:"w-5 h-5 mr-2 text-purple-600"}),"Social Links"]})}),e.jsx(re,{className:"p-6",children:e.jsx("div",{className:"space-y-3",children:x?e.jsxs(e.Fragment,{children:[q.map(($,ye)=>{const Oe={instagram:pu,linkedin:lg,twitter:gu,facebook:fu,tiktok:"",youtube:"",github:"",website:gs}[$.platform];return e.jsxs("div",{className:"flex items-center space-x-2",children:[typeof Oe=="string"?e.jsx("span",{className:"text-lg",children:Oe}):e.jsx(Oe,{className:"w-4 h-4"}),e.jsx("input",{type:"text",value:$.url,onChange:Qe=>{const Jt=[...q];Jt[ye].url=Qe.target.value,M(Jt)},className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg text-sm",placeholder:"Enter URL"}),e.jsx(H,{size:"sm",variant:"outline",onClick:()=>M(q.filter((Qe,Jt)=>Jt!==ye)),className:"text-red-600",children:e.jsx(St,{className:"w-4 h-4"})})]},ye)}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:Q,onChange:$=>W($.target.value),className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg text-sm",children:[e.jsx("option",{value:"",children:"Select platform"}),["instagram","linkedin","twitter","facebook","tiktok","youtube","github","website"].filter($=>!q.find(ye=>ye.platform===$)).map($=>e.jsx("option",{value:$,children:$.charAt(0).toUpperCase()+$.slice(1)},$))]}),e.jsx(H,{size:"sm",onClick:()=>{Q&&(M([...q,{platform:Q,url:""}]),W(""))},disabled:!Q,children:"Add"})]})]}):e.jsx(e.Fragment,{children:q.length===0?e.jsxs("div",{className:"text-center py-6",children:[e.jsx(ag,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No social links added"}),e.jsx(H,{size:"sm",variant:"outline",onClick:()=>f(!0),className:"mt-3",children:"Add Links"})]}):e.jsx("div",{className:"space-y-2",children:q.map(($,ye)=>{const Oe={instagram:pu,linkedin:lg,twitter:gu,facebook:fu,tiktok:"",youtube:"",github:"",website:gs}[$.platform];return e.jsxs("a",{href:$.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded-lg",children:[typeof Oe=="string"?e.jsx("span",{className:"text-lg",children:Oe}):e.jsx(Oe,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm text-gray-900 capitalize",children:$.platform})]},ye)})})})})})]})]}),e.jsxs(le,{className:"bg-white shadow-lg mb-12 border border-gray-100",children:[e.jsx(st,{className:"border-b border-gray-100",children:e.jsx(nt,{className:"text-xl text-gray-900 flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(vo,{className:"w-5 h-5 mr-2 text-purple-600"}),"Travel Preferences"]})})}),e.jsxs(re,{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Budget Range"}),x?e.jsxs("select",{value:k.budgetRange,onChange:$=>ae({...k,budgetRange:$.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg",children:[e.jsx("option",{value:"budget",children:"Budget ($)"}),e.jsx("option",{value:"moderate",children:"Moderate ($$)"}),e.jsx("option",{value:"luxury",children:"Luxury ($$$)"})]}):e.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg",children:[e.jsx(rg,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium capitalize",children:k.budgetRange})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Travel Pace"}),x?e.jsxs("select",{value:k.travelPace,onChange:$=>ae({...k,travelPace:$.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg",children:[e.jsx("option",{value:"relaxed",children:"Relaxed"}),e.jsx("option",{value:"moderate",children:"Moderate"}),e.jsx("option",{value:"fast",children:"Fast-Paced"})]}):e.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg",children:[e.jsx(bs,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"font-medium capitalize",children:k.travelPace})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Accessibility"}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[x?e.jsx("input",{type:"checkbox",checked:k.accessibility,onChange:$=>ae({...k,accessibility:$.target.checked}),className:"w-5 h-5 text-blue-600 rounded"}):e.jsx(tt,{className:`w-5 h-5 ${k.accessibility?"text-green-600":"text-gray-300"}`}),e.jsx("span",{className:"font-medium",children:k.accessibility?"Required":"Not Required"})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Travel Interests"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Et.map($=>{const ye=$.icon,Me=k.interests.includes($.id);return e.jsxs("button",{onClick:()=>{x&&ae({...k,interests:Me?k.interests.filter(Oe=>Oe!==$.id):[...k.interests,$.id]})},disabled:!x,className:`flex items-center space-x-2 p-3 rounded-lg border-2 transition-all ${Me?"border-blue-500 bg-blue-50":"border-gray-200 bg-white hover:border-gray-300"} ${x?"cursor-pointer":"cursor-default"}`,children:[e.jsx(ye,{className:`w-5 h-5 ${Me?"text-blue-600":"text-gray-400"}`}),e.jsx("span",{className:`text-sm font-medium ${Me?"text-blue-900":"text-gray-600"}`,children:$.label})]},$.id)})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-8 pb-16",children:[e.jsxs("div",{className:"xl:col-span-2 space-y-8",children:[e.jsxs(le,{className:"bg-white shadow-lg border border-gray-100",children:[e.jsx(st,{className:"border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(nt,{className:"text-2xl text-gray-900 flex items-center",children:[e.jsx($a,{className:"w-6 h-6 mr-3 text-blue-600"}),"Personal Information"]}),x?e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs(H,{variant:"outline",size:"sm",onClick:me,children:[e.jsx(St,{className:"w-4 h-4 mr-2"}),"Cancel"]}),e.jsxs(H,{size:"sm",onClick:ve,disabled:j,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[e.jsx(gr,{className:"w-4 h-4 mr-2"}),j?"Saving...":"Save"]})]}):e.jsxs(H,{onClick:()=>f(!0),variant:"outline",size:"sm",children:[e.jsx(bu,{className:"w-4 h-4 mr-2"}),"Edit"]})]})}),e.jsx(re,{className:"p-8 space-y-6",children:x?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:g.fullName,onChange:$=>w({...g,fullName:$.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your full name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Username"}),e.jsx("input",{type:"text",value:g.username,onChange:$=>w({...g,username:$.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:g.email,disabled:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-100 cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone"}),e.jsx("input",{type:"tel",value:g.phone,onChange:$=>w({...g,phone:$.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"+1 (555) 123-4567"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Bio"}),e.jsx("textarea",{value:g.bio,onChange:$=>w({...g,bio:$.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 h-24 resize-none",placeholder:"Tell us about yourself..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Home City"}),e.jsx("input",{type:"text",value:g.homeCity,onChange:$=>w({...g,homeCity:$.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"New York, NY"})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Full Name"}),e.jsx("p",{className:"text-lg text-gray-900 font-medium",children:n.fullName||g.fullName||"Not set"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Username"}),e.jsx("p",{className:"text-lg text-gray-900 font-medium",children:n.fullName||n.email?.split("@")[0]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Email"}),e.jsx("p",{className:"text-lg text-gray-900 font-medium",children:n.email})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Phone"}),e.jsx("p",{className:"text-lg text-gray-900 font-medium",children:n.phone||g.phone||"Not set"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Bio"}),e.jsx("p",{className:"text-lg text-gray-900 font-medium",children:n.bio||g.bio||"Not set"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Home City"}),e.jsx("p",{className:"text-lg text-gray-900 font-medium",children:n.homeCity||g.homeCity||"Not set"})]})]})]})})]}),e.jsxs(le,{className:"bg-white shadow-lg overflow-hidden border border-gray-100",children:[e.jsx(st,{className:"bg-green-50 border-b border-green-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:e.jsx(sa,{className:"w-7 h-7 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Account Security"}),e.jsx("p",{className:"text-green-600 text-sm font-medium",children:" Your account is secure"})]})]}),e.jsx(tt,{className:"w-8 h-8 text-green-600"})]})}),e.jsx(re,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-xl border border-green-200",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center shadow-sm",children:e.jsx(tt,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-900",children:"Email Verified"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Confirmed and secure"})]})]}),e.jsx(tt,{className:"w-6 h-6 text-green-600"})]}),e.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl border ${u.twoFactorEnabled?"bg-green-50 border-green-200":"bg-amber-50 border-amber-300"}`,children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center shadow-sm ${u.twoFactorEnabled?"bg-green-500":"bg-amber-500"}`,children:u.twoFactorEnabled?e.jsx(tt,{className:"w-7 h-7 text-white"}):e.jsx(or,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-bold text-gray-900",children:"Two-Factor Auth"}),e.jsx("p",{className:"text-sm text-gray-600",children:u.twoFactorEnabled?"Extra protection active":"Recommended for security"})]})]}),e.jsx(H,{size:"sm",className:u.twoFactorEnabled?"bg-red-500 hover:bg-red-600 text-white":"bg-green-600 hover:bg-green-700 text-white",onClick:()=>m({twoFactorEnabled:!u.twoFactorEnabled}),children:u.twoFactorEnabled?"Disable":"Enable"})]})]})})]})]}),e.jsx("div",{className:"xl:col-span-2 space-y-8",children:e.jsxs(le,{className:"bg-white shadow-lg border border-gray-100",children:[e.jsx(st,{className:"border-b border-gray-100",children:e.jsxs(nt,{className:"text-2xl text-gray-900 flex items-center",children:[e.jsx(bs,{className:"w-6 h-6 mr-3 text-purple-600"}),"Quick Actions"]})}),e.jsxs(re,{className:"p-8 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(H,{className:"justify-start bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white h-14",onClick:()=>I(!0),children:[e.jsx(Ba,{className:"w-6 h-6 mr-3"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold",children:"Subscription"}),e.jsx("div",{className:"text-xs opacity-90",children:"Manage your plan"})]})]}),e.jsxs(H,{variant:"outline",className:"justify-start border-2 hover:bg-blue-50 h-14",onClick:()=>o("/trips"),children:[e.jsx(ue,{className:"w-6 h-6 mr-3 text-blue-600"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold",children:"My Trips"}),e.jsx("div",{className:"text-xs text-gray-500",children:"View & manage"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(H,{variant:"outline",className:"justify-start border-2 hover:bg-green-50 h-14",onClick:()=>o("/discovery"),children:[e.jsx(mt,{className:"w-6 h-6 mr-3 text-green-600"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold",children:"Saved Places"}),e.jsxs("div",{className:"text-xs text-gray-500",children:[L.placesVisited," places"]})]})]}),e.jsxs(H,{variant:"outline",className:"justify-start border-2 hover:bg-yellow-50 h-14",onClick:()=>o("/community"),children:[e.jsx(pr,{className:"w-6 h-6 mr-3 text-yellow-600"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold",children:"Messages"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Coming soon"})]})]})]}),(n.activeRole==="merchant"||n.role==="merchant")&&e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Business Tools"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(H,{variant:"outline",className:"justify-start h-12",onClick:()=>o("/deals/create"),children:[e.jsx(cs,{className:"w-5 h-5 mr-3 text-purple-600"}),"Create Deal"]}),e.jsxs(H,{variant:"outline",className:"justify-start h-12",children:[e.jsx(lv,{className:"w-5 h-5 mr-3 text-blue-600"}),"Business Profile"]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200 space-y-3",children:[e.jsxs(H,{variant:"outline",className:"w-full justify-start border-2 hover:bg-gray-50",onClick:()=>F(!0),children:[e.jsx(sa,{className:"w-5 h-5 mr-3"}),"Privacy Settings"]}),e.jsxs(H,{variant:"outline",className:"w-full justify-start border-2 hover:bg-gray-50",onClick:()=>ee(!0),children:[e.jsx(ur,{className:"w-5 h-5 mr-3"}),"Notifications"]}),e.jsxs(H,{variant:"outline",className:"w-full justify-start border-2 hover:bg-blue-50",onClick:async()=>{const $={user:n,stats:L,preferences:k,socialLinks:q},ye=new Blob([JSON.stringify($,null,2)],{type:"application/json"}),Me=URL.createObjectURL(ye),Oe=document.createElement("a");Oe.href=Me,Oe.download=`travelbuddy-data-${n.username}.json`,Oe.click()},children:[e.jsx(ju,{className:"w-5 h-5 mr-3"}),"Export My Data"]}),e.jsxs(H,{variant:"outline",className:"w-full justify-start border-2 border-red-200 text-red-600 hover:bg-red-50",onClick:()=>K(!0),children:[e.jsx(or,{className:"w-5 h-5 mr-3"}),"Delete Account"]}),n.isAdmin&&e.jsxs(H,{variant:"outline",className:"w-full justify-start border-2 border-purple-200 text-purple-700 hover:bg-purple-50",onClick:()=>window.location.href="/admin",children:[e.jsx(sa,{className:"w-5 h-5 mr-3"}),"Admin Panel"]}),e.jsxs(H,{variant:"outline",className:"w-full justify-start border-2 border-red-200 text-red-600 hover:bg-red-50 hover:border-red-300",onClick:i,children:[e.jsx(cp,{className:"w-5 h-5 mr-3"}),"Logout"]})]})]})]})})]})]}),e.jsx(M1,{isOpen:b,onClose:()=>I(!1)}),se&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-red-600 mb-4",children:"Delete Account?"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"This action cannot be undone. All your data will be permanently deleted."}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(H,{variant:"outline",onClick:()=>K(!1),className:"flex-1",children:"Cancel"}),e.jsx(H,{className:"flex-1 bg-red-600 hover:bg-red-700 text-white",onClick:async()=>{if(confirm("Type DELETE to confirm")){const $=localStorage.getItem("token")||localStorage.getItem("demo_token"),ye={};$&&(ye.Authorization=`Bearer ${$}`),await fetch(`${_}/api/users/profile`,{method:"DELETE",headers:ye}),i()}},children:"Delete Forever"})]})]})}),T&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Privacy Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Profile Visibility"}),e.jsxs("select",{value:fe.profileVisibility,onChange:$=>Se({...fe,profileVisibility:$.target.value}),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"public",children:"Public"}),e.jsx("option",{value:"private",children:"Private"}),e.jsx("option",{value:"friends",children:"Friends Only"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:fe.hideTravel,onChange:$=>Se({...fe,hideTravel:$.target.checked}),className:"w-5 h-5"}),e.jsx("span",{children:"Hide Travel History"})]}),e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:fe.hideActivity,onChange:$=>Se({...fe,hideActivity:$.target.checked}),className:"w-5 h-5"}),e.jsx("span",{children:"Hide Activity"})]})]}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsx(H,{variant:"outline",onClick:()=>F(!1),className:"flex-1",children:"Cancel"}),e.jsx(H,{className:"flex-1",onClick:async()=>{await fetch(`${_}/api/users/privacy`,{method:"PUT",headers:{"Content-Type":"application/json","x-user-id":n.id},body:JSON.stringify(fe)}),F(!1)},children:"Save"})]})]})}),z&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Notification Preferences"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Email Notifications"}),e.jsx("input",{type:"checkbox",checked:A.email,onChange:$=>Y({...A,email:$.target.checked}),className:"w-5 h-5"})]}),e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Push Notifications"}),e.jsx("input",{type:"checkbox",checked:A.push,onChange:$=>Y({...A,push:$.target.checked}),className:"w-5 h-5"})]}),e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Trip Updates"}),e.jsx("input",{type:"checkbox",checked:A.trips,onChange:$=>Y({...A,trips:$.target.checked}),className:"w-5 h-5"})]}),e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Deals & Offers"}),e.jsx("input",{type:"checkbox",checked:A.deals,onChange:$=>Y({...A,deals:$.target.checked}),className:"w-5 h-5"})]}),e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Community Alerts"}),e.jsx("input",{type:"checkbox",checked:A.community,onChange:$=>Y({...A,community:$.target.checked}),className:"w-5 h-5"})]})]}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsx(H,{variant:"outline",onClick:()=>ee(!1),className:"flex-1",children:"Cancel"}),e.jsx(H,{className:"flex-1",onClick:async()=>{await fetch(`${_}/api/users/notifications`,{method:"PUT",headers:{"Content-Type":"application/json","x-user-id":n.id},body:JSON.stringify(A)}),ee(!1)},children:"Save"})]})]})})]})},U1=["restaurants in Colombo","hotels in Kandy","things to do in Ella","beaches in Galle","temples in Anuradhapura","tea estates in Nuwara Eliya"],B1=({onSearch:n,placeholder:l="Where do you want to go? (e.g., Kandy, Ella, Galle)",showSuggestions:i=!0})=>{const[o,u]=v.useState(""),[m,x]=v.useState(!1),[f,g]=v.useState(!1),[w]=v.useState(["restaurants in Colombo","hotels in Kandy"]),j=v.useRef(null),y=v.useRef(null),b=async R=>{if(R.preventDefault(),o.trim()&&!m){x(!0);try{await n(o.trim())}finally{x(!1)}}},I=()=>{u(""),j.current?.focus()},L=R=>{u(R),g(!1),n(R)};return v.useEffect(()=>{const R=D=>{y.current&&!y.current.contains(D.target)&&g(!1)};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[]),e.jsxs("form",{onSubmit:b,className:"relative",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ht,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{ref:j,type:"text",value:o,onChange:R=>u(R.target.value),onFocus:()=>i&&g(!0),placeholder:l,disabled:m,className:"w-full pl-12 pr-20 py-4 text-lg border-2 border-gray-200 rounded-2xl focus:border-teal-500 focus:outline-none bg-white shadow-lg text-gray-800 placeholder-gray-500 disabled:opacity-50"}),o&&e.jsx("button",{type:"button",onClick:I,className:"absolute right-20 top-1/2 transform -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(St,{className:"w-4 h-4"})}),e.jsxs("button",{type:"submit",disabled:!o.trim()||m,className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-teal-500 text-white px-6 py-2 rounded-xl hover:bg-teal-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[m&&e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),m?"Searching...":"Search"]})]}),i&&f&&e.jsxs("div",{ref:y,className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl border border-gray-200 z-50 max-h-80 overflow-y-auto",children:[w.length>0&&e.jsxs("div",{className:"p-4 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-2",children:[e.jsx(it,{className:"w-4 h-4 mr-1"}),"Recent Searches"]}),w.map((R,D)=>e.jsx("button",{onClick:()=>L(R),className:"block w-full text-left px-2 py-1 text-sm text-gray-700 hover:bg-gray-50 rounded",children:R},D))]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-2",children:[e.jsx(cs,{className:"w-4 h-4 mr-1"}),"Trending in Sri Lanka"]}),e.jsx("div",{className:"grid grid-cols-1 gap-1",children:U1.slice(0,6).map((R,D)=>e.jsxs("button",{onClick:()=>L(R),className:"text-left px-2 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded flex items-center",children:[e.jsx(Ht,{className:"w-3 h-3 mr-2 text-gray-400"}),R]},D))})]})]})]})},fl=({className:n="",variant:l="rectangular",width:i,height:o})=>{const u="animate-pulse bg-gray-200",m={text:"rounded",circular:"rounded-full",rectangular:"rounded-lg"},x={width:i||"100%",height:o||(l==="text"?"1rem":"100%")};return e.jsx("div",{className:`${u} ${m[l]} ${n}`,style:x})},P1=()=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[e.jsx(fl,{className:"w-full h-48"}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsx(fl,{className:"h-6 w-3/4"}),e.jsx(fl,{className:"h-4 w-1/2"}),e.jsx(fl,{className:"h-4 w-full"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(fl,{className:"h-6 w-16"}),e.jsx(fl,{className:"h-6 w-20"})]}),e.jsx(fl,{className:"h-10 w-full"})]})]}),H1=({title:n,message:l,actionLabel:i,onAction:o,icon:u})=>e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"text-gray-500",children:[u&&e.jsx("div",{className:"mb-4",children:u}),e.jsx("h3",{className:"text-xl font-medium mb-2",children:n}),e.jsx("p",{className:"mb-6",children:l}),i&&o&&e.jsx(H,{onClick:o,variant:"outline",children:i})]})}),q1=[{id:"restaurant",label:"Restaurants",icon:""},{id:"hotel",label:"Hotels",icon:""},{id:"attraction",label:"Attractions",icon:""},{id:"temple",label:"Temples",icon:""},{id:"beach",label:"Beaches",icon:""},{id:"nature",label:"Nature",icon:""}],V1=[{id:"$",label:"Budget (LKR 1,000-3,000)",value:"$"},{id:"$$",label:"Mid-range (LKR 3,000-8,000)",value:"$$"},{id:"$$$",label:"Premium (LKR 8,000+)",value:"$$$"}],$1=({onFiltersChange:n,isOpen:l,onClose:i})=>{const[o,u]=v.useState({category:[],priceRange:[],rating:0,location:"",openNow:!1,radius:5e3}),m=y=>{const b=o.category.includes(y)?o.category.filter(L=>L!==y):[...o.category,y],I={...o,category:b};u(I),n(I)},x=y=>{const b=o.priceRange.includes(y)?o.priceRange.filter(L=>L!==y):[...o.priceRange,y],I={...o,priceRange:b};u(I),n(I)},f=()=>{const y={category:[],priceRange:[],rating:0,location:"",openNow:!1,radius:5e3};u(y),n(y)},g=y=>{const b={...o,rating:y};u(b),n(b)},w=()=>{const y={...o,openNow:!o.openNow};u(y),n(y)},j=y=>{const b={...o,radius:y};u(b),n(b)};return l?e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end sm:items-center justify-center",children:e.jsxs("div",{className:"bg-white w-full sm:w-96 sm:rounded-xl p-6 max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(Mn,{className:"w-5 h-5 mr-2"}),"Filters"]}),e.jsx("button",{onClick:i,className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(St,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Categories"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:q1.map(y=>e.jsxs("button",{onClick:()=>m(y.id),className:`p-3 rounded-lg border text-sm flex items-center justify-center transition-colors ${o.category.includes(y.id)?"bg-blue-50 border-blue-200 text-blue-700":"border-gray-200 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"mr-2",children:y.icon}),y.label]},y.id))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Price Range"}),e.jsx("div",{className:"space-y-2",children:V1.map(y=>e.jsx("button",{onClick:()=>x(y.value),className:`w-full p-3 rounded-lg border text-sm text-left transition-colors ${o.priceRange.includes(y.value)?"bg-green-50 border-green-200 text-green-700":"border-gray-200 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:y.label}),e.jsx("span",{className:"font-medium",children:y.value})]})},y.id))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Minimum Rating"}),e.jsx("div",{className:"flex space-x-2",children:[3,4,4.5].map(y=>e.jsxs("button",{onClick:()=>g(y),className:`px-3 py-2 rounded-lg border text-sm flex items-center transition-colors ${o.rating===y?"bg-yellow-50 border-yellow-200 text-yellow-700":"border-gray-200 hover:bg-gray-50"}`,children:[e.jsx(Re,{className:"w-4 h-4 mr-1 fill-current"}),y,"+"]},y))})]}),e.jsx("div",{className:"mb-6",children:e.jsx("button",{onClick:w,className:`w-full p-4 rounded-lg border text-left transition-colors ${o.openNow?"bg-green-50 border-green-200":"border-gray-200 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(it,{className:`w-5 h-5 mr-3 ${o.openNow?"text-green-600":"text-gray-400"}`}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Open Now"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Show only places currently open"})]})]}),e.jsx("div",{className:`w-12 h-6 rounded-full transition-colors ${o.openNow?"bg-green-500":"bg-gray-300"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform ${o.openNow?"translate-x-6":"translate-x-0.5"} mt-0.5`})})]})})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"font-medium flex items-center",children:[e.jsx(aa,{className:"w-4 h-4 mr-2"}),"Search Radius"]}),e.jsx("span",{className:"text-sm font-semibold text-blue-600",children:o.radius>=1e3?`${(o.radius/1e3).toFixed(0)} km`:`${o.radius} m`})]}),e.jsx("input",{type:"range",min:"1000",max:"50000",step:"1000",value:o.radius,onChange:y=>j(Number(y.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-600"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"1 km"}),e.jsx("span",{children:"25 km"}),e.jsx("span",{children:"50 km"})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(H,{onClick:f,variant:"outline",className:"flex-1",children:"Clear All"}),e.jsx(H,{onClick:i,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"Apply Filters"})]})]})}):null},hu=new Map,F1=600*1e3;let ir={places:[],query:"",context:""};const ap=()=>{const n=Tt(),[l,i]=v.useState(ir.places),[o,u]=v.useState(!1),[m,x]=v.useState(!1),[f,g]=v.useState(ir.query),[w,j]=v.useState(ir.context),[y,b]=v.useState(ir.places.length>0),[I,L]=v.useState([]),[R,D]=v.useState(!1),[C,_]=v.useState({category:[],priceRange:[],rating:0,location:"",openNow:!1,radius:5e3}),[N,q]=v.useState(!1),[M,Q]=v.useState([]),W=K=>{let T=[...K];return C.category.length>0&&(T=T.filter(F=>C.category.includes(F.category.toLowerCase()))),C.priceRange.length>0&&(T=T.filter(F=>C.priceRange.includes(F.priceLevel))),C.rating>0&&(T=T.filter(F=>F.rating>=C.rating)),C.openNow&&(T=T.filter(F=>{const z=new Date().getHours();return z>=9&&z<=22})),T},k=async(K,T=!0)=>{if(!K.trim())return;const F=K.toLowerCase().trim();if(T){u(!0),g(K);const z=hu.get(F);if(z&&Date.now()-z.timestamp<F1){console.log(" Using cached results for:",K);const ee=z.data;i(ee),Q(W(ee)),j(z.context),b(!0),u(!1),ir={places:ee,query:K,context:z.context};return}i([]),Q([])}else x(!0);try{console.log(" Fetching new results for:",K);const z=await u0.searchPlaces(K,{limit:8});if(T){const ee=z||[],U=`AI-powered results for "${K}"`;i(ee),Q(W(ee)),j(U),hu.set(F,{data:ee,timestamp:Date.now(),context:U}),ir={places:ee,query:K,context:U}}else{const ee=[...l,...z||[]];i(ee),Q(W(ee))}b(!0)}catch(z){console.error("Search failed:",z),T&&(i([]),Q([]),j("Search failed. Please try again."))}finally{u(!1),x(!1)}},ae=()=>{f&&!m&&k(f,!1)},fe=K=>({restaurant:"bg-orange-100 text-orange-800",hotel:"bg-blue-100 text-blue-800",attraction:"bg-purple-100 text-purple-800",museum:"bg-green-100 text-green-800",cafe:"bg-yellow-100 text-yellow-800",shopping:"bg-pink-100 text-pink-800",park:"bg-emerald-100 text-emerald-800"})[K]||"bg-gray-100 text-gray-800",Se=K=>({$:"text-green-600",$$:"text-yellow-600",$$$:"text-orange-600",$$$$:"text-red-600"})[K]||"text-gray-600",A=K=>{console.log(" Toggling place selection:",K.name),L(T=>{const F=T.some(z=>z.id===K.id);return console.log(" Current selection state:",F?"selected":"not selected"),F?(console.log(" Removing from selection"),T.filter(z=>z.id!==K.id)):(console.log(" Adding to selection"),[...T,K])})},Y=K=>I.some(T=>T.id===K.id),se=()=>{I.length!==0&&(sessionStorage.setItem("selectedPlaces",JSON.stringify(I)),n("/trips"))};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 text-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(rt,{className:"h-8 w-8 mr-3"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"Discover Your Next Adventure"})]}),e.jsx("p",{className:"text-xl md:text-2xl mb-8 text-blue-100 max-w-3xl mx-auto",children:"AI-powered travel discovery. Find amazing places, hidden gems, and perfect experiences tailored just for you."}),e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx(B1,{onSearch:k}),e.jsx("p",{className:"text-sm text-blue-200 mt-2",children:'Try: "restaurants in Tokyo", "museums in Paris", "hotels in New York"'})]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-100 py-6",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Explore by Country:"}),e.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onChange:K=>K.target.value&&k(`best places in ${K.target.value}`,!0),defaultValue:"",children:[e.jsx("option",{value:"",children:"Select a country"}),e.jsx("option",{value:"Japan",children:" Japan"}),e.jsx("option",{value:"France",children:" France"}),e.jsx("option",{value:"Italy",children:" Italy"}),e.jsx("option",{value:"Thailand",children:" Thailand"}),e.jsx("option",{value:"United States",children:" United States"}),e.jsx("option",{value:"United Kingdom",children:" United Kingdom"}),e.jsx("option",{value:"Spain",children:" Spain"}),e.jsx("option",{value:"Germany",children:" Germany"}),e.jsx("option",{value:"Australia",children:" Australia"}),e.jsx("option",{value:"Canada",children:" Canada"}),e.jsx("option",{value:"India",children:" India"}),e.jsx("option",{value:"China",children:" China"}),e.jsx("option",{value:"Brazil",children:" Brazil"}),e.jsx("option",{value:"Mexico",children:" Mexico"}),e.jsx("option",{value:"Sri Lanka",children:" Sri Lanka"})]})]}),e.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:[{label:" Asia",query:"attractions in Asia"},{label:" Europe",query:"attractions in Europe"},{label:" Americas",query:"attractions in Americas"},{label:" Islands",query:"tropical islands destinations"},{label:" Mountains",query:"mountain destinations"},{label:" Culture",query:"cultural attractions museums"}].map(K=>e.jsx(H,{variant:"outline",size:"sm",onClick:()=>k(K.query,!0),className:"border-gray-300 text-gray-700 hover:bg-blue-50 hover:border-blue-300 hover:text-blue-700 transition-colors",children:K.label},K.label))})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[o&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-center py-8",children:e.jsxs("div",{className:"inline-flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"}),e.jsx("span",{className:"text-lg text-gray-600",children:"AI is discovering amazing places for you..."})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:8}).map((K,T)=>e.jsx(P1,{},T))})]}),w&&!o&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(cs,{className:"h-5 w-5 text-blue-600 mr-2"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Discovery Results"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(H,{onClick:()=>D(!0),variant:"outline",size:"sm",className:"flex items-center",children:[e.jsx(aa,{className:"h-4 w-4 mr-2"}),"Filters",(C.category.length>0||C.priceRange.length>0||C.rating>0||C.openNow)&&e.jsx("span",{className:"ml-2 bg-blue-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:C.category.length+C.priceRange.length+(C.rating>0?1:0)+(C.openNow?1:0)})]}),e.jsxs(H,{onClick:()=>q(!N),variant:"outline",size:"sm",className:"flex items-center",children:[e.jsx(ue,{className:"h-4 w-4 mr-2"}),N?"Hide Map":"Show Map"]}),I.length>0&&e.jsxs(H,{onClick:se,className:"bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700 text-white",children:[e.jsx(Fa,{className:"h-4 w-4 mr-2"}),"Generate Trip (",I.length,")"]})]})]}),e.jsx("p",{className:"text-gray-600",children:w}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Found ",l.length," places",M.length<l.length&&`  Showing ${M.length} after filters`,"  Semantic AI Search",hu.has(f.toLowerCase().trim())&&"  Cached",I.length>0&&`  ${I.length} selected for trip`]})]}),l.length>0&&!o&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:(M.length>0?M:l).map(K=>e.jsxs(le,{className:"overflow-hidden hover:shadow-xl transition-all duration-300 hover:scale-105 hover:-translate-y-1 group",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"relative w-full h-48 bg-gray-200 overflow-hidden",children:[e.jsx("img",{src:K.image||`https://source.unsplash.com/800x600/?${encodeURIComponent(K.name)},${encodeURIComponent(K.category)},${encodeURIComponent(K.location.city)}`,alt:K.name,className:"w-full h-48 object-cover transition-all duration-300 hover:scale-105",loading:"lazy",onLoad:T=>{const F=T.target;F.style.opacity="1";const z=F.parentElement?.querySelector(".image-loader");z&&z.classList.add("hidden")},onError:T=>{const F=T.target,z=F.parentElement?.querySelector(".image-loader");if(z&&z.classList.add("hidden"),!F.src.includes("source.unsplash.com"))F.src=`https://source.unsplash.com/800x600/?${encodeURIComponent(K.category)},${encodeURIComponent(K.location.country)},travel`;else if(!F.src.includes("picsum.photos"))F.src=`https://picsum.photos/seed/${Math.abs(K.name.split("").reduce((ee,U)=>(ee=(ee<<5)-ee+U.charCodeAt(0),ee&ee),0))}/800/600`;else{F.style.display="none";const ee=F.parentElement?.querySelector(".image-placeholder");ee&&ee.classList.remove("hidden")}},style:{opacity:0}}),e.jsx("div",{className:"image-loader absolute inset-0 flex items-center justify-center bg-gray-100",children:e.jsx("div",{className:"animate-pulse flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full animate-bounce"})})}),e.jsx("div",{className:"image-placeholder hidden absolute inset-0 flex items-center justify-center bg-gradient-to-br from-blue-100 to-purple-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ue,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:K.category}),e.jsx("p",{className:"text-xs text-gray-400",children:K.name})]})})]}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx(ea,{className:fe(K.category),children:K.category})}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsxs(ea,{className:"bg-white text-gray-800",children:[e.jsx(Re,{className:"h-3 w-3 mr-1 fill-current text-yellow-500"}),K.rating]})})]}),e.jsxs(re,{className:"p-4",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-1",children:K.name}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[e.jsx(ue,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:[K.location.city,", ",K.location.country]}),e.jsx("span",{className:`ml-2 font-semibold ${Se(K.priceLevel)}`,children:K.priceLevel})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-3",children:K.description}),e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:K.highlights.slice(0,3).map((T,F)=>e.jsx(ea,{variant:"outline",className:"text-xs",children:T},F))})}),e.jsxs("div",{className:"space-y-2 text-xs text-gray-500",children:[K.openHours&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(it,{className:"h-3 w-3 mr-1"}),e.jsx("span",{children:K.openHours})]}),K.contact?.phone&&K.contact.phone!=="Not available"&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(vs,{className:"h-3 w-3 mr-1"}),e.jsx("span",{children:K.contact.phone})]}),K.contact?.website&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(gs,{className:"h-3 w-3 mr-1"}),e.jsx("a",{href:K.contact.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Visit Website"})]})]}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(H,{size:"sm",variant:Y(K)?"default":"outline",className:`flex-1 ${Y(K)?"bg-blue-600 text-white hover:bg-blue-700":"border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white"}`,onClick:()=>A(K),children:Y(K)?e.jsxs(e.Fragment,{children:[e.jsx(Pa,{className:"h-3 w-3 mr-1"}),"Selected"]}):e.jsxs(e.Fragment,{children:[e.jsx(br,{className:"h-3 w-3 mr-1"}),"Select"]})}),e.jsx(H,{size:"sm",variant:"outline",className:"flex-1 border-purple-600 text-purple-600 hover:bg-purple-600 hover:text-white",children:"Save"})]}),e.jsxs(H,{size:"sm",className:"w-full bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700 text-white border-none",onClick:()=>n(`/places/${K.id}`,{state:{placeData:K}}),children:[e.jsx(rt,{className:"h-3 w-3 mr-1"}),"More Details"]})]})]})]},K.id))}),l.length>0&&e.jsxs("div",{className:"text-center mt-8 space-y-4",children:[I.length>0&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900",children:"Selected Places for Trip"}),e.jsxs("p",{className:"text-sm text-blue-700",children:[I.length," place",I.length!==1?"s":""," selected"]})]}),e.jsxs(H,{onClick:se,className:"bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700 text-white",children:[e.jsx(Fa,{className:"h-4 w-4 mr-2"}),"Generate Trip"]})]}),e.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:I.map(K=>e.jsx(ea,{className:"bg-blue-100 text-blue-800",children:K.name},K.id))})]}),e.jsx(H,{onClick:ae,disabled:m,className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white border-none",children:m?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Loading More..."]}):e.jsxs(e.Fragment,{children:[e.jsx(rt,{className:"h-4 w-4 mr-2"}),"Explore More Places"]})}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Showing ",l.length," places  Click to discover more"]})]})]}),!o&&l.length===0&&f&&e.jsx(H1,{title:"No results found",message:"Try a different search term or check your spelling",actionLabel:"Try Popular Searches",onAction:()=>k("restaurants in Tokyo",!0),icon:e.jsx(rt,{className:"h-8 w-8 text-gray-400"})}),!o&&l.length===0&&!f&&e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"text-gray-500",children:[e.jsx(rt,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-xl font-medium mb-2",children:"Ready to Discover?"}),e.jsx("p",{className:"mb-6",children:"Use the search bar above to find amazing places, then select them to generate a custom trip"}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:["restaurants in Colombo","temples in Kandy","hotels in Galle","beaches in Mirissa"].map(K=>e.jsx(H,{variant:"outline",size:"sm",onClick:()=>k(K,!0),children:K},K))})]})})]}),e.jsx($1,{isOpen:R,onClose:()=>{D(!1),Q(W(l))},onFiltersChange:K=>{_(K),Q(W(l))}})]})},T0=()=>{const{placeId:n}=Ro(),l=Tt(),o=Do().state?.placeData,[u,m]=v.useState(null),[x,f]=v.useState(!o),[g,w]=v.useState(0),[j,y]=v.useState(!1);v.useEffect(()=>{if(o){const R=[o.image,`https://source.unsplash.com/1200x800/?${encodeURIComponent(o.name)},interior`,`https://source.unsplash.com/1200x800/?${encodeURIComponent(o.name)},exterior`,`https://source.unsplash.com/1200x800/?${encodeURIComponent(o.category)},${encodeURIComponent(o.location.city)}`,`https://source.unsplash.com/1200x800/?${encodeURIComponent(o.name)},architecture`,`https://source.unsplash.com/1200x800/?${encodeURIComponent(o.category)},travel`],D={id:o.id,name:o.name,description:{short:o.description,full:o.description,highlights:o.highlights||[]},images:{hero:o.image,gallery:R,count:R.length},rating:{overall:o.rating,count:100},category:o.category,priceLevel:o.priceLevel,pricing:{currency:"USD",tickets:[]},location:o.location,hours:{schedule:{},isOpen:!0,nextClose:o.openHours||"Hours vary"},contact:o.contact,tips:[],tags:o.tags||[],similarPlaces:[]};m(D),f(!1)}else n&&b(n)},[n,o]);const b=async R=>{f(!0);try{const D=o?.name,C=o?.location?.address||`${o?.location?.city}, ${o?.location?.country}`,_=o?.category,N=await u0.getPlaceDetails(R,D,C,_);N&&m(N)}catch(D){console.error("Failed to load place details:",D)}finally{f(!1)}},I=()=>{u&&w(R=>(R+1)%u.images.gallery.length)},L=()=>{u&&w(R=>(R-1+u.images.gallery.length)%u.images.gallery.length)};return x?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:o?"Loading enhanced details...":"Loading place details..."})]})}):u?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(H,{variant:"outline",onClick:()=>l(-1),className:"flex items-center",children:[e.jsx(jo,{className:"h-4 w-4 mr-2"}),"Back"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(H,{variant:"outline",size:"sm",children:[e.jsx(No,{className:"h-4 w-4 mr-2"}),"Share"]}),e.jsxs(H,{variant:"outline",size:"sm",children:[e.jsx(mt,{className:"h-4 w-4 mr-2"}),"Save"]})]})]})})}),e.jsxs("div",{className:"relative h-96 overflow-hidden bg-gray-200",children:[e.jsx("img",{src:u.images.hero||`https://source.unsplash.com/1200x800/?${encodeURIComponent(u.name)},${encodeURIComponent(u.location.city)}`,alt:u.name,className:"w-full h-full object-cover transition-all duration-500",loading:"eager",onLoad:R=>{const D=R.target;D.style.opacity="1";const C=D.parentElement?.querySelector(".hero-loader");C&&C.classList.add("hidden")},onError:R=>{const D=R.target,C=D.parentElement?.querySelector(".hero-loader");if(C&&C.classList.add("hidden"),!D.src.includes("source.unsplash.com"))D.src=`https://source.unsplash.com/1200x800/?${encodeURIComponent(u.name)},travel,landmark`;else if(!D.src.includes("picsum.photos"))D.src=`https://picsum.photos/seed/${Math.abs(u.name.split("").reduce((_,N)=>(_=(_<<5)-_+N.charCodeAt(0),_&_),0))}/1200/800`;else{D.style.display="none";const _=D.parentElement?.querySelector(".hero-placeholder");_&&_.classList.remove("hidden")}},style:{opacity:0}}),e.jsx("div",{className:"hero-loader absolute inset-0 flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-pulse w-16 h-16 bg-gray-300 rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Loading image..."})]})}),e.jsx("div",{className:"hero-placeholder hidden absolute inset-0 flex items-center justify-center bg-gradient-to-br from-blue-200 to-purple-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ue,{className:"h-24 w-24 text-gray-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-600",children:u.name}),e.jsx("p",{className:"text-gray-500",children:u.location.city})]})}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30"}),e.jsx("div",{className:"absolute bottom-4 right-4",children:e.jsxs(H,{onClick:()=>y(!0),className:"bg-white text-gray-900 hover:bg-gray-100",children:[e.jsx(Ha,{className:"h-4 w-4 mr-2"}),"View Gallery (",u.images.count,")"]})})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:u.name}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Re,{className:"h-5 w-5 text-yellow-400 fill-current mr-1"}),e.jsx("span",{className:"font-semibold",children:u.rating.overall}),e.jsxs("span",{className:"text-gray-600 ml-1",children:["(",u.rating.count.toLocaleString()," reviews)"]})]}),e.jsx(ea,{className:"bg-blue-100 text-blue-800",children:u.category}),e.jsx("span",{className:"text-lg font-semibold text-green-600",children:u.priceLevel})]}),e.jsxs("div",{className:"flex items-center text-gray-600 mb-6",children:[e.jsx(ue,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:u.location.address})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(H,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:[e.jsx(aa,{className:"h-4 w-4 mr-2"}),"Get Directions"]}),e.jsxs(H,{variant:"outline",children:[e.jsx(At,{className:"h-4 w-4 mr-2"}),"Plan Visit"]}),e.jsxs(H,{variant:"outline",children:[e.jsx(vs,{className:"h-4 w-4 mr-2"}),"Call"]}),e.jsxs(H,{variant:"outline",children:[e.jsx(gs,{className:"h-4 w-4 mr-2"}),"Website"]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Photos"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:u.images.gallery.slice(0,6).map((R,D)=>e.jsxs("div",{className:"relative aspect-video rounded-lg overflow-hidden cursor-pointer hover:scale-105 transition-all duration-300 bg-gray-200",onClick:()=>{w(D),y(!0)},children:[e.jsx("img",{src:R,alt:`${u.name} photo ${D+1}`,className:"w-full h-full object-cover transition-opacity duration-300",loading:"lazy",onLoad:C=>{const _=C.target;_.style.opacity="1";const N=_.parentElement?.querySelector(".gallery-loader");N&&N.classList.add("hidden")},onError:C=>{const _=C.target,N=_.parentElement?.querySelector(".gallery-loader");N&&N.classList.add("hidden"),_.src.includes("source.unsplash.com")?_.src=`https://picsum.photos/seed/${encodeURIComponent(u.id+D)}/600/400`:_.src=`https://source.unsplash.com/600x400/?${encodeURIComponent(u.name)},travel,photo${D}`},style:{opacity:0}}),e.jsx("div",{className:"gallery-loader absolute inset-0 flex items-center justify-center bg-gray-100",children:e.jsx("div",{className:"animate-pulse w-8 h-8 bg-gray-300 rounded-full"})})]},D))}),e.jsxs(H,{variant:"outline",className:"mt-4",onClick:()=>y(!0),children:["View All ",u.images.count," Photos"]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"About"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:u.description.full})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Highlights"}),e.jsx("ul",{className:"space-y-2",children:u.description.highlights.map((R,D)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-600 mr-2",children:""}),e.jsx("span",{className:"text-gray-700",children:R})]},D))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Tips & Recommendations"}),e.jsx("div",{className:"space-y-3",children:u.tips.map((R,D)=>e.jsxs("div",{className:"flex items-start bg-blue-50 p-3 rounded-lg",children:[e.jsx(iv,{className:"h-5 w-5 text-blue-600 mr-3 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:R})]},D))})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(le,{children:e.jsxs(re,{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"Quick Info"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(it,{className:"h-4 w-4 text-gray-600 mr-3"}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[u.hours.isOpen?"Open":"Closed","  Closes ",u.hours.nextClose]}),e.jsx("div",{className:"text-sm text-gray-600",children:"See all hours"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(js,{className:"h-4 w-4 text-gray-600 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:u.priceLevel}),e.jsx("div",{className:"text-sm text-gray-600",children:"Price level"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ct,{className:"h-4 w-4 text-gray-600 mr-3"}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[u.rating.count.toLocaleString()," reviews"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"User reviews"})]})]})]})]})}),e.jsx(le,{children:e.jsxs(re,{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"Pricing"}),e.jsx("div",{className:"space-y-3",children:u.pricing.tickets.map((R,D)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-700",children:R.type}),e.jsxs("span",{className:"font-semibold",children:[u.pricing.currency," ",R.price]})]},D))})]})}),e.jsx(le,{children:e.jsxs(re,{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"Contact"}),e.jsxs("div",{className:"space-y-3",children:[u.contact.phone&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(vs,{className:"h-4 w-4 text-gray-600 mr-3"}),e.jsx("a",{href:`tel:${u.contact.phone}`,className:"text-blue-600 hover:underline",children:u.contact.phone})]}),u.contact.website&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(gs,{className:"h-4 w-4 text-gray-600 mr-3"}),e.jsx("a",{href:u.contact.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Visit Website"})]})]})]})}),e.jsx(le,{children:e.jsxs(re,{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"Location"}),e.jsx("div",{className:"aspect-video bg-gray-200 rounded-lg mb-4 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-600",children:"Interactive Map"})}),e.jsxs(H,{className:"w-full",onClick:()=>{const{lat:R,lng:D}=u.location.coordinates;window.open(`https://www.google.com/maps?q=${R},${D}`,"_blank")},children:[e.jsx(aa,{className:"h-4 w-4 mr-2"}),"Get Directions"]})]})})]})]}),e.jsxs("div",{className:"mt-12",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"You might also like"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.similarPlaces.map(R=>e.jsxs(le,{className:"overflow-hidden hover:shadow-lg transition-all duration-300 hover:scale-105 cursor-pointer",children:[e.jsxs("div",{className:"relative h-48 bg-gray-200",children:[e.jsx("img",{src:R.image,alt:R.name,className:"w-full h-48 object-cover transition-opacity duration-300",loading:"lazy",onLoad:D=>{const C=D.target;C.style.opacity="1";const _=C.parentElement?.querySelector(".similar-loader");_&&_.classList.add("hidden")},onError:D=>{const C=D.target,_=C.parentElement?.querySelector(".similar-loader");_&&_.classList.add("hidden"),C.src=`https://source.unsplash.com/400x300/?${encodeURIComponent(R.name)},${encodeURIComponent(R.category)}`},style:{opacity:0}}),e.jsx("div",{className:"similar-loader absolute inset-0 flex items-center justify-center bg-gray-100",children:e.jsx("div",{className:"animate-pulse w-6 h-6 bg-gray-300 rounded-full"})})]}),e.jsxs(re,{className:"p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:R.name}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Re,{className:"h-4 w-4 text-yellow-400 fill-current mr-1"}),e.jsx("span",{className:"text-sm",children:R.rating})]}),e.jsx(ea,{variant:"outline",className:"text-xs",children:R.category})]})]})]},R.id))})]})]}),j&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center",children:e.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[e.jsx("button",{onClick:()=>y(!1),className:"absolute top-4 right-4 text-white hover:text-gray-300 z-10",children:""}),e.jsx("button",{onClick:L,className:"absolute left-4 text-white hover:text-gray-300 z-10",children:e.jsx(dp,{className:"h-8 w-8"})}),e.jsxs("div",{className:"relative max-w-full max-h-full flex items-center justify-center",children:[e.jsx("img",{src:u.images.gallery[g],alt:`${u.name} photo ${g+1}`,className:"max-w-full max-h-full object-contain transition-opacity duration-300",onLoad:R=>{const D=R.target;D.style.opacity="1";const C=D.parentElement?.querySelector(".modal-loader");C&&C.classList.add("hidden")},onError:R=>{const D=R.target,C=D.parentElement?.querySelector(".modal-loader");C&&C.classList.add("hidden"),D.src.includes("source.unsplash.com")?D.src=`https://picsum.photos/seed/${encodeURIComponent(u.id+g)}/1200/800`:D.src=`https://source.unsplash.com/1200x800/?${encodeURIComponent(u.name)},travel,photo${g}`},style:{opacity:0}}),e.jsx("div",{className:"modal-loader absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-white border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-white",children:"Loading image..."})]})})]}),e.jsx("button",{onClick:I,className:"absolute right-4 text-white hover:text-gray-300 z-10",children:e.jsx(Bu,{className:"h-8 w-8"})}),e.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 text-white",children:[g+1," of ",u.images.gallery.length]})]})})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Place not found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"The place you're looking for doesn't exist."}),e.jsxs(H,{onClick:()=>l(-1),children:[e.jsx(jo,{className:"h-4 w-4 mr-2"}),"Go Back"]})]})})};class G1{baseURL;constructor(){this.baseURL="http://localhost:3001"}async getAuthToken(){const l=localStorage.getItem("demo_token");if(l)return console.log(" Using demo token for authentication"),l;try{const{auth:o}=await tm(async()=>{const{auth:u}=await Promise.resolve().then(()=>z2);return{auth:u}},void 0);if(o?.currentUser){const u=await o.currentUser.getIdToken();return console.log(" Using Firebase token for authentication"),u}}catch(o){console.log(" Firebase not available:",o.message)}const i=localStorage.getItem("auth_token");return i?(console.log(" Using fallback auth token"),i):(console.log(" No authentication token found"),null)}async getAuthHeaders(){const l={"Content-Type":"application/json"},i=await this.getAuthToken();return i&&(l.Authorization=`Bearer ${i}`),l}async request(l,i={}){const o=`${this.baseURL}/api${l}`,u=await this.getAuthHeaders(),m={headers:{...u,...i.headers},...i};console.log(` Making request to: ${o}`),console.log(" Auth headers:",Object.keys(u));const x=await fetch(o,m);if(console.log(` Response status: ${x.status} ${x.statusText}`),!x.ok){const g=await x.text();console.log(" Error response:",g);let w;try{w=JSON.parse(g)}catch{w={message:g||"Request failed"}}throw new Error(w.message||`HTTP ${x.status}: ${x.statusText}`)}const f=await x.json();return console.log(" Success response:",Array.isArray(f)?`Array with ${f.length} items`:"Object"),f}async getUserTripPlans(){try{return await this.request("/users/trip-plans")}catch(l){return console.error("Error fetching trip plans:",l),[]}}async saveTripPlan(l){try{return await this.request("/users/trip-plans",{method:"POST",body:JSON.stringify(l)})}catch(i){return console.error("Error saving trip plan:",i),null}}async updateTripPlan(l){try{return await this.request(`/users/trip-plans/${l.id}`,{method:"PUT",body:JSON.stringify(l)}),!0}catch(i){return console.error("Error updating trip plan:",i),!1}}async updateActivityStatus(l,i,o,u){try{const m=localStorage.getItem("auth_token");return await this.request(`/users/trip-plans/${l}/activities`,{method:"PATCH",headers:{Authorization:`Bearer ${m}`},body:JSON.stringify({dayIndex:i,activityIndex:o,isVisited:u,visitedDate:u?new Date().toISOString():null})}),!0}catch(m){return console.error("Error updating activity status:",m),!1}}async shareTripPlan(l){try{const i=localStorage.getItem("auth_token");return(await this.request(`/users/trip-plans/${l}/share`,{method:"POST",headers:{Authorization:`Bearer ${i}`}})).shareUrl}catch(i){return console.error("Error sharing trip plan:",i),null}}async getSharedTripPlan(l){try{return await this.request(`/shared/trip-plans/${l}`)}catch(i){return console.error("Error fetching shared trip plan:",i),null}}async generateTripPlan(l){try{const i=await this.getAuthHeaders();return await this.request("/ai/trip-generator",{method:"POST",headers:i,body:JSON.stringify(l)})}catch(i){return console.error("Error generating trip plan:",i),null}}async syncLocalPlans(l){try{const i=await this.getAuthHeaders();return await this.request("/users/trip-plans/sync",{method:"POST",headers:i,body:JSON.stringify({tripPlans:l})}),!0}catch(i){return console.error("Error syncing local plans:",i),!1}}async createTrip(l){try{const i=await this.getAuthHeaders();return await this.request("/users/trip-plans",{method:"POST",headers:i,body:JSON.stringify(l)})}catch(i){return console.error("Error creating trip plan:",i),null}}async deleteTrip(l){try{const i=await this.getAuthHeaders(),o=await this.request(`/users/trip-plans/${l}`,{method:"DELETE",headers:i});return Object.keys(localStorage).forEach(m=>{m.includes(l)&&localStorage.removeItem(m)}),o.success||!0}catch(i){return console.error("Error deleting trip plan:",i),!1}}async testConnection(){try{const l=await this.request("/users/test");return console.log(" Backend connection test successful:",l),!0}catch(l){return console.error(" Backend connection test failed:",l),!1}}async getTripById(l){try{const i=await this.getAuthHeaders();return await this.request(`/users/trip-plans/${l}`,{headers:i})}catch(i){return console.error("Error fetching trip:",i),null}}async getTrips(l){return this.getUserTripPlans()}}const dr=new G1,Y1=({onTripGenerated:n,onClose:l,selectedPlaces:i=[]})=>{const{config:o}=zn(),{user:u}=kt(),[m,x]=v.useState({destination:i.length>0?i[0].location.city+", "+i[0].location.country:"",duration:"",travelers:"1",budget:"medium",travelStyle:"balanced",interests:[],currency:"USD",startDate:"",endDate:""}),[f,g]=v.useState(!1),w=async()=>{if(!m.destination||!m.duration){alert("Please fill in destination and duration");return}g(!0);try{const b=o?.apiBaseUrl||"https://travelbuddy-b2c6hgbbgeh4esdh.eastus2-01.azurewebsites.net",I={"Content-Type":"application/json"},L=localStorage.getItem("demo_token");L&&(I.Authorization=`Bearer ${L}`),u?.id&&(I["x-user-id"]=u.id);const R=await fetch(`${b}/api/ai-trips/generate`,{method:"POST",headers:I,body:JSON.stringify({destination:m.destination,duration:m.duration,travelers:m.travelers,budget:m.budget,travelStyle:m.travelStyle,interests:m.interests,currency:m.currency,startDate:m.startDate,selectedPlaces:i})});if(!R.ok){const C=await R.json().catch(()=>({error:"Unknown error"}));if(R.status===429&&C.upgradeRequired){alert(`Upgrade required: ${C.error}. Please upgrade to ${C.nextTier} plan to continue.`);return}if(R.status===401&&C.upgradeRequired){alert("Please log in or upgrade your account to use AI trip generation.");return}throw new Error(C.error||`HTTP error! status: ${R.status}`)}const D=await R.json();n(D)}catch(b){console.error("Failed to generate trip:",b);const I=b instanceof Error?b.message:"Failed to generate trip";I.includes("not configured")?alert("Service temporarily unavailable. Please try again later or contact support."):I.includes("Network")?alert("Network error. Please check your connection and try again."):alert(`Failed to generate trip: ${I}`)}finally{g(!1)}},j=[{id:"culture",label:"Culture & Museums",icon:cv},{id:"food",label:"Food & Dining",icon:dv},{id:"nature",label:"Nature & Outdoors",icon:uv},{id:"adventure",label:"Adventure Sports",icon:yu},{id:"photography",label:"Photography",icon:Ha},{id:"beaches",label:"Beaches & Coast",icon:mv},{id:"nightlife",label:"Nightlife & Entertainment",icon:rt},{id:"wellness",label:"Wellness & Relaxation",icon:mt}],y=b=>{x(I=>({...I,interests:I.interests.includes(b)?I.interests.filter(L=>L!==b):[...I.interests,b]}))};return e.jsxs(le,{className:"w-full max-w-3xl mx-auto bg-white rounded-2xl shadow-2xl overflow-hidden",children:[e.jsxs(st,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(nt,{className:"flex items-center text-2xl font-bold",children:[e.jsx(rt,{className:"w-6 h-6 mr-3"}),"AI Trip Generator"]}),e.jsx(H,{variant:"outline",size:"sm",onClick:l,className:"bg-white/20 border-white/30 text-white hover:bg-white/30 rounded-full w-8 h-8 p-0",children:e.jsx(St,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-blue-100 mt-2",children:"Let AI create your perfect personalized itinerary"})]}),e.jsxs(re,{className:"p-8 space-y-6",children:[i.length>0&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Selected Places from Explore"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((b,I)=>e.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm",children:b.name},I))}),e.jsx("p",{className:"text-sm text-blue-700 mt-2",children:"These places will be included in your trip itinerary"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(ue,{className:"w-4 h-4 inline mr-1"}),"Destination"]}),e.jsx("input",{type:"text",value:m.destination,onChange:b=>x({...m,destination:b.target.value}),placeholder:"e.g., Paris, Tokyo, New York",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(it,{className:"w-4 h-4 inline mr-1"}),"Duration"]}),e.jsxs("select",{value:m.duration,onChange:b=>x({...m,duration:b.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[e.jsx("option",{value:"",children:"Select duration"}),e.jsx("option",{value:"1 day",children:"1 Day"}),e.jsx("option",{value:"2 days",children:"2 Days"}),e.jsx("option",{value:"3 days",children:"3 Days"}),e.jsx("option",{value:"4 days",children:"4 Days"}),e.jsx("option",{value:"5 days",children:"5 Days"}),e.jsx("option",{value:"1 week",children:"1 Week"}),e.jsx("option",{value:"10 days",children:"10 Days"}),e.jsx("option",{value:"2 weeks",children:"2 Weeks"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Ct,{className:"w-4 h-4 inline mr-1"}),"Number of Travelers"]}),e.jsxs("select",{value:m.travelers,onChange:b=>x({...m,travelers:b.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[e.jsx("option",{value:"1",children:"Solo (1 person)"}),e.jsx("option",{value:"2",children:"Couple (2 people)"}),e.jsx("option",{value:"3-4",children:"Small Group (3-4 people)"}),e.jsx("option",{value:"5+",children:"Large Group (5+ people)"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(ov,{className:"w-4 h-4 inline mr-1"}),"Currency"]}),e.jsxs("select",{value:m.currency,onChange:b=>x({...m,currency:b.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[e.jsx("option",{value:"USD",children:"USD ($)"}),e.jsx("option",{value:"EUR",children:"EUR ()"}),e.jsx("option",{value:"GBP",children:"GBP ()"}),e.jsx("option",{value:"JPY",children:"JPY ()"}),e.jsx("option",{value:"AUD",children:"AUD (A$)"}),e.jsx("option",{value:"CAD",children:"CAD (C$)"}),e.jsx("option",{value:"CHF",children:"CHF (Fr)"}),e.jsx("option",{value:"CNY",children:"CNY ()"}),e.jsx("option",{value:"INR",children:"INR ()"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(js,{className:"w-4 h-4 inline mr-1"}),"Budget Range"]}),e.jsxs("select",{value:m.budget,onChange:b=>x({...m,budget:b.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[e.jsx("option",{value:"low",children:"Budget ($300-600)"}),e.jsx("option",{value:"medium",children:"Medium ($600-1200)"}),e.jsx("option",{value:"high",children:"Luxury ($1200+)"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(At,{className:"w-4 h-4 inline mr-1"}),"Start Date"]}),e.jsx("input",{type:"date",value:m.startDate,onChange:b=>x({...m,startDate:b.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Travel Style"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[{id:"relaxed",label:"Relaxed",desc:"Slow pace, plenty of rest"},{id:"balanced",label:"Balanced",desc:"Mix of activities and downtime"},{id:"packed",label:"Action-Packed",desc:"Maximum activities and sights"}].map(b=>e.jsxs("button",{type:"button",onClick:()=>x({...m,travelStyle:b.id}),className:`p-4 rounded-xl border-2 text-left transition-all ${m.travelStyle===b.id?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:[e.jsx("div",{className:"font-medium",children:b.label}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:b.desc})]},b.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Interests & Activities"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:j.map(b=>{const I=b.icon,L=m.interests.includes(b.id);return e.jsxs("button",{type:"button",onClick:()=>y(b.id),className:`p-3 rounded-xl border-2 text-center transition-all ${L?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:[e.jsx(I,{className:"w-5 h-5 mx-auto mb-2"}),e.jsx("div",{className:"text-xs font-medium",children:b.label})]},b.id)})})]}),e.jsxs("div",{className:"flex gap-4 pt-6",children:[e.jsx(H,{type:"button",onClick:l,variant:"outline",className:"flex-1 py-3 rounded-xl border-2",children:"Cancel"}),e.jsxs(H,{onClick:w,disabled:f||!m.destination||!m.duration,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white py-3 rounded-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[e.jsx(rt,{className:"w-5 h-5 mr-2"}),f?"Creating Your Perfect Trip...":"Generate AI Trip"]})]})]})]})},K1=({onSubmit:n,onClose:l})=>{const[i,o]=v.useState({tripTitle:"",destination:"",duration:"",dailyPlans:[{day:1,activities:[""]}]}),u=()=>{o(j=>({...j,dailyPlans:[...j.dailyPlans,{day:j.dailyPlans.length+1,activities:[""]}]}))},m=j=>{i.dailyPlans.length>1&&o(y=>({...y,dailyPlans:y.dailyPlans.filter((b,I)=>I!==j).map((b,I)=>({...b,day:I+1}))}))},x=j=>{o(y=>({...y,dailyPlans:y.dailyPlans.map((b,I)=>I===j?{...b,activities:[...b.activities,""]}:b)}))},f=(j,y)=>{o(b=>({...b,dailyPlans:b.dailyPlans.map((I,L)=>L===j?{...I,activities:I.activities.filter((R,D)=>D!==y)}:I)}))},g=(j,y,b)=>{o(I=>({...I,dailyPlans:I.dailyPlans.map((L,R)=>R===j?{...L,activities:L.activities.map((D,C)=>C===y?b:D)}:L)}))},w=j=>{if(j.preventDefault(),i.tripTitle&&i.destination&&i.duration){const y={...i,dailyPlans:i.dailyPlans.map(b=>({...b,activities:b.activities.filter(I=>I.trim()!=="")})).filter(b=>b.activities.length>0)};n(y)}};return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs(le,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto bg-white rounded-2xl shadow-2xl",children:[e.jsx(st,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-t-2xl",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(nt,{className:"text-2xl font-bold",children:"Create New Trip"}),e.jsx(H,{variant:"outline",size:"sm",onClick:l,className:"bg-white/20 border-white/30 text-white hover:bg-white/30 rounded-full w-8 h-8 p-0",children:e.jsx(St,{className:"w-4 h-4"})})]})}),e.jsx(re,{className:"p-6",children:e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Title"}),e.jsx("input",{type:"text",value:i.tripTitle,onChange:j=>o(y=>({...y,tripTitle:j.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter trip title",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(ue,{className:"w-4 h-4 inline mr-1"}),"Destination"]}),e.jsx("input",{type:"text",value:i.destination,onChange:j=>o(y=>({...y,destination:j.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter destination",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(it,{className:"w-4 h-4 inline mr-1"}),"Duration"]}),e.jsx("input",{type:"text",value:i.duration,onChange:j=>o(y=>({...y,duration:j.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., 5 days, 1 week",required:!0})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[e.jsx(At,{className:"w-5 h-5 inline mr-2"}),"Daily Plans"]}),e.jsxs(H,{type:"button",onClick:u,className:"bg-blue-100 text-blue-600 hover:bg-blue-200 rounded-full px-4 py-2 text-sm",children:[e.jsx(br,{className:"w-4 h-4 mr-1"}),"Add Day"]})]}),e.jsx("div",{className:"space-y-4",children:i.dailyPlans.map((j,y)=>e.jsxs("div",{className:"border border-gray-200 rounded-xl p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs("h4",{className:"font-medium text-gray-900",children:["Day ",j.day]}),i.dailyPlans.length>1&&e.jsx(H,{type:"button",onClick:()=>m(y),className:"text-red-500 hover:text-red-700 p-1",variant:"outline",size:"sm",children:e.jsx(Oo,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-2",children:[j.activities.map((b,I)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:b,onChange:L=>g(y,I,L.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Enter activity"}),j.activities.length>1&&e.jsx(H,{type:"button",onClick:()=>f(y,I),className:"text-red-500 hover:text-red-700 p-2",variant:"outline",size:"sm",children:e.jsx(St,{className:"w-4 h-4"})})]},I)),e.jsxs(H,{type:"button",onClick:()=>x(y),className:"text-blue-600 hover:text-blue-700 text-sm p-2",variant:"outline",children:[e.jsx(br,{className:"w-4 h-4 mr-1"}),"Add Activity"]})]})]},y))})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(H,{type:"button",onClick:l,variant:"outline",className:"flex-1 py-3 rounded-xl",children:"Cancel"}),e.jsx(H,{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white py-3 rounded-xl font-medium",children:"Create Trip"})]})]})})]})})},Q1=()=>{const{user:n}=kt(),[l,i]=v.useState([]),[o,u]=v.useState(!1),[m,x]=v.useState(!1),[f,g]=v.useState(!0),[w,j]=v.useState([]),[y,b]=v.useState("list"),[I,L]=v.useState(null),R=Tt();v.useEffect(()=>{D();const N=sessionStorage.getItem("selectedPlaces");if(N){const q=JSON.parse(N);j(q),u(!0),sessionStorage.removeItem("selectedPlaces")}},[]);const D=async()=>{try{if(g(!0),!n?.id){console.log("No user ID available"),i([]);return}const N=await dr.getTrips(n.id);i(Array.isArray(N)?N:[]),console.log(` Loaded ${N.length} trips from backend`)}catch(N){console.error("Failed to fetch trips:",N),i([])}finally{g(!1)}},C=async N=>{if(confirm("Delete this trip?"))try{console.log(" Deleting trip:",N),i(M=>M.filter(Q=>Q._id!==N));const q=await dr.deleteTrip(N);console.log(" Delete result:",q),q?console.log(" Trip deleted successfully"):(console.error(" Delete failed, reverting"),D(),alert("Failed to delete trip"))}catch(q){console.error("Failed to delete trip:",q),D(),alert("Error deleting trip: "+q.message)}},_=N=>{if(!N.dailyPlans||N.dailyPlans.length===0)return 0;const q=N.dailyPlans.reduce((Q,W)=>Q+(W.activities?.length||0),0),M=N.dailyPlans.reduce((Q,W)=>Q+(W.activities?.filter(k=>k.isVisited)?.length||0),0);return q>0?Math.round(M/q*100):0};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-blue-600 to-purple-700 text-white",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=1920&h=1080&fit=crop)"}}),e.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 py-16 sm:py-24",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"p-3 bg-white/20 rounded-full backdrop-blur-sm",children:e.jsx(Fa,{className:"w-12 h-12"})})}),e.jsx("h1",{className:"text-4xl sm:text-6xl font-bold mb-6 bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:"Your Travel Adventures"}),e.jsx("p",{className:"text-xl sm:text-2xl text-blue-100 mb-8 max-w-3xl mx-auto",children:"Create personalized itineraries with AI-powered trip planning. Drag & drop to organize, visualize on maps."}),e.jsxs("div",{className:"flex justify-center space-x-2 mb-8",children:[e.jsxs(H,{variant:y==="list"?"default":"outline",onClick:()=>b("list"),className:"flex items-center bg-white/20 backdrop-blur-sm border-white/30 text-white hover:bg-white/30",children:[e.jsx(In,{className:"w-4 h-4 mr-2"}),"List View"]}),e.jsxs(H,{variant:y==="map"?"default":"outline",onClick:()=>b("map"),className:"flex items-center bg-white/20 backdrop-blur-sm border-white/30 text-white hover:bg-white/30",children:[e.jsx(yr,{className:"w-4 h-4 mr-2"}),"Map View"]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs(H,{onClick:()=>u(!0),className:"bg-white text-blue-600 hover:bg-blue-50 text-lg px-8 py-4 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[e.jsx(rt,{className:"w-5 h-5 mr-2"}),"Create Trip Plan"]})})]})})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 -mt-8 relative z-10",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 text-center border border-gray-100",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ue,{className:"w-6 h-6 text-blue-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:l.length}),e.jsx("p",{className:"text-gray-600",children:"Total Trips"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 text-center border border-gray-100",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Re,{className:"w-6 h-6 text-green-600"})}),e.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:[Math.round(l.reduce((N,q)=>N+_(q),0)/(l.length||1)),"%"]}),e.jsx("p",{className:"text-gray-600",children:"Avg Progress"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 text-center border border-gray-100",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ct,{className:"w-6 h-6 text-purple-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"AI"}),e.jsx("p",{className:"text-gray-600",children:"Powered"})]})]})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx(Y1,{selectedPlaces:w,onTripGenerated:async N=>{try{if(!n?.id){console.error("No user ID available"),alert("Please log in to save trips");return}await dr.createTrip({...N,userId:n.id})?(u(!1),j([]),D()):(console.error("Failed to save trip - no response"),alert("Failed to save trip. Please try again."))}catch(q){console.error("Failed to save AI trip:",q),alert("Failed to save trip. Please try again.")}},onClose:()=>{u(!1),j([])}})}),m&&e.jsx(K1,{onSubmit:async N=>{try{await dr.createTrip({...N,userId:n?.id}),x(!1),D()}catch(q){console.error("Failed to save trip:",q)}},onClose:()=>x(!1)}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 pb-16",children:f?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[1,2,3].map(N=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded"})]},N))}):l.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:l.map(N=>{const q=_(N);return e.jsxs(le,{className:"group hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 bg-white rounded-2xl border-0 shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-4 right-4 z-10",children:e.jsx(H,{variant:"outline",size:"sm",onClick:M=>{M.stopPropagation(),C(N._id)},className:"bg-white/90 backdrop-blur-sm border-0 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-full w-8 h-8 p-0",children:e.jsx(Oo,{className:"w-4 h-4"})})}),e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-32 flex items-center justify-center",children:e.jsx(ue,{className:"w-8 h-8 text-white"})})]}),e.jsxs(re,{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:N.tripTitle}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(ue,{className:"w-4 h-4 mr-3 text-blue-500"}),e.jsx("span",{className:"font-medium",children:N.destination})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(it,{className:"w-4 h-4 mr-3 text-green-500"}),e.jsx("span",{children:N.duration})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(At,{className:"w-4 h-4 mr-3 text-purple-500"}),e.jsx("span",{children:new Date(N.createdAt).toLocaleDateString()})]}),N.totalEstimatedCost&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(js,{className:"w-4 h-4 mr-3 text-yellow-500"}),e.jsx("span",{children:N.totalEstimatedCost})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progress"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[q,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${q}%`}})})]}),e.jsxs(H,{onClick:()=>R(`/trips/${N._id}`),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-xl py-3 font-medium transition-all duration-300 transform hover:scale-105",children:[e.jsx(Ga,{className:"w-4 h-4 mr-2"}),"View Trip Details"]})]})]},N._id)})}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-blue-100 to-purple-100 rounded-full flex items-center justify-center mx-auto mb-8",children:e.jsx(Fa,{className:"w-12 h-12 text-blue-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Ready for Your Next Adventure?"}),e.jsx("p",{className:"text-gray-600 mb-8 text-lg max-w-md mx-auto",children:"Let AI create the perfect itinerary tailored to your preferences and budget."}),e.jsx("div",{className:"flex justify-center",children:e.jsxs(H,{onClick:()=>u(!0),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-4 rounded-full text-lg font-medium shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[e.jsx(rt,{className:"w-5 h-5 mr-2"}),"Create Trip Plan"]})})]})})]})},k0=()=>{const{id:n}=Ro(),l=Tt(),{toggleActivityStatus:i,getActivityStatus:o}=x0(),[u,m]=v.useState(null),[x,f]=v.useState(!0),[g,w]=v.useState("list"),[j,y]=v.useState(!1),[b,I]=v.useState(""),[L,R]=v.useState(!1),[D,C]=v.useState(!1),[,_]=v.useState({}),[N,q]=v.useState(null),[M,Q]=v.useState(!1),[W,k]=v.useState(null);v.useEffect(()=>{if(n){fe(n);const T=localStorage.getItem(`trip-notes-${n}`);T&&I(T)}},[n]),v.useEffect(()=>{u&&(Se(),ae(),k(Y()))},[u,n]),v.useEffect(()=>{u&&n&&k(Y())},[_]);const ae=async()=>{u&&(q(u.introduction),Q(!1))},fe=async T=>{try{const F=await dr.getTripById(T);m(F)}catch(F){console.error("Failed to fetch trip:",F)}finally{f(!1)}},Se=async()=>{if(!u)return;const T={...u};for(const F of T.dailyPlans)for(const z of F.activities)if(!z.imageUrl){const ee=z.activityTitle.toLowerCase();let U="1506905925346-21bda4d32df4";ee.includes("temple")||ee.includes("church")||ee.includes("mosque")?(U="1548013146-72479768c5bd",z.category="Religious Site"):ee.includes("museum")||ee.includes("gallery")?(U="1554072675-66db59dba46f",z.category="Museum"):ee.includes("market")||ee.includes("bazaar")?(U="1555396273-e9f2df6178d7",z.category="Market"):ee.includes("fort")||ee.includes("palace")||ee.includes("castle")?(U="1520637836862-4d197d17c93a",z.category="Historical Site"):ee.includes("park")||ee.includes("garden")?(U="1441974231531-c6227db76b6e",z.category="Park"):ee.includes("restaurant")||ee.includes("food")?(U="1414235077428-338989a2e8c0",z.category="Restaurant"):(U="1488646953014-e1824e62c96c",z.category="Attraction"),z.imageUrl=`https://images.unsplash.com/photo-${U}?w=400&h=300&fit=crop&q=80`,z.rating=Math.round((4+Math.random()*1)*10)/10}m(T)},A=(T,F)=>{n&&(i(n,T,F),_({}))},Y=()=>{if(!u||!n)return null;let T=0,F=0,z=0,ee=0,U=0,ie=0;return u.dailyPlans.forEach((ve,me)=>{ve.activities.forEach((Ne,Ye)=>{T++;const Ke=o(n,me,Ye);Ke&&F++;const Te=Ne.duration.toLowerCase();let Ze=60;if(Te.includes("hr")||Te.includes("h")){const $=Te.match(/(\d+\.?\d*)/);$&&(Ze=parseFloat($[1])*60)}else if(Te.includes("min")){const $=Te.match(/(\d+)/);$&&(Ze=parseInt($[1]))}z+=Ze,Ke||(ee+=Ze);const ft=Ne.estimatedCost.replace(/[^0-9.]/g,""),Et=parseFloat(ft)||0;U+=Et,Ke||(ie+=Et)})}),{totalActivities:T,visitedActivities:F,pendingActivities:T-F,completionRate:Math.round(F/T*100),totalHours:Math.ceil(z/60),pendingHours:Math.ceil(ee/60),totalCost:U.toFixed(0),pendingCost:ie.toFixed(0)}},se=()=>{if(!u)return;const T=u.dailyPlans.flatMap(z=>z.activities).map(z=>z.activityTitle).join("|"),F=`https://www.google.com/maps/dir/?api=1&waypoints=${encodeURIComponent(T)}`;window.open(F,"_blank")},K=async()=>{if(!(!u||!n))try{await dr.updateTrip(n,u),localStorage.setItem(`trip-notes-${n}`,b),alert("Trip saved successfully!")}catch(T){console.error("Failed to save trip:",T),alert("Failed to save trip")}};return x?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):u?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[e.jsx("div",{className:"relative overflow-hidden bg-gradient-to-r from-teal-600 to-blue-700 text-white",children:e.jsxs("div",{className:"relative max-w-6xl mx-auto px-4 py-12",children:[e.jsxs(H,{variant:"outline",onClick:()=>l(-1),className:"mb-6 bg-white/20 border-white/30 text-white hover:bg-white/30",children:[e.jsx(jo,{className:"w-4 h-4 mr-2"}),"Back to Trips"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-center",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("h1",{className:"text-4xl lg:text-5xl font-bold mb-4",children:u.tripTitle}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center bg-white/20 rounded-lg px-3 py-2",children:[e.jsx(ue,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:u.destination})]}),e.jsxs("div",{className:"flex items-center bg-white/20 rounded-lg px-3 py-2",children:[e.jsx(it,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:u.duration})]}),e.jsxs("div",{className:"flex items-center bg-white/20 rounded-lg px-3 py-2",children:[e.jsx(js,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:u.totalEstimatedCost})]}),e.jsxs("div",{className:"flex items-center bg-white/20 rounded-lg px-3 py-2",children:[e.jsx(aa,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:u.estimatedWalkingDistance})]})]})]}),e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Trip Progress"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{children:[W?.totalActivities," Activities"]}),e.jsxs("span",{children:[W?.visitedActivities," Completed"]})]}),e.jsx("div",{className:"w-full bg-white/30 rounded-full h-3",children:e.jsx("div",{className:"bg-gradient-to-r from-green-400 to-emerald-500 h-3 rounded-full transition-all duration-500",style:{width:`${W?.completionRate||0}%`}})}),e.jsxs("div",{className:"text-xs opacity-90",children:[W?.completionRate||0,"% Complete"]})]})]})]})]})}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[e.jsx(le,{className:"mb-8 bg-gradient-to-r from-blue-50 to-purple-50 border-purple-200 shadow-lg",children:e.jsxs(re,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center mr-3",children:e.jsx(Re,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"AI Trip Overview"}),e.jsx("p",{className:"text-xs text-purple-600 font-medium",children:"Powered by Azure OpenAI"})]}),M&&e.jsx("div",{className:"ml-auto",children:e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-purple-600"})})]}),e.jsx("div",{className:"bg-white rounded-lg p-4",children:M?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 italic",children:"Generating personalized overview..."})]})}):e.jsx("p",{className:"text-gray-700 whitespace-pre-line leading-relaxed",children:N||u.introduction})})]})}),W&&e.jsx(le,{className:"mb-8",children:e.jsxs(re,{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:" Trip Progress"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:W.totalActivities}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Places"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:W.visitedActivities}),e.jsx("div",{className:"text-sm text-gray-600",children:"Visited"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-600",children:W.pendingActivities}),e.jsx("div",{className:"text-sm text-gray-600",children:"Pending"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:[W.completionRate,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Complete"})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Total / Pending Time"}),e.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[W.totalHours,"h / ",W.pendingHours,"h"]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Total / Pending Cost"}),e.jsxs("div",{className:"text-lg font-bold text-green-600",children:["$",W.totalCost," / $",W.pendingCost]})]})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-8",children:e.jsx("div",{className:"flex flex-wrap justify-between items-center gap-4",children:e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(H,{onClick:K,variant:"outline",className:"flex items-center",children:[e.jsx(gr,{className:"w-4 h-4 mr-2"}),"Save Trip"]}),e.jsxs(H,{onClick:se,className:"flex items-center",children:[e.jsx(aa,{className:"w-4 h-4 mr-2"}),"Open in Google Maps"]}),e.jsxs(H,{onClick:()=>y(!j),variant:j?"default":"outline",className:"flex items-center",children:[e.jsx(ju,{className:"w-4 h-4 mr-2"}),"Trip Notes"]})]})})}),j&&e.jsx(le,{className:"mb-8 bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:e.jsxs(re,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(bu,{className:"w-5 h-5 text-blue-600 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Trip Journal & Notes"})]}),e.jsx("textarea",{value:b,onChange:T=>I(T.target.value),placeholder:"Write your travel thoughts, experiences, reminders, or tips here...",className:"w-full h-32 p-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:" Your notes are automatically saved when you save the trip"})]})}),e.jsx("div",{className:"space-y-8",children:u.dailyPlans.map((T,F)=>e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-teal-500 to-blue-600 rounded-full flex items-center justify-center text-white font-bold text-lg mr-4",children:T.day}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Day ",T.day]}),e.jsx("p",{className:"text-gray-600",dangerouslySetInnerHTML:{__html:T.title}})]})]})}),e.jsxs("div",{className:"relative ml-6",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-0.5 bg-gradient-to-b from-teal-400 to-blue-500"}),e.jsx("div",{className:"space-y-6",children:T.activities.map((z,ee)=>e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`absolute -left-2 w-4 h-4 rounded-full border-2 border-white ${o(n,F,ee)?"bg-green-500":"bg-blue-500"}`}),e.jsx(le,{className:`ml-8 transition-all duration-300 hover:shadow-lg ${o(n,F,ee)?"bg-green-50 border-green-200":"bg-blue-50 border-blue-200"}`,children:e.jsx(re,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{className:"w-32 h-24 rounded-lg overflow-hidden mr-6 flex-shrink-0",children:e.jsx("img",{src:z.imageUrl||"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",alt:z.activityTitle,className:"w-full h-full object-cover",onError:U=>{U.currentTarget.src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop"}})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("span",{className:"bg-teal-100 text-teal-700 px-3 py-1 rounded-full text-sm font-medium",children:z.timeOfDay}),z.rating&&e.jsxs("div",{className:"flex items-center bg-yellow-100 px-2 py-1 rounded-full",children:[e.jsx(Re,{className:"w-4 h-4 text-yellow-500 fill-current mr-1"}),e.jsx("span",{className:"text-sm font-medium text-yellow-700",children:z.rating})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:z.activityTitle}),z.address&&e.jsxs("div",{className:"flex items-start text-sm text-gray-600 mb-2",children:[e.jsx(ue,{className:"w-4 h-4 mr-2 mt-0.5 text-blue-500"}),e.jsx("span",{children:z.address})]}),z.category&&e.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full mb-2",children:z.category}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:z.description})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(it,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:z.duration})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(js,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:z.estimatedCost})]})]})]}),e.jsx("div",{className:"ml-6",children:e.jsx(H,{variant:"default",size:"sm",onClick:()=>A(F,ee),className:o(n,F,ee)?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700",children:o(n,F,ee)?e.jsxs(e.Fragment,{children:[e.jsx(tt,{className:"w-4 h-4 mr-2"}),"Visited"]}):e.jsxs(e.Fragment,{children:[e.jsx(hv,{className:"w-4 h-4 mr-2"}),"Pending"]})})})]})})})]},ee))})]})]},T.day))})]})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trip Not Found"}),e.jsx(H,{onClick:()=>l(-1),children:"Back to Trips"})]})})},lp=[{id:"1",name:"Sarah Johnson",agency:"Adventure Lanka Tours",photo:"https://images.unsplash.com/photo-1494790108755-2616b612b47c?w=150&h=150&fit=crop&crop=face",location:"Colombo, Sri Lanka",specializations:["Adventure & Hiking","Cultural Tours","Wildlife & Safari"],rating:4.8,reviewCount:127,languages:["English","Sinhala"],verified:!0,experience:8,description:"Specialized in authentic Sri Lankan experiences with focus on adventure and cultural immersion.",phone:"+94 77 123 4567",email:"sarah@adventurelanka.com",priceRange:"$50-150/day",responseTime:"< 1 hour",totalTrips:340,trustBadges:["Top 1% Agent","Highly rated by couples"],profileCompletion:95},{id:"2",name:"Rajesh Patel",agency:"Island Paradise Travel",photo:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",location:"Kandy, Sri Lanka",specializations:["Honeymoon & Romance","Luxury & VIP","Beach & Coastal"],rating:4.9,reviewCount:89,languages:["English","Hindi","Tamil"],verified:!0,experience:12,description:"Luxury travel specialist creating unforgettable honeymoon and beach experiences.",phone:"+94 81 234 5678",email:"rajesh@islandparadise.lk",priceRange:"$100-300/day",responseTime:"< 2 hours",totalTrips:520,trustBadges:["Award Winner","Great for luxury trips"],profileCompletion:88},{id:"3",name:"Emma Thompson",agency:"Family Adventures LK",photo:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",location:"Galle, Sri Lanka",specializations:["Family Travel","Educational Tours","Wildlife & Safari"],rating:4.7,reviewCount:156,languages:["English","German"],verified:!0,experience:6,description:"Family travel expert specializing in educational and wildlife experiences for all ages.",phone:"+94 91 345 6789",email:"emma@familyadventures.lk",priceRange:"$75-200/day",responseTime:"< 3 hours",totalTrips:280,trustBadges:["Great for family trips","Popular this month"],profileCompletion:92}],X1=["Adventure & Hiking","Cultural Tours","Family Travel","Honeymoon & Romance","Luxury & VIP","Wildlife & Safari","Beach & Coastal","Photography Tours","Budget Backpacking","Pilgrimage Tours","Eco-Tourism","Road Trip Specialists","Digital Nomad Support","Educational Tours","Solo Travel","Business Travel","Food & Culinary","Scuba & Diving","Shopping Tours","Skiing & Snow","Historical Tours","Religious Tours","LGBTQ+ Friendly","Accessible Travel"],J1=["Colombo","Kandy","Galle","Negombo","Ella","Sigiriya","Anuradhapura","Mirissa","Bentota","Nuwara Eliya"],Z1=["Western Province","Central Province","Southern Province","Hill Country","Cultural Triangle"],W1=["1-3 years","3-7 years","7-10 years","10+ years"],e4=["TravelBuddy Verified","Government Licensed","Tour Guide License","Insurance Covered","Award Winner","Tourism Board Approved","First Aid Certified","Background Checked","National Park License"],A0=()=>{const n=Tt(),[l,i]=v.useState(""),[o,u]=v.useState([]),[m,x]=v.useState([]),[f,g]=v.useState(""),[w,j]=v.useState(""),[y,b]=v.useState(""),[I,L]=v.useState([]),[R,D]=v.useState(0),[C,_]=v.useState([]),[N,q]=v.useState(""),[M,Q]=v.useState([]),[W,k]=v.useState(!1),[ae,fe]=v.useState("grid"),[Se,A]=v.useState(!1),[Y,se]=v.useState(null),[K,T]=v.useState(!0);v.useEffect(()=>{ds.getConfig().then(U=>i(U.apiBaseUrl))},[]),v.useEffect(()=>{l&&F()},[l]),v.useEffect(()=>{z()},[o,f,w,y,I,R,C,N,M,W]);const F=async()=>{try{T(!0);const U=await fetch(`${l}/api/travel-agents`);if(U.ok){const ie=await U.json();u(ie)}else u(lp)}catch(U){console.error("Failed to fetch agents:",U),u(lp)}finally{T(!1)}},z=()=>{let U=o.filter(ie=>{const ve=ie.name.toLowerCase().includes(f.toLowerCase())||ie.agency.toLowerCase().includes(f.toLowerCase()),me=!w||ie.location.includes(w),Ne=I.length===0||I.some(Ze=>ie.specializations.includes(Ze)),Ye=ie.rating>=R,Ke=C.length===0||C.some(Ze=>ie.languages.includes(Ze)),Te=!W||ie.verified;return ve&&me&&Ne&&Ye&&Ke&&Te});x(U)},ee=U=>{L(ie=>ie.includes(U)?ie.filter(ve=>ve!==U):[...ie,U])};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-teal-50 pt-20",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-700 to-purple-800 text-white py-20 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 border-2 border-white/20 rounded-full"}),e.jsx("div",{className:"absolute top-32 right-20 w-24 h-24 border-2 border-white/20 rounded-full"}),e.jsx("div",{className:"absolute bottom-20 left-1/4 w-16 h-16 border-2 border-white/20 rounded-full"})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-5xl lg:text-6xl font-bold mb-6 bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:"Find Expert Travel Agents Worldwide"}),e.jsx("p",{className:"text-xl text-blue-100 max-w-3xl mx-auto mb-6",children:"Trusted by travelers in 42+ countries  Connect with verified local experts globally"}),e.jsxs("div",{className:"flex justify-center space-x-8 mb-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:"42+"}),e.jsx("div",{className:"text-sm text-blue-200",children:"Countries"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:"500+"}),e.jsx("div",{className:"text-sm text-blue-200",children:"Verified Agents"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:"10,000+"}),e.jsx("div",{className:"text-sm text-blue-200",children:"Successful Trips"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:"4.8"}),e.jsx("div",{className:"text-sm text-blue-200",children:"Average Rating"})]})]})]}),e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ht,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/70"}),e.jsx("input",{type:"text",placeholder:"Try 'Tokyo guide', 'Paris food tour', 'Dubai luxury', or agent names...",value:f,onChange:U=>g(U.target.value),className:"w-full pl-12 pr-4 py-4 bg-white/20 border border-white/30 rounded-xl text-white placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-white/50 text-lg"}),f&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl z-10 max-h-60 overflow-y-auto",children:["Honeymoon planners","Safari experts","Budget-friendly agents","Luxury travel specialists"].filter(U=>U.toLowerCase().includes(f.toLowerCase())).map(U=>e.jsx("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer text-gray-700 border-b last:border-b-0",onClick:()=>g(U),children:U},U))})]}),e.jsxs(H,{onClick:()=>A(!Se),className:"bg-white/20 hover:bg-white/30 border border-white/30 text-white px-8 py-4 rounded-xl text-lg font-medium",children:[e.jsx(Mn,{className:"w-5 h-5 mr-2"}),"Smart Filters"]})]}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[e.jsx("span",{className:"text-white/70 text-sm mr-2",children:" Trending:"}),["Tokyo guides","Paris food tours","Dubai luxury","Bali adventures","Safari experts"].map(U=>e.jsx("button",{onClick:()=>g(U),className:"px-3 py-1 bg-white/20 hover:bg-white/30 rounded-full text-sm text-white/90 transition-colors",children:U},U))]})]})})]})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[Se&&e.jsx(le,{className:"mb-8 border-0 shadow-lg",children:e.jsxs(re,{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),e.jsxs("select",{value:w,onChange:U=>j(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Cities"}),J1.map(U=>e.jsx("option",{value:U,children:U},U))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Region"}),e.jsxs("select",{value:y,onChange:U=>b(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Regions"}),Z1.map(U=>e.jsx("option",{value:U,children:U},U))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Experience"}),e.jsxs("select",{value:N,onChange:U=>q(U.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Any Experience"}),W1.map(U=>e.jsx("option",{value:U,children:U},U))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),e.jsxs("select",{value:R,onChange:U=>D(Number(U.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[e.jsx("option",{value:0,children:"Any Rating"}),e.jsx("option",{value:4,children:"4+ Stars"}),e.jsx("option",{value:4.5,children:"4.5+ Stars"}),e.jsx("option",{value:4.8,children:"Top Rated (4.8+)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"View"}),e.jsxs("div",{className:"flex rounded-lg border border-gray-300 overflow-hidden",children:[e.jsx("button",{onClick:()=>fe("grid"),className:`flex-1 px-2 py-2 text-xs ${ae==="grid"?"bg-indigo-600 text-white":"bg-white text-gray-700"}`,children:e.jsx(Pu,{className:"w-4 h-4 mx-auto"})}),e.jsx("button",{onClick:()=>fe("list"),className:`flex-1 px-2 py-2 text-xs ${ae==="list"?"bg-indigo-600 text-white":"bg-white text-gray-700"}`,children:e.jsx(In,{className:"w-4 h-4 mx-auto"})}),e.jsx("button",{onClick:()=>fe("map"),className:`flex-1 px-2 py-2 text-xs ${ae==="map"?"bg-indigo-600 text-white":"bg-white text-gray-700"}`,children:e.jsx(yr,{className:"w-4 h-4 mx-auto"})})]})]})]}),e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsx(H,{className:"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white px-6 py-2 rounded-lg",children:" Show AI-Recommended Agents"})}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Specializations"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-2",children:X1.map(U=>e.jsx("button",{onClick:()=>ee(U),className:`px-3 py-2 rounded-lg text-sm transition-colors text-center ${I.includes(U)?"bg-indigo-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:U},U))})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Verification & Credentials"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:e4.map(U=>e.jsx("button",{onClick:()=>{Q(ie=>ie.includes(U)?ie.filter(ve=>ve!==U):[...ie,U])},className:`px-3 py-2 rounded-lg text-sm transition-colors ${M.includes(U)?"bg-green-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:U},U))})]})]})}),e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[m.length," Travel Agents Found"]})}),ae==="map"&&e.jsx("div",{className:"mb-8",children:e.jsx(le,{className:"border-0 shadow-lg",children:e.jsx(re,{className:"p-6",children:e.jsxs("div",{className:"bg-gradient-to-r from-blue-100 to-indigo-100 rounded-lg p-8 text-center",children:[e.jsx(yr,{className:"w-16 h-16 mx-auto mb-4 text-indigo-600"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Interactive Map View"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"See agents on an interactive map with location pins"}),e.jsx(H,{className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:"Coming Soon - Map Integration"})]})})})}),ae!=="map"&&(K?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):e.jsx("div",{className:ae==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:m.map(U=>e.jsx(le,{className:"group hover:shadow-xl transition-all duration-300 cursor-pointer border-0 shadow-lg overflow-hidden",children:e.jsx(re,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:U.photo,alt:U.name,className:"w-16 h-16 rounded-full object-cover border-2 border-white shadow-md",onError:ie=>{ie.currentTarget.src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face"}}),U.verified&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center border-2 border-white",children:e.jsx(bl,{className:"w-3 h-3 text-white"})}),U.profileCompletion&&U.profileCompletion>90&&e.jsx("div",{className:"absolute -top-1 -left-1 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center border-2 border-white",children:e.jsx("span",{className:"text-xs text-white font-bold",children:""})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h3",{className:"font-bold text-gray-900 group-hover:text-indigo-600 transition-colors",children:U.name}),e.jsxs("span",{className:"text-xs text-gray-500",children:[U.experience," years exp"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:U.agency}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-500 mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ue,{className:"w-3 h-3 mr-1"}),U.location.split(",")[0]]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Re,{className:"w-3 h-3 mr-1 text-yellow-500 fill-current"}),U.rating," (",U.reviewCount,")"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(it,{className:"w-3 h-3 mr-1"}),U.responseTime]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ct,{className:"w-3 h-3 mr-1"}),U.totalTrips,"+ trips"]})]})]})]}),U.trustBadges&&U.trustBadges.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1",children:U.trustBadges.map(ie=>e.jsxs("span",{className:"px-2 py-1 bg-gradient-to-r from-purple-100 to-indigo-100 text-purple-700 text-xs rounded-full font-medium",children:[" ",ie]},ie))}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[U.specializations.slice(0,3).map(ie=>e.jsx("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-700 text-xs rounded-lg",children:ie},ie)),U.specializations.length>3&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-lg",children:["+",U.specializations.length-3," more"]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[e.jsx(xv,{className:"w-3 h-3"}),e.jsx("span",{children:U.languages.slice(0,2).join(", ")}),U.languages.length>2&&e.jsxs("span",{children:["+",U.languages.length-2]})]}),e.jsxs("div",{className:"flex space-x-1",children:[(()=>{const ie=localStorage.getItem("travelbuddy_userId");return console.log("Agent userId:",U.userId,"Current userId:",ie,"Match:",U.userId===ie),U.userId===ie})()&&e.jsxs(e.Fragment,{children:[e.jsx(H,{size:"sm",variant:"outline",className:"text-xs px-2 py-1",onClick:()=>n(`/travel-agent-registration/${U.id}`),children:"Edit"}),e.jsx(H,{size:"sm",variant:"outline",className:"text-xs px-2 py-1 text-red-600 hover:bg-red-50",onClick:async()=>{if(confirm("Delete this profile?"))try{const ie=localStorage.getItem("travelbuddy_userId");(await fetch(`${l}/api/travel-agents/${U.id}/${ie}`,{method:"DELETE"})).ok?(alert("Profile deleted"),F()):alert("Access denied")}catch{alert("Delete failed")}},children:"Delete"})]}),e.jsx(H,{size:"sm",className:"text-xs px-2 py-1 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700",onClick:()=>se(U),children:"View"})]})]})]})})},U.id))})),e.jsx("div",{className:"mt-16 text-center bg-gradient-to-r from-indigo-50 via-purple-50 to-blue-50 rounded-2xl p-12 border border-indigo-100",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Join Our Elite Agent Network"}),e.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Become part of Sri Lanka's premier travel agent community. Connect with 1000+ travelers monthly and grow your business with verified leads."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-6",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(bl,{className:"w-5 h-5 mr-2 text-indigo-600"}),"Verified Professional Status"]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Ct,{className:"w-5 h-5 mr-2 text-indigo-600"}),"Direct Customer Connections"]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(js,{className:"w-5 h-5 mr-2 text-indigo-600"}),"Increase Your Revenue"]})]}),e.jsx(pe,{to:"/travel-agent-registration",children:e.jsx(H,{className:"bg-gradient-to-r from-indigo-600 via-purple-600 to-blue-600 hover:from-indigo-700 hover:via-purple-700 hover:to-blue-700 text-white px-10 py-4 rounded-xl text-lg font-semibold shadow-lg hover:shadow-xl transition-all",children:" Register as Travel Agent"})})]})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"relative bg-gradient-to-r from-teal-600 to-blue-700 text-white p-6 rounded-t-2xl",children:[e.jsx("button",{onClick:()=>se(null),className:"absolute top-4 right-4 w-8 h-8 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center transition-colors",children:e.jsx(St,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex items-start space-x-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:Y.photo,alt:Y.name,className:"w-24 h-24 rounded-full object-cover border-4 border-white/20",onError:U=>{U.currentTarget.src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face"}}),Y.verified&&e.jsx("div",{className:"absolute -bottom-2 -right-2 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center border-2 border-white",children:e.jsx(bl,{className:"w-4 h-4 text-white"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-3xl font-bold mb-2",children:Y.name}),e.jsx("p",{className:"text-xl text-blue-100 mb-3",children:Y.agency}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center bg-white/20 rounded-lg px-3 py-1",children:[e.jsx(ue,{className:"w-4 h-4 mr-2"}),Y.location]}),e.jsxs("div",{className:"flex items-center bg-white/20 rounded-lg px-3 py-1",children:[e.jsx(Re,{className:"w-4 h-4 mr-2 text-yellow-300 fill-current"}),Y.rating," (",Y.reviewCount," reviews)"]}),e.jsxs("div",{className:"flex items-center bg-white/20 rounded-lg px-3 py-1",children:[e.jsx(it,{className:"w-4 h-4 mr-2"}),Y.experience," years experience"]})]})]})]})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"About"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:Y.description})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Specializations"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Y.specializations.map(U=>e.jsx("span",{className:"px-3 py-2 bg-teal-100 text-teal-700 rounded-lg font-medium",children:U},U))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Languages"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Y.languages.map(U=>e.jsx("span",{className:"px-3 py-2 bg-blue-100 text-blue-700 rounded-lg font-medium",children:U},U))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Recent Reviews"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"flex text-yellow-500",children:[...Array(5)].map((U,ie)=>e.jsx(Re,{className:"w-4 h-4 fill-current"},ie))}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"John D.  2 weeks ago"})]}),e.jsxs("p",{className:"text-gray-700",children:['"Excellent service! ',Y.name,' planned our perfect Sri Lankan adventure. Highly recommended!"']})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"flex text-yellow-500",children:[...Array(5)].map((U,ie)=>e.jsx(Re,{className:"w-4 h-4 fill-current"},ie))}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Sarah M.  1 month ago"})]}),e.jsx("p",{className:"text-gray-700",children:'"Professional and knowledgeable. Made our honeymoon unforgettable!"'})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(le,{className:"border-0 shadow-lg",children:e.jsxs(re,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Contact Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(vs,{className:"w-5 h-5 mr-3 text-teal-600"}),e.jsx("span",{children:Y.phone})]}),e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(ys,{className:"w-5 h-5 mr-3 text-teal-600"}),e.jsx("span",{className:"break-all",children:Y.email})]}),e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(js,{className:"w-5 h-5 mr-3 text-teal-600"}),e.jsx("span",{children:Y.priceRange})]})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(H,{className:"w-full bg-teal-600 hover:bg-teal-700 text-white py-3 rounded-xl",children:[e.jsx(pr,{className:"w-5 h-5 mr-2"}),"Send Message"]}),e.jsxs(H,{variant:"outline",className:"w-full py-3 rounded-xl",children:[e.jsx(vs,{className:"w-5 h-5 mr-2"}),"Call Now"]}),e.jsxs(H,{variant:"outline",className:"w-full py-3 rounded-xl",children:[e.jsx(At,{className:"w-5 h-5 mr-2"}),"Book Consultation"]}),e.jsxs(H,{variant:"outline",className:"w-full py-3 rounded-xl",children:[e.jsx(mt,{className:"w-5 h-5 mr-2"}),"Save Agent"]})]}),e.jsx(le,{className:"border-0 shadow-lg",children:e.jsxs(re,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Quick Stats"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Response Time"}),e.jsx("span",{className:"font-medium",children:"< 2 hours"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Trips Completed"}),e.jsx("span",{className:"font-medium",children:"150+"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Repeat Clients"}),e.jsx("span",{className:"font-medium",children:"85%"})]})]})]})})]})]})})]})})]})]})},rp=[{id:"1",providerId:"tp1",companyName:"Lanka Express Transport",vehicleType:"Bus",route:"Colombo - Kandy",fromLocation:"Colombo",toLocation:"Kandy",price:500,duration:"3 hours",departure:"08:00 AM",arrival:"11:00 AM",availableSeats:25,totalSeats:45,amenities:["AC","WiFi","Charging Ports","Refreshments"],rating:4.5,reviewCount:89,image:"https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=400&h=250&fit=crop",description:"Comfortable air-conditioned bus service with modern amenities",phone:"+94 11 234 5678",email:"info@lankaexpress.lk",isVerified:!0,isLive:!0,aiRecommended:!0,popularRoute:!0,passengerCapacity:45,luggageCapacity:"Large",instantBooking:!0,refundable:!0,ecoFriendly:!1,driverLanguages:["English","Sinhala"],insuranceIncluded:!0,lastUpdated:"2 minutes ago",coordinates:[{lat:6.9271,lng:79.8612},{lat:7.2906,lng:80.6337}]},{id:"2",providerId:"tp2",companyName:"Island Taxi Service",vehicleType:"Car",route:"Airport - Colombo City",fromLocation:"Bandaranaike Airport",toLocation:"Colombo City",price:2500,duration:"45 minutes",departure:"On Demand",arrival:"On Demand",availableSeats:3,totalSeats:4,amenities:["AC","English Speaking Driver","Child Seats Available"],rating:4.8,reviewCount:156,image:"https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=400&h=250&fit=crop",description:"Professional airport transfer service with experienced drivers",phone:"+94 77 987 6543",email:"bookings@islandtaxi.lk"},{id:"3",providerId:"tp3",companyName:"Coastal Ferry Services",vehicleType:"Ferry",route:"Colombo - Galle",fromLocation:"Colombo Port",toLocation:"Galle Harbor",price:1200,duration:"2.5 hours",departure:"09:30 AM",arrival:"12:00 PM",availableSeats:80,totalSeats:120,amenities:["Sea Views","Onboard Cafe","Deck Access","Life Jackets"],rating:4.3,reviewCount:67,image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=250&fit=crop",description:"Scenic coastal ferry with beautiful ocean views",phone:"+94 91 456 7890",email:"ferry@coastal.lk"}],t4=["All","Car","Bus","Ferry","Train","Plane","Bike Rental","Helicopter"],s4=["All Countries","Sri Lanka","Thailand","India","Japan","USA","UK","France","Spain","Italy","Greece"],np={AC:e.jsx(bs,{className:"w-4 h-4"}),WiFi:e.jsx(pv,{className:"w-4 h-4"}),"Charging Ports":e.jsx(bs,{className:"w-4 h-4"}),Refreshments:e.jsx(vu,{className:"w-4 h-4"}),"English Speaking Driver":e.jsx(Ct,{className:"w-4 h-4"}),"Child Seats Available":e.jsx(sa,{className:"w-4 h-4"}),"Sea Views":e.jsx(ue,{className:"w-4 h-4"}),"Onboard Cafe":e.jsx(vu,{className:"w-4 h-4"}),"Deck Access":e.jsx(ue,{className:"w-4 h-4"}),"Life Jackets":e.jsx(sa,{className:"w-4 h-4"})},E0=()=>{const[n,l]=v.useState(""),[i,o]=v.useState([]),[u,m]=v.useState([]),[x,f]=v.useState(""),[g,w]=v.useState("All"),[j,y]=v.useState(""),[b,I]=v.useState(""),[L,R]=v.useState(""),[D,C]=v.useState(5e3),[_,N]=v.useState(0),[q,M]=v.useState("grid"),[Q,W]=v.useState(!1),[k,ae]=v.useState(null),[fe,Se]=v.useState(""),[A,Y]=v.useState(!1),[se,K]=v.useState([]),[T,F]=v.useState(!1),[z,ee]=v.useState(!1),[U,ie]=v.useState(!1),[ve,me]=v.useState(!1),[Ne,Ye]=v.useState(!0),[Ke,Te]=v.useState("ai"),[Ze,ft]=v.useState("All Countries"),[Et,$]=v.useState("");v.useEffect(()=>{ds.getConfig().then(te=>{l(te.apiBaseUrl)})},[]),v.useEffect(()=>{n&&ye()},[n]),v.useEffect(()=>{Me()},[i,x,g,j,b,D,_,z,U,ve]);const ye=async()=>{try{Ye(!0);const te=await fetch(`${n}/api/transport-providers/services`);if(te.ok){const he=await te.json();console.log("API Response:",he),console.log("First service:",he[0]),console.log("First service keys:",Object.keys(he[0]||{})),console.log("First service image:",he[0]?.image),o(he)}else console.log("API failed, using mock data"),o(rp)}catch(te){console.error("Failed to fetch services:",te),console.log("Using mock data due to error"),o(rp)}finally{Ye(!1)}},Me=()=>{let te=i.filter(he=>{const _t=he.companyName.toLowerCase().includes(x.toLowerCase())||he.route.toLowerCase().includes(x.toLowerCase()),Tr=g==="All"||he.vehicleType===g,kr=!j||he.fromLocation.toLowerCase().includes(j.toLowerCase()),Uo=!b||he.toLocation.toLowerCase().includes(b.toLowerCase()),Bo=he.price<=D,Dt=he.rating>=_,Po=!z||he.isVerified,Fn=!U||he.instantBooking,Gn=!ve||he.ecoFriendly;return _t&&Tr&&kr&&Uo&&Bo&&Dt&&Po&&Fn&&Gn&&!L});te.sort((he,_t)=>he.aiRecommended&&!_t.aiRecommended?-1:!he.aiRecommended&&_t.aiRecommended?1:he.popularRoute&&!_t.popularRoute?-1:!he.popularRoute&&_t.popularRoute?1:_t.rating-he.rating),m(te)},Oe=async()=>{fe.trim()&&(Y(!0),setTimeout(()=>{fe.toLowerCase().includes("kandy")&&I("Kandy"),fe.toLowerCase().includes("comfortable")&&N(4),fe.toLowerCase().includes("cheap")&&C(1e3),Y(!1)},1500))},Qe=te=>{K(he=>he.includes(te)?he.filter(_t=>_t!==te):he.length<3?[...he,te]:he)},Jt=te=>{switch(te.toLowerCase()){case"car":return e.jsx(pl,{className:"w-5 h-5"});case"bus":return e.jsx(gv,{className:"w-5 h-5"});case"ferry":return e.jsx(fv,{className:"w-5 h-5"});case"plane":return e.jsx(Fa,{className:"w-5 h-5"});default:return e.jsx(pl,{className:"w-5 h-5"})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 pt-20",children:[e.jsxs("div",{className:"relative bg-gradient-to-r from-blue-600 to-green-600 text-white py-16 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:'url("https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=1920&h=400&fit=crop&q=80")',backgroundSize:"cover",backgroundPosition:"center"}})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative z-10",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl lg:text-5xl font-bold mb-4",children:"Find Transport Anywhere in the World"}),e.jsx("p",{className:"text-xl text-blue-100 max-w-2xl mx-auto",children:"Discover reliable transportation for your next adventure - from local taxis to international trains"})]}),e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl overflow-hidden shadow-2xl",children:[e.jsxs("div",{className:"flex border-b border-white/20",children:[e.jsx("button",{onClick:()=>Te("ai"),className:`flex-1 px-6 py-4 font-semibold transition-all duration-300 ${Ke==="ai"?"bg-white/20 text-white border-b-2 border-white":"text-white/70 hover:text-white hover:bg-white/5"}`,children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(uo,{className:"w-5 h-5 mr-2"}),"Ask AI Assistant"]})}),e.jsx("button",{onClick:()=>Te("manual"),className:`flex-1 px-6 py-4 font-semibold transition-all duration-300 ${Ke==="manual"?"bg-white/20 text-white border-b-2 border-white":"text-white/70 hover:text-white hover:bg-white/5"}`,children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(ue,{className:"w-5 h-5 mr-2"}),"Manual Search"]})})]}),Ke==="ai"&&e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(uo,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Try: 'Fast train from Tokyo to Osaka' or 'Ferry from Athens to Santorini' or 'Van for 7 to Kandy'",value:fe,onChange:te=>Se(te.target.value),onKeyPress:te=>te.key==="Enter"&&Oe(),className:"w-full pl-12 pr-4 py-4 bg-white border-2 border-transparent rounded-xl text-gray-900 placeholder-gray-400 focus:outline-none focus:border-purple-400 shadow-lg"})]}),e.jsx(H,{onClick:Oe,className:"bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 px-8 py-4 rounded-xl font-semibold shadow-lg border-2 border-white/30",disabled:A,children:A?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(uo,{className:"w-5 h-5 mr-2"}),"Search"]})})]}),e.jsx("p",{className:"text-white/80 text-sm mt-3 text-center",children:" Works worldwide: ParisLondon, BangkokPhuket, NYCBoston, ColomboKandy"})]}),Ke==="manual"&&e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("svg",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10 0C6.14 0 3 3.14 3 7c0 5.25 7 13 7 13s7-7.75 7-13c0-3.86-3.14-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})}),e.jsx("select",{value:Ze,onChange:te=>ft(te.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-transparent rounded-xl text-gray-900 focus:outline-none focus:border-blue-400 shadow-lg appearance-none cursor-pointer",children:s4.map(te=>e.jsx("option",{value:te,children:te},te))})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ue,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"City or region...",value:Et,onChange:te=>$(te.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-transparent rounded-xl text-gray-900 placeholder-gray-400 focus:outline-none focus:border-blue-400 shadow-lg"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ue,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"From location...",value:j,onChange:te=>y(te.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-transparent rounded-xl text-gray-900 placeholder-gray-400 focus:outline-none focus:border-blue-400 shadow-lg"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(aa,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"To location...",value:b,onChange:te=>I(te.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-transparent rounded-xl text-gray-900 placeholder-gray-400 focus:outline-none focus:border-blue-400 shadow-lg"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(At,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"date",value:L,onChange:te=>R(te.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-transparent rounded-xl text-gray-900 focus:outline-none focus:border-blue-400 shadow-lg"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-white/90 text-sm mb-2 font-medium",children:" Transport Type:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t4.map(te=>{const he={All:"",Car:"",Bus:"",Ferry:"",Train:"",Plane:"","Bike Rental":"",Helicopter:""};return e.jsxs("button",{onClick:()=>w(te),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${g===te?"bg-white text-blue-600 shadow-lg scale-105":"bg-white/20 text-white hover:bg-white/30"}`,children:[e.jsx("span",{className:"mr-1",children:he[te]}),te]},te)})})]}),e.jsxs(H,{onClick:Me,className:"w-full bg-white text-blue-600 hover:bg-blue-50 py-4 rounded-xl font-semibold shadow-lg",children:[e.jsx(Ht,{className:"w-5 h-5 mr-2"}),"Search Transportation"]})]})]})})]})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[u.length," Services Found"]}),e.jsx("p",{className:"text-gray-600",children:"Choose from available transportation options"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[se.length>0&&e.jsxs(H,{onClick:()=>F(!0),className:"bg-purple-600 hover:bg-purple-700 text-white",children:[e.jsx(ng,{className:"w-4 h-4 mr-2"}),"Compare (",se.length,")"]}),e.jsxs(H,{variant:"outline",onClick:()=>W(!Q),className:"flex items-center",children:[e.jsx(Mn,{className:"w-4 h-4 mr-2"}),"Filters"]}),e.jsxs("div",{className:"flex rounded-lg border border-gray-300 overflow-hidden",children:[e.jsx("button",{onClick:()=>M("grid"),className:`px-3 py-2 ${q==="grid"?"bg-blue-600 text-white":"bg-white text-gray-700"}`,children:e.jsx(Pu,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>M("list"),className:`px-3 py-2 ${q==="list"?"bg-blue-600 text-white":"bg-white text-gray-700"}`,children:e.jsx(In,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>M("map"),className:`px-3 py-2 ${q==="map"?"bg-blue-600 text-white":"bg-white text-gray-700"}`,children:e.jsx(yr,{className:"w-4 h-4"})})]})]})]}),Q&&e.jsx(le,{className:"mb-8 border-0 shadow-lg",children:e.jsx(re,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Price (LKR)"}),e.jsx("input",{type:"range",min:"0",max:"10000",step:"100",value:D,onChange:te=>C(Number(te.target.value)),className:"w-full"}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["Up to LKR ",D]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Rating"}),e.jsxs("select",{value:_,onChange:te=>N(Number(te.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:0,children:"Any Rating"}),e.jsx("option",{value:3,children:"3+ Stars"}),e.jsx("option",{value:4,children:"4+ Stars"}),e.jsx("option",{value:4.5,children:"4.5+ Stars"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Services"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ht,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by company or route...",value:x,onChange:te=>f(te.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quick Filters"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2",checked:z,onChange:te=>ee(te.target.checked)}),e.jsx("span",{className:"text-sm",children:"Verified Only"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2",checked:U,onChange:te=>ie(te.target.checked)}),e.jsx("span",{className:"text-sm",children:"Instant Booking"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2",checked:ve,onChange:te=>me(te.target.checked)}),e.jsx("span",{className:"text-sm",children:"Eco-Friendly"})]})]})]})]})})}),q==="map"&&e.jsx(le,{className:"mb-8 border-0 shadow-lg",children:e.jsx(re,{className:"p-6",children:e.jsx("div",{className:"bg-gray-100 rounded-lg h-96 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(yr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Interactive Map View"}),e.jsx("p",{className:"text-gray-500",children:"Map integration with Google Maps API coming soon"}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Will show routes, pickup points, and real-time locations"})]})})})}),Ne?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsx("div",{className:q==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":q==="list"?"space-y-4":"hidden",children:u.length===0?e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(pl,{className:"w-16 h-16 mx-auto mb-4"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No services found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your search criteria or filters"}),e.jsx(H,{onClick:()=>{f(""),w("All"),y(""),I(""),C(5e3),N(0),ee(!1),ie(!1),me(!1)},className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Clear All Filters"})]}):u.map(te=>e.jsx(le,{className:"group hover:shadow-xl transition-all duration-300 cursor-pointer border-0 shadow-lg",children:e.jsxs(re,{className:"p-0",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:te.image?.replace(/&amp;/g,"&"),alt:te.companyName,className:"w-full h-48 object-cover rounded-t-lg",onError:he=>{console.log("Image failed to load:",te.image),he.currentTarget.src="https://via.placeholder.com/400x250/3B82F6/FFFFFF?text=Transport+Service"}}),e.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[e.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg px-3 py-1 flex items-center",children:[Jt(te.vehicleType),e.jsx("span",{className:"ml-2 text-sm font-medium",children:te.vehicleType})]}),te.aiRecommended&&e.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-lg px-2 py-1 flex items-center",children:[e.jsx(uo,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"text-xs font-medium",children:"AI Pick"})]}),te.popularRoute&&e.jsxs("div",{className:"bg-orange-500 text-white rounded-lg px-2 py-1 flex items-center",children:[e.jsx(cs,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"text-xs font-medium",children:"Popular"})]})]}),e.jsxs("div",{className:"absolute top-4 right-4 flex flex-col gap-2",children:[e.jsxs("div",{className:"bg-green-500 text-white rounded-lg px-3 py-1",children:[e.jsx("span",{className:"text-xs text-green-100",children:"LKR"}),e.jsx("span",{className:"text-sm font-bold ml-1",children:te.price})]}),te.isLive&&e.jsxs("div",{className:"bg-red-500 text-white rounded-lg px-2 py-1 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full mr-1 animate-pulse"}),e.jsx("span",{className:"text-xs",children:"Live"})]})]}),e.jsx("div",{className:"absolute bottom-4 right-4",children:e.jsx("button",{onClick:he=>{he.stopPropagation(),Qe(te.id)},className:`p-2 rounded-full transition-colors ${se.includes(te.id)?"bg-purple-500 text-white":"bg-white/80 text-gray-700 hover:bg-white"}`,children:e.jsx(ng,{className:"w-4 h-4"})})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-bold text-gray-900 group-hover:text-blue-600 transition-colors",children:te.companyName}),te.isVerified&&e.jsx(tt,{className:"w-4 h-4 text-blue-500",title:"Verified Provider"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:te.route}),te.lastUpdated&&e.jsxs("p",{className:"text-xs text-green-600",children:["Updated ",te.lastUpdated]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Re,{className:"w-4 h-4 text-yellow-500 fill-current mr-1"}),e.jsx("span",{className:"text-sm font-medium",children:te.rating.toFixed(1)}),e.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",te.reviewCount,")"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(it,{className:"w-4 h-4 mr-2"}),te.duration]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Ct,{className:"w-4 h-4 mr-2"}),te.availableSeats," seats"]}),e.jsxs("div",{className:"text-gray-600",children:["Depart: ",te.departure]}),e.jsxs("div",{className:"text-gray-600",children:["Arrive: ",te.arrival]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[te.amenities.slice(0,3).map(he=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:[np[he],e.jsx("span",{className:"ml-1",children:he})]},he)),te.amenities.length>3&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",te.amenities.length-3," more"]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(H,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>ae(te),children:"View Details"}),e.jsx(H,{size:"sm",className:"flex-1 bg-blue-600 hover:bg-blue-700",children:te.instantBooking?"Book Instantly":"Request Booking"}),e.jsx(H,{variant:"outline",size:"sm",className:"px-3",children:e.jsx(ig,{className:"w-4 h-4"})})]})]})]})},te.id))}),e.jsxs("div",{className:"mt-16 text-center bg-gradient-to-r from-blue-50 to-green-50 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Are you a Transport Provider?"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-2xl mx-auto",children:"Join our global network of transport providers from 50+ countries. Connect with travelers worldwide looking for reliable transportation."}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(pe,{to:"/transport-registration",children:e.jsx(H,{className:"bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-700 hover:to-green-700 text-white px-8 py-3 rounded-xl",children:"Register as Transport Provider"})}),e.jsxs(H,{variant:"outline",className:"px-8 py-3 rounded-xl",children:[e.jsx(aa,{className:"w-5 h-5 mr-2"}),"View Provider Dashboard"]})]})]}),T&&se.length>0&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Compare Services"}),e.jsx("button",{onClick:()=>F(!1),className:"w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx(St,{className:"w-5 h-5"})})]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:se.map(te=>{const he=i.find(_t=>_t.id===te);return he?e.jsx(le,{className:"border-2",children:e.jsxs(re,{className:"p-4",children:[e.jsx("img",{src:he.image,alt:he.companyName,className:"w-full h-32 object-cover rounded-lg mb-4"}),e.jsx("h3",{className:"font-bold text-lg mb-2",children:he.companyName}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Price:"}),e.jsxs("span",{className:"font-semibold text-green-600",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"LKR"})," ",he.price]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Rating:"}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(Re,{className:"w-3 h-3 text-yellow-500 fill-current mr-1"}),he.rating.toFixed(1)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Duration:"}),e.jsx("span",{children:he.duration})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Seats:"}),e.jsxs("span",{children:[he.availableSeats," available"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Booking:"}),e.jsx("span",{children:he.instantBooking?"Instant":"Request"})]})]}),e.jsx(H,{className:"w-full mt-4 bg-blue-600 hover:bg-blue-700",children:"Select This"})]})},he.id):null})})})]})}),k&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:k.image,alt:k.companyName,className:"w-full h-64 object-cover rounded-t-2xl"}),e.jsx("button",{onClick:()=>ae(null),className:"absolute top-4 right-4 w-8 h-8 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center transition-colors",children:e.jsx(St,{className:"w-5 h-5 text-white"})})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:k.companyName}),e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:k.route}),e.jsx("p",{className:"text-gray-700 mb-6",children:k.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Schedule"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Departure: ",k.departure]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Arrival: ",k.arrival]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Duration: ",k.duration]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Capacity"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Available: ",k.availableSeats," seats"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Total: ",k.totalSeats," seats"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Amenities"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:k.amenities.map(te=>e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[np[te],e.jsx("span",{className:"ml-2",children:te})]},te))})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(le,{className:"border-0 shadow-lg",children:e.jsxs(re,{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:[e.jsx("span",{className:"text-lg text-gray-500",children:"LKR"})," ",k.price]}),e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(Re,{className:"w-5 h-5 text-yellow-500 fill-current mr-1"}),e.jsx("span",{className:"font-medium",children:k.rating.toFixed(1)}),e.jsxs("span",{className:"text-gray-500 ml-1",children:["(",k.reviewCount," reviews)"]})]}),k.isVerified&&e.jsxs("div",{className:"flex items-center justify-center text-blue-600 text-sm",children:[e.jsx(tt,{className:"w-4 h-4 mr-1"}),"Verified Provider"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(H,{className:"w-full bg-blue-600 hover:bg-blue-700 py-3",children:k.instantBooking?"Book Instantly":"Request Booking"}),e.jsxs(H,{variant:"outline",className:"w-full py-3",children:[e.jsx(ig,{className:"w-4 h-4 mr-2"}),"Add to Trip Plan"]}),e.jsxs(H,{variant:"outline",className:"w-full py-3",children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),"Call Provider"]}),e.jsxs(H,{variant:"outline",className:"w-full py-3",children:[e.jsx(Nu,{className:"w-4 h-4 mr-2"}),"Chat with Provider"]})]})]})}),e.jsx(le,{className:"border-0 shadow-lg",children:e.jsxs(re,{className:"p-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Provider Info"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),k.phone]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(ys,{className:"w-4 h-4 mr-2"}),k.email]}),k.lastUpdated&&e.jsxs("div",{className:"text-green-600",children:["Last updated: ",k.lastUpdated]}),k.insuranceIncluded&&e.jsxs("div",{className:"flex items-center text-blue-600",children:[e.jsx(sa,{className:"w-4 h-4 mr-2"}),"Insurance Included"]})]})]})}),e.jsx(le,{className:"border-0 shadow-lg",children:e.jsxs(re,{className:"p-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Community Insights"}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsx("p",{children:" 45 travelers used this route last month"}),e.jsx("p",{children:" Highly rated for punctuality"}),e.jsx("p",{children:" Popular among solo travelers"}),e.jsxs(H,{variant:"outline",size:"sm",className:"w-full mt-3",children:[e.jsx(Nu,{className:"w-4 h-4 mr-2"}),"View Community Stories"]})]})]})})]})]})})]})})]})]})},a4=()=>{const{user:n}=kt(),[l,i]=v.useState({currency:"USD",language:"en",travelStyle:"balanced",budgetRange:"medium",interests:["culture","food"],groupSize:"couple"}),[o,u]=v.useState(!1),m=async()=>{u(!0),setTimeout(()=>u(!1),1e3)};return n?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Travel Preferences"}),e.jsx("p",{className:"text-gray-600",children:"Customize your travel experience"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(le,{children:[e.jsx(st,{children:e.jsxs(nt,{className:"flex items-center",children:[e.jsx(gs,{className:"w-5 h-5 mr-2"}),"Regional Settings"]})}),e.jsxs(re,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),e.jsxs("select",{value:l.currency,onChange:x=>i({...l,currency:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"USD",children:"USD ($)"}),e.jsx("option",{value:"EUR",children:"EUR ()"}),e.jsx("option",{value:"GBP",children:"GBP ()"}),e.jsx("option",{value:"LKR",children:"LKR (Rs)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),e.jsxs("select",{value:l.language,onChange:x=>i({...l,language:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"si",children:""}),e.jsx("option",{value:"ta",children:""})]})]})]})]}),e.jsxs(le,{children:[e.jsx(st,{children:e.jsxs(nt,{className:"flex items-center",children:[e.jsx(ue,{className:"w-5 h-5 mr-2"}),"Travel Style"]})}),e.jsx(re,{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Pace"}),e.jsx("div",{className:"space-y-2",children:["relaxed","balanced","packed"].map(x=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"travelStyle",value:x,checked:l.travelStyle===x,onChange:f=>i({...l,travelStyle:f.target.value}),className:"mr-2"}),e.jsx("span",{className:"capitalize",children:x})]},x))})]})})]}),e.jsxs(le,{children:[e.jsx(st,{children:e.jsxs(nt,{className:"flex items-center",children:[e.jsx(js,{className:"w-5 h-5 mr-2"}),"Budget & Group"]})}),e.jsxs(re,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget Range"}),e.jsxs("select",{value:l.budgetRange,onChange:x=>i({...l,budgetRange:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"low",children:"Budget ($300-600)"}),e.jsx("option",{value:"medium",children:"Medium ($600-1200)"}),e.jsx("option",{value:"high",children:"Luxury ($1200+)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Group Size"}),e.jsxs("select",{value:l.groupSize,onChange:x=>i({...l,groupSize:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"solo",children:"Solo"}),e.jsx("option",{value:"couple",children:"Couple"}),e.jsx("option",{value:"family",children:"Family"}),e.jsx("option",{value:"group",children:"Group"})]})]})]})]}),e.jsxs(le,{children:[e.jsx(st,{children:e.jsx(nt,{children:"Travel Interests"})}),e.jsx(re,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:["culture","food","nature","adventure","photography","nightlife"].map(x=>e.jsx(ea,{variant:l.interests.includes(x)?"primary":"secondary",className:"cursor-pointer",onClick:()=>{const f=l.interests.includes(x)?l.interests.filter(g=>g!==x):[...l.interests,x];i({...l,interests:f})},children:x},x))})})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs(H,{onClick:m,disabled:o,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2",children:[e.jsx(gr,{className:"w-4 h-4 mr-2"}),o?"Saving...":"Save Preferences"]})})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Not Logged In"}),e.jsx("p",{className:"text-gray-600",children:"Please log in to manage your travel preferences"})]})})},l4=()=>{const{user:n}=kt(),[l,i]=v.useState({email:{tripUpdates:!0,deals:!1,newsletter:!0,reminders:!0},push:{tripUpdates:!0,deals:!0,messages:!0,location:!1},frequency:"daily"}),[o,u]=v.useState(!1),m=async()=>{u(!0),setTimeout(()=>u(!1),1e3)},x=(f,g)=>{i(w=>({...w,[f]:{...w[f],[g]:!w[f][g]}}))};return n?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Notifications"}),e.jsx("p",{className:"text-gray-600",children:"Manage how you receive updates"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(le,{children:[e.jsx(st,{children:e.jsxs(nt,{className:"flex items-center",children:[e.jsx(ys,{className:"w-5 h-5 mr-2"}),"Email Notifications"]})}),e.jsx(re,{className:"space-y-4",children:[{key:"tripUpdates",label:"Trip Updates",desc:"Get notified about your trip plans and changes",icon:ue},{key:"deals",label:"Deals & Offers",desc:"Special offers and discounts on travel",icon:ur},{key:"newsletter",label:"Newsletter",desc:"Weekly travel tips and destination guides",icon:ys},{key:"reminders",label:"Trip Reminders",desc:"Reminders about upcoming trips",icon:At}].map(({key:f,label:g,desc:w,icon:j})=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j,{className:"w-5 h-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:g}),e.jsx("p",{className:"text-sm text-gray-500",children:w})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.email[f],onChange:()=>x("email",f),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},f))})]}),e.jsxs(le,{children:[e.jsx(st,{children:e.jsxs(nt,{className:"flex items-center",children:[e.jsx(ur,{className:"w-5 h-5 mr-2"}),"Push Notifications"]})}),e.jsx(re,{className:"space-y-4",children:[{key:"tripUpdates",label:"Trip Updates",desc:"Real-time updates about your trips",icon:ue},{key:"deals",label:"Flash Deals",desc:"Time-sensitive travel deals",icon:ur},{key:"messages",label:"Messages",desc:"Messages from travel agents and support",icon:Nu},{key:"location",label:"Location-based",desc:"Suggestions based on your current location",icon:ue}].map(({key:f,label:g,desc:w,icon:j})=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j,{className:"w-5 h-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:g}),e.jsx("p",{className:"text-sm text-gray-500",children:w})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.push[f],onChange:()=>x("push",f),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},f))})]}),e.jsxs(le,{children:[e.jsx(st,{children:e.jsx(nt,{children:"Notification Frequency"})}),e.jsx(re,{children:e.jsx("div",{className:"space-y-2",children:[{value:"instant",label:"Instant",desc:"Get notified immediately"},{value:"daily",label:"Daily Digest",desc:"Once per day summary"},{value:"weekly",label:"Weekly Summary",desc:"Weekly roundup of updates"}].map(({value:f,label:g,desc:w})=>e.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"radio",name:"frequency",value:f,checked:l.frequency===f,onChange:j=>i({...l,frequency:j.target.value}),className:"mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:g}),e.jsx("p",{className:"text-sm text-gray-500",children:w})]})]},f))})})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs(H,{onClick:m,disabled:o,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2",children:[e.jsx(gr,{className:"w-4 h-4 mr-2"}),o?"Saving...":"Save Settings"]})})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Not Logged In"}),e.jsx("p",{className:"text-gray-600",children:"Please log in to manage your notifications"})]})})},r4=()=>{const{user:n,logout:l}=kt(),[i,o]=v.useState(!1),u=async()=>{window.confirm("Are you sure you want to delete your account? This action cannot be undone.")&&(o(!0),setTimeout(()=>o(!1),1e3))},m=async()=>{o(!0),setTimeout(()=>o(!1),1e3)};return n?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings & Privacy"}),e.jsx("p",{className:"text-gray-600",children:"Manage your account security and privacy"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(le,{children:[e.jsx(st,{children:e.jsxs(nt,{className:"flex items-center",children:[e.jsx(sa,{className:"w-5 h-5 mr-2"}),"Account Security"]})}),e.jsxs(re,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(wo,{className:"w-5 h-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Change Password"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Update your account password"})]})]}),e.jsx(H,{variant:"outline",size:"sm",children:"Change"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(sa,{className:"w-5 h-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Add an extra layer of security"})]})]}),e.jsx(H,{variant:"outline",size:"sm",children:"Enable"})]})]})]}),e.jsxs(le,{children:[e.jsx(st,{children:e.jsxs(nt,{className:"flex items-center",children:[e.jsx(Ga,{className:"w-5 h-5 mr-2"}),"Privacy Settings"]})}),e.jsxs(re,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Profile Visibility"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Control who can see your profile"})]}),e.jsxs("select",{className:"px-3 py-1 border border-gray-300 rounded-lg text-sm",children:[e.jsx("option",{children:"Public"}),e.jsx("option",{children:"Friends Only"}),e.jsx("option",{children:"Private"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Trip Sharing"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Allow others to see your trips"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Location Tracking"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Allow location-based recommendations"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),e.jsxs(le,{children:[e.jsx(st,{children:e.jsxs(nt,{className:"flex items-center",children:[e.jsx(og,{className:"w-5 h-5 mr-2"}),"Data Management"]})}),e.jsx(re,{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(og,{className:"w-5 h-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Export Data"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Download a copy of your data"})]})]}),e.jsx(H,{variant:"outline",size:"sm",onClick:m,disabled:i,children:i?"Exporting...":"Export"})]})})]}),e.jsxs(le,{className:"border-red-200",children:[e.jsx(st,{children:e.jsxs(nt,{className:"flex items-center text-red-600",children:[e.jsx(bv,{className:"w-5 h-5 mr-2"}),"Danger Zone"]})}),e.jsx(re,{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between p-3 border border-red-200 rounded-lg bg-red-50",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Oo,{className:"w-5 h-5 text-red-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-red-900",children:"Delete Account"}),e.jsx("p",{className:"text-sm text-red-600",children:"Permanently delete your account and all data"})]})]}),e.jsx(H,{variant:"outline",size:"sm",onClick:u,disabled:i,className:"border-red-300 text-red-600 hover:bg-red-100",children:i?"Deleting...":"Delete"})]})})]})]})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Not Logged In"}),e.jsx("p",{className:"text-gray-600",children:"Please log in to access settings"})]})})},ip=({deal:n,onView:l,onClaim:i,onDelete:o,isRecommended:u=!1,distance:m,showDelete:x=!1})=>{const[f,g]=v.useState(!1),[w,j]=v.useState(!1),[y,b]=v.useState(!1),I=()=>{l(n._id),console.log("Deal data:",n),console.log("Contact info:",n.contactInfo),b(!0)},L=()=>{g(!f)},R=async()=>{j(!0);try{await navigator.share({title:n.title,text:`${n.discount} off at ${n.businessName}!`,url:window.location.href})}catch{navigator.clipboard.writeText(window.location.href)}j(!1)},D=Q=>{switch(Q){case"restaurant":return"bg-orange-100 text-orange-800";case"hotel":return"bg-blue-100 text-blue-800";case"cafe":return"bg-amber-100 text-amber-800";case"attraction":return"bg-purple-100 text-purple-800";case"transport":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},C=Q=>{switch(Q){case"restaurant":return"";case"hotel":return"";case"cafe":return"";case"attraction":return"";case"transport":return"";default:return""}},_=Q=>{if(Q.includes("Expired"))return"text-red-600 bg-red-50";const W=parseInt(Q);return W<=2?"text-red-600 bg-red-50":W<=7?"text-orange-600 bg-orange-50":"text-green-600 bg-green-50"},q=(Q=>{if(!Q)return null;const W=new Date,ae=new Date(Q).getTime()-W.getTime(),fe=Math.ceil(ae/(1e3*60*60*24));return fe>0?`${fe} days left`:"Expired"})(n.validUntil),M=parseFloat(n.originalPrice)-parseFloat(n.discountedPrice);return e.jsxs("div",{className:`bg-white rounded-xl shadow-sm hover:shadow-xl transition-all duration-500 overflow-hidden border group hover:-translate-y-1 ${u?"border-transparent bg-gradient-to-br from-blue-50 to-purple-50 ring-2 ring-gradient-to-r ring-blue-200":"border-gray-100"}`,children:[e.jsxs("div",{className:"relative",children:[n.images&&n.images.length>0&&n.images[0]?e.jsx("img",{src:n.images[0],alt:n.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300",onError:Q=>{Q.currentTarget.src="https://images.unsplash.com/photo-1555881400-74d7acaacd8b?w=400&h=300&fit=crop&auto=format&q=80"}}):e.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-blue-100 to-purple-100 flex items-center justify-center",children:e.jsx(Re,{className:"w-12 h-12 text-gray-400"})}),n.aiRank&&e.jsx("div",{className:`absolute top-3 right-3 text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg ${n.aiRank==="best-value"?"bg-green-500":n.aiRank==="trending"?"bg-orange-500":"bg-red-500 animate-pulse"}`,children:n.aiRank==="best-value"?" Best Value":n.aiRank==="trending"?" Trending":" Limited Time"}),e.jsx("div",{className:"absolute top-12 right-3 bg-red-500 text-white text-sm font-bold px-3 py-1 rounded-full shadow-lg",children:n.discount}),e.jsxs("div",{className:"absolute top-3 left-3 flex flex-col gap-2",children:[e.jsxs("div",{className:`text-xs font-medium px-3 py-1 rounded-full flex items-center space-x-1 ${D(n.businessType)}`,children:[e.jsx("span",{children:C(n.businessType)}),e.jsx("span",{children:n.businessType.charAt(0).toUpperCase()+n.businessType.slice(1)})]}),n.userCategory&&e.jsx("div",{className:"bg-purple-500 text-white text-xs font-medium px-3 py-1 rounded-full",children:n.userCategory==="foodie"?" Foodie":n.userCategory==="adventure"?" Adventure":" Budget"})]}),n.claims>10&&e.jsxs("div",{className:"absolute top-3 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-orange-500 to-red-500 text-white text-xs font-bold px-2 py-1 rounded-full flex items-center space-x-1 animate-pulse",children:[e.jsx(bs,{className:"w-3 h-3"}),e.jsx("span",{children:"Trending"})]}),u&&e.jsxs("div",{className:"absolute bottom-3 left-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white text-xs font-bold px-2 py-1 rounded-full flex items-center space-x-1",children:[e.jsx(Re,{className:"w-3 h-3 fill-current"}),e.jsx("span",{children:"AI Pick"})]})]}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-1 line-clamp-1 group-hover:text-blue-600 transition-colors",children:n.title}),e.jsx("div",{className:"flex items-center justify-between text-gray-600 text-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ue,{className:"w-4 h-4 mr-1 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:n.businessName})]})}),m&&e.jsxs("div",{className:"mt-1 flex items-center text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded-full w-fit",children:[e.jsx(ue,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"font-medium",children:m})]})]}),n.description&&e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:n.description}),e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-gray-500 line-through text-sm",children:["$",n.originalPrice]}),e.jsxs("span",{className:"text-green-600 font-bold text-lg",children:["$",n.discountedPrice]}),M>0&&e.jsxs("span",{className:"text-green-600 text-sm font-medium",children:["Save $",M.toFixed(0)]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center text-gray-500",children:[e.jsx(Ga,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:n.views})]}),e.jsxs("div",{className:"flex items-center text-gray-500",children:[e.jsx(Ct,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:n.claims})]})]}),q&&e.jsxs("div",{className:`flex items-center font-medium px-2 py-1 rounded-full text-xs ${_(q)}`,children:[e.jsx(it,{className:"w-3 h-3 mr-1"}),e.jsx("span",{children:q})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:I,className:"flex-1 flex items-center justify-center space-x-2 bg-gray-100 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:[e.jsx(yv,{className:"w-4 h-4"}),e.jsx("span",{children:"View"})]}),e.jsxs("button",{onClick:L,className:`flex-1 py-3 px-4 rounded-lg transition-all duration-200 font-medium shadow-sm hover:shadow-md ${f?"bg-red-500 text-white hover:bg-red-600":"bg-gradient-to-r from-pink-500 to-red-500 text-white hover:from-pink-600 hover:to-red-600"}`,children:[e.jsx(mt,{className:`w-4 h-4 mr-2 inline ${f?"fill-current":""}`}),f?"Favorited":"Add to Favorite"]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[e.jsxs("button",{onClick:R,disabled:w,className:"flex items-center space-x-1 text-sm text-gray-500 hover:text-blue-500 transition-colors",children:[e.jsx(No,{className:"w-4 h-4"}),e.jsx("span",{children:"Share"})]}),x&&o&&e.jsxs("button",{onClick:()=>o(n._id),className:"flex items-center space-x-1 text-sm text-red-500 hover:text-red-700 transition-colors",children:[e.jsx(Oo,{className:"w-4 h-4"}),e.jsx("span",{children:"Delete"})]})]})]})]}),y&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:Q=>{Q.target===Q.currentTarget&&b(!1)},children:e.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:n.title}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-gray-600 mb-2",children:n.description}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-gray-500 line-through",children:["$",n.originalPrice]}),e.jsxs("span",{className:"text-green-600 font-bold text-lg",children:["$",n.discountedPrice]})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[" ",n.location.address]})]}),(n.contactInfo&&Object.values(n.contactInfo).some(Q=>Q)||!n.contactInfo)&&e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("h4",{className:"font-semibold",children:["Contact ",n.businessName]}),(!n.contactInfo||!Object.values(n.contactInfo).some(Q=>Q))&&e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:"https://example.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"Visit Website"})]}),e.jsxs("a",{href:"tel:+1234567890",className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"Call +1 (234) 567-890"})]}),e.jsxs("a",{href:"https://wa.me/1234567890",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"WhatsApp"})]}),e.jsxs("a",{href:"mailto:contact@business.com",className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"Email"})]})]}),n.contactInfo?.website&&e.jsxs("a",{href:n.contactInfo.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"Visit Website"})]}),n.contactInfo?.phone&&e.jsxs("a",{href:`tel:${n.contactInfo.phone}`,className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx("span",{children:""}),e.jsxs("span",{children:["Call ",n.contactInfo.phone]})]}),n.contactInfo?.whatsapp&&e.jsxs("a",{href:`https://wa.me/${n.contactInfo.whatsapp.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"WhatsApp"})]}),n.contactInfo?.email&&e.jsxs("a",{href:`mailto:${n.contactInfo.email}`,className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"Email"})]}),n.contactInfo?.facebook&&e.jsxs("a",{href:n.contactInfo.facebook,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"Facebook"})]}),n.contactInfo?.instagram&&e.jsxs("a",{href:n.contactInfo.instagram,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 bg-pink-50 rounded-lg hover:bg-pink-100 transition-colors",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"Instagram"})]})]}),e.jsx("button",{onClick:()=>b(!1),className:"w-full bg-gray-200 text-gray-800 py-2 rounded-lg hover:bg-gray-300 transition-colors",children:"Close"})]})})]})},Ts=window.location.hostname==="localhost"?"http://localhost:3001":window.ENV?.VITE_API_BASE_URL||"http://localhost:3001",kn={async getDeals(n,l,i){try{const o=new URLSearchParams;o.append("isActive","true"),o.append("_t",Date.now().toString()),n&&n!=="all"&&o.append("businessType",n),l&&o.append("sort",l),i&&(o.append("lat",i.lat.toString()),o.append("lng",i.lng.toString()));const u=localStorage.getItem("lastDealsVisit");u&&o.append("lastVisit",u),localStorage.setItem("lastDealsVisit",Date.now().toString());const m=`${Ts}/api/deals?${o}`;console.log(" Fetching deals from:",m),console.log(" API_BASE:",Ts);const x=await fetch(m,{credentials:"include",headers:{Accept:"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"}});if(console.log(" Response status:",x.status,x.statusText),!x.ok)throw new Error(`Failed to fetch deals: ${x.status} ${x.statusText}`);const f=x.headers.get("content-type");if(!f||!f.includes("application/json")){console.error(" Invalid content type:",f);const w=await x.text();throw console.error("Response body:",w.substring(0,200)),new Error("Server returned HTML instead of JSON. API endpoint may be incorrect.")}return await x.json()}catch(o){return console.error(" Error in getDeals:",o),{deals:[],newDealsCount:0}}},async getTrendingDeals(){const n=await fetch(`${Ts}/api/deals/trending`);if(!n.ok)throw new Error("Failed to fetch trending deals");return n.json()},async getNearbyDeals(n,l,i=10){const o=new URLSearchParams;o.append("lat",n.toString()),o.append("lng",l.toString()),o.append("radius",i.toString());const u=await fetch(`${Ts}/api/deals/nearby?${o}`);if(!u.ok)throw new Error("Failed to fetch nearby deals");return u.json()},async getRecommendedDeals(n){const l=new URLSearchParams;n&&l.append("userId",n);const i=await fetch(`${Ts}/api/deals/recommended?${l}`);if(!i.ok)throw new Error("Failed to fetch recommended deals");return i.json()},async viewDeal(n){await fetch(`${Ts}/api/deals/${n}/view`,{method:"POST"})},async claimDeal(n,l){await fetch(`${Ts}/api/deals/${n}/claim`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:l})})},async getDealAnalytics(n){const l=await fetch(`${Ts}/api/deals/${n}/analytics`);if(!l.ok)throw new Error("Failed to fetch deal analytics");return l.json()},async createDeal(n){const l=await fetch(`${Ts}/api/deals`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Origin:window.location.origin},credentials:"include",body:JSON.stringify({...n,views:0,claims:0,isActive:!0})});if(!l.ok){const i=await l.text();throw new Error(`Failed to create deal: ${l.status} - ${i}`)}return l.json()},async deleteDeal(n){if(!(await fetch(`${Ts}/api/deals/${n}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete deal")}},n4=[{value:"all",label:"All Categories",icon:fs},{value:"restaurant",label:"Restaurants",icon:fs},{value:"hotel",label:"Hotels",icon:fs},{value:"cafe",label:"Cafes",icon:fs},{value:"attraction",label:"Attractions",icon:fs},{value:"transport",label:"Transport",icon:fs}],i4=[{value:"trending",label:"Trending"},{value:"discount",label:"Best Discount"},{value:"newest",label:"Newest"},{value:"expiring",label:"Expiring Soon"}],o4=()=>{const n=Tt(),{location:l}=C0(),[i,o]=v.useState([]),[u,m]=v.useState([]),[x,f]=v.useState(null),[g,w]=v.useState(!0),[j,y]=v.useState("all"),[b,I]=v.useState(""),[L,R]=v.useState("trending"),[D,C]=v.useState(!1),[_,N]=v.useState(0),[q,M]=v.useState("all");v.useEffect(()=>{Q()},[j]),v.useEffect(()=>{W()},[i,b,L]);const Q=async(A=!1)=>{try{w(!0);const Y=l?.latitude&&l?.longitude?{lat:l.latitude,lng:l.longitude}:void 0,{deals:se,newDealsCount:K}=await kn.getDeals(j,L,Y);o(se),N(K),se.length===0&&console.warn(" No deals returned from API")}catch(Y){console.error(" Error loading deals:",Y),o([]),alert("Unable to load deals. Please check your internet connection and try again.")}finally{w(!1)}},W=()=>{let A=i;b&&(A=A.filter(Y=>Y.title.toLowerCase().includes(b.toLowerCase())||Y.businessName.toLowerCase().includes(b.toLowerCase())||Y.description.toLowerCase().includes(b.toLowerCase()))),q!=="all"&&(A=A.filter(Y=>Y.userCategory===q)),A=A.sort((Y,se)=>{if(L==="distance"&&Y.distance&&se.distance)return Y.distance-se.distance;switch(L){case"trending":return se.views+se.claims*2-(Y.views+Y.claims*2);case"discount":const K=parseFloat(Y.discount.replace("%",""));return parseFloat(se.discount.replace("%",""))-K;case"newest":const F=new Date(Y.createdAt||Y._id).getTime();return new Date(se.createdAt||se._id).getTime()-F;case"expiring":return!Y.validUntil&&!se.validUntil?0:Y.validUntil?se.validUntil?new Date(Y.validUntil).getTime()-new Date(se.validUntil).getTime():-1:1;default:return 0}}),m(A),A.length>0&&!x&&f(A[0])},k=async A=>{try{await kn.viewDeal(A),o(i.map(Y=>Y._id===A?{...Y,views:Y.views+1}:Y))}catch(Y){console.error("Failed to track view:",Y)}},ae=async A=>{try{await kn.claimDeal(A),o(i.map(Y=>Y._id===A?{...Y,claims:Y.claims+1}:Y))}catch(Y){console.error("Failed to claim deal:",Y)}},fe=async A=>{if(confirm("Are you sure you want to delete this deal?"))try{await kn.deleteDeal(A),o(i.filter(Y=>Y._id!==A))}catch(Y){console.error("Failed to delete deal:",Y),alert("Failed to delete deal")}},Se=u.reduce((A,Y)=>{const se=parseFloat(Y.originalPrice)||0,K=parseFloat(Y.discountedPrice)||0;return A+(se-K)},0);return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-emerald-600 via-teal-600 to-cyan-600 text-white py-16",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4",children:e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-5xl font-bold mb-4",children:" Dynamic Deal Radar"}),e.jsx("p",{className:"text-xl text-blue-100 mb-6",children:"AI-curated deals personalized for you!"}),_>0&&e.jsxs("div",{className:"inline-flex items-center bg-orange-500 text-white px-4 py-2 rounded-full animate-pulse",children:[e.jsx(bs,{className:"w-4 h-4 mr-2"}),_," new deals added since your last visit!"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(H,{onClick:()=>Q(!0),className:"bg-white/20 text-white hover:bg-white/30 font-semibold px-4 py-3",children:"Refresh"}),e.jsxs(H,{onClick:()=>n("/deals/create"),className:"bg-white text-blue-600 hover:bg-gray-100 font-semibold px-6 py-3",children:[e.jsx(br,{className:"h-5 w-5 mr-2"}),"Create Deal"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(cs,{className:"w-6 h-6 mr-2"}),e.jsx("span",{className:"text-2xl font-bold",children:u.length})]}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Active Deals"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(ue,{className:"w-6 h-6 mr-2"}),e.jsx("span",{className:"text-2xl font-bold",children:l?.city||"Global"})]}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Your Location"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(Re,{className:"w-6 h-6 mr-2"}),e.jsx("span",{className:"text-2xl font-bold",children:"Up to 50%"})]}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Max Savings"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(it,{className:"w-6 h-6 mr-2"}),e.jsx("span",{className:"text-2xl font-bold",children:i.filter(A=>A.validUntil).length})]}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Expiring Soon"})]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8 border border-gray-100",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ht,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search deals by name, business, or description...",value:b,onChange:A=>I(A.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Mn,{className:"w-5 h-5 text-gray-500"}),e.jsx("select",{value:j,onChange:A=>y(A.target.value),className:"border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 min-w-[140px]",children:n4.map(A=>e.jsx("option",{value:A.value,children:A.label},A.value))})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(cs,{className:"w-5 h-5 text-gray-500"}),e.jsxs("select",{value:L,onChange:A=>R(A.target.value),className:"border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 min-w-[140px]",children:[i4.map(A=>e.jsx("option",{value:A.value,children:A.label},A.value)),e.jsx("option",{value:"distance",children:"Nearest First"})]})]})]})]}),e.jsx("div",{className:"mt-4 flex gap-2",children:["all","foodie","adventure","budget"].map(A=>e.jsx("button",{onClick:()=>M(A),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${q===A?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:A==="all"?" All":A==="foodie"?" Foodie":A==="adventure"?" Adventure":" Budget"},A))}),b&&e.jsx("div",{className:"mt-4 text-sm text-gray-600",children:e.jsxs("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full",children:[u.length,' deals found for "',b,'"']})})]}),u.length>0&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 text-center shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(fs,{className:"w-6 h-6 text-blue-600"})}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:u.length}),e.jsx("div",{className:"text-gray-600 text-sm",children:"Available Deals"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 text-center shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(bl,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",Se.toFixed(0)]}),e.jsx("div",{className:"text-gray-600 text-sm",children:"Total Savings"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 text-center shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(cs,{className:"w-6 h-6 text-purple-600"})}),e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:u.reduce((A,Y)=>A+Y.claims,0)}),e.jsx("div",{className:"text-gray-600 text-sm",children:"Deals Claimed"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 text-center shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(it,{className:"w-6 h-6 text-orange-600"})}),e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:Math.round(u.reduce((A,Y)=>A+Y.views,0)/u.length)}),e.jsx("div",{className:"text-gray-600 text-sm",children:"Avg Views"})]})]}),x&&e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-xl p-6 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(bs,{className:"w-6 h-6"}),e.jsx("h2",{className:"text-2xl font-bold",children:"Deal of the Day"})]}),e.jsx("div",{className:"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full",children:e.jsx("span",{className:"text-sm font-medium",children:" Trending #1"})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-2",children:x.title}),e.jsx("p",{className:"text-orange-100 mb-4",children:x.description}),e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsxs("span",{className:"text-2xl font-bold",children:[x.discount," OFF"]}),e.jsxs("span",{className:"text-orange-100",children:["at ",x.businessName]})]}),e.jsxs(H,{onClick:()=>ae(x._id),className:"bg-white text-orange-600 hover:bg-orange-50 font-semibold",children:[e.jsx(vo,{className:"w-4 h-4 mr-2"}),"Claim Featured Deal"]})]}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6",children:[e.jsxs("div",{className:"text-3xl font-bold mb-2",children:["$",x.discountedPrice]}),e.jsxs("div",{className:"text-orange-100 line-through mb-2",children:["$",x.originalPrice]}),e.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm",children:[e.jsxs("span",{children:[" ",x.views," views"]}),e.jsxs("span",{children:[" ",x.claims," claimed"]})]})]})})]})]})}),g?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):u.length===0?e.jsxs("div",{className:"text-center py-20 bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Ht,{className:"w-10 h-10 text-gray-400"})}),e.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"No deals found"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Try adjusting your search or filter criteria."}),e.jsx(H,{onClick:()=>{I(""),y("all"),R("trending")},className:"bg-blue-600 text-white hover:bg-blue-700",children:"Clear Filters"})]}):e.jsxs("div",{children:[u.length>3&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:e.jsx(Re,{className:"w-4 h-4 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Recommended for You"}),e.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-purple-100 text-blue-700 px-3 py-1 rounded-full text-sm font-medium",children:"AI Curated"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:u.slice(0,3).map(A=>e.jsx(ip,{deal:A,onView:k,onClaim:ae,onDelete:fe,isRecommended:!0,showDelete:!0,distance:A.distance?`${A.distance.toFixed(1)} km away`:void 0},`rec-${A._id}`))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:["All Deals (",u.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(A=>e.jsx(ip,{deal:A,onView:k,onClaim:ae,onDelete:fe,showDelete:!0,distance:A.distance?`${A.distance.toFixed(1)} km away`:void 0},A._id))})]})]})]})]})},c4=({lat:n,lng:l,onLocationChange:i})=>{const o=v.useRef(null),u=v.useRef(null),m=v.useRef(null);return v.useEffect(()=>{if(!o.current||!window.google)return;const x=new google.maps.Map(o.current,{center:{lat:n,lng:l},zoom:15,mapTypeControl:!0,streetViewControl:!1,fullscreenControl:!0});u.current=x;const f=new google.maps.Marker({position:{lat:n,lng:l},map:x,draggable:!0,animation:google.maps.Animation.DROP,title:"Drag to change location"});m.current=f,f.addListener("dragend",()=>{const g=f.getPosition();g&&i(g.lat(),g.lng())}),x.addListener("click",g=>{g.latLng&&(f.setPosition(g.latLng),i(g.latLng.lat(),g.latLng.lng()))})},[]),v.useEffect(()=>{if(m.current&&u.current){const x={lat:n,lng:l};m.current.setPosition(x),u.current.setCenter(x)}},[n,l]),e.jsx("div",{ref:o,className:"w-full h-full"})},$n=({value:n,onChange:l,required:i=!1})=>{const[o,u]=v.useState(!1),[m,x]=v.useState(""),[f,g]=v.useState([]),w=()=>{u(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(async R=>{const D=R.coords.latitude,C=R.coords.longitude;try{const _=await j(D,C);l({address:_,coordinates:{lat:D,lng:C},city:I(_),country:L(_)})}catch{l({address:`${D.toFixed(6)}, ${C.toFixed(6)}`,coordinates:{lat:D,lng:C}})}u(!1)},R=>{alert("Unable to get your location. Please enter manually."),u(!1)}):(alert("Geolocation is not supported by your browser"),u(!1))},j=async(R,D)=>(await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${R}&lon=${D}&zoom=18&addressdetails=1`)).json()).display_name||`${R.toFixed(6)}, ${D.toFixed(6)}`,y=async R=>{if(R.length<3){g([]);return}try{const C=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(R)}&limit=5`)).json();g(C)}catch(D){console.error("Search failed:",D)}};v.useEffect(()=>{const R=setTimeout(()=>{m&&y(m)},500);return()=>clearTimeout(R)},[m]);const b=R=>{l({address:R.display_name,coordinates:{lat:parseFloat(R.lat),lng:parseFloat(R.lon)},city:R.address?.city||R.address?.town||R.address?.village,country:R.address?.country}),x(""),g([])},I=R=>{const D=R.split(",");return D[1]?.trim()||D[0]?.trim()||""},L=R=>{const D=R.split(",");return D[D.length-1]?.trim()||""};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Search Location ",i&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ht,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",value:m,onChange:R=>x(R.target.value),placeholder:"Search for address, city, or place...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),f.length>0&&e.jsx("div",{className:"mt-2 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:f.map((R,D)=>e.jsx("button",{type:"button",onClick:()=>b(R),className:"w-full text-left px-4 py-3 hover:bg-blue-50 border-b border-gray-100 last:border-b-0 transition-colors",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(ue,{className:"h-4 w-4 text-blue-600 mt-1 mr-2 flex-shrink-0"}),e.jsx("div",{className:"text-sm text-gray-900",children:R.display_name})]})},D))})]}),e.jsx("button",{type:"button",onClick:w,disabled:o,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors disabled:opacity-50",children:o?e.jsxs(e.Fragment,{children:[e.jsx(cg,{className:"h-5 w-5 animate-spin"}),e.jsx("span",{children:"Getting location..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(aa,{className:"h-5 w-5"}),e.jsx("span",{children:"Use My Current Location"})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Latitude ",i&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"any",value:n.coordinates.lat||"",onChange:R=>l({...n,coordinates:{...n.coordinates,lat:parseFloat(R.target.value)||0}}),placeholder:"e.g., 6.9271",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:i})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Longitude ",i&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"any",value:n.coordinates.lng||"",onChange:R=>l({...n,coordinates:{...n.coordinates,lng:parseFloat(R.target.value)||0}}),placeholder:"e.g., 79.8612",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:i})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Full Address ",i&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:n.address,onChange:R=>l({...n,address:R.target.value}),rows:2,placeholder:"Enter or edit the full address",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:i})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Click or Drag Marker on Map to Select Location"}),e.jsxs("div",{className:"relative w-full h-96 bg-gray-100 rounded-lg overflow-hidden border border-gray-300",children:[typeof window<"u"&&window.google?e.jsx(c4,{lat:n.coordinates.lat||6.9271,lng:n.coordinates.lng||79.8612,onLocationChange:async(R,D)=>{const C=await j(R,D);l({address:C,coordinates:{lat:R,lng:D},city:I(C),country:L(C)})}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(cg,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Loading map..."})]})}),e.jsxs("div",{className:"absolute bottom-4 left-4 right-4 bg-white/95 backdrop-blur-sm rounded-lg p-3 shadow-lg",children:[e.jsxs("p",{className:"text-xs text-gray-600",children:[" Current: ",n.coordinates.lat.toFixed(6),", ",n.coordinates.lng.toFixed(6)]}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:" Click map or drag marker to change location"})]})]})]}),n.coordinates.lat!==0&&n.coordinates.lng!==0&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(ue,{className:"h-5 w-5 text-green-600 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-green-900",children:"Location Set Successfully"}),e.jsxs("p",{className:"text-xs text-green-700 mt-1",children:["Coordinates: ",n.coordinates.lat.toFixed(6),", ",n.coordinates.lng.toFixed(6)]}),e.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${n.coordinates.lat},${n.coordinates.lng}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-800 underline mt-2 inline-block",children:"Open in Google Maps "})]})]})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-xs text-blue-800",children:[" ",e.jsx("strong",{children:"Tip:"}),` Accurate GPS coordinates help travelers find you on the mobile app's "Near Me" feature.`]})})]})},d4=()=>{const n=Tt(),[l,i]=v.useState(!1),[o,u]=v.useState(1),[m,x]=v.useState(!1),[f,g]=v.useState({title:"",description:"",businessName:"",businessType:"restaurant",originalPrice:"",discountedPrice:"",discount:"",discountPercent:0,location:{address:"",coordinates:{lat:0,lng:0}},validFrom:"",validUntil:"",images:[],videos:[],promoCode:"",maxClaims:"",showCountdown:!0,trackAnalytics:!0,destinationFocus:"",travelerType:"",visibilityScope:"global",tags:[],contactInfo:{website:"",phone:"",whatsapp:"",facebook:"",instagram:"",email:""}}),w=[{value:"restaurant",label:" Restaurant",color:"text-orange-600"},{value:"hotel",label:" Hotel",color:"text-blue-600"},{value:"cafe",label:" Caf",color:"text-amber-600"},{value:"attraction",label:" Attraction",color:"text-purple-600"},{value:"transport",label:" Transport",color:"text-green-600"},{value:"tour",label:" Tour",color:"text-indigo-600"},{value:"spa",label:" Spa & Wellness",color:"text-pink-600"},{value:"shopping",label:" Shopping",color:"text-red-600"}],j=[{value:"family",label:" Family"},{value:"backpacker",label:" Backpacker"},{value:"luxury",label:" Luxury"},{value:"adventure",label:" Adventure"},{value:"business",label:" Business"},{value:"romantic",label:" Romantic"}],y=[{id:1,title:"Deal Information",icon:fs},{id:2,title:"Pricing & Media",icon:js},{id:3,title:"Location & Validity",icon:ue},{id:4,title:"Targeting & Analytics",icon:vo},{id:5,title:"Preview & Submit",icon:Ga}],b=(A,Y)=>{switch(A){case"website":case"facebook":case"instagram":return!Y||/^https?:\/\/.+/.test(Y);case"phone":case"whatsapp":return!Y||/^\+?[1-9]\d{1,14}$/.test(Y.replace(/\s/g,""));case"email":return!Y||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Y);default:return!0}},I=()=>JSON.parse(localStorage.getItem("localDeals")||"[]").some(Y=>Y.title.toLowerCase()===f.title.toLowerCase()&&Y.businessName.toLowerCase()===f.businessName.toLowerCase()),L=(A,Y)=>{if(g(A==="address"?se=>({...se,location:{...se.location,address:Y}}):A==="contactInfo"?se=>({...se,[A]:Y}):se=>({...se,[A]:Y})),A==="originalPrice"||A==="discountedPrice"){const se=parseFloat(A==="originalPrice"?Y:f.originalPrice),K=parseFloat(A==="discountedPrice"?Y:f.discountedPrice);if(se>0&&K>0&&K<se){const T=Math.round((se-K)/se*100);g(F=>({...F,discount:`${T}% OFF`,discountPercent:T}))}}},R=async A=>{x(!0);try{const Y=A==="title"?`Generate 3 catchy deal titles for a ${f.businessType} business named "${f.businessName}" with ${f.discountPercent}% off`:A==="description"?`Write engaging marketing copy for a ${f.businessType} deal: "${f.title}" at ${f.businessName}`:`Generate relevant tags for a ${f.businessType} travel deal`;if(A==="title"){const se=[`${f.discountPercent}% Off at ${f.businessName}`,`Special ${f.businessType} Deal - Save Big!`,`Limited Time: ${f.businessName} Discount`];g(K=>({...K,title:se[0]}))}else if(A==="description"){const se=`Enjoy an exclusive ${f.discountPercent}% discount at ${f.businessName}. Perfect for travelers looking for quality ${f.businessType} experiences. Limited time offer - book now!`;g(K=>({...K,description:se}))}else if(A==="tags"){const se=["travel","discount","limited-time",f.businessType,"exclusive"];g(K=>({...K,tags:se}))}}catch(Y){console.error("AI generation failed:",Y)}finally{x(!1)}},D=A=>new Promise(Y=>{const se=document.createElement("canvas"),K=se.getContext("2d"),T=document.createElement("img");T.onload=()=>{let{width:ee,height:U}=T;ee>U?ee>800&&(U=U*800/ee,ee=800):U>600&&(ee=ee*600/U,U=600),se.width=ee,se.height=U,K.drawImage(T,0,0,ee,U),Y(se.toDataURL("image/jpeg",.8))},T.src=URL.createObjectURL(A)}),C=async(A,Y)=>{for(const se of Array.from(Y))if(A==="image")try{const K=await D(se);g(T=>({...T,images:[...T.images,K]}))}catch(K){console.error("Image compression failed:",K);const T=new FileReader;T.onload=F=>{const z=F.target?.result;g(ee=>({...ee,images:[...ee.images,z]}))},T.readAsDataURL(se)}else{const K=new FileReader;K.onload=T=>{const F=T.target?.result;g(z=>({...z,videos:[...z.videos,F]}))},K.readAsDataURL(se)}},_=(A,Y)=>{g(A==="image"?se=>({...se,images:se.images.filter((K,T)=>T!==Y)}):se=>({...se,videos:se.videos.filter((K,T)=>T!==Y)}))},N=async A=>{A.preventDefault();const Y=[];if(Object.entries(f.contactInfo).forEach(([se,K])=>{b(se,K)||Y.push(se)}),Y.length>0){alert(`Invalid ${Y.join(", ")} format(s). Please check and try again.`);return}if(!(I()&&!confirm("A similar deal already exists. Do you want to create it anyway?"))){i(!0);try{const se={...f,isActive:!0,views:0,claims:0,validFrom:f.validFrom?new Date(f.validFrom):new Date,validUntil:f.validUntil?new Date(f.validUntil):void 0,maxClaims:f.maxClaims?parseInt(f.maxClaims):void 0};await kn.createDeal(se),n("/deals",{replace:!0}),window.location.reload()}catch(se){console.error("Error creating deal:",se),alert("Failed to create deal. Please try again.")}finally{i(!1)}}},q=()=>u(A=>Math.min(A+1,5)),M=()=>u(A=>Math.max(A-1,1)),Q=()=>{switch(o){case 1:return W();case 2:return k();case 3:return ae();case 4:return fe();case 5:return Se();default:return W()}},W=()=>e.jsx(le,{children:e.jsxs(re,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[e.jsx(fs,{className:"h-5 w-5 mr-2"}),"Deal Information"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Deal Title"}),e.jsxs(H,{type:"button",variant:"outline",size:"sm",onClick:()=>R("title"),disabled:m||!f.businessName,className:"text-xs",children:[e.jsx(dg,{className:"h-3 w-3 mr-1"}),"AI Suggest"]})]}),e.jsx("input",{type:"text",required:!0,value:f.title,onChange:A=>L("title",A.target.value),placeholder:"e.g., 30% Off All Main Courses",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),e.jsxs(H,{type:"button",variant:"outline",size:"sm",onClick:()=>R("description"),disabled:m||!f.title,className:"text-xs",children:[e.jsx(rt,{className:"h-3 w-3 mr-1"}),"Generate Copy"]})]}),e.jsx("textarea",{rows:3,value:f.description,onChange:A=>L("description",A.target.value),placeholder:"Describe your deal and any terms & conditions",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Name"}),e.jsx("input",{type:"text",required:!0,value:f.businessName,onChange:A=>L("businessName",A.target.value),placeholder:"Your business name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Type"}),e.jsx("select",{value:f.businessType,onChange:A=>L("businessType",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:w.map(A=>e.jsx("option",{value:A.value,children:A.label},A.value))})]})]})]})]})}),k=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx(le,{children:e.jsxs(re,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[e.jsx(js,{className:"h-5 w-5 mr-2"}),"Pricing & Offer Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Original Price ($)"}),e.jsx("input",{type:"number",step:"0.01",required:!0,value:f.originalPrice,onChange:A=>L("originalPrice",A.target.value),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discounted Price ($)"}),e.jsx("input",{type:"number",step:"0.01",required:!0,value:f.discountedPrice,onChange:A=>L("discountedPrice",A.target.value),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount"}),e.jsx("input",{type:"text",value:f.discount,placeholder:"Auto-calculated",className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50",readOnly:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Promo Code"}),e.jsx("input",{type:"text",value:f.promoCode,onChange:A=>L("promoCode",A.target.value),placeholder:"Optional",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]})}),e.jsx(le,{children:e.jsxs(re,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(up,{className:"h-5 w-5 mr-2"}),"Media Upload"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Images"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:A=>A.target.files&&C("image",A.target.files),className:"hidden",id:"image-upload"}),e.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[e.jsx(Hu,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload images"})]})]}),f.images.length>0&&e.jsx("div",{className:"grid grid-cols-2 gap-2 mt-4",children:f.images.map((A,Y)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:A,alt:`Deal ${Y+1}`,className:"w-full h-20 object-cover rounded"}),e.jsx("button",{type:"button",onClick:()=>_("image",Y),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 text-xs",children:""})]},Y))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Videos"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[e.jsx("input",{type:"file",multiple:!0,accept:"video/*",onChange:A=>A.target.files&&C("video",A.target.files),className:"hidden",id:"video-upload"}),e.jsxs("label",{htmlFor:"video-upload",className:"cursor-pointer",children:[e.jsx(vv,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload videos"})]})]}),f.videos.length>0&&e.jsx("div",{className:"space-y-2 mt-4",children:f.videos.map((A,Y)=>e.jsxs("div",{className:"relative bg-gray-100 p-2 rounded flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm truncate",children:["Video ",Y+1]}),e.jsx("button",{type:"button",onClick:()=>_("video",Y),className:"bg-red-500 text-white rounded-full w-5 h-5 text-xs",children:""})]},Y))})]})]})]})})]}),ae=()=>e.jsx(le,{children:e.jsxs(re,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[e.jsx(ue,{className:"h-5 w-5 mr-2"}),"Location & Validity"]}),e.jsx("div",{className:"mb-6",children:e.jsx($n,{value:f.location,onChange:A=>g(Y=>({...Y,location:A})),required:!0})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Claims"}),e.jsx("input",{type:"number",value:f.maxClaims,onChange:A=>L("maxClaims",A.target.value),placeholder:"Unlimited",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valid From"}),e.jsx("input",{type:"date",value:f.validFrom,onChange:A=>L("validFrom",A.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valid Until"}),e.jsx("input",{type:"date",value:f.validUntil,onChange:A=>L("validUntil",A.target.value),min:f.validFrom||new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website URL"}),e.jsx("input",{type:"url",value:f.contactInfo.website,onChange:A=>L("contactInfo",{...f.contactInfo,website:A.target.value}),placeholder:"https://yourstore.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",value:f.contactInfo.phone,onChange:A=>L("contactInfo",{...f.contactInfo,phone:A.target.value}),placeholder:"+94 77 123 4567",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Number"}),e.jsx("input",{type:"tel",value:f.contactInfo.whatsapp,onChange:A=>L("contactInfo",{...f.contactInfo,whatsapp:A.target.value}),placeholder:"+94 77 123 4567",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",value:f.contactInfo.email,onChange:A=>L("contactInfo",{...f.contactInfo,email:A.target.value}),placeholder:"contact@business.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Facebook Page"}),e.jsx("input",{type:"url",value:f.contactInfo.facebook,onChange:A=>L("contactInfo",{...f.contactInfo,facebook:A.target.value}),placeholder:"https://facebook.com/yourpage",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instagram Profile"}),e.jsx("input",{type:"url",value:f.contactInfo.instagram,onChange:A=>L("contactInfo",{...f.contactInfo,instagram:A.target.value}),placeholder:"https://instagram.com/yourprofile",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]})]})}),fe=()=>e.jsx(le,{children:e.jsxs(re,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[e.jsx(vo,{className:"h-5 w-5 mr-2"}),"Audience Targeting & Analytics"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ideal Traveler Type"}),e.jsxs("select",{value:f.travelerType,onChange:A=>L("travelerType",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Any Traveler"}),j.map(A=>e.jsx("option",{value:A.value,children:A.label},A.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Visibility Scope"}),e.jsxs("select",{value:f.visibilityScope,onChange:A=>L("visibilityScope",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"global",children:" Global"}),e.jsx("option",{value:"local",children:" Local Only"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Track Views & Claims"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Monitor engagement analytics"})]}),e.jsx("input",{type:"checkbox",checked:f.trackAnalytics,onChange:A=>L("trackAnalytics",A.target.checked),className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Show Countdown Timer"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Creates urgency in deal card"})]}),e.jsx("input",{type:"checkbox",checked:f.showCountdown,onChange:A=>L("showCountdown",A.target.checked),className:"rounded"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tags"}),e.jsxs(H,{type:"button",variant:"outline",size:"sm",onClick:()=>R("tags"),disabled:m,className:"text-xs",children:[e.jsx(dg,{className:"h-3 w-3 mr-1"}),"Auto-fill Tags"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:f.tags.map((A,Y)=>e.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs flex items-center",children:[A,e.jsx("button",{type:"button",onClick:()=>{const se=f.tags.filter((K,T)=>T!==Y);L("tags",se)},className:"ml-1 text-blue-600 hover:text-blue-800",children:""})]},Y))})]})]})}),Se=()=>e.jsx(le,{children:e.jsxs(re,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[e.jsx(Ga,{className:"h-5 w-5 mr-2"}),"Live Preview"]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden max-w-sm mx-auto",children:[e.jsxs("div",{className:"relative",children:[f.images[0]?e.jsx("img",{src:f.images[0],alt:"Deal preview",className:"w-full h-48 object-cover"}):e.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center",children:e.jsx(fs,{className:"w-12 h-12 text-gray-400"})}),f.discount&&e.jsx("div",{className:"absolute top-3 right-3 bg-red-500 text-white text-sm font-bold px-3 py-1 rounded-full",children:f.discount}),e.jsx("div",{className:"absolute top-3 left-3 bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded-full",children:w.find(A=>A.value===f.businessType)?.label||f.businessType})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-1",children:f.title||"Deal Title"}),e.jsxs("div",{className:"flex items-center text-gray-600 text-sm mb-2",children:[e.jsx(ue,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:f.businessName||"Business Name"})]}),f.description&&e.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:f.description}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-gray-500 line-through text-sm",children:["$",f.originalPrice||"0.00"]}),e.jsxs("span",{className:"text-green-600 font-bold text-lg",children:["$",f.discountedPrice||"0.00"]})]}),f.showCountdown&&f.validUntil&&e.jsxs("div",{className:"flex items-center text-orange-600 text-sm",children:[e.jsx(it,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"Limited time"})]})]}),e.jsx("button",{className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-2 px-4 rounded-lg font-medium",children:"Claim Deal"})]})]})]})});return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Create a New Deal"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Boost your visibility by publishing a verified travel deal"})]}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex items-center justify-center space-x-4",children:y.map((A,Y)=>{const se=A.icon,K=o===A.id,T=o>A.id;return e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${K?"bg-blue-600 text-white":T?"bg-green-600 text-white":"bg-gray-200 text-gray-600"}`,children:e.jsx(se,{className:"h-5 w-5"})}),e.jsx("div",{className:"ml-2 hidden md:block",children:e.jsx("div",{className:`text-sm font-medium ${K?"text-blue-600":T?"text-green-600":"text-gray-500"}`,children:A.title})}),Y<y.length-1&&e.jsx("div",{className:`w-8 h-0.5 mx-4 ${T?"bg-green-600":"bg-gray-200"}`})]},A.id)})})}),e.jsx("form",{onSubmit:N,children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-3",children:Q()}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(le,{children:e.jsxs(re,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold mb-3 text-sm",children:"Quick Preview"}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[e.jsx("div",{className:"font-medium text-sm truncate",children:f.title||"Deal Title"}),e.jsx("div",{className:"text-xs text-gray-600 truncate",children:f.businessName||"Business Name"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-gray-500 line-through text-xs",children:["$",f.originalPrice||"0.00"]}),e.jsxs("span",{className:"text-green-600 font-bold text-sm",children:["$",f.discountedPrice||"0.00"]})]}),f.discount&&e.jsx("div",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full inline-block",children:f.discount})]})]})}),e.jsx(le,{children:e.jsx(re,{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[o<5?e.jsxs(e.Fragment,{children:[e.jsx(H,{type:"button",onClick:q,className:"w-full bg-blue-600 hover:bg-blue-700",disabled:o===1&&(!f.title||!f.businessName),children:"Next Step"}),o>1&&e.jsx(H,{type:"button",variant:"outline",onClick:M,className:"w-full",children:"Previous"})]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{type:"submit",disabled:l,className:"w-full bg-green-600 hover:bg-green-700",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(gr,{className:"h-4 w-4 mr-2"}),"Create Deal"]})}),e.jsx(H,{type:"button",variant:"outline",onClick:M,className:"w-full",children:"Previous"})]}),e.jsx(H,{type:"button",variant:"outline",onClick:()=>n("/deals"),className:"w-full text-gray-600",children:"Cancel"})]})})}),m&&e.jsx(le,{children:e.jsx(re,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2 text-blue-600",children:[e.jsx(rt,{className:"h-4 w-4 animate-pulse"}),e.jsx("span",{className:"text-sm",children:"AI is working..."})]})})})]})]})})]})})},u4=({story:n,onLike:l})=>{const[i,o]=v.useState(!1),u=Tt(),m=x=>{const f=new Date(x),w=Math.abs(new Date().getTime()-f.getTime()),j=Math.ceil(w/(1e3*60*60*24));return j===1?"Yesterday":j<7?`${j} days ago`:f.toLocaleDateString()};return e.jsxs("div",{className:"story-card bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[e.jsxs("div",{className:"p-6 flex items-center justify-between bg-gradient-to-r from-white to-gray-50",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center ring-2 ring-purple-100 hover:ring-purple-200 transition-all duration-200",children:n.author.profilePicture?e.jsx("img",{src:n.author.profilePicture,alt:n.author.username,className:"w-full h-full rounded-full object-cover"}):e.jsx("span",{className:"text-white font-medium text-sm",children:n.author.username[0]})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-400 border-2 border-white rounded-full"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:n.author.username}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[e.jsx(ue,{className:"w-3 h-3"}),e.jsx("span",{children:n.location}),e.jsx("span",{children:""}),e.jsx(At,{className:"w-3 h-3"}),e.jsx("span",{children:m(n.createdAt)})]})]})]}),e.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(jv,{className:"w-4 h-4 text-gray-500"})})]}),e.jsxs("div",{className:"px-6 pb-4",children:[e.jsx("h3",{onClick:()=>u(`/community/story/${n._id}`),className:"font-bold text-xl text-gray-900 mb-3 hover:text-purple-600 transition-colors cursor-pointer",children:n.title}),e.jsx("p",{className:"text-gray-700 mb-4 line-clamp-3 leading-relaxed",children:n.content}),n.tags&&n.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:n.tags.map((x,f)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-purple-100 text-purple-700 font-medium",children:["#",x]},f))}),n.place&&e.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ue,{className:"w-4 h-4 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:n.place.name}),e.jsx("p",{className:"text-xs text-gray-500",children:n.place.address})]})]})})]}),n.images.length>0&&e.jsx("div",{className:"px-6 pb-6",children:n.images.length===1?e.jsx("img",{src:n.images[0],alt:n.title,className:"w-full h-64 object-cover rounded-lg"}):e.jsx("div",{className:"grid grid-cols-2 gap-2",children:n.images.slice(0,4).map((x,f)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:x,alt:`${n.title} ${f+1}`,className:"w-full h-32 object-cover rounded-lg"}),f===3&&n.images.length>4&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-lg flex items-center justify-center",children:e.jsxs("span",{className:"text-white font-bold text-lg",children:["+",n.images.length-4]})})]},f))})}),e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-8",children:[e.jsxs("button",{onClick:()=>l(n._id),className:`group flex items-center space-x-2 transition-all duration-200 transform hover:scale-105 ${n.isLiked?"text-red-500":"text-gray-500 hover:text-red-500"}`,children:[e.jsx(mt,{className:`w-6 h-6 transition-all duration-200 ${n.isLiked?"fill-current animate-pulse":"group-hover:scale-110"}`}),e.jsx("span",{className:"font-semibold text-lg",children:n.likes})]}),e.jsxs("button",{onClick:()=>o(!i),className:"group flex items-center space-x-2 text-gray-500 hover:text-blue-500 transition-all duration-200 transform hover:scale-105",children:[e.jsx(pr,{className:"w-6 h-6 group-hover:scale-110 transition-transform duration-200"}),e.jsx("span",{className:"font-semibold text-lg",children:n.comments})]})]}),e.jsx("div",{className:"text-sm text-gray-400",children:m(n.createdAt)})]})}),i&&e.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gradient-to-r from-gray-50 to-blue-50 animate-fade-in-up",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex-shrink-0"}),e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",placeholder:"Write a comment...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})})]}),e.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Comments coming soon..."})]})})]})},Ma="https://travelbuddylk.com/api",xu=n=>({_id:n._id,title:n.content?.title||n.title||"Untitled Story",content:n.content?.text||n.content||"",images:n.content?.images||n.images||[],author:{username:n.username||n.author?.username||"Anonymous",profilePicture:n.profilePicture||n.author?.profilePicture},location:n.location||n.content?.location||"Unknown Location",place:n.place,likes:n.engagement?.likes||n.likes||0,comments:n.engagement?.comments||n.comments||0,createdAt:n.createdAt||new Date().toISOString(),isLiked:!1,tags:n.tags||[]}),ta={async getStories(n="recent"){try{console.log(" Fetching stories from:",`${Ma}/posts/community`);const l=await fetch(`${Ma}/posts/community?limit=20`);if(console.log(" Response status:",l.status),!l.ok)throw new Error("Failed to fetch stories");const i=await l.json();console.log(" Fetched posts:",i.length);let o=i.map(xu);return n==="popular"?o.sort((u,m)=>m.likes-u.likes):n==="trending"&&o.sort((u,m)=>m.likes+m.comments-(u.likes+u.comments)),o}catch(l){return console.error("Error fetching stories:",l),[]}},async getStory(n){try{const l=await fetch(`${Ma}/posts/community`);if(!l.ok)throw new Error("Failed to fetch story");const o=(await l.json()).find(u=>u._id===n);return o?xu(o):null}catch(l){return console.error("Error fetching story:",l),null}},async getTopTravelers(){try{const n=await fetch(`${Ma}/posts/community`);if(!n.ok)throw new Error("Failed to fetch travelers");const l=await n.json(),i={};return l.forEach(o=>{const u=o.username||o.author?.username||"Anonymous";i[u]||(i[u]={username:u,profilePicture:o.profilePicture||o.author?.profilePicture,storiesCount:0,totalLikes:0}),i[u].storiesCount++,i[u].totalLikes+=o.engagement?.likes||o.likes||0}),Object.values(i).sort((o,u)=>u.totalLikes-o.totalLikes).slice(0,5)}catch(n){return console.error("Error fetching top travelers:",n),[]}},async createStory(n){const l={userId:"507f1f77bcf86cd799439011",content:{title:n.title,text:n.content,images:n.images},location:n.location,place:n.place,tags:n.tags||[],username:"You",moderationStatus:"approved",engagement:{likes:0,comments:0}},i=await fetch(`${Ma}/posts/community`,{method:"POST",headers:{"Content-Type":"application/json","x-user-id":"507f1f77bcf86cd799439011"},body:JSON.stringify(l)});if(!i.ok){const u=await i.text();throw console.error("Create story error:",u),new Error(`Failed to create story: ${i.status}`)}const o=await i.json();return xu(o)},async likeStory(n){if(!(await fetch(`${Ma}/posts/${n}/like`,{method:"POST",headers:{"Content-Type":"application/json","x-user-id":"507f1f77bcf86cd799439011"},body:JSON.stringify({userId:"current-user"})})).ok)throw new Error("Failed to like story")},async getComments(n){try{const l=await fetch(`${Ma}/posts/${n}/comments`);if(!l.ok)throw new Error("Failed to fetch comments");return(await l.json()).comments||[]}catch(l){return console.error("Error fetching comments:",l),[]}},async addComment(n,l){const i=await fetch(`${Ma}/posts/${n}/comments`,{method:"POST",headers:{"Content-Type":"application/json","x-user-id":"507f1f77bcf86cd799439011"},body:JSON.stringify({text:l,username:"You",userId:"current-user"})});if(!i.ok)throw new Error("Failed to add comment");return i.json()},async generateAITags(n,l){return this.getFallbackTags(n,l)},getFallbackTags(n,l){const i=["Adventure","Food","Culture","Nature","Photography","Beach","Mountain","City","Nightlife","Shopping","History","Art","Wildlife","Festival","Local","Budget","Luxury","Solo","Family","Couple"],o=(n+" "+l).toLowerCase(),u=i.filter(m=>o.includes(m.toLowerCase())||o.includes(m.toLowerCase().slice(0,-1)));return u.length===0?["Travel","Adventure","Culture"]:u.slice(0,4)}},m4=({onClose:n,onStoryCreated:l})=>{const[i,o]=v.useState(""),[u,m]=v.useState(""),[x,f]=v.useState({address:"",coordinates:{lat:0,lng:0},city:"",country:""}),[g,w]=v.useState([]),[j,y]=v.useState([]),[b,I]=v.useState(!1),L=N=>{const q=N.target.files;q&&Array.from(q).forEach(M=>{const Q=new FileReader;Q.onload=W=>{W.target?.result&&w(k=>[...k,W.target.result])},Q.readAsDataURL(M)})},R=N=>{w(g.filter((q,M)=>M!==N))},D=async N=>{if(N.preventDefault(),!(!i.trim()||!u.trim()||!x.address.trim()))try{I(!0);let q=j;if(j.length===0)try{q=await ta.generateAITags(i.trim(),u.trim())}catch{console.log("AI tagging failed, using manual tags")}const M=await ta.createStory({title:i.trim(),content:u.trim(),location:x.address,place:{placeId:`${x.coordinates.lat}_${x.coordinates.lng}`,name:x.city||x.address,coordinates:x.coordinates,address:x.address},images:g,tags:q});l(M)}catch(q){console.error("Failed to create story:",q)}finally{I(!1)}},C=N=>{N&&!j.includes(N)&&y([...j,N])},_=N=>{y(j.filter(q=>q!==N))};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Share Your Travel Story"}),e.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(St,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("form",{onSubmit:D,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Story Title"}),e.jsx("input",{type:"text",value:i,onChange:N=>o(N.target.value),placeholder:"Give your story a catchy title...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),e.jsx("div",{children:e.jsx($n,{value:x,onChange:f,required:!0})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Story"}),e.jsx("textarea",{value:u,onChange:N=>m(N.target.value),placeholder:"Tell us about your amazing travel experience...",rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:j.map((N,q)=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-purple-100 text-purple-800",children:[N,e.jsx("button",{type:"button",onClick:()=>_(N),className:"ml-2 text-purple-600 hover:text-purple-800",children:e.jsx(St,{className:"w-3 h-3"})})]},q))}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[["Adventure","Food","Culture","Nature","Photography","Beach","Mountain","City"].map(N=>!j.includes(N)&&e.jsxs("button",{type:"button",onClick:()=>C(N),className:"px-3 py-1 text-sm border border-gray-300 rounded-full hover:bg-gray-50 text-gray-600",children:["+ ",N]},N)),i.trim()&&u.trim()&&j.length===0&&e.jsx("button",{type:"button",onClick:async()=>{try{const N=await ta.generateAITags(i.trim(),u.trim());y(N)}catch(N){console.error("AI tagging failed:",N)}},className:"px-3 py-1 text-sm bg-purple-100 text-purple-700 rounded-full hover:bg-purple-200 font-medium",children:" AI Suggest Tags"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photos"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-purple-400 transition-colors",children:[e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:L,className:"hidden",id:"image-upload"}),e.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[e.jsx(Ha,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"Click to upload photos"}),e.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG up to 10MB each"})]})]}),g.length>0&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-4",children:g.map((N,q)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:N,alt:`Upload ${q+1}`,className:"w-full h-24 object-cover rounded-lg"}),e.jsx("button",{type:"button",onClick:()=>R(q),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600 transition-colors",children:e.jsx(St,{className:"w-4 h-4"})})]},q))})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"button",onClick:n,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:b||!i.trim()||!u.trim()||!x.address.trim(),className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:b?e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):e.jsxs(e.Fragment,{children:[e.jsx(Hu,{className:"w-5 h-5"}),e.jsx("span",{children:"Share Story"})]})})]})]})]})})},h4=({stories:n,onStoryClick:l})=>{const i=n.filter(u=>u.place),o=(u,m)=>{const x=(u+90)/180*100;return{x:(m+180)/360*100,y:100-x}};return e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-green-50 rounded-xl p-6 min-h-96 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[e.jsx("path",{d:"M10,30 Q20,25 30,30 L40,35 Q50,30 60,35 L70,30 Q80,35 90,30",stroke:"currentColor",strokeWidth:"0.5",fill:"none"}),e.jsx("path",{d:"M15,50 Q25,45 35,50 L45,55 Q55,50 65,55 L75,50 Q85,55 95,50",stroke:"currentColor",strokeWidth:"0.5",fill:"none"})]})}),i.map(u=>{const m=o(u.place.coordinates.lat,u.place.coordinates.lng);return e.jsx("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 cursor-pointer group",style:{left:`${Math.max(5,Math.min(95,m.x))}%`,top:`${Math.max(5,Math.min(95,m.y))}%`},onClick:()=>l(u),children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded-full flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:e.jsx(ue,{className:"w-4 h-4 text-white"})}),e.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-3 min-w-48 border",children:[e.jsx("h4",{className:"font-semibold text-sm text-gray-900 mb-1",children:u.title}),e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:u.place.name}),e.jsxs("div",{className:"flex items-center space-x-3 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(mt,{className:"w-3 h-3"}),e.jsx("span",{children:u.likes})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(pr,{className:"w-3 h-3"}),e.jsx("span",{children:u.comments})]})]}),e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-white"})]})})]})},u._id)}),e.jsxs("div",{className:"absolute bottom-4 left-4 bg-white rounded-lg shadow-lg p-3",children:[e.jsx("h4",{className:"font-semibold text-sm text-gray-900 mb-2",children:"Story Locations"}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx("div",{className:"w-4 h-4 bg-purple-600 rounded-full flex items-center justify-center",children:e.jsx(ue,{className:"w-2 h-2 text-white"})}),e.jsxs("span",{children:[i.length," stories"]})]})]}),i.length===0&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ue,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600",children:"No stories with locations yet"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Stories with tagged places will appear here"})]})})]})},x4=()=>{const[n,l]=v.useState([]),[i,o]=v.useState([]),[u,m]=v.useState(!0),[x,f]=v.useState(null),[g,w]=v.useState(!1),[j,y]=v.useState("recent"),[b,I]=v.useState(null),[L,R]=v.useState(""),[D,C]=v.useState("feed");v.useEffect(()=>{_()},[j]);const _=async()=>{try{m(!0),f(null);const[k,ae]=await Promise.all([ta.getStories(j),ta.getTopTravelers()]);l(k),o(ae)}catch(k){console.error("Failed to load community data:",k),f("Unable to load stories. Please check your connection and try again.")}finally{m(!1)}},N=n.filter(k=>{const ae=!b||k.tags&&k.tags.includes(b);if(!L)return ae;const fe=L.toLowerCase(),Se=k.title.toLowerCase().includes(fe)||k.content.toLowerCase().includes(fe)||k.location.toLowerCase().includes(fe)||k.place?.name.toLowerCase().includes(fe)||k.tags&&k.tags.some(se=>se.toLowerCase().includes(fe)),Y=Object.entries({food:["restaurant","cuisine","dish","meal","eat","taste"],adventure:["hiking","climbing","extreme","thrill","exciting"],culture:["museum","temple","traditional","heritage","history"],nature:["park","wildlife","forest","mountain","beach","ocean"],city:["urban","downtown","street","building","shopping"]}).some(([se,K])=>fe.includes(se)?K.some(T=>k.title.toLowerCase().includes(T)||k.content.toLowerCase().includes(T)):!1);return ae&&(Se||Y)}),q=Array.from(new Set(n.flatMap(k=>k.tags||[]))),M=async k=>{try{await ta.likeStory(k),l(n.map(ae=>ae._id===k?{...ae,likes:ae.likes+(ae.isLiked?-1:1),isLiked:!ae.isLiked}:ae))}catch(ae){console.error("Failed to like story:",ae)}},Q=async k=>{if(confirm("Delete this story?"))try{await ta.deleteStory(k),l(n.filter(ae=>ae._id!==k))}catch(ae){console.error("Failed to delete story:",ae),alert("Failed to delete story")}},W=k=>{l([k,...n]),w(!1)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("div",{className:"relative bg-gradient-to-br from-purple-600 via-pink-600 to-red-600 text-white py-16 overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-10 left-10 w-20 h-20 border-2 border-white rounded-full animate-pulse"}),e.jsx("div",{className:"absolute top-32 right-20 w-16 h-16 border-2 border-white rounded-full animate-pulse delay-1000"}),e.jsx("div",{className:"absolute bottom-20 left-1/4 w-12 h-12 border-2 border-white rounded-full animate-pulse delay-500"})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 relative",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"inline-flex items-center space-x-2 bg-white/20 backdrop-blur-sm rounded-full px-4 py-2 mb-6",children:[e.jsx(Ha,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Travel Stories & Adventures"})]}),e.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-white to-purple-100 bg-clip-text text-transparent",children:"Travel Community"}),e.jsx("p",{className:"text-xl md:text-2xl text-purple-100 mb-8 max-w-2xl mx-auto",children:"Share your adventures, inspire others, and discover amazing travel stories from around the world"}),e.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-6 md:gap-8",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-lg px-4 py-2",children:[e.jsx(Ha,{className:"w-5 h-5 text-yellow-300"}),e.jsx("span",{className:"font-semibold",children:D==="map"?N.filter(k=>k.place).length:N.length}),e.jsx("span",{className:"text-purple-100",children:D==="map"?"Places":"Stories"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-lg px-4 py-2",children:[e.jsx(Ct,{className:"w-5 h-5 text-green-300"}),e.jsx("span",{className:"font-semibold",children:i.length}),e.jsx("span",{className:"text-purple-100",children:"Travelers"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-lg px-4 py-2",children:[e.jsx(mt,{className:"w-5 h-5 text-red-300"}),e.jsx("span",{className:"font-semibold",children:n.reduce((k,ae)=>k+ae.likes,0)}),e.jsx("span",{className:"text-purple-100",children:"Likes"})]})]})]})})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"lg:col-span-3",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-8 backdrop-blur-sm",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex space-x-2 bg-gray-100 rounded-lg p-1",children:[e.jsxs("button",{onClick:()=>y("recent"),className:`px-4 py-2 rounded-md font-medium transition-all duration-200 ${j==="recent"?"bg-white text-purple-700 shadow-sm transform scale-105":"text-gray-600 hover:text-purple-600"}`,children:[e.jsx(cs,{className:"w-4 h-4 inline mr-2"}),"Recent"]}),e.jsxs("button",{onClick:()=>y("popular"),className:`px-4 py-2 rounded-md font-medium transition-all duration-200 ${j==="popular"?"bg-white text-purple-700 shadow-sm transform scale-105":"text-gray-600 hover:text-purple-600"}`,children:[e.jsx(mt,{className:"w-4 h-4 inline mr-2"}),"Popular"]}),e.jsxs("button",{onClick:()=>y("trending"),className:`px-4 py-2 rounded-md font-medium transition-all duration-200 ${j==="trending"?"bg-white text-purple-700 shadow-sm transform scale-105":"text-gray-600 hover:text-purple-600"}`,children:[e.jsx(bl,{className:"w-4 h-4 inline mr-2"}),"Trending"]})]}),e.jsxs("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>C("feed"),className:`px-3 py-2 rounded-md font-medium transition-all duration-200 ${D==="feed"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:e.jsx(In,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>C("map"),className:`px-3 py-2 rounded-md font-medium transition-all duration-200 ${D==="map"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:e.jsx(yr,{className:"w-4 h-4"})})]})]}),e.jsxs("button",{onClick:()=>w(!0),className:"group flex items-center space-x-2 bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 text-white px-8 py-3 rounded-xl hover:from-purple-700 hover:via-pink-700 hover:to-red-700 transition-all duration-300 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105",children:[e.jsx(br,{className:"w-5 h-5 group-hover:rotate-90 transition-transform duration-300"}),e.jsx("span",{children:"Share Your Story"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search stories... (try 'food', 'adventure', 'culture')",value:L,onChange:k=>R(k.target.value),className:"w-full px-4 py-2 pl-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),e.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),L&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full",children:" Smart Search"})})]}),q.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>I(null),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${b?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-purple-600 text-white"}`,children:"All"}),q.slice(0,8).map(k=>e.jsxs("button",{onClick:()=>I(b===k?null:k),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${b===k?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["#",k]},k))]})]})}),x?e.jsxs("div",{className:"text-center py-20 bg-white rounded-xl shadow-lg border border-red-100",children:[e.jsx("div",{className:"text-red-500 mb-4",children:e.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Oops! Something went wrong"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:x}),e.jsx("button",{onClick:_,className:"bg-purple-600 text-white px-6 py-3 rounded-xl hover:bg-purple-700 transition-all duration-200 font-semibold shadow-lg",children:"Try Again"})]}):u?e.jsx("div",{className:"space-y-6",children:[1,2,3].map(k=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 animate-pulse",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/6"})]})]}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-4"}),e.jsx("div",{className:"h-48 bg-gray-200 rounded-lg mb-4"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-20"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-20"})]})]},k))}):n.length===0?e.jsxs("div",{className:"text-center py-20 bg-gradient-to-br from-white to-purple-50 rounded-xl shadow-lg border border-purple-100",children:[e.jsxs("div",{className:"relative inline-block mb-6",children:[e.jsx(Ha,{className:"w-20 h-20 text-purple-300 mx-auto animate-bounce"}),e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-purple-500 rounded-full flex items-center justify-center",children:e.jsx(br,{className:"w-4 h-4 text-white"})})]}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"No stories yet"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Be the first to share your amazing travel experience and inspire others!"}),e.jsx("button",{onClick:()=>w(!0),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-4 rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105",children:"Share Your First Story"})]}):D==="map"?e.jsxs("div",{className:"space-y-6",children:[e.jsx(h4,{stories:N,onStoryClick:k=>{console.log("Story clicked:",k.title)}}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Stories on Map"}),e.jsx("button",{onClick:()=>C("feed"),className:"text-purple-600 hover:text-purple-700 font-medium text-sm",children:" Back to Feed"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:N.filter(k=>k.place).slice(0,6).map(k=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 hover:bg-gray-100 cursor-pointer transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(ue,{className:"w-3 h-3 text-purple-600"}),e.jsx("span",{className:"font-medium text-xs",children:k.place?.name})]}),e.jsx("p",{className:"text-sm text-gray-700 font-medium",children:k.title}),e.jsxs("p",{className:"text-xs text-gray-500",children:["by ",k.author.username]})]},k._id))})]})]}):e.jsx("div",{className:"space-y-8",children:N.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-500 text-lg",children:"No stories found matching your filters."}),e.jsx("button",{onClick:()=>{I(null),R("")},className:"mt-4 text-purple-600 hover:text-purple-700 font-medium",children:"Clear filters"})]}):N.map((k,ae)=>e.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:`${ae*100}ms`},children:e.jsx(u4,{story:k,onLike:M,onDelete:Q})},k._id))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-white to-yellow-50 rounded-xl shadow-lg border border-yellow-100 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(bl,{className:"w-5 h-5 text-yellow-600"})}),e.jsx("h3",{className:"font-bold text-lg text-gray-900",children:"Top Travelers"}),e.jsx("div",{className:"flex-1"}),e.jsx("span",{className:"text-xs bg-yellow-200 text-yellow-800 px-2 py-1 rounded-full font-medium",children:"This Month"})]}),e.jsx("div",{className:"space-y-4",children:i.map((k,ae)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:k.profilePicture?e.jsx("img",{src:k.profilePicture,alt:k.username,className:"w-full h-full rounded-full object-cover"}):e.jsx("span",{className:"text-white font-medium text-sm",children:k.username[0]})}),ae<3&&e.jsx("div",{className:`absolute -top-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold ${ae===0?"bg-yellow-500 text-white":ae===1?"bg-gray-400 text-white":"bg-orange-500 text-white"}`,children:ae+1})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:k.username}),e.jsxs("p",{className:"text-sm text-gray-500",children:[k.storiesCount," stories  ",k.totalLikes," likes"]})]})]},k.username))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-white to-green-50 rounded-xl shadow-lg border border-green-100 p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(ue,{className:"w-5 h-5 text-green-600"})}),e.jsx("h3",{className:"font-bold text-lg text-gray-900",children:"Trending Places"})]}),e.jsxs("div",{className:"space-y-3",children:[Array.from(new Set(n.filter(k=>k.place).map(k=>k.place.name))).slice(0,5).map((k,ae)=>{const fe=n.filter(Se=>Se.place?.name===k);return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${ae===0?"bg-green-500":ae===1?"bg-green-400":"bg-green-300"}`}),e.jsx("span",{className:"text-gray-700 text-sm font-medium",children:k})]}),e.jsxs("span",{className:"text-xs text-gray-500",children:[fe.length," stories"]})]},k)}),n.filter(k=>k.place).length===0&&e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No places tagged yet"})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-white to-purple-50 rounded-xl shadow-lg border border-purple-100 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(cs,{className:"w-5 h-5 text-purple-600"})}),e.jsx("h3",{className:"font-bold text-lg text-gray-900",children:"Community Stats"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Total Stories"}),e.jsx("span",{className:"font-bold text-purple-600",children:n.length})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Active Members"}),e.jsx("span",{className:"font-bold text-purple-600",children:i.length})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Total Likes"}),e.jsx("span",{className:"font-bold text-purple-600",children:n.reduce((k,ae)=>k+ae.likes,0)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Tagged Places"}),e.jsx("span",{className:"font-bold text-purple-600",children:new Set(n.filter(k=>k.place).map(k=>k.place.name)).size})]})]})]})]})]})}),g&&e.jsx(m4,{onClose:()=>w(!1),onStoryCreated:W})]})},f4=[{id:"all",label:"All Events",icon:""},{id:"music",label:"Music",icon:""},{id:"cultural",label:"Cultural",icon:""},{id:"sports",label:"Sports",icon:""},{id:"nightlife",label:"Nightlife",icon:""},{id:"tech",label:"Tech",icon:""},{id:"food",label:"Food & Drink",icon:""},{id:"festivals",label:"Festivals",icon:""}],g4=()=>{const[n,l]=v.useState(""),[i,o]=v.useState("all"),[u,m]=v.useState("grid"),[x,f]=v.useState(!1),[g,w]=v.useState([]),[j,y]=v.useState(null),[b,I]=v.useState({priceRange:[0,1e3],dateRange:"all",rating:0,location:""});v.useEffect(()=>{L()},[]);const L=async()=>{try{const D=await fetch("/api/events");if(D.ok){const _=(await D.json()).map(N=>({id:N._id,name:N.name,description:N.description,category:N.category,location:N.location,date:N.date,endDate:N.endDate,time:N.time,price:N.price,currency:N.currency,image:N.image||"https://images.unsplash.com/photo-1533174072545-7a4b6ad7a6c3?w=800",rating:N.rating||0,attendees:N.attendees||0,organizer:N.organizerName,isFree:N.isFree,isVerified:!0}));w(_)}}catch(D){console.error("Failed to fetch events:",D)}},R=g.filter(D=>!(i!=="all"&&D.category!==i||n&&!D.name.toLowerCase().includes(n.toLowerCase())&&!D.location.city.toLowerCase().includes(n.toLowerCase())||b.rating>0&&D.rating<b.rating));return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-16",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-5xl font-bold mb-4",children:"Discover Amazing Events"}),e.jsx("p",{className:"text-xl text-white/90",children:"Find concerts, festivals, workshops, and experiences worldwide"})]}),e.jsx("div",{className:"max-w-4xl mx-auto mb-8",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-2 flex items-center",children:[e.jsx(Ht,{className:"w-6 h-6 text-gray-400 ml-4"}),e.jsx("input",{type:"text",placeholder:"Search events, locations, or dates...",value:n,onChange:D=>l(D.target.value),className:"flex-1 px-4 py-4 text-gray-900 text-lg focus:outline-none"}),e.jsx("button",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-4 rounded-xl font-semibold hover:shadow-lg transition-all",children:"Search"})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-6 max-w-3xl mx-auto",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold",children:[g.length,"+"]}),e.jsx("div",{className:"text-white/80",children:"Events This Month"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold",children:"50+"}),e.jsx("div",{className:"text-white/80",children:"Cities Covered"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold",children:"8"}),e.jsx("div",{className:"text-white/80",children:"Categories"})]})]})]})}),e.jsx("div",{className:"bg-white border-b sticky top-0 z-40 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"flex items-center space-x-4 overflow-x-auto",children:f4.map(D=>e.jsxs("button",{onClick:()=>o(D.id),className:`flex items-center space-x-2 px-4 py-2 rounded-full whitespace-nowrap transition-all ${i===D.id?"bg-purple-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx("span",{children:D.icon}),e.jsx("span",{className:"font-medium",children:D.label})]},D.id))}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>f(!x),className:"flex items-center space-x-2 px-4 py-2 border-2 border-gray-300 rounded-lg hover:border-purple-600 transition-all",children:[e.jsx(Mn,{className:"w-5 h-5"}),e.jsx("span",{children:"Filters"})]}),e.jsxs("div",{className:"flex border-2 border-gray-300 rounded-lg overflow-hidden",children:[e.jsx("button",{onClick:()=>m("grid"),className:`p-2 ${u==="grid"?"bg-purple-600 text-white":"bg-white text-gray-600"}`,children:e.jsx(Pu,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>m("list"),className:`p-2 ${u==="list"?"bg-purple-600 text-white":"bg-white text-gray-600"}`,children:e.jsx(In,{className:"w-5 h-5"})})]})]})]})})}),x&&e.jsx("div",{className:"bg-white border-b shadow-lg",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:e.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date Range"}),e.jsxs("select",{className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-purple-600 focus:outline-none",children:[e.jsx("option",{children:"All Dates"}),e.jsx("option",{children:"This Weekend"}),e.jsx("option",{children:"Next 7 Days"}),e.jsx("option",{children:"Next Month"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Price"}),e.jsxs("select",{className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-purple-600 focus:outline-none",children:[e.jsx("option",{children:"All Prices"}),e.jsx("option",{children:"Free"}),e.jsx("option",{children:"Under $50"}),e.jsx("option",{children:"$50 - $200"}),e.jsx("option",{children:"$200+"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Rating"}),e.jsxs("select",{className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-purple-600 focus:outline-none",value:b.rating,onChange:D=>I({...b,rating:Number(D.target.value)}),children:[e.jsx("option",{value:0,children:"All Ratings"}),e.jsx("option",{value:4,children:"4.0+ Stars"}),e.jsx("option",{value:4.5,children:"4.5+ Stars"}),e.jsx("option",{value:4.8,children:"4.8+ Stars"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Location"}),e.jsx("input",{type:"text",placeholder:"City or Country",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-purple-600 focus:outline-none",value:b.location,onChange:D=>I({...b,location:D.target.value})})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[R.length," Events Found"]}),e.jsxs("select",{className:"px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-purple-600 focus:outline-none",children:[e.jsx("option",{children:"Sort by: Recommended"}),e.jsx("option",{children:"Date: Soonest First"}),e.jsx("option",{children:"Price: Low to High"}),e.jsx("option",{children:"Rating: Highest First"}),e.jsx("option",{children:"Most Popular"})]})]}),e.jsx("div",{className:"mb-6",children:e.jsx("button",{onClick:()=>window.location.href="/events/create",className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-6 py-3 rounded-xl font-semibold hover:shadow-lg transition-all flex items-center space-x-2",children:e.jsx("span",{children:"+ Create New Event"})})}),e.jsx("div",{className:u==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:R.map(D=>e.jsxs(le,{className:"overflow-hidden hover:shadow-2xl transition-all duration-300 hover:-translate-y-1",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:D.image,alt:D.name,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"absolute top-3 left-3 flex flex-wrap gap-2",children:[D.isTrending&&e.jsxs("span",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-xs font-semibold flex items-center",children:[e.jsx(cs,{className:"w-3 h-3 mr-1"})," Trending"]}),D.isFree&&e.jsx("span",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-xs font-semibold",children:"Free Entry"}),D.isVerified&&e.jsx("span",{className:"bg-blue-500 text-white px-3 py-1 rounded-full text-xs font-semibold",children:" Verified"})]}),e.jsx("button",{className:"absolute top-3 right-3 bg-white/90 backdrop-blur-sm p-2 rounded-full hover:bg-white transition-all",children:e.jsx(mt,{className:"w-5 h-5 text-gray-700"})})]}),e.jsxs(re,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs font-semibold text-purple-600 uppercase",children:D.category}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Re,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),e.jsx("span",{className:"text-sm font-semibold",children:D.rating})]})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-2",children:D.name}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(ue,{className:"w-4 h-4 mr-2 text-gray-400"}),D.location.city,", ",D.location.country]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(At,{className:"w-4 h-4 mr-2 text-gray-400"}),new Date(D.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Ct,{className:"w-4 h-4 mr-2 text-gray-400"}),D.attendees.toLocaleString()," attendees"]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[e.jsx("div",{children:D.isFree?e.jsx("span",{className:"text-2xl font-bold text-green-600",children:"Free"}):e.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[D.currency==="USD"?"$":D.currency==="EUR"?"":"",D.price]})}),e.jsxs("button",{onClick:()=>y(D),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-2 rounded-lg font-semibold hover:shadow-lg transition-all flex items-center space-x-2",children:[e.jsx(Nv,{className:"w-4 h-4"}),e.jsx("span",{children:"View Details"})]})]})]})]},D.id))})]}),j&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>y(null),children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:D=>D.stopPropagation(),children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:j.image,alt:j.name,className:"w-full h-64 object-cover rounded-t-2xl"}),e.jsx("button",{onClick:()=>y(null),className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm p-2 rounded-full hover:bg-white transition-all",children:e.jsx(No,{className:"w-5 h-5 text-gray-700"})})]}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-semibold text-purple-600 uppercase",children:j.category}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mt-2",children:j.name})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Re,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),e.jsx("span",{className:"text-xl font-bold",children:j.rating})]})]}),e.jsx("p",{className:"text-gray-600 mb-6",children:j.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-xl",children:[e.jsx(ue,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Location"}),e.jsxs("p",{className:"font-semibold",children:[j.location.city,", ",j.location.country]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-xl",children:[e.jsx(At,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Date"}),e.jsx("p",{className:"font-semibold",children:new Date(j.date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-xl",children:[e.jsx(it,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Time"}),e.jsx("p",{className:"font-semibold",children:j.time})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-xl",children:[e.jsx(Ct,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Attendees"}),e.jsx("p",{className:"font-semibold",children:j.attendees.toLocaleString()})]})]})]}),e.jsx("div",{className:"border-t pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Organized by"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:j.organizer})]}),e.jsx("div",{className:"text-right",children:j.isFree?e.jsx("span",{className:"text-3xl font-bold text-green-600",children:"Free"}):e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Price"}),e.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:[j.currency==="USD"?"$":j.currency==="EUR"?"":"",j.price]})]})})]})}),e.jsxs("div",{className:"flex space-x-4 mt-6",children:[e.jsx("button",{className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-4 rounded-xl font-bold text-lg hover:shadow-xl transition-all",children:"Book Now"}),e.jsx("button",{className:"px-6 py-4 border-2 border-gray-300 rounded-xl hover:border-purple-600 transition-all",children:e.jsx(mt,{className:"w-6 h-6 text-gray-600"})}),e.jsx("button",{className:"px-6 py-4 border-2 border-gray-300 rounded-xl hover:border-purple-600 transition-all",children:e.jsx(No,{className:"w-6 h-6 text-gray-600"})})]})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-purple-900 to-pink-900 text-white py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[e.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Are You an Event Organizer?"}),e.jsx("p",{className:"text-xl text-white/90 mb-8",children:"Join TravelBuddy and reach millions of travelers worldwide"}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx("button",{onClick:()=>window.location.href="/event-organizer-registration",className:"bg-white text-purple-900 px-8 py-4 rounded-xl font-bold text-lg hover:shadow-2xl transition-all",children:"Register as Organizer"}),e.jsx("button",{className:"border-2 border-white text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-white/10 transition-all",children:"Learn More"})]})]})})]})},p4=()=>e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 text-white py-20",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[e.jsx("h1",{className:"text-5xl font-bold mb-6",children:"About TravelBuddy"}),e.jsx("p",{className:"text-xl text-white/90",children:"Your AI-powered travel companion for discovering, planning, and experiencing the world"})]})}),e.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-16",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-12 mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:"Our Mission"}),e.jsx("p",{className:"text-lg text-gray-700 leading-relaxed text-center max-w-3xl mx-auto",children:"We believe travel should be accessible, personalized, and stress-free. TravelBuddy combines cutting-edge AI technology with real-world travel data to help you plan unforgettable journeys tailored to your preferences, budget, and style."})]}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8 mb-16",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center hover:shadow-2xl transition-shadow",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(gs,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Global Coverage"}),e.jsx("p",{className:"text-gray-600",children:"Discover destinations worldwide with local insights"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center hover:shadow-2xl transition-shadow",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(bs,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"AI-Powered"}),e.jsx("p",{className:"text-gray-600",children:"Smart recommendations based on your preferences"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center hover:shadow-2xl transition-shadow",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ct,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Community"}),e.jsx("p",{className:"text-gray-600",children:"Connect with travelers and share experiences"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center hover:shadow-2xl transition-shadow",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-pink-500 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(mt,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Personalized"}),e.jsx("p",{className:"text-gray-600",children:"Trips tailored to your style and budget"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Our Story"}),e.jsxs("div",{className:"space-y-4 text-gray-700 leading-relaxed",children:[e.jsx("p",{children:"TravelBuddy was born from a simple idea: travel planning shouldn't be overwhelming. Our founders, passionate travelers themselves, experienced firsthand the challenges of researching destinations, finding hidden gems, and creating the perfect itinerary."}),e.jsx("p",{children:"By combining artificial intelligence with real traveler insights, we've created a platform that makes trip planning intuitive, efficient, and enjoyable. Whether you're a solo backpacker, a family on vacation, or a luxury traveler, TravelBuddy adapts to your needs."}),e.jsx("p",{children:"Today, we're proud to serve thousands of travelers worldwide, helping them discover new places, save time and money, and create memories that last a lifetime."})]})]})]})]}),b4=()=>{const[n,l]=v.useState({name:"",email:"",subject:"",message:""}),[i,o]=v.useState(!1),u=m=>{m.preventDefault(),console.log("Contact form submitted:",n),o(!0),setTimeout(()=>{o(!1),l({name:"",email:"",subject:"",message:""})},3e3)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 text-white py-20",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[e.jsx("h1",{className:"text-5xl font-bold mb-6",children:"Contact Us"}),e.jsx("p",{className:"text-xl text-white/90",children:"Have questions? We'd love to hear from you. Send us a message and we'll respond as soon as possible."})]})}),e.jsx("div",{className:"max-w-6xl mx-auto px-6 py-16",children:e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx(le,{className:"bg-white shadow-xl border-0",children:e.jsx(re,{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(ys,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Email"}),e.jsx("p",{className:"text-gray-600",children:"support@travelbuddy.com"}),e.jsx("p",{className:"text-gray-600",children:"info@travelbuddy.com"})]})]})})}),e.jsx(le,{className:"bg-white shadow-xl border-0",children:e.jsx(re,{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(vs,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Phone"}),e.jsx("p",{className:"text-gray-600",children:"+1 (555) 123-4567"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Mon-Fri 9am-6pm EST"})]})]})})}),e.jsx(le,{className:"bg-white shadow-xl border-0",children:e.jsx(re,{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(ue,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Office"}),e.jsx("p",{className:"text-gray-600",children:"123 Travel Street"}),e.jsx("p",{className:"text-gray-600",children:"New York, NY 10001"})]})]})})})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsx(le,{className:"bg-white shadow-xl border-0",children:e.jsxs(re,{className:"p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Send us a Message"}),i?e.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ug,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-green-900 mb-2",children:"Message Sent!"}),e.jsx("p",{className:"text-green-700",children:"Thank you for contacting us. We'll get back to you soon."})]}):e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Name"}),e.jsx("input",{type:"text",required:!0,value:n.name,onChange:m=>l({...n,name:m.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Your name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",required:!0,value:n.email,onChange:m=>l({...n,email:m.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"your@email.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Subject"}),e.jsx("input",{type:"text",required:!0,value:n.subject,onChange:m=>l({...n,subject:m.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"How can we help?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Message"}),e.jsx("textarea",{required:!0,value:n.message,onChange:m=>l({...n,message:m.target.value}),rows:6,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",placeholder:"Tell us more about your inquiry..."})]}),e.jsxs(H,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white py-4 text-lg font-semibold",children:[e.jsx(ug,{className:"w-5 h-5 mr-2"}),"Send Message"]})]})]})})})]})})]})},y4=()=>{const l=Do().pathname.split("/").filter(o=>o);if(l.length===0)return null;const i=o=>o.split("-").map(u=>u.charAt(0).toUpperCase()+u.slice(1)).join(" ");return e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-600 py-4 px-4 max-w-7xl mx-auto","aria-label":"Breadcrumb",children:[e.jsxs(pe,{to:"/",className:"hover:text-blue-600 flex items-center gap-1",children:[e.jsx(Lu,{className:"w-4 h-4"}),e.jsx("span",{children:"Home"})]}),l.map((o,u)=>{const m=`/${l.slice(0,u+1).join("/")}`,x=u===l.length-1;return e.jsxs(Iu.Fragment,{children:[e.jsx(Bu,{className:"w-4 h-4"}),x?e.jsx("span",{className:"font-semibold text-gray-900",children:i(o)}):e.jsx(pe,{to:m,className:"hover:text-blue-600",children:i(o)})]},m)})]})},v4=()=>{const{currentPage:n}=x0(),{user:l,isLoading:i,logout:o}=kt(),u=Do();if(i)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})});if(l&&(u.pathname==="/login"||u.pathname==="/register"))return e.jsx(eg,{to:"/",replace:!0});if(!l&&!["/login","/register","/role-selection","/"].includes(u.pathname))return e.jsx(eg,{to:"/",replace:!0});const x=()=>{if(u.pathname.startsWith("/places/"))return e.jsx(T0,{});if(u.pathname.startsWith("/trips/")&&u.pathname!=="/trips")return e.jsx(k0,{});switch(u.pathname){case"/":case"/home":return e.jsx(O1,{});case"/discovery":return e.jsx(ap,{});case"/trips":return e.jsx(Q1,{});case"/services":case"/agents":return e.jsx(A0,{});case"/transport":return e.jsx(E0,{});case"/deals":return e.jsx(o4,{});case"/deals/create":return e.jsx(d4,{});case"/community":return e.jsx(x4,{});case"/events":return e.jsx(g4,{});case"/about":return e.jsx(p4,{});case"/contact":return e.jsx(b4,{});case"/profile":return e.jsx(L1,{});case"/preferences":return e.jsx(a4,{});case"/notifications":return e.jsx(l4,{});case"/settings":return e.jsx(r4,{});default:return e.jsx(ap,{})}};return u.pathname.startsWith("/places/")||u.pathname.startsWith("/trips/")&&u.pathname!=="/trips"?e.jsx("div",{className:"min-h-screen bg-gray-50",children:x()}):e.jsxs("div",{className:"min-h-screen",children:[e.jsx(j1,{}),e.jsx(y4,{}),e.jsx("main",{className:"pt-16 lg:pt-20",children:x()}),e.jsx(N1,{})]})},j4=()=>{const[n,l]=v.useState("Checking...");return v.useEffect(()=>{(async()=>{try{console.log(" Checking for redirect result...");const o=await o0(Ws);o?(console.log(" Redirect result found:",o),l(`Success! User: ${o.user.email}`)):(console.log(" No redirect result"),l("No redirect result (normal page load)"))}catch(o){console.error(" Redirect error:",o),l(`Error: ${o.message}`)}})()},[]),e.jsxs("div",{style:{position:"fixed",bottom:10,right:10,background:"#000",color:"#0f0",padding:"10px",fontSize:"12px",zIndex:9999,fontFamily:"monospace"},children:["Google Redirect: ",n]})},N4=()=>{const[n,l]=v.useState(!0),[i,o]=v.useState(""),[u,m]=v.useState(""),[x,f]=v.useState(""),[g,w]=v.useState(!1),[j,y]=v.useState(!1),[b,I]=v.useState(""),{login:L,register:R,loginWithGoogle:D,loginDemo:C,user:_,isLoading:N}=kt(),q=Tt();v.useEffect(()=>{console.log(" LoginPage: User state changed",{hasUser:!!_,userId:_?.id,email:_?.email,authLoading:N}),_?(console.log(" LoginPage: User authenticated, navigating to home"),q("/")):console.log(" LoginPage: No user, staying on login page")},[_,q,N]);const M=async Q=>{Q.preventDefault(),y(!0),I("");try{n?await L(i,u):await R(x,i,u),q("/")}catch(W){I(W.message||"Authentication failed")}finally{y(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:[e.jsx(j4,{}),e.jsx("div",{className:"max-w-md w-full",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx($a,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n?"Welcome Back":"Create Account"}),e.jsx("p",{className:"text-gray-600 mt-2",children:n?"Sign in to your account":"Join TravelBuddy today"})]}),b&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:b}),e.jsxs("form",{onSubmit:M,className:"space-y-6",children:[!n&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx($a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",value:x,onChange:Q=>f(Q.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your username",autoComplete:"username",required:!n})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(ys,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"email",value:i,onChange:Q=>o(Q.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email",autoComplete:"email",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(wo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:g?"text":"password",value:u,onChange:Q=>m(Q.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password",autoComplete:"current-password",required:!0}),e.jsx("button",{type:"button",onClick:()=>w(!g),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:g?e.jsx(mp,{className:"w-5 h-5"}):e.jsx(Ga,{className:"w-5 h-5"})})]})]}),e.jsx(H,{type:"submit",disabled:j,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white py-3 rounded-lg font-medium",children:j?"Please wait...":n?"Sign In":"Create Account"})]}),e.jsxs("div",{className:"my-6 flex items-center",children:[e.jsx("div",{className:"flex-1 border-t border-gray-300"}),e.jsx("span",{className:"px-4 text-sm text-gray-500",children:"or continue with"}),e.jsx("div",{className:"flex-1 border-t border-gray-300"})]}),e.jsxs(H,{onClick:async()=>{y(!0),I("");try{await D()}catch(Q){I(Q.message),y(!1)}},disabled:j,className:"w-full py-3 mb-3 bg-white hover:bg-gray-50 text-gray-900 border-2 border-gray-300 flex items-center justify-center gap-3",children:[e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),e.jsx(H,{onClick:async()=>{y(!0);try{await C(),q("/")}catch(Q){I(Q.message)}finally{y(!1)}},disabled:j,className:"w-full py-3 mb-3 bg-orange-600 hover:bg-orange-700 text-white",children:" Demo Admin Login"}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600",children:[n?"Don't have an account?":"Already have an account?",e.jsx("button",{type:"button",onClick:()=>l(!n),className:"ml-2 text-blue-600 hover:text-blue-700 font-medium",children:n?"Sign up":"Sign in"})]})})]})})]})},w4=()=>{const[n,l]=v.useState({username:"",email:"",password:"",confirmPassword:""}),[i,o]=v.useState(!1),[u,m]=v.useState(!1),[x,f]=v.useState(""),{register:g,loginWithGoogle:w}=kt(),j=Tt(),y=async b=>{if(b.preventDefault(),m(!0),f(""),n.password!==n.confirmPassword){f("Passwords do not match"),m(!1);return}try{await g(n.username,n.email,n.password),j("/discovery")}catch(I){f(I.message||"Registration failed. Please try again.")}finally{m(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsxs(pe,{to:"/",className:"inline-flex items-center space-x-2",children:[e.jsx(ue,{className:"h-10 w-10 text-primary-600"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"TravelBuddy"})]})}),e.jsxs(le,{children:[e.jsxs(st,{className:"text-center",children:[e.jsx(nt,{className:"text-2xl",children:"Create Account"}),e.jsx(C1,{children:"Join TravelBuddy and start your adventure"})]}),e.jsxs(re,{children:[e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[x&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md text-sm",children:x}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx($a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"username",type:"text",value:n.username,onChange:b=>l({...n,username:b.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Choose a username",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(ys,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"email",type:"email",value:n.email,onChange:b=>l({...n,email:b.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your email",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(wo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"password",type:i?"text":"password",value:n.password,onChange:b=>l({...n,password:b.target.value}),className:"w-full pl-10 pr-12 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Create a password",required:!0}),e.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?e.jsx(mp,{className:"h-5 w-5"}):e.jsx(Ga,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(wo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"confirmPassword",type:"password",value:n.confirmPassword,onChange:b=>l({...n,confirmPassword:b.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Confirm your password",required:!0})]})]}),e.jsx(H,{type:"submit",className:"w-full",disabled:u,children:u?"Creating Account...":"Create Account"})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]})}),e.jsx("div",{className:"mt-6",children:e.jsxs(H,{type:"button",variant:"outline",className:"w-full bg-gray-100 text-gray-400 cursor-not-allowed",disabled:!0,children:[e.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"#9CA3AF",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"})}),"Google Sign-In (Setup Required)"]})}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",e.jsx(pe,{to:"/login",className:"text-primary-600 hover:text-primary-500 font-medium",children:"Sign in"})]})})]})]})]})})},S4=()=>{const{id:n}=Ro(),l=Tt(),[i,o]=v.useState(null),[u,m]=v.useState(!0),[x,f]=v.useState(!1),[g,w]=v.useState(0);v.useEffect(()=>{j()},[n]);const j=async()=>{try{m(!0);const D=await ta.getStory(n);o(D)}catch(D){console.error("Failed to load story:",D)}finally{m(!1)}},y=async()=>{if(i)try{await ta.likeStory(i._id),o({...i,likes:i.likes+(i.isLiked?-1:1),isLiked:!i.isLiked})}catch(D){console.error("Failed to like story:",D)}},b=D=>{w(D),f(!0)},I=()=>{i&&g<i.images.length-1&&w(g+1)},L=()=>{g>0&&w(g-1)},R=D=>new Date(D).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return u?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):i?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:e.jsxs("button",{onClick:()=>l("/community"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(jo,{className:"w-5 h-5"}),e.jsx("span",{children:"Back to Community"})]})})}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:i.author.profilePicture?e.jsx("img",{src:i.author.profilePicture,alt:i.author.username,className:"w-full h-full rounded-full object-cover"}):e.jsx("span",{className:"text-white font-bold text-xl",children:i.author.username[0]})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-green-400 border-2 border-white rounded-full"})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:i.author.username}),e.jsxs("div",{className:"flex items-center space-x-3 text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ue,{className:"w-4 h-4"}),e.jsx("span",{children:i.location})]}),e.jsx("span",{children:""}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(At,{className:"w-4 h-4"}),e.jsx("span",{children:R(i.createdAt)})]})]})]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:i.title}),e.jsx("div",{className:"prose prose-lg max-w-none",children:e.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:i.content})})]}),i.images.length>0&&e.jsx("div",{className:"px-6 pb-6",children:i.images.length===1?e.jsx("img",{src:i.images[0],alt:i.title,className:"w-full max-h-96 object-cover rounded-lg cursor-pointer hover:opacity-95 transition-opacity",onClick:()=>b(0)}):e.jsx("div",{className:"grid grid-cols-2 gap-2",children:i.images.map((D,C)=>e.jsx("img",{src:D,alt:`${i.title} ${C+1}`,className:"w-full h-48 object-cover rounded-lg cursor-pointer hover:opacity-95 transition-opacity",onClick:()=>b(C)},C))})}),e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-8",children:[e.jsxs("button",{onClick:y,className:`group flex items-center space-x-3 transition-all duration-200 transform hover:scale-105 ${i.isLiked?"text-red-500":"text-gray-500 hover:text-red-500"}`,children:[e.jsx(mt,{className:`w-7 h-7 transition-all duration-200 ${i.isLiked?"fill-current animate-pulse":"group-hover:scale-110"}`}),e.jsx("span",{className:"font-semibold text-xl",children:i.likes})]}),e.jsxs("div",{className:"flex items-center space-x-3 text-gray-500",children:[e.jsx(pr,{className:"w-7 h-7"}),e.jsx("span",{className:"font-semibold text-xl",children:i.comments})]})]})})}),e.jsxs("div",{className:"px-6 py-6 border-t border-gray-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Comments"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("textarea",{placeholder:"Write a comment...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none"}),e.jsx("button",{className:"mt-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:"Post Comment"})]})]}),e.jsxs("div",{className:"text-center text-gray-500 py-8",children:[e.jsx(pr,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),e.jsx("p",{children:"No comments yet. Be the first to comment!"})]})]})]})]})}),x&&i.images.length>0&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",children:e.jsxs("div",{className:"relative max-w-4xl max-h-full p-4",children:[e.jsx("button",{onClick:()=>f(!1),className:"absolute top-4 right-4 text-white hover:text-gray-300 z-10",children:e.jsx(St,{className:"w-8 h-8"})}),e.jsx("img",{src:i.images[g],alt:`${i.title} ${g+1}`,className:"max-w-full max-h-full object-contain"}),i.images.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:L,disabled:g===0,className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white hover:text-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(dp,{className:"w-8 h-8"})}),e.jsx("button",{onClick:I,disabled:g===i.images.length-1,className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white hover:text-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Bu,{className:"w-8 h-8"})}),e.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 text-white text-sm",children:[g+1," / ",i.images.length]})]})]})})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Story not found"}),e.jsx("button",{onClick:()=>l("/community"),className:"text-purple-600 hover:text-purple-700",children:"Back to Community"})]})})},C4=()=>e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading configuration..."})]})}),T4=()=>{const n=Tt(),[l,i]=v.useState(""),[o,u]=v.useState("user"),[m,x]=v.useState(!1),f=[{id:"user",name:"Regular User",description:"Browse and book travel services, share experiences",permissions:["Search places","Create posts","Book services","Write reviews"],requiresVerification:!1,icon:e.jsx($a,{className:"w-8 h-8"}),color:"bg-blue-500",benefits:["Access to all travel content","Book services and experiences","Share travel stories","Connect with other travelers"]},{id:"merchant",name:"Merchant",description:"Create and manage deals for your business",permissions:["Create deals","Manage business profile","View analytics","Customer management"],requiresVerification:!0,icon:e.jsx(wv,{className:"w-8 h-8"}),color:"bg-green-500",benefits:["Create promotional deals","Reach thousands of travelers","Business analytics dashboard","Customer engagement tools"]},{id:"transport_provider",name:"Transport Provider",description:"Offer transportation services to travelers",permissions:["Manage fleet","Accept bookings","Route management","Service listings"],requiresVerification:!0,icon:e.jsx(Sv,{className:"w-8 h-8"}),color:"bg-orange-500",benefits:["List transport services","Manage vehicle fleet","Accept online bookings","Route optimization tools"]},{id:"travel_agent",name:"Travel Agent",description:"Provide professional travel planning services",permissions:["Create packages","Client management","Agent tools","Itinerary builder"],requiresVerification:!0,icon:e.jsx(ue,{className:"w-8 h-8"}),color:"bg-purple-500",benefits:["Professional agent profile","Create travel packages","Client booking system","Advanced planning tools"]}],g=j=>{i(j)},w=()=>{if(!l)return;const j=f.find(y=>y.id===l);if(j)if(j.requiresVerification)switch(l){case"merchant":n("/merchant-registration");break;case"transport_provider":n("/transport-registration");break;case"travel_agent":n("/agent-registration");break}else x(!0),setTimeout(()=>{u(l),x(!1),n("/")},1e3)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Choose Your Role"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Select the role that best describes how you want to use TravelBuddy. You can always change this later in your profile settings."})]}),o&&e.jsx("div",{className:"mb-8 text-center",children:e.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-blue-100 text-blue-800 rounded-full",children:[e.jsx(tt,{className:"w-4 h-4 mr-2"}),"Current Role: ",f.find(j=>j.id===o)?.name]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:f.map(j=>e.jsx(le,{className:`cursor-pointer transition-all duration-300 hover:shadow-xl border-2 ${l===j.id?"border-blue-500 shadow-lg transform scale-105":"border-gray-200 hover:border-gray-300"}`,onClick:()=>g(j.id),children:e.jsxs(re,{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 ${j.color} text-white rounded-full mb-3`,children:j.icon}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:j.name}),e.jsx("p",{className:"text-sm text-gray-600",children:j.description})]}),e.jsx("div",{className:"mb-4",children:j.requiresVerification?e.jsxs("div",{className:"flex items-center justify-center text-orange-600 bg-orange-50 rounded-lg py-2 px-3",children:[e.jsx(sa,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-sm font-medium",children:"Requires Verification"})]}):e.jsxs("div",{className:"flex items-center justify-center text-green-600 bg-green-50 rounded-lg py-2 px-3",children:[e.jsx(tt,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-sm font-medium",children:"Instant Access"})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Key Benefits:"}),e.jsx("ul",{className:"space-y-1",children:j.benefits.slice(0,3).map((y,b)=>e.jsxs("li",{className:"flex items-start text-xs text-gray-600",children:[e.jsx(Re,{className:"w-3 h-3 mr-2 mt-0.5 text-yellow-500 flex-shrink-0"}),y]},b))})]}),l===j.id&&e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("div",{className:"inline-flex items-center text-blue-600 font-medium",children:[e.jsx(tt,{className:"w-4 h-4 mr-2"}),"Selected"]})})]})},j.id))}),l&&e.jsx(le,{className:"mb-8 border-blue-200 bg-blue-50",children:e.jsx(re,{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:`flex-shrink-0 w-12 h-12 ${f.find(j=>j.id===l)?.color} text-white rounded-lg flex items-center justify-center`,children:f.find(j=>j.id===l)?.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:f.find(j=>j.id===l)?.name}),e.jsx("p",{className:"text-gray-700 mb-4",children:f.find(j=>j.id===l)?.description}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Permissions:"}),e.jsx("ul",{className:"space-y-1",children:f.find(j=>j.id===l)?.permissions.map((j,y)=>e.jsxs("li",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(tt,{className:"w-4 h-4 mr-2 text-green-500"}),j]},y))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Benefits:"}),e.jsx("ul",{className:"space-y-1",children:f.find(j=>j.id===l)?.benefits.map((j,y)=>e.jsxs("li",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Re,{className:"w-4 h-4 mr-2 text-yellow-500"}),j]},y))})]})]}),f.find(j=>j.id===l)?.requiresVerification&&e.jsx("div",{className:"mt-4 p-4 bg-orange-50 border border-orange-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(or,{className:"w-5 h-5 text-orange-600 mr-3 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-orange-900",children:"Verification Required"}),e.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"This role requires verification of your business credentials. You'll need to provide documentation and wait for approval (typically 3-5 business days)."})]})]})})]})]})})}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx(H,{variant:"outline",onClick:()=>n("/"),className:"px-8 py-3",children:"Skip for Now"}),e.jsx(H,{onClick:w,disabled:!l||m,className:"px-8 py-3 bg-blue-600 hover:bg-blue-700",children:m?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):e.jsxs("div",{className:"flex items-center",children:["Continue",e.jsx(Ia,{className:"w-4 h-4 ml-2"})]})})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsxs("p",{className:"text-sm text-gray-500",children:["Need help choosing? ",e.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"Contact our support team"})]})})]})})},k4=()=>{const n=Tt(),[l,i]=v.useState(""),[o,u]=v.useState({companyName:"",businessType:"",country:"",city:"",address:"",location:{address:"",coordinates:{lat:0,lng:0}},ownerName:"",email:"",phone:"",website:"",fleetSize:"1",vehicleTypes:[],operatingCountry:"",serviceCities:[],instantBooking:!1,requestBooking:!0,availability247:!1,agreed:!1}),[m,x]=v.useState(!1),[f,g]=v.useState(!1),[w,j]=v.useState("");v.useEffect(()=>{ds.getConfig().then(M=>i(M.apiBaseUrl))},[]);const y=["Individual Driver","Transport Company","Car Rental Agency","Shuttle/Bus Operator","Ferry/Boat Operator","Train Operator","Airline/Air Charter"],b=["Sri Lanka","Thailand","India","Japan","USA","UK","France","Spain","Italy","Greece","UAE","Singapore","Malaysia"],I=["Car","Van","Minibus","Bus","SUV","Motorbike","Tuk-tuk","Rickshaw","Electric Vehicle","Ferry/Boat","Yacht","Train/Railcar","Helicopter","Small Aircraft"],L=["1 vehicle","2-5 vehicles","6-20 vehicles","21-50 vehicles","50+ vehicles"],R=async M=>{if(M.preventDefault(),j(""),!o.agreed){j("Please accept the terms and conditions");return}if(o.vehicleTypes.length===0){j("Please select at least one vehicle type");return}if(o.serviceCities.length===0){j("Please add at least one service city");return}x(!0);try{const Q=localStorage.getItem("travelbuddy_userId")||`user_${Date.now()}`;localStorage.setItem("travelbuddy_userId",Q);const W={userId:Q,companyName:o.companyName,ownerName:o.ownerName,email:o.email,phone:o.phone,address:o.address,licenseNumber:"GLOBAL-"+Date.now(),vehicleTypes:o.vehicleTypes,serviceAreas:o.serviceCities,fleetSize:o.fleetSize,country:o.country,description:`${o.businessType} operating in ${o.city}, ${o.country}`},k=await fetch(`${l}/api/transport-providers/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)}),ae=await k.json();k.ok?g(!0):j(ae.details||ae.error||"Registration failed")}catch{j("Network error. Please try again.")}finally{x(!1)}},D=M=>{u(Q=>({...Q,vehicleTypes:Q.vehicleTypes.includes(M)?Q.vehicleTypes.filter(W=>W!==M):[...Q.vehicleTypes,M]}))},[C,_]=v.useState(""),N=()=>{C.trim()&&!o.serviceCities.includes(C.trim())&&(u(M=>({...M,serviceCities:[...M.serviceCities,C.trim()]})),_(""))},q=M=>{u(Q=>({...Q,serviceCities:Q.serviceCities.filter(W=>W!==M)}))};return f?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center py-12 px-4",children:e.jsxs("div",{className:"max-w-lg w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[e.jsx("div",{className:"mx-auto w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mb-6",children:e.jsx(Pa,{className:"w-10 h-10 text-green-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Registration Successful!"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Welcome to TravelBuddy's transport network! Your account is now active."}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:" You're All Set!"}),e.jsx("p",{className:"text-sm text-green-700",children:"You can now access your provider dashboard and start managing your transport services."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>n("/transport-provider-dashboard"),className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Go to Provider Dashboard"}),e.jsx("button",{onClick:()=>n("/"),className:"w-full border border-gray-300 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-50 transition-colors",children:"Back to Home"})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 py-8 px-4",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:" Global Transport Provider Registration"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Join TravelBuddy's Worldwide Transport Network"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Serving travelers in 50+ countries"})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:e.jsxs("form",{onSubmit:R,className:"space-y-6",children:[w&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:w}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:" Section 1: Business Information"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Tell us about your transport business"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name *"}),e.jsx("input",{type:"text",value:o.companyName,onChange:M=>u({...o,companyName:M.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Type *"}),e.jsxs("select",{value:o.businessType,onChange:M=>u({...o,businessType:M.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select business type..."}),y.map(M=>e.jsx("option",{value:M,children:M},M))]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country *"}),e.jsxs("select",{value:o.country,onChange:M=>u({...o,country:M.target.value,operatingCountry:M.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select country..."}),b.map(M=>e.jsx("option",{value:M,children:M},M))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City / Region *"}),e.jsx("input",{type:"text",value:o.city,onChange:M=>u({...o,city:M.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Colombo, Bangkok, Tokyo",required:!0})]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:" Business Location (GPS)"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Accurate location helps travelers find your services nearby"})]}),e.jsx($n,{value:o.location,onChange:M=>u({...o,location:M,address:M.address}),required:!0}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:" Section 2: Contact Details"}),e.jsx("p",{className:"text-sm text-gray-600",children:"How can travelers reach you?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Owner / Manager Name *"}),e.jsx("input",{type:"text",value:o.ownerName,onChange:M=>u({...o,ownerName:M.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),e.jsx("input",{type:"email",value:o.email,onChange:M=>u({...o,email:M.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone *"}),e.jsx("input",{type:"tel",value:o.phone,onChange:M=>u({...o,phone:M.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"+94 77 123 4567",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website (Optional)"}),e.jsx("input",{type:"url",value:o.website,onChange:M=>u({...o,website:M.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://yourwebsite.com"})]})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:" Section 3: Verification Documents"}),e.jsx("p",{className:"text-sm text-gray-600",children:'Upload documents to earn "Verified Provider" badge'})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Driver License"}),e.jsx("input",{type:"file",accept:"image/*,.pdf",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Registration"}),e.jsx("input",{type:"file",accept:"image/*,.pdf",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Insurance Certificate"}),e.jsx("input",{type:"file",accept:"image/*,.pdf",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"National ID / Passport"}),e.jsx("input",{type:"file",accept:"image/*,.pdf",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:" Accepted formats: JPG, PNG, PDF (Max 5MB each)"}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:" Section 4: Fleet & Service Details"}),e.jsx("p",{className:"text-sm text-gray-600",children:"What vehicles do you operate?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fleet Size *"}),e.jsxs("select",{value:o.fleetSize,onChange:M=>u({...o,fleetSize:M.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select fleet size..."}),L.map(M=>e.jsx("option",{value:M,children:M},M))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Vehicle Types * (Select all that apply)"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:I.map(M=>e.jsxs("label",{className:`flex items-center space-x-2 p-3 border-2 rounded-lg cursor-pointer transition-all ${o.vehicleTypes.includes(M)?"border-blue-500 bg-blue-50":"border-gray-200 hover:bg-gray-50"}`,children:[e.jsx("input",{type:"checkbox",checked:o.vehicleTypes.includes(M),onChange:()=>D(M),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm font-medium",children:M})]},M))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Photos *"}),e.jsx("input",{type:"file",accept:"image/*",multiple:!0,className:"w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 cursor-pointer"}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:" Upload multiple photos of your vehicles (exterior, interior, features)"})]}),e.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:" Section 5: Operating Areas & Routes"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Where do you provide services?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Service Cities *"}),e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx("input",{type:"text",value:C,onChange:M=>_(M.target.value),onKeyPress:M=>M.key==="Enter"&&(M.preventDefault(),N()),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Type city name and press Enter (e.g., Paris, Tokyo, Colombo)"}),e.jsx("button",{type:"button",onClick:N,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Add"})]}),o.serviceCities.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:o.serviceCities.map(M=>e.jsxs("span",{className:"inline-flex items-center bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm",children:[M,e.jsx("button",{type:"button",onClick:()=>q(M),className:"ml-2 text-blue-600 hover:text-blue-800",children:""})]},M))}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Add all cities where you operate"})]}),e.jsxs("div",{className:"bg-teal-50 p-4 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:" Section 6: Booking Options"}),e.jsx("p",{className:"text-sm text-gray-600",children:"How do you accept bookings?"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center space-x-3 p-4 border-2 rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",checked:o.instantBooking,onChange:M=>u({...o,instantBooking:M.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:" Instant Booking"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Travelers can book immediately without approval"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 p-4 border-2 rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",checked:o.requestBooking,onChange:M=>u({...o,requestBooking:M.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:" Request to Book"}),e.jsx("p",{className:"text-sm text-gray-600",children:"You review and approve each booking request"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 p-4 border-2 rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",checked:o.availability247,onChange:M=>u({...o,availability247:M.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:" 24/7 Availability"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Available for bookings anytime, day or night"})]})]})]}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o.agreed,onChange:M=>u({...o,agreed:M.target.checked}),className:"mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500",required:!0}),e.jsx("span",{className:"text-sm text-gray-700",children:"I confirm that all information is accurate and agree to TravelBuddy's Terms & Conditions"})]})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>n("/"),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:m,className:"flex-1 px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-semibold",children:m?"Submitting...":"Register"})]})]})})]})})},A4=["English","Sinhala","Tamil","Hindi","Japanese","Chinese","French","Spanish","German","Italian","Arabic","Thai","Korean","Portuguese"],E4=["Adventure & Hiking","Cultural Tours","Family Travel","Honeymoon & Romance","Luxury & VIP","Wildlife & Safari","Beach & Coastal","Photography Tours","Budget Backpacking","Pilgrimage Tours","Eco-Tourism","Road Trip Specialists","Digital Nomad Support","Educational Tours","Solo Travel","Business Travel","Food & Culinary","Scuba & Diving","Shopping Tours","Skiing & Snow","Historical Tours","Religious Tours","LGBTQ+ Friendly","Accessible Travel"],_4=["Independent Guide","Travel Agency","Tour Operator","Concierge Specialist","Freelance Consultant"],D4=["1-3 years","3-7 years","7-10 years","10+ years"],op=()=>{const{id:n}=Ro(),l=Tt(),[i,o]=v.useState(""),[u,m]=v.useState(!!n),[x,f]=v.useState({fullName:"",email:"",phone:"",country:"",city:"",location:{address:"",coordinates:{lat:0,lng:0}},languages:[],experience:"",specializations:[],agencyName:"",agencyType:"",licenseNumber:"",consultationFee:"0",dayRate:"",description:"",profilePhoto:"",agreed:!1}),[g,w]=v.useState(!1),[j,y]=v.useState(!1),[b,I]=v.useState("");v.useEffect(()=>{ds.getConfig().then(_=>o(_.apiBaseUrl))},[]),v.useEffect(()=>{i&&n&&L()},[i,n]);const L=async()=>{try{const _=await fetch(`${i}/api/travel-agents/${n}`);if(_.ok){const N=await _.json();f({fullName:N.fullName,email:N.email,phone:N.phone,country:N.country||"",city:N.city||"",location:N.location||{address:"",coordinates:{lat:0,lng:0}},languages:N.languages,experience:N.experience,specializations:N.specializations,agencyName:N.agencyName||"",agencyType:N.agencyType,licenseNumber:N.licenseNumber||"",consultationFee:N.consultationFee?.toString()||"0",dayRate:N.dayRate?.toString()||"",description:N.description,profilePhoto:N.profilePhoto||"",agreed:!0})}}catch{I("Failed to load agent data")}finally{m(!1)}},R=async _=>{if(_.preventDefault(),I(""),!x.agreed){I("Please accept the terms and conditions");return}if(x.languages.length===0){I("Please select at least one language");return}if(x.specializations.length===0){I("Please select at least one specialization");return}w(!0);try{const N=x.location.address.split(",").map(A=>A.trim()),q=N[N.length-1]||"Not specified",M=N[0]||"Not specified",Q=localStorage.getItem("travelbuddy_userId")||`user_${Date.now()}`;localStorage.setItem("travelbuddy_userId",Q);const W={...x,country:q,city:M,userId:Q},k=n?`${i}/api/travel-agents/${n}`:`${i}/api/travel-agents/register`,fe=await fetch(k,{method:n?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(W)}),Se=await fe.json();fe.ok?y(!0):I(Se.details||Se.error||"Registration failed")}catch{I("Network error. Please try again.")}finally{w(!1)}},D=_=>{f(N=>({...N,languages:N.languages.includes(_)?N.languages.filter(q=>q!==_):[...N.languages,_]}))},C=_=>{f(N=>({...N,specializations:N.specializations.includes(_)?N.specializations.filter(q=>q!==_):[...N.specializations,_]}))};return j?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center py-12 px-4",children:e.jsxs("div",{className:"max-w-lg w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[e.jsx("div",{className:"mx-auto w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mb-6",children:e.jsx(Pa,{className:"w-10 h-10 text-green-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:n?"Profile Updated!":"Registration Successful!"}),e.jsx("p",{className:"text-gray-600 mb-4",children:n?"Your changes have been saved successfully.":"Welcome to TravelBuddy's global agent network! Your profile is now active."}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:" You're All Set!"}),e.jsx("p",{className:"text-sm text-green-700",children:"You can now access your agent dashboard and start connecting with travelers worldwide."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>l("/travel-agent-dashboard"),className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Go to Agent Dashboard"}),e.jsx("button",{onClick:()=>l("/"),className:"w-full border border-gray-300 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-50 transition-colors",children:"Back to Home"})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 py-8 px-4",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:n?" Edit Profile":" Global Travel Agent Registration"}),e.jsx("p",{className:"text-xl text-gray-600",children:n?"Update your information":"Join TravelBuddy's Worldwide Agent Network"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Connect with travelers from 100+ countries"})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:e.jsxs("form",{onSubmit:R,className:"space-y-6",children:[b&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:b}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:" Personal Information"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Tell us about yourself"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),e.jsx("input",{type:"text",value:x.fullName,onChange:_=>f({...x,fullName:_.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),e.jsx("input",{type:"email",value:x.email,onChange:_=>f({...x,email:_.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone *"}),e.jsx("input",{type:"tel",value:x.phone,onChange:_=>f({...x,phone:_.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"+1 234 567 8900",required:!0})]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:" Your Business Location"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Help travelers find you with accurate GPS coordinates"})]}),e.jsx($n,{value:x.location,onChange:_=>f({...x,location:_}),required:!0}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Languages Spoken * (Select all that apply)"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:A4.map(_=>e.jsxs("label",{className:`flex items-center space-x-2 p-3 border-2 rounded-lg cursor-pointer transition-all ${x.languages.includes(_)?"border-blue-500 bg-blue-50":"border-gray-200 hover:bg-gray-50"}`,children:[e.jsx("input",{type:"checkbox",checked:x.languages.includes(_),onChange:()=>D(_),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm font-medium",children:_})]},_))})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:" Professional Details"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Your experience and credentials"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Agency/Business Name"}),e.jsx("input",{type:"text",value:x.agencyName,onChange:_=>f({...x,agencyName:_.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Leave blank if independent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Agency Type *"}),e.jsxs("select",{value:x.agencyType,onChange:_=>f({...x,agencyType:_.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select type..."}),_4.map(_=>e.jsx("option",{value:_,children:_},_))]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Experience *"}),e.jsxs("select",{value:x.experience,onChange:_=>f({...x,experience:_.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select experience..."}),D4.map(_=>e.jsx("option",{value:_,children:_},_))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"License Number"}),e.jsx("input",{type:"text",value:x.licenseNumber,onChange:_=>f({...x,licenseNumber:_.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Tourism board license (optional)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Specializations * (Select all that apply)"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 max-h-64 overflow-y-auto p-2 border border-gray-200 rounded-lg",children:E4.map(_=>e.jsxs("label",{className:`flex items-center space-x-2 p-2 border-2 rounded-lg cursor-pointer transition-all ${x.specializations.includes(_)?"border-purple-500 bg-purple-50":"border-gray-200 hover:bg-gray-50"}`,children:[e.jsx("input",{type:"checkbox",checked:x.specializations.includes(_),onChange:()=>C(_),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),e.jsx("span",{className:"text-sm",children:_})]},_))})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:" Pricing"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Your service rates"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Consultation Fee (USD)"}),e.jsx("input",{type:"number",value:x.consultationFee,onChange:_=>f({...x,consultationFee:_.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"0 for free",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Day Rate (USD) *"}),e.jsx("input",{type:"number",value:x.dayRate,onChange:_=>f({...x,dayRate:_.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 150",min:"0",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Photo"}),e.jsx("input",{type:"file",accept:"image/*",onChange:_=>{const N=_.target.files?.[0];if(N){if(N.size>2*1024*1024){I("Image must be less than 2MB");return}const q=new FileReader;q.onloadend=()=>{f({...x,profilePhoto:q.result})},q.readAsDataURL(N)}},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),x.profilePhoto&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:x.profilePhoto,alt:"Preview",className:"w-24 h-24 rounded-full object-cover"})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload your profile photo (max 2MB)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"About You *"}),e.jsx("textarea",{value:x.description,onChange:_=>f({...x,description:_.target.value}),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Tell travelers about your expertise, experience, and what makes you unique...",required:!0})]}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x.agreed,onChange:_=>f({...x,agreed:_.target.checked}),className:"mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500",required:!0}),e.jsx("span",{className:"text-sm text-gray-700",children:"I confirm that all information is accurate and agree to TravelBuddy's Terms & Conditions, Privacy Policy, and Agent Code of Conduct"})]})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>l("/"),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:g,className:"flex-1 px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-semibold",children:g?n?"Updating...":"Submitting...":n?"Update Profile":"Register as Agent"})]})]})})]})})},R4=[{id:"explorer",name:"Explorer",price:0,icon:Re,features:["1 trip/month","Basic discovery (10 results)","View-only community","Basic weather","5 place searches/day"],restrictions:["No AI trip generation","No community posting","No premium deals"]},{id:"globetrotter",name:"Globetrotter",price:9.99,icon:bs,popular:!0,features:["Unlimited trips","20 AI trips/month","Community posting","Advanced filters","Basic offline mode","Booking support"],restrictions:["No live AI assistant","No business dashboards"]},{id:"wanderpro",name:"WanderPro+",price:19.99,icon:Ba,features:["Unlimited AI trips","Live AI assistant","PDF export","Smart packing list","Full offline mode","Early deals access"],restrictions:[]}],O4=[{id:"travelagent",name:"TravelAgent Pro",price:49.99,icon:Ba,features:["Agent dashboard","Transport dashboard","Add services","Booking requests","Route planner","Customer chat","Analytics"],restrictions:[]}],M4=[{id:"partner",name:"Business + Deals",price:29.99,icon:Ba,features:["Create deals","Premium placement","Business page","AI marketing content","Analytics","Customer inbox"],restrictions:[]}],I4=()=>{const{user:n}=kt(),l=n?.tier||"explorer",i=u=>{console.log("Upgrading to:",u)},o=(u,m,x)=>e.jsxs("div",{className:"mb-16",children:[e.jsx("h2",{className:`text-2xl font-bold text-center mb-8 ${x}`,children:u}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(f=>{const g=f.icon,w=l===f.id;return e.jsxs(le,{className:`relative ${f.popular?"ring-2 ring-blue-500":""}`,children:[f.popular&&e.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:e.jsx(ea,{variant:"primary",children:"Most Popular"})}),e.jsxs(st,{className:"text-center pb-4",children:[e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx(g,{className:`w-8 h-8 ${f.id==="explorer"?"text-gray-500":"text-blue-500"}`})}),e.jsx(nt,{className:"text-xl",children:f.name}),e.jsxs("div",{className:"text-3xl font-bold",children:["$",f.price,e.jsx("span",{className:"text-sm font-normal text-gray-600",children:"/month"})]})]}),e.jsxs(re,{className:"space-y-4",children:[e.jsx("div",{className:"space-y-2",children:f.features.map((j,y)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pa,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:j})]},y))}),f.restrictions.length>0&&e.jsxs("div",{className:"pt-2 border-t",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Restrictions:"}),f.restrictions.map((j,y)=>e.jsxs("p",{className:"text-xs text-gray-400",children:[" ",j]},y))]}),e.jsx("div",{className:"pt-4",children:w?e.jsx(ea,{variant:"outline",className:"w-full justify-center py-2",children:"Current Plan"}):e.jsxs(H,{className:"w-full",variant:f.popular?"default":"outline",onClick:()=>i(f.id),children:["Upgrade to ",f.name]})})]})]},f.id)})})]});return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Choose Your Plan"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Three categories designed for different user types"})]}),o(" For Travelers",R4,"text-blue-600"),o(" For Travel Agents & Transport",O4,"text-orange-600"),o(" For Partner Businesses",M4,"text-green-600"),e.jsx("div",{className:"mt-12 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Need help choosing? ",e.jsx("a",{href:"/contact",className:"text-blue-600 hover:underline",children:"Contact our team"})]})})]})})},z4=()=>{const n=Tt(),[l,i]=v.useState(1),[o,u]=v.useState({organizationName:"",organizationType:"company",email:"",phone:"",website:"",address:"",city:"",country:"",description:"",experience:"",socialMedia:{facebook:"",instagram:"",twitter:""}}),[m,x]=v.useState(!1),[f,g]=v.useState(!1),w=async b=>{b.preventDefault(),x(!0),setTimeout(()=>{x(!1),g(!0),setTimeout(()=>n("/events"),2e3)},1500)},j=()=>i(l+1),y=()=>i(l-1);return f?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 flex items-center justify-center p-6",children:e.jsx(le,{className:"max-w-md w-full text-center",children:e.jsxs(re,{className:"p-8",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(tt,{className:"w-12 h-12 text-green-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Registration Successful!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Your application has been submitted. We'll review it and get back to you within 24-48 hours."}),e.jsx("button",{onClick:()=>n("/events"),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-3 rounded-xl font-semibold hover:shadow-lg transition-all",children:"Back to Events"})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 py-12 px-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Become an Event Organizer"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Join TravelBuddy and reach millions of travelers worldwide"})]}),e.jsx("div",{className:"flex items-center justify-center mb-12",children:e.jsx("div",{className:"flex items-center space-x-4",children:[1,2,3].map(b=>e.jsxs(Iu.Fragment,{children:[e.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-full font-bold ${l>=b?"bg-purple-600 text-white":"bg-gray-200 text-gray-500"}`,children:b}),b<3&&e.jsx("div",{className:`w-16 h-1 ${l>b?"bg-purple-600":"bg-gray-200"}`})]},b))})}),e.jsx(le,{className:"bg-white shadow-xl",children:e.jsx(re,{className:"p-8",children:e.jsxs("form",{onSubmit:w,children:[l===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Basic Information"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Organization Name *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Cv,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",required:!0,value:o.organizationName,onChange:b=>u({...o,organizationName:b.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"Your Organization Name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Organization Type *"}),e.jsxs("select",{required:!0,value:o.organizationType,onChange:b=>u({...o,organizationType:b.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",children:[e.jsx("option",{value:"company",children:"Company"}),e.jsx("option",{value:"nonprofit",children:"Non-Profit"}),e.jsx("option",{value:"individual",children:"Individual"}),e.jsx("option",{value:"government",children:"Government"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ys,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"email",required:!0,value:o.email,onChange:b=>u({...o,email:b.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"contact@example.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone *"}),e.jsxs("div",{className:"relative",children:[e.jsx(vs,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"tel",required:!0,value:o.phone,onChange:b=>u({...o,phone:b.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"+1 (555) 123-4567"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Website"}),e.jsxs("div",{className:"relative",children:[e.jsx(gs,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"url",value:o.website,onChange:b=>u({...o,website:b.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"https://yourwebsite.com"})]})]})]}),l===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Location & Details"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Address *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ue,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",required:!0,value:o.address,onChange:b=>u({...o,address:b.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"Street Address"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"City *"}),e.jsx("input",{type:"text",required:!0,value:o.city,onChange:b=>u({...o,city:b.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"City"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Country *"}),e.jsx("input",{type:"text",required:!0,value:o.country,onChange:b=>u({...o,country:b.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"Country"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Organization Description *"}),e.jsx("textarea",{required:!0,value:o.description,onChange:b=>u({...o,description:b.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none h-32 resize-none",placeholder:"Tell us about your organization and the types of events you organize..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Years of Experience *"}),e.jsxs("select",{required:!0,value:o.experience,onChange:b=>u({...o,experience:b.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select experience"}),e.jsx("option",{value:"0-1",children:"Less than 1 year"}),e.jsx("option",{value:"1-3",children:"1-3 years"}),e.jsx("option",{value:"3-5",children:"3-5 years"}),e.jsx("option",{value:"5+",children:"5+ years"})]})]})]}),l===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Social Media & Documents"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Connect your social media (optional)"}),e.jsx("input",{type:"url",value:o.socialMedia.facebook,onChange:b=>u({...o,socialMedia:{...o.socialMedia,facebook:b.target.value}}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"Facebook URL"}),e.jsx("input",{type:"url",value:o.socialMedia.instagram,onChange:b=>u({...o,socialMedia:{...o.socialMedia,instagram:b.target.value}}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"Instagram URL"}),e.jsx("input",{type:"url",value:o.socialMedia.twitter,onChange:b=>u({...o,socialMedia:{...o.socialMedia,twitter:b.target.value}}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"Twitter URL"})]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-8 text-center",children:[e.jsx(Hu,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Upload Business Documents"}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Business license, tax ID, or registration certificate"}),e.jsx("button",{type:"button",className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all",children:"Choose Files"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Note:"})," Your application will be reviewed within 24-48 hours. You'll receive an email once approved."]})})]}),e.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t",children:[l>1&&e.jsx("button",{type:"button",onClick:y,className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl font-semibold hover:border-gray-400 transition-all",children:"Previous"}),l<3?e.jsxs("button",{type:"button",onClick:j,className:"ml-auto px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all flex items-center space-x-2",children:[e.jsx("span",{children:"Next"}),e.jsx(Ia,{className:"w-5 h-5"})]}):e.jsx("button",{type:"submit",disabled:m,className:"ml-auto px-8 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all disabled:opacity-50",children:m?"Submitting...":"Submit Application"})]})]})})})]})})},L4=()=>{const n=Tt(),{config:l}=zn(),{user:i}=kt(),[o,u]=v.useState({name:"",category:"music",description:"",date:"",endDate:"",time:"",price:"",currency:"USD",capacity:"",isFree:!1}),[m,x]=v.useState({address:"",coordinates:{lat:0,lng:0},city:"",country:""}),[f,g]=v.useState(null),[w,j]=v.useState(""),[y,b]=v.useState(!1),[I,L]=v.useState(!1),R=C=>{const _=C.target.files?.[0];if(_){g(_);const N=new FileReader;N.onloadend=()=>j(N.result),N.readAsDataURL(_)}},D=async C=>{C.preventDefault(),b(!0);try{const _=l?.apiBaseUrl||"http://localhost:3001",N={name:o.name,category:o.category,description:o.description,location:{city:m.city,country:m.country,address:m.address,coordinates:m.coordinates},date:o.date,endDate:o.endDate||o.date,time:o.time,price:o.isFree?0:Number(o.price),currency:o.currency,capacity:o.capacity?Number(o.capacity):void 0,image:w||"https://images.unsplash.com/photo-1492684223066-81342ee5ff30?w=800",isFree:o.isFree},q=localStorage.getItem("travelbuddy_userId")||`user_${Date.now()}`;localStorage.setItem("travelbuddy_userId",q);const M=localStorage.getItem("token"),Q=await fetch(`${_}/api/events`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({...N,userId:q})});if(!Q.ok){const W=await Q.json().catch(()=>({error:"Unknown error"}));throw console.error("Backend error:",W),new Error(W.error||"Failed to create event")}L(!0),setTimeout(()=>n("/events"),2e3)}catch(_){console.error("Error creating event:",_),alert("Failed to create event. Please try again.")}finally{b(!1)}};return I?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 flex items-center justify-center p-6",children:e.jsx(le,{className:"max-w-md w-full text-center",children:e.jsxs(re,{className:"p-8",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(tt,{className:"w-12 h-12 text-green-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Event Created!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Your event has been published successfully and is now visible to travelers worldwide."}),e.jsx("button",{onClick:()=>n("/events"),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-3 rounded-xl font-semibold hover:shadow-lg transition-all",children:"View All Events"})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 py-12 px-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Create New Event"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Share your event with millions of travelers"})]}),e.jsx(le,{className:"bg-white shadow-xl",children:e.jsx(re,{className:"p-8",children:e.jsxs("form",{onSubmit:D,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Event Image *"}),e.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-purple-600 transition-all",children:w?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:w,alt:"Preview",className:"max-h-64 mx-auto rounded-lg mb-4"}),e.jsx("button",{type:"button",onClick:()=>{g(null),j("")},className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-all",children:"Remove Image"})]}):e.jsxs(e.Fragment,{children:[e.jsx(up,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Upload Event Banner"}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"JPG, PNG or WebP (Max 5MB)"}),e.jsx("input",{type:"file",accept:"image/*",onChange:R,className:"hidden",id:"image-upload"}),e.jsx("label",{htmlFor:"image-upload",className:"inline-block px-6 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-all cursor-pointer",children:"Choose Image"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Event Name *"}),e.jsx("input",{type:"text",required:!0,value:o.name,onChange:C=>u({...o,name:C.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"Summer Music Festival 2024"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Category *"}),e.jsxs("select",{required:!0,value:o.category,onChange:C=>u({...o,category:C.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",children:[e.jsx("option",{value:"music",children:" Music"}),e.jsx("option",{value:"cultural",children:" Cultural"}),e.jsx("option",{value:"sports",children:" Sports"}),e.jsx("option",{value:"nightlife",children:" Nightlife"}),e.jsx("option",{value:"tech",children:" Tech"}),e.jsx("option",{value:"food",children:" Food & Drink"}),e.jsx("option",{value:"festivals",children:" Festivals"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description *"}),e.jsx("textarea",{required:!0,value:o.description,onChange:C=>u({...o,description:C.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none h-32 resize-none",placeholder:"Describe your event, what attendees can expect, highlights, etc."})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Start Date *"}),e.jsxs("div",{className:"relative",children:[e.jsx(At,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"date",required:!0,value:o.date,onChange:C=>u({...o,date:C.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"End Date"}),e.jsx("input",{type:"date",value:o.endDate,onChange:C=>u({...o,endDate:C.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Time *"}),e.jsxs("div",{className:"relative",children:[e.jsx(it,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"time",required:!0,value:o.time,onChange:C=>u({...o,time:C.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-4",children:"Event Location *"}),e.jsx($n,{value:m,onChange:x,required:!0})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("input",{type:"checkbox",id:"isFree",checked:o.isFree,onChange:C=>u({...o,isFree:C.target.checked,price:C.target.checked?"0":o.price}),className:"w-5 h-5 text-purple-600 rounded"}),e.jsx("label",{htmlFor:"isFree",className:"text-sm font-semibold text-gray-700",children:"This is a free event"})]}),!o.isFree&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Price *"}),e.jsxs("div",{className:"relative",children:[e.jsx(js,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"number",required:!o.isFree,value:o.price,onChange:C=>u({...o,price:C.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"150"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Currency *"}),e.jsxs("select",{required:!o.isFree,value:o.currency,onChange:C=>u({...o,currency:C.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",children:[e.jsx("option",{value:"USD",children:"USD ($)"}),e.jsx("option",{value:"EUR",children:"EUR ()"}),e.jsx("option",{value:"GBP",children:"GBP ()"}),e.jsx("option",{value:"JPY",children:"JPY ()"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Expected Attendees"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ct,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"number",value:o.capacity,onChange:C=>u({...o,capacity:C.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"5000"})]})]}),e.jsxs("div",{className:"flex space-x-4 pt-6 border-t",children:[e.jsx("button",{type:"button",onClick:()=>n("/events"),className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl font-semibold hover:border-gray-400 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:y,className:"flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all disabled:opacity-50",children:y?"Creating...":"Create Event"})]})]})})})]})})},U4=()=>{console.log(" Firebase Authentication Status Check:"),console.log("====================================="),console.log(" Firebase Auth Instance:",!!Ws),console.log(" Current User:",Ws?.currentUser?.email||"Not signed in"),console.log(`
 Environment Configuration:`),console.log(" API Key:","Set"),console.log(" Auth Domain:","travelbuddy-2d1c5.firebaseapp.com"),console.log(" Project ID:","travelbuddy-2d1c5"),console.log(`
 Google Sign-In Provider:`);try{const n=new ks;console.log(" Google Provider:",!!n),console.log(" Provider ID:",n.providerId)}catch(n){console.log(" Google Provider Error:",n)}return console.log(`
 Network Status:`),console.log(" Online:",navigator.onLine),{auth:!!Ws,currentUser:Ws?.currentUser,hasConfig:!0,online:navigator.onLine}},B4=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-md p-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Privacy Policy"}),e.jsx("p",{className:"text-sm text-gray-600 mb-8",children:"Last Updated: January 2025"}),e.jsxs("div",{className:"space-y-6 text-gray-700",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"1. Introduction"}),e.jsx("p",{children:'Welcome to TravelBuddy ("we," "our," or "us"). We respect your privacy and are committed to protecting your personal data. This privacy policy explains how we collect, use, and safeguard your information when you use our mobile application and website at travelbuddylk.com.'})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"2. Information We Collect"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"2.1 Personal Information"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Account Information:"})," Name, email address, password (encrypted)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Profile Information:"})," Profile picture, bio, travel preferences"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Contact Information:"})," Phone number (optional)"]})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"2.2 Location Data"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsx("li",{children:"GPS location for nearby places and recommendations"}),e.jsx("li",{children:"Location history for personalized travel suggestions"}),e.jsx("li",{children:"You can disable location access in device settings"})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"2.3 User Content"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsx("li",{children:"Photos and videos you upload to community posts"}),e.jsx("li",{children:"Reviews, ratings, and comments"}),e.jsx("li",{children:"Saved places and trip plans"}),e.jsx("li",{children:"Messages and interactions with other users"})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"2.4 Device Information"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsx("li",{children:"Device type, operating system, app version"}),e.jsx("li",{children:"IP address, browser type"}),e.jsx("li",{children:"Usage data and analytics"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"3. How We Use Your Information"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Provide Services:"})," Enable core features like trip planning, community posts, and place discovery"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Personalization:"})," Recommend destinations, deals, and content based on your preferences"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Communication:"})," Send notifications, updates, and respond to inquiries"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Safety:"})," Provide emergency services and location-based safety features"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Improvement:"})," Analyze usage to improve app performance and features"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Legal Compliance:"})," Comply with legal obligations and enforce our terms"]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"4. Data Sharing"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"We DO NOT sell your personal data."}),e.jsx("p",{className:"mb-2",children:"We may share data with:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Service Providers:"})," Firebase (authentication), Google Maps (location services), Azure (hosting)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Other Users:"})," Public profile info, posts, and reviews you choose to share"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Legal Requirements:"})," When required by law or to protect rights and safety"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Business Transfers:"})," In case of merger, acquisition, or asset sale"]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"5. Data Security"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsx("li",{children:"All data transmitted is encrypted using SSL/TLS"}),e.jsx("li",{children:"Passwords are hashed and never stored in plain text"}),e.jsx("li",{children:"Secure Azure cloud infrastructure with regular backups"}),e.jsx("li",{children:"Regular security audits and updates"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"6. Your Rights"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Access:"})," Request a copy of your personal data"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Correction:"})," Update or correct inaccurate information"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Deletion:"})," Request deletion of your account and data"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Opt-Out:"})," Disable location services, notifications, or marketing emails"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Data Portability:"})," Export your data in a machine-readable format"]})]}),e.jsxs("p",{className:"mt-3",children:["To exercise these rights, contact us at ",e.jsx("a",{href:"mailto:privacy@travelbuddylk.com",className:"text-blue-600 hover:underline",children:"privacy@travelbuddylk.com"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"7. Data Retention"}),e.jsx("p",{children:"We retain your data as long as your account is active or as needed to provide services. After account deletion, we may retain certain data for legal compliance (typically 30-90 days), then permanently delete it from our systems."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"8. Children's Privacy"}),e.jsx("p",{children:"TravelBuddy is not intended for users under 13 years old. We do not knowingly collect data from children. If you believe a child has provided us with personal information, please contact us immediately."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"9. Third-Party Services"}),e.jsx("p",{className:"mb-2",children:"We use the following third-party services:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Firebase Authentication:"})," Secure user authentication"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Google Maps API:"})," Location services and place information"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Microsoft Azure:"})," Cloud hosting and database"]})]}),e.jsx("p",{className:"mt-3",children:"These services have their own privacy policies. We recommend reviewing them."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"10. International Data Transfers"}),e.jsx("p",{children:"Your data may be transferred to and processed in countries outside Sri Lanka, including the United States (Azure servers). We ensure appropriate safeguards are in place to protect your data."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"11. Changes to This Policy"}),e.jsx("p",{children:"We may update this privacy policy from time to time. We will notify you of significant changes via email or in-app notification. Continued use of TravelBuddy after changes constitutes acceptance."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"12. Contact Us"}),e.jsx("p",{children:"For privacy-related questions or concerns:"}),e.jsxs("ul",{className:"list-none space-y-2 mt-3",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Email:"})," ",e.jsx("a",{href:"mailto:privacy@travelbuddylk.com",className:"text-blue-600 hover:underline",children:"privacy@travelbuddylk.com"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Website:"})," ",e.jsx("a",{href:"https://travelbuddylk.com/contact",className:"text-blue-600 hover:underline",children:"travelbuddylk.com/contact"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Address:"})," TravelBuddy, Colombo, Sri Lanka"]})]})]})]}),e.jsx("div",{className:"mt-12 pt-6 border-t border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-600 text-center",children:["By using TravelBuddy, you agree to this Privacy Policy and our"," ",e.jsx("a",{href:"/terms-of-service",className:"text-blue-600 hover:underline",children:"Terms of Service"}),"."]})})]})}),P4=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-md p-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Terms of Service"}),e.jsx("p",{className:"text-sm text-gray-600 mb-8",children:"Last Updated: January 2025"}),e.jsxs("div",{className:"space-y-6 text-gray-700",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"1. Acceptance of Terms"}),e.jsx("p",{children:'By accessing or using TravelBuddy (the "Service"), you agree to be bound by these Terms of Service ("Terms"). If you do not agree to these Terms, please do not use the Service. These Terms apply to all users, including travelers, merchants, travel agents, and transport providers.'})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"2. Description of Service"}),e.jsx("p",{children:"TravelBuddy is an AI-powered travel planning platform that provides:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 mt-2",children:[e.jsx("li",{children:"Trip planning and itinerary creation"}),e.jsx("li",{children:"Place discovery and recommendations"}),e.jsx("li",{children:"Community features for sharing travel experiences"}),e.jsx("li",{children:"Deals and offers from merchants and travel agents"}),e.jsx("li",{children:"Transportation booking and coordination"}),e.jsx("li",{children:"Emergency services and safety features"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"3. User Accounts"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"3.1 Registration"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsx("li",{children:"You must be at least 13 years old to create an account"}),e.jsx("li",{children:"You must provide accurate and complete information"}),e.jsx("li",{children:"You are responsible for maintaining account security"}),e.jsx("li",{children:"One person may not maintain multiple accounts"})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"3.2 Account Types"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Traveler:"})," Standard user account for trip planning"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Merchant:"})," Business account for offering deals"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Travel Agent:"})," Professional account for travel services"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Transport Provider:"})," Account for transportation services"]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"4. User Conduct"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"You agree NOT to:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsx("li",{children:"Post false, misleading, or fraudulent content"}),e.jsx("li",{children:"Harass, abuse, or harm other users"}),e.jsx("li",{children:"Upload malicious code or viruses"}),e.jsx("li",{children:"Violate intellectual property rights"}),e.jsx("li",{children:"Scrape or collect user data without permission"}),e.jsx("li",{children:"Impersonate others or misrepresent affiliations"}),e.jsx("li",{children:"Post spam, advertisements, or promotional content (except authorized merchants)"}),e.jsx("li",{children:"Use the Service for illegal activities"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"5. Content"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"5.1 Your Content"}),e.jsx("p",{children:"You retain ownership of content you post (photos, reviews, posts). By posting, you grant TravelBuddy a worldwide, non-exclusive, royalty-free license to use, display, and distribute your content within the Service."}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"5.2 Content Standards"}),e.jsx("p",{children:"All content must:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 mt-2",children:[e.jsx("li",{children:"Be accurate and not misleading"}),e.jsx("li",{children:"Not contain hate speech, violence, or explicit material"}),e.jsx("li",{children:"Not infringe on others' rights"}),e.jsx("li",{children:"Comply with local laws and regulations"})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"5.3 Content Removal"}),e.jsx("p",{children:"We reserve the right to remove content that violates these Terms without notice. Repeated violations may result in account suspension or termination."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"6. Merchant & Service Provider Terms"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"6.1 Deals & Offers"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsx("li",{children:"Merchants are responsible for honoring posted deals and offers"}),e.jsx("li",{children:"All pricing must be accurate and clearly stated"}),e.jsx("li",{children:"Deals must comply with consumer protection laws"})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"6.2 Service Quality"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsx("li",{children:"Travel agents and transport providers must maintain professional standards"}),e.jsx("li",{children:"Services must be delivered as described"}),e.jsx("li",{children:"Proper licensing and insurance required where applicable"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"7. Payments & Subscriptions"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsx("li",{children:"Some features may require paid subscriptions"}),e.jsx("li",{children:"Subscription fees are non-refundable unless required by law"}),e.jsx("li",{children:"We may change pricing with 30 days notice"}),e.jsx("li",{children:"You can cancel subscriptions at any time"}),e.jsx("li",{children:"Transactions between users and merchants are independent of TravelBuddy"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"8. Intellectual Property"}),e.jsx("p",{children:"TravelBuddy and its original content, features, and functionality are owned by TravelBuddy and protected by international copyright, trademark, and other intellectual property laws. You may not copy, modify, or distribute our content without permission."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"9. Third-Party Services"}),e.jsx("p",{children:"TravelBuddy integrates with third-party services (Google Maps, Firebase, payment processors). We are not responsible for third-party services or their content. Your use of third-party services is subject to their terms and policies."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"10. Disclaimers"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:'10.1 Service "As Is"'}),e.jsx("p",{children:'TravelBuddy is provided "as is" without warranties of any kind. We do not guarantee uninterrupted, secure, or error-free service.'}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"10.2 Travel Risks"}),e.jsx("p",{children:"Travel involves inherent risks. We are not responsible for:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 mt-2",children:[e.jsx("li",{children:"Accuracy of place information or reviews"}),e.jsx("li",{children:"Quality of services provided by merchants or agents"}),e.jsx("li",{children:"Travel delays, cancellations, or disruptions"}),e.jsx("li",{children:"Personal injury, property damage, or loss during travel"}),e.jsx("li",{children:"Political instability, natural disasters, or health emergencies"})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"10.3 User Content"}),e.jsx("p",{children:"We do not verify user-generated content. Reviews, ratings, and recommendations reflect individual opinions and may not be accurate."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"11. Limitation of Liability"}),e.jsx("p",{children:"To the maximum extent permitted by law, TravelBuddy shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including loss of profits, data, or goodwill, arising from your use of the Service."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"12. Indemnification"}),e.jsx("p",{children:"You agree to indemnify and hold TravelBuddy harmless from any claims, damages, or expenses arising from your use of the Service, violation of these Terms, or infringement of any rights of another."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"13. Termination"}),e.jsx("p",{children:"We may suspend or terminate your account at any time for:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 mt-2",children:[e.jsx("li",{children:"Violation of these Terms"}),e.jsx("li",{children:"Fraudulent or illegal activity"}),e.jsx("li",{children:"Prolonged inactivity"}),e.jsx("li",{children:"Request from law enforcement"})]}),e.jsx("p",{className:"mt-3",children:"You may delete your account at any time through app settings. Upon termination, your right to use the Service ceases immediately."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"14. Dispute Resolution"}),e.jsx("p",{children:"Any disputes arising from these Terms shall be resolved through:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 mt-2",children:[e.jsx("li",{children:"Good faith negotiation between parties"}),e.jsx("li",{children:"Mediation if negotiation fails"}),e.jsx("li",{children:"Arbitration or courts of Sri Lanka as final resort"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"15. Changes to Terms"}),e.jsx("p",{children:"We reserve the right to modify these Terms at any time. We will notify users of material changes via email or in-app notification. Continued use after changes constitutes acceptance of new Terms."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"16. Governing Law"}),e.jsx("p",{children:"These Terms are governed by the laws of Sri Lanka, without regard to conflict of law principles."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"17. Contact Information"}),e.jsx("p",{children:"For questions about these Terms:"}),e.jsxs("ul",{className:"list-none space-y-2 mt-3",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Email:"})," ",e.jsx("a",{href:"mailto:legal@travelbuddylk.com",className:"text-blue-600 hover:underline",children:"legal@travelbuddylk.com"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Website:"})," ",e.jsx("a",{href:"https://travelbuddylk.com/contact",className:"text-blue-600 hover:underline",children:"travelbuddylk.com/contact"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Address:"})," TravelBuddy, Colombo, Sri Lanka"]})]})]})]}),e.jsx("div",{className:"mt-12 pt-6 border-t border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-600 text-center",children:["By using TravelBuddy, you agree to these Terms of Service and our"," ",e.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:underline",children:"Privacy Policy"}),"."]})})]})}),H4=()=>e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center px-4",children:e.jsxs("div",{className:"max-w-2xl text-center",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-9xl font-black text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600",children:"404"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mt-4 mb-2",children:"Oops! Page Not Found"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Looks like you've wandered off the map. Let's get you back on track!"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[e.jsx(pe,{to:"/",children:e.jsxs(H,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 text-lg",children:[e.jsx(Lu,{className:"w-5 h-5 mr-2"}),"Go Home"]})}),e.jsx(pe,{to:"/discovery",children:e.jsxs(H,{className:"bg-white text-gray-900 border-2 border-gray-300 px-8 py-4 text-lg hover:bg-gray-50",children:[e.jsx(Ht,{className:"w-5 h-5 mr-2"}),"Explore Destinations"]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Popular Pages"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(pe,{to:"/discovery",className:"text-blue-600 hover:text-blue-700 flex items-center gap-2",children:[e.jsx(ue,{className:"w-4 h-4"}),"Discovery"]}),e.jsx(pe,{to:"/deals",className:"text-blue-600 hover:text-blue-700",children:"Deals"}),e.jsx(pe,{to:"/community",className:"text-blue-600 hover:text-blue-700",children:"Community"}),e.jsx(pe,{to:"/about",className:"text-blue-600 hover:text-blue-700",children:"About Us"})]})]})]})}),q4=()=>{const{config:n,loading:l,error:i}=zn();return Iu.useEffect(()=>{!l&&n&&U4()},[l,n]),l?e.jsx(C4,{}):i?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load configuration"}),e.jsx("p",{className:"text-gray-600",children:i}),e.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Retry"})]})}):e.jsx(B2,{children:e.jsx(P2,{children:e.jsx(Jy,{children:e.jsxs(Zy,{children:[e.jsx(bt,{path:"/login",element:e.jsx(N4,{})}),e.jsx(bt,{path:"/register",element:e.jsx(w4,{})}),e.jsx(bt,{path:"/privacy-policy",element:e.jsx(B4,{})}),e.jsx(bt,{path:"/terms-of-service",element:e.jsx(P4,{})}),e.jsx(bt,{path:"/role-selection",element:e.jsx(T4,{})}),e.jsx(bt,{path:"/travel-agent-registration",element:e.jsx(op,{})}),e.jsx(bt,{path:"/travel-agent-registration/:id",element:e.jsx(op,{})}),e.jsx(bt,{path:"/travel-agents",element:e.jsx(A0,{})}),e.jsx(bt,{path:"/event-organizer-registration",element:e.jsx(z4,{})}),e.jsx(bt,{path:"/events/create",element:e.jsx(L4,{})}),e.jsx(bt,{path:"/transport-registration",element:e.jsx(k4,{})}),e.jsx(bt,{path:"/transportation",element:e.jsx(E0,{})}),e.jsx(bt,{path:"/subscription",element:e.jsx(I4,{})}),e.jsx(bt,{path:"/trips/:id",element:e.jsx(k0,{})}),e.jsx(bt,{path:"/places/:id",element:e.jsx(T0,{})}),e.jsx(bt,{path:"/community/story/:id",element:e.jsx(S4,{})}),e.jsx(bt,{path:"/*",element:e.jsx(v4,{})}),e.jsx(bt,{path:"*",element:e.jsx(H4,{})})]})})})})};function V4(){return e.jsx(Mv,{children:e.jsx(q4,{})})}Rv.createRoot(document.getElementById("root")).render(e.jsx(v.StrictMode,{children:e.jsx(V4,{})}));export{H as B,kn as d,e as j};
