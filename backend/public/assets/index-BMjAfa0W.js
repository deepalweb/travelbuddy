const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LazyDestinationGrid-DyIVw8e-.js","assets/vendor-CF71wElY.js","assets/icons-CS_rIpuQ.js","assets/LazyDealsSection-DOtUfFSa.js"])))=>i.map(i=>d[i]);
import{a as Gy,b as Fy,r as j,u as _o,L as fe,c as At,d as Ru,R as Ou,N as Wf,B as Yy,e as Qy,f as Nt}from"./vendor-CF71wElY.js";import{C as Mu,H as zu,G as gs,M as de,T as fs,U as St,a as kt,b as yl,B as eg,c as ys,d as Uu,e as mr,f as dt,g as Ga,S as Ky,L as rp,X as ht,h as Jy,F as mu,i as hu,I as xu,Y as Xy,P as Fa,j as vs,A as La,k as wt,l as tt,m as _e,n as lt,o as Zy,p as qa,Z as bs,q as On,r as Ha,s as Ze,t as wn,u as fu,v as pr,w as oo,x as tg,y as sg,z as yo,W as ag,D as gu,E as pu,J as sa,K as jl,N as cs,O as Wy,Q as ev,R as bu,V as Ya,_ as vl,$ as tv,a0 as sv,a1 as Mn,a2 as aa,a3 as br,a4 as vo,a5 as jo,a6 as av,a7 as js,a8 as np,a9 as Lu,aa as lv,ab as rv,ac as nv,ad as iv,ae as ov,af as Do,ag as zn,ah as yr,ai as cv,aj as Iu,ak as dv,al as co,am as lg,an as rg,ao as yu,ap as uv,aq as mv,ar as hv,as as No,at as ng,au as xv,av as fv,aw as gv,ax as ig,ay as ip,az as Bu,aA as pv,aB as bv,aC as yv,aD as og,aE as op,aF as vv,aG as jv,aH as Nv}from"./icons-CS_rIpuQ.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const m of u)if(m.type==="childList")for(const x of m.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&o(x)}).observe(document,{childList:!0,subtree:!0});function i(u){const m={};return u.integrity&&(m.integrity=u.integrity),u.referrerPolicy&&(m.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?m.credentials="include":u.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function o(u){if(u.ep)return;u.ep=!0;const m=i(u);fetch(u.href,m)}})();var Jd={exports:{}},vn={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cg;function wv(){if(cg)return vn;cg=1;var n=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function i(o,u,m){var x=null;if(m!==void 0&&(x=""+m),u.key!==void 0&&(x=""+u.key),"key"in u){m={};for(var f in u)f!=="key"&&(m[f]=u[f])}else m=u;return u=m.ref,{$$typeof:n,type:o,key:x,ref:u!==void 0?u:null,props:m}}return vn.Fragment=l,vn.jsx=i,vn.jsxs=i,vn}var dg;function Sv(){return dg||(dg=1,Jd.exports=wv()),Jd.exports}var e=Sv();if(typeof window<"u"&&window.trustedTypes){try{window.trustedTypes.createPolicy("default",{createScriptURL:l=>l,createHTML:l=>l,createScript:l=>l})}catch{}["firebase-js-sdk#jsl","firebase-js-sdk#load_esm","gapi#gapi","goog#html"].forEach(l=>{try{window.trustedTypes.createPolicy(l,{createScriptURL:i=>i,createHTML:i=>i,createScript:i=>i})}catch{}})}var Xd={exports:{}},jn={},Zd={exports:{}},Wd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ug;function Cv(){return ug||(ug=1,(function(n){function l(S,H){var z=S.length;S.push(H);e:for(;0<z;){var R=z-1>>>1,se=S[R];if(0<u(se,H))S[R]=H,S[z]=se,z=R;else break e}}function i(S){return S.length===0?null:S[0]}function o(S){if(S.length===0)return null;var H=S[0],z=S.pop();if(z!==H){S[0]=z;e:for(var R=0,se=S.length,De=se>>>1;R<De;){var Se=2*(R+1)-1,me=S[Se],be=Se+1,$e=S[be];if(0>u(me,z))be<se&&0>u($e,me)?(S[R]=$e,S[be]=z,R=be):(S[R]=me,S[Se]=z,R=Se);else if(be<se&&0>u($e,z))S[R]=$e,S[be]=z,R=be;else break e}}return H}function u(S,H){var z=S.sortIndex-H.sortIndex;return z!==0?z:S.id-H.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;n.unstable_now=function(){return m.now()}}else{var x=Date,f=x.now();n.unstable_now=function(){return x.now()-f}}var g=[],w=[],v=1,y=null,b=3,U=!1,A=!1,N=!1,M=!1,E=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function K(S){for(var H=i(w);H!==null;){if(H.callback===null)o(w);else if(H.startTime<=S)o(w),H.sortIndex=H.expirationTime,l(g,H);else break;H=i(w)}}function q(S){if(N=!1,K(S),!A)if(i(g)!==null)A=!0,ee||(ee=!0,k());else{var H=i(w);H!==null&&G(q,H.startTime-S)}}var ee=!1,Y=-1,T=5,ae=-1;function pe(){return M?!0:!(n.unstable_now()-ae<T)}function ze(){if(M=!1,ee){var S=n.unstable_now();ae=S;var H=!0;try{e:{A=!1,N&&(N=!1,$(Y),Y=-1),U=!0;var z=b;try{t:{for(K(S),y=i(g);y!==null&&!(y.expirationTime>S&&pe());){var R=y.callback;if(typeof R=="function"){y.callback=null,b=y.priorityLevel;var se=R(y.expirationTime<=S);if(S=n.unstable_now(),typeof se=="function"){y.callback=se,K(S),H=!0;break t}y===i(g)&&o(g),K(S)}else o(g);y=i(g)}if(y!==null)H=!0;else{var De=i(w);De!==null&&G(q,De.startTime-S),H=!1}}break e}finally{y=null,b=z,U=!1}H=void 0}}finally{H?k():ee=!1}}}var k;if(typeof D=="function")k=function(){D(ze)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,te=J.port2;J.port1.onmessage=ze,k=function(){te.postMessage(null)}}else k=function(){E(ze,0)};function G(S,H){Y=E(function(){S(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(S){S.callback=null},n.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<S?Math.floor(1e3/S):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(S){switch(b){case 1:case 2:case 3:var H=3;break;default:H=b}var z=b;b=H;try{return S()}finally{b=z}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(S,H){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var z=b;b=S;try{return H()}finally{b=z}},n.unstable_scheduleCallback=function(S,H,z){var R=n.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?R+z:R):z=R,S){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=z+se,S={id:v++,callback:H,priorityLevel:S,startTime:z,expirationTime:se,sortIndex:-1},z>R?(S.sortIndex=z,l(w,S),i(g)===null&&S===i(w)&&(N?($(Y),Y=-1):N=!0,G(q,z-R))):(S.sortIndex=se,l(g,S),A||U||(A=!0,ee||(ee=!0,k()))),S},n.unstable_shouldYield=pe,n.unstable_wrapCallback=function(S){var H=b;return function(){var z=b;b=H;try{return S.apply(this,arguments)}finally{b=z}}}})(Wd)),Wd}var mg;function Tv(){return mg||(mg=1,Zd.exports=Cv()),Zd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg;function kv(){if(hg)return jn;hg=1;var n=Tv(),l=Gy(),i=Fy();function o(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function m(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function x(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function f(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function g(t){if(m(t)!==t)throw Error(o(188))}function w(t){var s=t.alternate;if(!s){if(s=m(t),s===null)throw Error(o(188));return s!==t?null:t}for(var a=t,r=s;;){var c=a.return;if(c===null)break;var d=c.alternate;if(d===null){if(r=c.return,r!==null){a=r;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===a)return g(c),t;if(d===r)return g(c),s;d=d.sibling}throw Error(o(188))}if(a.return!==r.return)a=c,r=d;else{for(var h=!1,p=c.child;p;){if(p===a){h=!0,a=c,r=d;break}if(p===r){h=!0,r=c,a=d;break}p=p.sibling}if(!h){for(p=d.child;p;){if(p===a){h=!0,a=d,r=c;break}if(p===r){h=!0,r=d,a=c;break}p=p.sibling}if(!h)throw Error(o(189))}}if(a.alternate!==r)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?t:s}function v(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=v(t),s!==null)return s;t=t.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),D=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),ae=Symbol.for("react.activity"),pe=Symbol.for("react.memo_cache_sentinel"),ze=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=ze&&t[ze]||t["@@iterator"],typeof t=="function"?t:null)}var J=Symbol.for("react.client.reference");function te(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===J?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case E:return"Profiler";case M:return"StrictMode";case q:return"Suspense";case ee:return"SuspenseList";case ae:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case A:return"Portal";case D:return t.displayName||"Context";case $:return(t._context.displayName||"Context")+".Consumer";case K:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return s=t.displayName||null,s!==null?s:te(t.type)||"Memo";case T:s=t._payload,t=t._init;try{return te(t(s))}catch{}}return null}var G=Array.isArray,S=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},R=[],se=-1;function De(t){return{current:t}}function Se(t){0>se||(t.current=R[se],R[se]=null,se--)}function me(t,s){se++,R[se]=t.current,t.current=s}var be=De(null),$e=De(null),Ge=De(null),Ne=De(null);function Tt(t,s){switch(me(Ge,s),me($e,t),me(be,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Nf(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Nf(s),t=wf(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Se(be),me(be,t)}function gt(){Se(be),Se($e),Se(Ge)}function Et(t){t.memoizedState!==null&&me(Ne,t);var s=be.current,a=wf(s,t.type);s!==a&&(me($e,t),me(be,a))}function rt(t){$e.current===t&&(Se(be),Se($e)),Ne.current===t&&(Se(Ne),gn._currentValue=z)}var Ot,ia;function Jt(t){if(Ot===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Ot=s&&s[1]||"",ia=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ot+t+ia}var F=!1;function je(t,s){if(!t||F)return"";F=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(s){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(V){var P=V}Reflect.construct(t,[],W)}else{try{W.call()}catch(V){P=V}t.call(W.prototype)}}else{try{throw Error()}catch(V){P=V}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(V){if(V&&P&&typeof V.stack=="string")return[V.stack,P.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=r.DetermineComponentFrameRoot(),h=d[0],p=d[1];if(h&&p){var C=h.split(`
`),I=p.split(`
`);for(c=r=0;r<C.length&&!C[r].includes("DetermineComponentFrameRoot");)r++;for(;c<I.length&&!I[c].includes("DetermineComponentFrameRoot");)c++;if(r===C.length||c===I.length)for(r=C.length-1,c=I.length-1;1<=r&&0<=c&&C[r]!==I[c];)c--;for(;1<=r&&0<=c;r--,c--)if(C[r]!==I[c]){if(r!==1||c!==1)do if(r--,c--,0>c||C[r]!==I[c]){var Q=`
`+C[r].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=r&&0<=c);break}}}finally{F=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Jt(a):""}function Z(t,s){switch(t.tag){case 26:case 27:case 5:return Jt(t.type);case 16:return Jt("Lazy");case 13:return t.child!==s&&s!==null?Jt("Suspense Fallback"):Jt("Suspense");case 19:return Jt("SuspenseList");case 0:case 15:return je(t.type,!1);case 11:return je(t.type.render,!1);case 1:return je(t.type,!0);case 31:return Jt("Activity");default:return""}}function le(t){try{var s="",a=null;do s+=Z(t,a),a=t,t=t.return;while(t);return s}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Re=Object.prototype.hasOwnProperty,Xt=n.unstable_scheduleCallback,oa=n.unstable_cancelCallback,Xa=n.unstable_shouldYield,Uo=n.unstable_requestPaint,_t=n.unstable_now,Lo=n.unstable_getCurrentPriorityLevel,$n=n.unstable_ImmediatePriority,Gn=n.unstable_UserBlockingPriority,Tr=n.unstable_NormalPriority,T0=n.unstable_LowPriority,tm=n.unstable_IdlePriority,k0=n.log,A0=n.unstable_setDisableYieldValue,kr=null,qt=null;function ca(t){if(typeof k0=="function"&&A0(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(kr,t)}catch{}}var Ht=Math.clz32?Math.clz32:D0,E0=Math.log,_0=Math.LN2;function D0(t){return t>>>=0,t===0?32:31-(E0(t)/_0|0)|0}var Fn=256,Yn=262144,Qn=4194304;function Za(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Kn(t,s,a){var r=t.pendingLanes;if(r===0)return 0;var c=0,d=t.suspendedLanes,h=t.pingedLanes;t=t.warmLanes;var p=r&134217727;return p!==0?(r=p&~d,r!==0?c=Za(r):(h&=p,h!==0?c=Za(h):a||(a=p&~t,a!==0&&(c=Za(a))))):(p=r&~d,p!==0?c=Za(p):h!==0?c=Za(h):a||(a=r&~t,a!==0&&(c=Za(a)))),c===0?0:s!==0&&s!==c&&(s&d)===0&&(d=c&-c,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:c}function Ar(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function R0(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sm(){var t=Qn;return Qn<<=1,(Qn&62914560)===0&&(Qn=4194304),t}function Io(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Er(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function O0(t,s,a,r,c,d){var h=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var p=t.entanglements,C=t.expirationTimes,I=t.hiddenUpdates;for(a=h&~a;0<a;){var Q=31-Ht(a),W=1<<Q;p[Q]=0,C[Q]=-1;var P=I[Q];if(P!==null)for(I[Q]=null,Q=0;Q<P.length;Q++){var V=P[Q];V!==null&&(V.lane&=-536870913)}a&=~W}r!==0&&am(t,r,0),d!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=d&~(h&~s))}function am(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var r=31-Ht(s);t.entangledLanes|=s,t.entanglements[r]=t.entanglements[r]|1073741824|a&261930}function lm(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var r=31-Ht(a),c=1<<r;c&s|t[r]&s&&(t[r]|=s),a&=~c}}function rm(t,s){var a=s&-s;return a=(a&42)!==0?1:Bo(a),(a&(t.suspendedLanes|s))!==0?0:a}function Bo(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Po(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function nm(){var t=H.p;return t!==0?t:(t=window.event,t===void 0?32:Ff(t.type))}function im(t,s){var a=H.p;try{return H.p=t,s()}finally{H.p=a}}var da=Math.random().toString(36).slice(2),pt="__reactFiber$"+da,Mt="__reactProps$"+da,Sl="__reactContainer$"+da,qo="__reactEvents$"+da,M0="__reactListeners$"+da,z0="__reactHandles$"+da,om="__reactResources$"+da,_r="__reactMarker$"+da;function Ho(t){delete t[pt],delete t[Mt],delete t[qo],delete t[M0],delete t[z0]}function Cl(t){var s=t[pt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[Sl]||a[pt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=_f(t);t!==null;){if(a=t[pt])return a;t=_f(t)}return s}t=a,a=t.parentNode}return null}function Tl(t){if(t=t[pt]||t[Sl]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function Dr(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(o(33))}function kl(t){var s=t[om];return s||(s=t[om]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function xt(t){t[_r]=!0}var cm=new Set,dm={};function Wa(t,s){Al(t,s),Al(t+"Capture",s)}function Al(t,s){for(dm[t]=s,t=0;t<s.length;t++)cm.add(s[t])}var U0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),um={},mm={};function L0(t){return Re.call(mm,t)?!0:Re.call(um,t)?!1:U0.test(t)?mm[t]=!0:(um[t]=!0,!1)}function Jn(t,s,a){if(L0(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var r=s.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function Xn(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Ds(t,s,a,r){if(r===null)t.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+r)}}function Zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hm(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function I0(t,s,a){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,d=r.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return c.call(this)},set:function(h){a=""+h,d.call(this,h)}}),Object.defineProperty(t,s,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(h){a=""+h},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Vo(t){if(!t._valueTracker){var s=hm(t)?"checked":"value";t._valueTracker=I0(t,s,""+t[s])}}function xm(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),r="";return t&&(r=hm(t)?t.checked?"true":"false":t.value),t=r,t!==a?(s.setValue(t),!0):!1}function Zn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var B0=/[\n"\\]/g;function Wt(t){return t.replace(B0,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function $o(t,s,a,r,c,d,h,p){t.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?t.type=h:t.removeAttribute("type"),s!=null?h==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Zt(s)):t.value!==""+Zt(s)&&(t.value=""+Zt(s)):h!=="submit"&&h!=="reset"||t.removeAttribute("value"),s!=null?Go(t,h,Zt(s)):a!=null?Go(t,h,Zt(a)):r!=null&&t.removeAttribute("value"),c==null&&d!=null&&(t.defaultChecked=!!d),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.name=""+Zt(p):t.removeAttribute("name")}function fm(t,s,a,r,c,d,h,p){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){Vo(t);return}a=a!=null?""+Zt(a):"",s=s!=null?""+Zt(s):a,p||s===t.value||(t.value=s),t.defaultValue=s}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=p?t.checked:!!r,t.defaultChecked=!!r,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.name=h),Vo(t)}function Go(t,s,a){s==="number"&&Zn(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function El(t,s,a,r){if(t=t.options,s){s={};for(var c=0;c<a.length;c++)s["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=s.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&r&&(t[a].defaultSelected=!0)}else{for(a=""+Zt(a),s=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,r&&(t[c].defaultSelected=!0);return}s!==null||t[c].disabled||(s=t[c])}s!==null&&(s.selected=!0)}}function gm(t,s,a){if(s!=null&&(s=""+Zt(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Zt(a):""}function pm(t,s,a,r){if(s==null){if(r!=null){if(a!=null)throw Error(o(92));if(G(r)){if(1<r.length)throw Error(o(93));r=r[0]}a=r}a==null&&(a=""),s=a}a=Zt(s),t.defaultValue=a,r=t.textContent,r===a&&r!==""&&r!==null&&(t.value=r),Vo(t)}function _l(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var P0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bm(t,s,a){var r=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":r?t.setProperty(s,a):typeof a!="number"||a===0||P0.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function ym(t,s,a){if(s!=null&&typeof s!="object")throw Error(o(62));if(t=t.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||s!=null&&s.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var c in s)r=s[c],s.hasOwnProperty(c)&&a[c]!==r&&bm(t,c,r)}else for(var d in s)s.hasOwnProperty(d)&&bm(t,d,s[d])}function Fo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var q0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),H0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wn(t){return H0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Rs(){}var Yo=null;function Qo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dl=null,Rl=null;function vm(t){var s=Tl(t);if(s&&(t=s.stateNode)){var a=t[Mt]||null;e:switch(t=s.stateNode,s.type){case"input":if($o(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Wt(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var r=a[s];if(r!==t&&r.form===t.form){var c=r[Mt]||null;if(!c)throw Error(o(90));$o(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(s=0;s<a.length;s++)r=a[s],r.form===t.form&&xm(r)}break e;case"textarea":gm(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&El(t,!!a.multiple,s,!1)}}}var Ko=!1;function jm(t,s,a){if(Ko)return t(s,a);Ko=!0;try{var r=t(s);return r}finally{if(Ko=!1,(Dl!==null||Rl!==null)&&(Pi(),Dl&&(s=Dl,t=Rl,Rl=Dl=null,vm(s),t)))for(s=0;s<t.length;s++)vm(t[s])}}function Rr(t,s){var a=t.stateNode;if(a===null)return null;var r=a[Mt]||null;if(r===null)return null;a=r[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(o(231,s,typeof a));return a}var Os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jo=!1;if(Os)try{var Or={};Object.defineProperty(Or,"passive",{get:function(){Jo=!0}}),window.addEventListener("test",Or,Or),window.removeEventListener("test",Or,Or)}catch{Jo=!1}var ua=null,Xo=null,ei=null;function Nm(){if(ei)return ei;var t,s=Xo,a=s.length,r,c="value"in ua?ua.value:ua.textContent,d=c.length;for(t=0;t<a&&s[t]===c[t];t++);var h=a-t;for(r=1;r<=h&&s[a-r]===c[d-r];r++);return ei=c.slice(t,1<r?1-r:void 0)}function ti(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function si(){return!0}function wm(){return!1}function zt(t){function s(a,r,c,d,h){this._reactName=a,this._targetInst=c,this.type=r,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var p in t)t.hasOwnProperty(p)&&(a=t[p],this[p]=a?a(d):d[p]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?si:wm,this.isPropagationStopped=wm,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),s}var el={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ai=zt(el),Mr=y({},el,{view:0,detail:0}),V0=zt(Mr),Zo,Wo,zr,li=y({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zr&&(zr&&t.type==="mousemove"?(Zo=t.screenX-zr.screenX,Wo=t.screenY-zr.screenY):Wo=Zo=0,zr=t),Zo)},movementY:function(t){return"movementY"in t?t.movementY:Wo}}),Sm=zt(li),$0=y({},li,{dataTransfer:0}),G0=zt($0),F0=y({},Mr,{relatedTarget:0}),ec=zt(F0),Y0=y({},el,{animationName:0,elapsedTime:0,pseudoElement:0}),Q0=zt(Y0),K0=y({},el,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),J0=zt(K0),X0=y({},el,{data:0}),Cm=zt(X0),Z0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tb(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=eb[t])?!!s[t]:!1}function tc(){return tb}var sb=y({},Mr,{key:function(t){if(t.key){var s=Z0[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=ti(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?W0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tc,charCode:function(t){return t.type==="keypress"?ti(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ti(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ab=zt(sb),lb=y({},li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tm=zt(lb),rb=y({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tc}),nb=zt(rb),ib=y({},el,{propertyName:0,elapsedTime:0,pseudoElement:0}),ob=zt(ib),cb=y({},li,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),db=zt(cb),ub=y({},el,{newState:0,oldState:0}),mb=zt(ub),hb=[9,13,27,32],sc=Os&&"CompositionEvent"in window,Ur=null;Os&&"documentMode"in document&&(Ur=document.documentMode);var xb=Os&&"TextEvent"in window&&!Ur,km=Os&&(!sc||Ur&&8<Ur&&11>=Ur),Am=" ",Em=!1;function _m(t,s){switch(t){case"keyup":return hb.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ol=!1;function fb(t,s){switch(t){case"compositionend":return Dm(s);case"keypress":return s.which!==32?null:(Em=!0,Am);case"textInput":return t=s.data,t===Am&&Em?null:t;default:return null}}function gb(t,s){if(Ol)return t==="compositionend"||!sc&&_m(t,s)?(t=Nm(),ei=Xo=ua=null,Ol=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return km&&s.locale!=="ko"?null:s.data;default:return null}}var pb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rm(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!pb[t.type]:s==="textarea"}function Om(t,s,a,r){Dl?Rl?Rl.push(r):Rl=[r]:Dl=r,s=Yi(s,"onChange"),0<s.length&&(a=new ai("onChange","change",null,a,r),t.push({event:a,listeners:s}))}var Lr=null,Ir=null;function bb(t){gf(t,0)}function ri(t){var s=Dr(t);if(xm(s))return t}function Mm(t,s){if(t==="change")return s}var zm=!1;if(Os){var ac;if(Os){var lc="oninput"in document;if(!lc){var Um=document.createElement("div");Um.setAttribute("oninput","return;"),lc=typeof Um.oninput=="function"}ac=lc}else ac=!1;zm=ac&&(!document.documentMode||9<document.documentMode)}function Lm(){Lr&&(Lr.detachEvent("onpropertychange",Im),Ir=Lr=null)}function Im(t){if(t.propertyName==="value"&&ri(Ir)){var s=[];Om(s,Ir,t,Qo(t)),jm(bb,s)}}function yb(t,s,a){t==="focusin"?(Lm(),Lr=s,Ir=a,Lr.attachEvent("onpropertychange",Im)):t==="focusout"&&Lm()}function vb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ri(Ir)}function jb(t,s){if(t==="click")return ri(s)}function Nb(t,s){if(t==="input"||t==="change")return ri(s)}function wb(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Vt=typeof Object.is=="function"?Object.is:wb;function Br(t,s){if(Vt(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),r=Object.keys(s);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var c=a[r];if(!Re.call(s,c)||!Vt(t[c],s[c]))return!1}return!0}function Bm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pm(t,s){var a=Bm(t);t=0;for(var r;a;){if(a.nodeType===3){if(r=t+a.textContent.length,t<=s&&r>=s)return{node:a,offset:s-t};t=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Bm(a)}}function qm(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?qm(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Hm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Zn(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=Zn(t.document)}return s}function rc(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var Sb=Os&&"documentMode"in document&&11>=document.documentMode,Ml=null,nc=null,Pr=null,ic=!1;function Vm(t,s,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ic||Ml==null||Ml!==Zn(r)||(r=Ml,"selectionStart"in r&&rc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pr&&Br(Pr,r)||(Pr=r,r=Yi(nc,"onSelect"),0<r.length&&(s=new ai("onSelect","select",null,s,a),t.push({event:s,listeners:r}),s.target=Ml)))}function tl(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var zl={animationend:tl("Animation","AnimationEnd"),animationiteration:tl("Animation","AnimationIteration"),animationstart:tl("Animation","AnimationStart"),transitionrun:tl("Transition","TransitionRun"),transitionstart:tl("Transition","TransitionStart"),transitioncancel:tl("Transition","TransitionCancel"),transitionend:tl("Transition","TransitionEnd")},oc={},$m={};Os&&($m=document.createElement("div").style,"AnimationEvent"in window||(delete zl.animationend.animation,delete zl.animationiteration.animation,delete zl.animationstart.animation),"TransitionEvent"in window||delete zl.transitionend.transition);function sl(t){if(oc[t])return oc[t];if(!zl[t])return t;var s=zl[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in $m)return oc[t]=s[a];return t}var Gm=sl("animationend"),Fm=sl("animationiteration"),Ym=sl("animationstart"),Cb=sl("transitionrun"),Tb=sl("transitionstart"),kb=sl("transitioncancel"),Qm=sl("transitionend"),Km=new Map,cc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cc.push("scrollEnd");function ms(t,s){Km.set(t,s),Wa(s,[t])}var ni=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},es=[],Ul=0,dc=0;function ii(){for(var t=Ul,s=dc=Ul=0;s<t;){var a=es[s];es[s++]=null;var r=es[s];es[s++]=null;var c=es[s];es[s++]=null;var d=es[s];if(es[s++]=null,r!==null&&c!==null){var h=r.pending;h===null?c.next=c:(c.next=h.next,h.next=c),r.pending=c}d!==0&&Jm(a,c,d)}}function oi(t,s,a,r){es[Ul++]=t,es[Ul++]=s,es[Ul++]=a,es[Ul++]=r,dc|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function uc(t,s,a,r){return oi(t,s,a,r),ci(t)}function al(t,s){return oi(t,null,null,s),ci(t)}function Jm(t,s,a){t.lanes|=a;var r=t.alternate;r!==null&&(r.lanes|=a);for(var c=!1,d=t.return;d!==null;)d.childLanes|=a,r=d.alternate,r!==null&&(r.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(c=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,c&&s!==null&&(c=31-Ht(a),t=d.hiddenUpdates,r=t[c],r===null?t[c]=[s]:r.push(s),s.lane=a|536870912),d):null}function ci(t){if(50<cn)throw cn=0,vd=null,Error(o(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Ll={};function Ab(t,s,a,r){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(t,s,a,r){return new Ab(t,s,a,r)}function mc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ms(t,s){var a=t.alternate;return a===null?(a=$t(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Xm(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function di(t,s,a,r,c,d){var h=0;if(r=t,typeof t=="function")mc(t)&&(h=1);else if(typeof t=="string")h=Oy(t,a,be.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ae:return t=$t(31,a,s,c),t.elementType=ae,t.lanes=d,t;case N:return ll(a.children,c,d,s);case M:h=8,c|=24;break;case E:return t=$t(12,a,s,c|2),t.elementType=E,t.lanes=d,t;case q:return t=$t(13,a,s,c),t.elementType=q,t.lanes=d,t;case ee:return t=$t(19,a,s,c),t.elementType=ee,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case D:h=10;break e;case $:h=9;break e;case K:h=11;break e;case Y:h=14;break e;case T:h=16,r=null;break e}h=29,a=Error(o(130,t===null?"null":typeof t,"")),r=null}return s=$t(h,a,s,c),s.elementType=t,s.type=r,s.lanes=d,s}function ll(t,s,a,r){return t=$t(7,t,r,s),t.lanes=a,t}function hc(t,s,a){return t=$t(6,t,null,s),t.lanes=a,t}function Zm(t){var s=$t(18,null,null,0);return s.stateNode=t,s}function xc(t,s,a){return s=$t(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Wm=new WeakMap;function ts(t,s){if(typeof t=="object"&&t!==null){var a=Wm.get(t);return a!==void 0?a:(s={value:t,source:s,stack:le(s)},Wm.set(t,s),s)}return{value:t,source:s,stack:le(s)}}var Il=[],Bl=0,ui=null,qr=0,ss=[],as=0,ma=null,Ns=1,ws="";function zs(t,s){Il[Bl++]=qr,Il[Bl++]=ui,ui=t,qr=s}function eh(t,s,a){ss[as++]=Ns,ss[as++]=ws,ss[as++]=ma,ma=t;var r=Ns;t=ws;var c=32-Ht(r)-1;r&=~(1<<c),a+=1;var d=32-Ht(s)+c;if(30<d){var h=c-c%5;d=(r&(1<<h)-1).toString(32),r>>=h,c-=h,Ns=1<<32-Ht(s)+c|a<<c|r,ws=d+t}else Ns=1<<d|a<<c|r,ws=t}function fc(t){t.return!==null&&(zs(t,1),eh(t,1,0))}function gc(t){for(;t===ui;)ui=Il[--Bl],Il[Bl]=null,qr=Il[--Bl],Il[Bl]=null;for(;t===ma;)ma=ss[--as],ss[as]=null,ws=ss[--as],ss[as]=null,Ns=ss[--as],ss[as]=null}function th(t,s){ss[as++]=Ns,ss[as++]=ws,ss[as++]=ma,Ns=s.id,ws=s.overflow,ma=t}var bt=null,Fe=null,Ee=!1,ha=null,ls=!1,pc=Error(o(519));function xa(t){var s=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hr(ts(s,t)),pc}function sh(t){var s=t.stateNode,a=t.type,r=t.memoizedProps;switch(s[pt]=t,s[Mt]=r,a){case"dialog":Te("cancel",s),Te("close",s);break;case"iframe":case"object":case"embed":Te("load",s);break;case"video":case"audio":for(a=0;a<un.length;a++)Te(un[a],s);break;case"source":Te("error",s);break;case"img":case"image":case"link":Te("error",s),Te("load",s);break;case"details":Te("toggle",s);break;case"input":Te("invalid",s),fm(s,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Te("invalid",s);break;case"textarea":Te("invalid",s),pm(s,r.value,r.defaultValue,r.children)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||r.suppressHydrationWarning===!0||vf(s.textContent,a)?(r.popover!=null&&(Te("beforetoggle",s),Te("toggle",s)),r.onScroll!=null&&Te("scroll",s),r.onScrollEnd!=null&&Te("scrollend",s),r.onClick!=null&&(s.onclick=Rs),s=!0):s=!1,s||xa(t,!0)}function ah(t){for(bt=t.return;bt;)switch(bt.tag){case 5:case 31:case 13:ls=!1;return;case 27:case 3:ls=!0;return;default:bt=bt.return}}function Pl(t){if(t!==bt)return!1;if(!Ee)return ah(t),Ee=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||zd(t.type,t.memoizedProps)),a=!a),a&&Fe&&xa(t),ah(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Fe=Ef(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Fe=Ef(t)}else s===27?(s=Fe,Aa(t.type)?(t=Pd,Pd=null,Fe=t):Fe=s):Fe=bt?ns(t.stateNode.nextSibling):null;return!0}function rl(){Fe=bt=null,Ee=!1}function bc(){var t=ha;return t!==null&&(Bt===null?Bt=t:Bt.push.apply(Bt,t),ha=null),t}function Hr(t){ha===null?ha=[t]:ha.push(t)}var yc=De(null),nl=null,Us=null;function fa(t,s,a){me(yc,s._currentValue),s._currentValue=a}function Ls(t){t._currentValue=yc.current,Se(yc)}function vc(t,s,a){for(;t!==null;){var r=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,r!==null&&(r.childLanes|=s)):r!==null&&(r.childLanes&s)!==s&&(r.childLanes|=s),t===a)break;t=t.return}}function jc(t,s,a,r){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var d=c.dependencies;if(d!==null){var h=c.child;d=d.firstContext;e:for(;d!==null;){var p=d;d=c;for(var C=0;C<s.length;C++)if(p.context===s[C]){d.lanes|=a,p=d.alternate,p!==null&&(p.lanes|=a),vc(d.return,a,t),r||(h=null);break e}d=p.next}}else if(c.tag===18){if(h=c.return,h===null)throw Error(o(341));h.lanes|=a,d=h.alternate,d!==null&&(d.lanes|=a),vc(h,a,t),h=null}else h=c.child;if(h!==null)h.return=c;else for(h=c;h!==null;){if(h===t){h=null;break}if(c=h.sibling,c!==null){c.return=h.return,h=c;break}h=h.return}c=h}}function ql(t,s,a,r){t=null;for(var c=s,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var h=c.alternate;if(h===null)throw Error(o(387));if(h=h.memoizedProps,h!==null){var p=c.type;Vt(c.pendingProps.value,h.value)||(t!==null?t.push(p):t=[p])}}else if(c===Ne.current){if(h=c.alternate,h===null)throw Error(o(387));h.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(gn):t=[gn])}c=c.return}t!==null&&jc(s,t,a,r),s.flags|=262144}function mi(t){for(t=t.firstContext;t!==null;){if(!Vt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function il(t){nl=t,Us=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function yt(t){return lh(nl,t)}function hi(t,s){return nl===null&&il(t),lh(t,s)}function lh(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Us===null){if(t===null)throw Error(o(308));Us=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Us=Us.next=s;return a}var Eb=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,r){t.push(r)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},_b=n.unstable_scheduleCallback,Db=n.unstable_NormalPriority,nt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nc(){return{controller:new Eb,data:new Map,refCount:0}}function Vr(t){t.refCount--,t.refCount===0&&_b(Db,function(){t.controller.abort()})}var $r=null,wc=0,Hl=0,Vl=null;function Rb(t,s){if($r===null){var a=$r=[];wc=0,Hl=Td(),Vl={status:"pending",value:void 0,then:function(r){a.push(r)}}}return wc++,s.then(rh,rh),s}function rh(){if(--wc===0&&$r!==null){Vl!==null&&(Vl.status="fulfilled");var t=$r;$r=null,Hl=0,Vl=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function Ob(t,s){var a=[],r={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){r.status="fulfilled",r.value=s;for(var c=0;c<a.length;c++)(0,a[c])(s)},function(c){for(r.status="rejected",r.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),r}var nh=S.S;S.S=function(t,s){Vx=_t(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Rb(t,s),nh!==null&&nh(t,s)};var ol=De(null);function Sc(){var t=ol.current;return t!==null?t:He.pooledCache}function xi(t,s){s===null?me(ol,ol.current):me(ol,s.pool)}function ih(){var t=Sc();return t===null?null:{parent:nt._currentValue,pool:t}}var $l=Error(o(460)),Cc=Error(o(474)),fi=Error(o(542)),gi={then:function(){}};function oh(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ch(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(Rs,Rs),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,uh(t),t;default:if(typeof s.status=="string")s.then(Rs,Rs);else{if(t=He,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=s,t.status="pending",t.then(function(r){if(s.status==="pending"){var c=s;c.status="fulfilled",c.value=r}},function(r){if(s.status==="pending"){var c=s;c.status="rejected",c.reason=r}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,uh(t),t}throw dl=s,$l}}function cl(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(dl=a,$l):a}}var dl=null;function dh(){if(dl===null)throw Error(o(459));var t=dl;return dl=null,t}function uh(t){if(t===$l||t===fi)throw Error(o(483))}var Gl=null,Gr=0;function pi(t){var s=Gr;return Gr+=1,Gl===null&&(Gl=[]),ch(Gl,t,s)}function Fr(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function bi(t,s){throw s.$$typeof===b?Error(o(525)):(t=Object.prototype.toString.call(s),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function mh(t){function s(O,_){if(t){var L=O.deletions;L===null?(O.deletions=[_],O.flags|=16):L.push(_)}}function a(O,_){if(!t)return null;for(;_!==null;)s(O,_),_=_.sibling;return null}function r(O){for(var _=new Map;O!==null;)O.key!==null?_.set(O.key,O):_.set(O.index,O),O=O.sibling;return _}function c(O,_){return O=Ms(O,_),O.index=0,O.sibling=null,O}function d(O,_,L){return O.index=L,t?(L=O.alternate,L!==null?(L=L.index,L<_?(O.flags|=67108866,_):L):(O.flags|=67108866,_)):(O.flags|=1048576,_)}function h(O){return t&&O.alternate===null&&(O.flags|=67108866),O}function p(O,_,L,X){return _===null||_.tag!==6?(_=hc(L,O.mode,X),_.return=O,_):(_=c(_,L),_.return=O,_)}function C(O,_,L,X){var he=L.type;return he===N?Q(O,_,L.props.children,X,L.key):_!==null&&(_.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===T&&cl(he)===_.type)?(_=c(_,L.props),Fr(_,L),_.return=O,_):(_=di(L.type,L.key,L.props,null,O.mode,X),Fr(_,L),_.return=O,_)}function I(O,_,L,X){return _===null||_.tag!==4||_.stateNode.containerInfo!==L.containerInfo||_.stateNode.implementation!==L.implementation?(_=xc(L,O.mode,X),_.return=O,_):(_=c(_,L.children||[]),_.return=O,_)}function Q(O,_,L,X,he){return _===null||_.tag!==7?(_=ll(L,O.mode,X,he),_.return=O,_):(_=c(_,L),_.return=O,_)}function W(O,_,L){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=hc(""+_,O.mode,L),_.return=O,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case U:return L=di(_.type,_.key,_.props,null,O.mode,L),Fr(L,_),L.return=O,L;case A:return _=xc(_,O.mode,L),_.return=O,_;case T:return _=cl(_),W(O,_,L)}if(G(_)||k(_))return _=ll(_,O.mode,L,null),_.return=O,_;if(typeof _.then=="function")return W(O,pi(_),L);if(_.$$typeof===D)return W(O,hi(O,_),L);bi(O,_)}return null}function P(O,_,L,X){var he=_!==null?_.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return he!==null?null:p(O,_,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case U:return L.key===he?C(O,_,L,X):null;case A:return L.key===he?I(O,_,L,X):null;case T:return L=cl(L),P(O,_,L,X)}if(G(L)||k(L))return he!==null?null:Q(O,_,L,X,null);if(typeof L.then=="function")return P(O,_,pi(L),X);if(L.$$typeof===D)return P(O,_,hi(O,L),X);bi(O,L)}return null}function V(O,_,L,X,he){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return O=O.get(L)||null,p(_,O,""+X,he);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case U:return O=O.get(X.key===null?L:X.key)||null,C(_,O,X,he);case A:return O=O.get(X.key===null?L:X.key)||null,I(_,O,X,he);case T:return X=cl(X),V(O,_,L,X,he)}if(G(X)||k(X))return O=O.get(L)||null,Q(_,O,X,he,null);if(typeof X.then=="function")return V(O,_,L,pi(X),he);if(X.$$typeof===D)return V(O,_,L,hi(_,X),he);bi(_,X)}return null}function ie(O,_,L,X){for(var he=null,Oe=null,ue=_,ve=_=0,Ae=null;ue!==null&&ve<L.length;ve++){ue.index>ve?(Ae=ue,ue=null):Ae=ue.sibling;var Me=P(O,ue,L[ve],X);if(Me===null){ue===null&&(ue=Ae);break}t&&ue&&Me.alternate===null&&s(O,ue),_=d(Me,_,ve),Oe===null?he=Me:Oe.sibling=Me,Oe=Me,ue=Ae}if(ve===L.length)return a(O,ue),Ee&&zs(O,ve),he;if(ue===null){for(;ve<L.length;ve++)ue=W(O,L[ve],X),ue!==null&&(_=d(ue,_,ve),Oe===null?he=ue:Oe.sibling=ue,Oe=ue);return Ee&&zs(O,ve),he}for(ue=r(ue);ve<L.length;ve++)Ae=V(ue,O,ve,L[ve],X),Ae!==null&&(t&&Ae.alternate!==null&&ue.delete(Ae.key===null?ve:Ae.key),_=d(Ae,_,ve),Oe===null?he=Ae:Oe.sibling=Ae,Oe=Ae);return t&&ue.forEach(function(Oa){return s(O,Oa)}),Ee&&zs(O,ve),he}function xe(O,_,L,X){if(L==null)throw Error(o(151));for(var he=null,Oe=null,ue=_,ve=_=0,Ae=null,Me=L.next();ue!==null&&!Me.done;ve++,Me=L.next()){ue.index>ve?(Ae=ue,ue=null):Ae=ue.sibling;var Oa=P(O,ue,Me.value,X);if(Oa===null){ue===null&&(ue=Ae);break}t&&ue&&Oa.alternate===null&&s(O,ue),_=d(Oa,_,ve),Oe===null?he=Oa:Oe.sibling=Oa,Oe=Oa,ue=Ae}if(Me.done)return a(O,ue),Ee&&zs(O,ve),he;if(ue===null){for(;!Me.done;ve++,Me=L.next())Me=W(O,Me.value,X),Me!==null&&(_=d(Me,_,ve),Oe===null?he=Me:Oe.sibling=Me,Oe=Me);return Ee&&zs(O,ve),he}for(ue=r(ue);!Me.done;ve++,Me=L.next())Me=V(ue,O,ve,Me.value,X),Me!==null&&(t&&Me.alternate!==null&&ue.delete(Me.key===null?ve:Me.key),_=d(Me,_,ve),Oe===null?he=Me:Oe.sibling=Me,Oe=Me);return t&&ue.forEach(function($y){return s(O,$y)}),Ee&&zs(O,ve),he}function qe(O,_,L,X){if(typeof L=="object"&&L!==null&&L.type===N&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case U:e:{for(var he=L.key;_!==null;){if(_.key===he){if(he=L.type,he===N){if(_.tag===7){a(O,_.sibling),X=c(_,L.props.children),X.return=O,O=X;break e}}else if(_.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===T&&cl(he)===_.type){a(O,_.sibling),X=c(_,L.props),Fr(X,L),X.return=O,O=X;break e}a(O,_);break}else s(O,_);_=_.sibling}L.type===N?(X=ll(L.props.children,O.mode,X,L.key),X.return=O,O=X):(X=di(L.type,L.key,L.props,null,O.mode,X),Fr(X,L),X.return=O,O=X)}return h(O);case A:e:{for(he=L.key;_!==null;){if(_.key===he)if(_.tag===4&&_.stateNode.containerInfo===L.containerInfo&&_.stateNode.implementation===L.implementation){a(O,_.sibling),X=c(_,L.children||[]),X.return=O,O=X;break e}else{a(O,_);break}else s(O,_);_=_.sibling}X=xc(L,O.mode,X),X.return=O,O=X}return h(O);case T:return L=cl(L),qe(O,_,L,X)}if(G(L))return ie(O,_,L,X);if(k(L)){if(he=k(L),typeof he!="function")throw Error(o(150));return L=he.call(L),xe(O,_,L,X)}if(typeof L.then=="function")return qe(O,_,pi(L),X);if(L.$$typeof===D)return qe(O,_,hi(O,L),X);bi(O,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,_!==null&&_.tag===6?(a(O,_.sibling),X=c(_,L),X.return=O,O=X):(a(O,_),X=hc(L,O.mode,X),X.return=O,O=X),h(O)):a(O,_)}return function(O,_,L,X){try{Gr=0;var he=qe(O,_,L,X);return Gl=null,he}catch(ue){if(ue===$l||ue===fi)throw ue;var Oe=$t(29,ue,null,O.mode);return Oe.lanes=X,Oe.return=O,Oe}finally{}}}var ul=mh(!0),hh=mh(!1),ga=!1;function Tc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kc(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function pa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ba(t,s,a){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Ue&2)!==0){var c=r.pending;return c===null?s.next=s:(s.next=c.next,c.next=s),r.pending=s,s=ci(t),Jm(t,null,a),s}return oi(t,r,s,a),ci(t)}function Yr(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var r=s.lanes;r&=t.pendingLanes,a|=r,s.lanes=a,lm(t,a)}}function Ac(t,s){var a=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var c=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var h={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?c=d=h:d=d.next=h,a=a.next}while(a!==null);d===null?c=d=s:d=d.next=s}else c=d=s;a={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:r.shared,callbacks:r.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var Ec=!1;function Qr(){if(Ec){var t=Vl;if(t!==null)throw t}}function Kr(t,s,a,r){Ec=!1;var c=t.updateQueue;ga=!1;var d=c.firstBaseUpdate,h=c.lastBaseUpdate,p=c.shared.pending;if(p!==null){c.shared.pending=null;var C=p,I=C.next;C.next=null,h===null?d=I:h.next=I,h=C;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,p=Q.lastBaseUpdate,p!==h&&(p===null?Q.firstBaseUpdate=I:p.next=I,Q.lastBaseUpdate=C))}if(d!==null){var W=c.baseState;h=0,Q=I=C=null,p=d;do{var P=p.lane&-536870913,V=P!==p.lane;if(V?(ke&P)===P:(r&P)===P){P!==0&&P===Hl&&(Ec=!0),Q!==null&&(Q=Q.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var ie=t,xe=p;P=s;var qe=a;switch(xe.tag){case 1:if(ie=xe.payload,typeof ie=="function"){W=ie.call(qe,W,P);break e}W=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=xe.payload,P=typeof ie=="function"?ie.call(qe,W,P):ie,P==null)break e;W=y({},W,P);break e;case 2:ga=!0}}P=p.callback,P!==null&&(t.flags|=64,V&&(t.flags|=8192),V=c.callbacks,V===null?c.callbacks=[P]:V.push(P))}else V={lane:P,tag:p.tag,payload:p.payload,callback:p.callback,next:null},Q===null?(I=Q=V,C=W):Q=Q.next=V,h|=P;if(p=p.next,p===null){if(p=c.shared.pending,p===null)break;V=p,p=V.next,V.next=null,c.lastBaseUpdate=V,c.shared.pending=null}}while(!0);Q===null&&(C=W),c.baseState=C,c.firstBaseUpdate=I,c.lastBaseUpdate=Q,d===null&&(c.shared.lanes=0),wa|=h,t.lanes=h,t.memoizedState=W}}function xh(t,s){if(typeof t!="function")throw Error(o(191,t));t.call(s)}function fh(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)xh(a[t],s)}var Fl=De(null),yi=De(0);function gh(t,s){t=Fs,me(yi,t),me(Fl,s),Fs=t|s.baseLanes}function _c(){me(yi,Fs),me(Fl,Fl.current)}function Dc(){Fs=yi.current,Se(Fl),Se(yi)}var Gt=De(null),rs=null;function ya(t){var s=t.alternate;me(We,We.current&1),me(Gt,t),rs===null&&(s===null||Fl.current!==null||s.memoizedState!==null)&&(rs=t)}function Rc(t){me(We,We.current),me(Gt,t),rs===null&&(rs=t)}function ph(t){t.tag===22?(me(We,We.current),me(Gt,t),rs===null&&(rs=t)):va()}function va(){me(We,We.current),me(Gt,Gt.current)}function Ft(t){Se(Gt),rs===t&&(rs=null),Se(We)}var We=De(0);function vi(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Id(a)||Bd(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Is=0,ye=null,Be=null,it=null,ji=!1,Yl=!1,ml=!1,Ni=0,Jr=0,Ql=null,Mb=0;function Je(){throw Error(o(321))}function Oc(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!Vt(t[a],s[a]))return!1;return!0}function Mc(t,s,a,r,c,d){return Is=d,ye=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,S.H=t===null||t.memoizedState===null?ex:Kc,ml=!1,d=a(r,c),ml=!1,Yl&&(d=yh(s,a,r,c)),bh(t),d}function bh(t){S.H=Wr;var s=Be!==null&&Be.next!==null;if(Is=0,it=Be=ye=null,ji=!1,Jr=0,Ql=null,s)throw Error(o(300));t===null||ot||(t=t.dependencies,t!==null&&mi(t)&&(ot=!0))}function yh(t,s,a,r){ye=t;var c=0;do{if(Yl&&(Ql=null),Jr=0,Yl=!1,25<=c)throw Error(o(301));if(c+=1,it=Be=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}S.H=tx,d=s(a,r)}while(Yl);return d}function zb(){var t=S.H,s=t.useState()[0];return s=typeof s.then=="function"?Xr(s):s,t=t.useState()[0],(Be!==null?Be.memoizedState:null)!==t&&(ye.flags|=1024),s}function zc(){var t=Ni!==0;return Ni=0,t}function Uc(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function Lc(t){if(ji){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}ji=!1}Is=0,it=Be=ye=null,Yl=!1,Jr=Ni=0,Ql=null}function Dt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?ye.memoizedState=it=t:it=it.next=t,it}function et(){if(Be===null){var t=ye.alternate;t=t!==null?t.memoizedState:null}else t=Be.next;var s=it===null?ye.memoizedState:it.next;if(s!==null)it=s,Be=t;else{if(t===null)throw ye.alternate===null?Error(o(467)):Error(o(310));Be=t,t={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},it===null?ye.memoizedState=it=t:it=it.next=t}return it}function wi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xr(t){var s=Jr;return Jr+=1,Ql===null&&(Ql=[]),t=ch(Ql,t,s),s=ye,(it===null?s.memoizedState:it.next)===null&&(s=s.alternate,S.H=s===null||s.memoizedState===null?ex:Kc),t}function Si(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Xr(t);if(t.$$typeof===D)return yt(t)}throw Error(o(438,String(t)))}function Ic(t){var s=null,a=ye.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var r=ye.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(s={data:r.data.map(function(c){return c.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=wi(),ye.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),r=0;r<t;r++)a[r]=pe;return s.index++,a}function Bs(t,s){return typeof s=="function"?s(t):s}function Ci(t){var s=et();return Bc(s,Be,t)}function Bc(t,s,a){var r=t.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=a;var c=t.baseQueue,d=r.pending;if(d!==null){if(c!==null){var h=c.next;c.next=d.next,d.next=h}s.baseQueue=c=d,r.pending=null}if(d=t.baseState,c===null)t.memoizedState=d;else{s=c.next;var p=h=null,C=null,I=s,Q=!1;do{var W=I.lane&-536870913;if(W!==I.lane?(ke&W)===W:(Is&W)===W){var P=I.revertLane;if(P===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),W===Hl&&(Q=!0);else if((Is&P)===P){I=I.next,P===Hl&&(Q=!0);continue}else W={lane:0,revertLane:I.revertLane,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},C===null?(p=C=W,h=d):C=C.next=W,ye.lanes|=P,wa|=P;W=I.action,ml&&a(d,W),d=I.hasEagerState?I.eagerState:a(d,W)}else P={lane:W,revertLane:I.revertLane,gesture:I.gesture,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},C===null?(p=C=P,h=d):C=C.next=P,ye.lanes|=W,wa|=W;I=I.next}while(I!==null&&I!==s);if(C===null?h=d:C.next=p,!Vt(d,t.memoizedState)&&(ot=!0,Q&&(a=Vl,a!==null)))throw a;t.memoizedState=d,t.baseState=h,t.baseQueue=C,r.lastRenderedState=d}return c===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Pc(t){var s=et(),a=s.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=t;var r=a.dispatch,c=a.pending,d=s.memoizedState;if(c!==null){a.pending=null;var h=c=c.next;do d=t(d,h.action),h=h.next;while(h!==c);Vt(d,s.memoizedState)||(ot=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,r]}function vh(t,s,a){var r=ye,c=et(),d=Ee;if(d){if(a===void 0)throw Error(o(407));a=a()}else a=s();var h=!Vt((Be||c).memoizedState,a);if(h&&(c.memoizedState=a,ot=!0),c=c.queue,Vc(wh.bind(null,r,c,t),[t]),c.getSnapshot!==s||h||it!==null&&it.memoizedState.tag&1){if(r.flags|=2048,Kl(9,{destroy:void 0},Nh.bind(null,r,c,a,s),null),He===null)throw Error(o(349));d||(Is&127)!==0||jh(r,s,a)}return a}function jh(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=ye.updateQueue,s===null?(s=wi(),ye.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Nh(t,s,a,r){s.value=a,s.getSnapshot=r,Sh(s)&&Ch(t)}function wh(t,s,a){return a(function(){Sh(s)&&Ch(t)})}function Sh(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!Vt(t,a)}catch{return!0}}function Ch(t){var s=al(t,2);s!==null&&Pt(s,t,2)}function qc(t){var s=Dt();if(typeof t=="function"){var a=t;if(t=a(),ml){ca(!0);try{a()}finally{ca(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:t},s}function Th(t,s,a,r){return t.baseState=a,Bc(t,Be,typeof r=="function"?r:Bs)}function Ub(t,s,a,r,c){if(Ai(t))throw Error(o(485));if(t=s.action,t!==null){var d={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){d.listeners.push(h)}};S.T!==null?a(!0):d.isTransition=!1,r(d),a=s.pending,a===null?(d.next=s.pending=d,kh(s,d)):(d.next=a.next,s.pending=a.next=d)}}function kh(t,s){var a=s.action,r=s.payload,c=t.state;if(s.isTransition){var d=S.T,h={};S.T=h;try{var p=a(c,r),C=S.S;C!==null&&C(h,p),Ah(t,s,p)}catch(I){Hc(t,s,I)}finally{d!==null&&h.types!==null&&(d.types=h.types),S.T=d}}else try{d=a(c,r),Ah(t,s,d)}catch(I){Hc(t,s,I)}}function Ah(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){Eh(t,s,r)},function(r){return Hc(t,s,r)}):Eh(t,s,a)}function Eh(t,s,a){s.status="fulfilled",s.value=a,_h(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,kh(t,a)))}function Hc(t,s,a){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do s.status="rejected",s.reason=a,_h(s),s=s.next;while(s!==r)}t.action=null}function _h(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Dh(t,s){return s}function Rh(t,s){if(Ee){var a=He.formState;if(a!==null){e:{var r=ye;if(Ee){if(Fe){t:{for(var c=Fe,d=ls;c.nodeType!==8;){if(!d){c=null;break t}if(c=ns(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){Fe=ns(c.nextSibling),r=c.data==="F!";break e}}xa(r)}r=!1}r&&(s=a[0])}}return a=Dt(),a.memoizedState=a.baseState=s,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dh,lastRenderedState:s},a.queue=r,a=Xh.bind(null,ye,r),r.dispatch=a,r=qc(!1),d=Qc.bind(null,ye,!1,r.queue),r=Dt(),c={state:s,dispatch:null,action:t,pending:null},r.queue=c,a=Ub.bind(null,ye,c,d,a),c.dispatch=a,r.memoizedState=t,[s,a,!1]}function Oh(t){var s=et();return Mh(s,Be,t)}function Mh(t,s,a){if(s=Bc(t,s,Dh)[0],t=Ci(Bs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var r=Xr(s)}catch(h){throw h===$l?fi:h}else r=s;s=et();var c=s.queue,d=c.dispatch;return a!==s.memoizedState&&(ye.flags|=2048,Kl(9,{destroy:void 0},Lb.bind(null,c,a),null)),[r,d,t]}function Lb(t,s){t.action=s}function zh(t){var s=et(),a=Be;if(a!==null)return Mh(s,a,t);et(),s=s.memoizedState,a=et();var r=a.queue.dispatch;return a.memoizedState=t,[s,r,!1]}function Kl(t,s,a,r){return t={tag:t,create:a,deps:r,inst:s,next:null},s=ye.updateQueue,s===null&&(s=wi(),ye.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(r=a.next,a.next=t,t.next=r,s.lastEffect=t),t}function Uh(){return et().memoizedState}function Ti(t,s,a,r){var c=Dt();ye.flags|=t,c.memoizedState=Kl(1|s,{destroy:void 0},a,r===void 0?null:r)}function ki(t,s,a,r){var c=et();r=r===void 0?null:r;var d=c.memoizedState.inst;Be!==null&&r!==null&&Oc(r,Be.memoizedState.deps)?c.memoizedState=Kl(s,d,a,r):(ye.flags|=t,c.memoizedState=Kl(1|s,d,a,r))}function Lh(t,s){Ti(8390656,8,t,s)}function Vc(t,s){ki(2048,8,t,s)}function Ib(t){ye.flags|=4;var s=ye.updateQueue;if(s===null)s=wi(),ye.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function Ih(t){var s=et().memoizedState;return Ib({ref:s,nextImpl:t}),function(){if((Ue&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}function Bh(t,s){return ki(4,2,t,s)}function Ph(t,s){return ki(4,4,t,s)}function qh(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Hh(t,s,a){a=a!=null?a.concat([t]):null,ki(4,4,qh.bind(null,s,t),a)}function $c(){}function Vh(t,s){var a=et();s=s===void 0?null:s;var r=a.memoizedState;return s!==null&&Oc(s,r[1])?r[0]:(a.memoizedState=[t,s],t)}function $h(t,s){var a=et();s=s===void 0?null:s;var r=a.memoizedState;if(s!==null&&Oc(s,r[1]))return r[0];if(r=t(),ml){ca(!0);try{t()}finally{ca(!1)}}return a.memoizedState=[r,s],r}function Gc(t,s,a){return a===void 0||(Is&1073741824)!==0&&(ke&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=Gx(),ye.lanes|=t,wa|=t,a)}function Gh(t,s,a,r){return Vt(a,s)?a:Fl.current!==null?(t=Gc(t,a,r),Vt(t,s)||(ot=!0),t):(Is&42)===0||(Is&1073741824)!==0&&(ke&261930)===0?(ot=!0,t.memoizedState=a):(t=Gx(),ye.lanes|=t,wa|=t,s)}function Fh(t,s,a,r,c){var d=H.p;H.p=d!==0&&8>d?d:8;var h=S.T,p={};S.T=p,Qc(t,!1,s,a);try{var C=c(),I=S.S;if(I!==null&&I(p,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=Ob(C,r);Zr(t,s,Q,Kt(t))}else Zr(t,s,r,Kt(t))}catch(W){Zr(t,s,{then:function(){},status:"rejected",reason:W},Kt())}finally{H.p=d,h!==null&&p.types!==null&&(h.types=p.types),S.T=h}}function Bb(){}function Fc(t,s,a,r){if(t.tag!==5)throw Error(o(476));var c=Yh(t).queue;Fh(t,c,s,z,a===null?Bb:function(){return Qh(t),a(r)})}function Yh(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:z},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Qh(t){var s=Yh(t);s.next===null&&(s=t.alternate.memoizedState),Zr(t,s.next.queue,{},Kt())}function Yc(){return yt(gn)}function Kh(){return et().memoizedState}function Jh(){return et().memoizedState}function Pb(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Kt();t=pa(a);var r=ba(s,t,a);r!==null&&(Pt(r,s,a),Yr(r,s,a)),s={cache:Nc()},t.payload=s;return}s=s.return}}function qb(t,s,a){var r=Kt();a={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ai(t)?Zh(s,a):(a=uc(t,s,a,r),a!==null&&(Pt(a,t,r),Wh(a,s,r)))}function Xh(t,s,a){var r=Kt();Zr(t,s,a,r)}function Zr(t,s,a,r){var c={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ai(t))Zh(s,c);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var h=s.lastRenderedState,p=d(h,a);if(c.hasEagerState=!0,c.eagerState=p,Vt(p,h))return oi(t,s,c,0),He===null&&ii(),!1}catch{}finally{}if(a=uc(t,s,c,r),a!==null)return Pt(a,t,r),Wh(a,s,r),!0}return!1}function Qc(t,s,a,r){if(r={lane:2,revertLane:Td(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ai(t)){if(s)throw Error(o(479))}else s=uc(t,a,r,2),s!==null&&Pt(s,t,2)}function Ai(t){var s=t.alternate;return t===ye||s!==null&&s===ye}function Zh(t,s){Yl=ji=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function Wh(t,s,a){if((a&4194048)!==0){var r=s.lanes;r&=t.pendingLanes,a|=r,s.lanes=a,lm(t,a)}}var Wr={readContext:yt,use:Si,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je};Wr.useEffectEvent=Je;var ex={readContext:yt,use:Si,useCallback:function(t,s){return Dt().memoizedState=[t,s===void 0?null:s],t},useContext:yt,useEffect:Lh,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,Ti(4194308,4,qh.bind(null,s,t),a)},useLayoutEffect:function(t,s){return Ti(4194308,4,t,s)},useInsertionEffect:function(t,s){Ti(4,2,t,s)},useMemo:function(t,s){var a=Dt();s=s===void 0?null:s;var r=t();if(ml){ca(!0);try{t()}finally{ca(!1)}}return a.memoizedState=[r,s],r},useReducer:function(t,s,a){var r=Dt();if(a!==void 0){var c=a(s);if(ml){ca(!0);try{a(s)}finally{ca(!1)}}}else c=s;return r.memoizedState=r.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},r.queue=t,t=t.dispatch=qb.bind(null,ye,t),[r.memoizedState,t]},useRef:function(t){var s=Dt();return t={current:t},s.memoizedState=t},useState:function(t){t=qc(t);var s=t.queue,a=Xh.bind(null,ye,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:$c,useDeferredValue:function(t,s){var a=Dt();return Gc(a,t,s)},useTransition:function(){var t=qc(!1);return t=Fh.bind(null,ye,t.queue,!0,!1),Dt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var r=ye,c=Dt();if(Ee){if(a===void 0)throw Error(o(407));a=a()}else{if(a=s(),He===null)throw Error(o(349));(ke&127)!==0||jh(r,s,a)}c.memoizedState=a;var d={value:a,getSnapshot:s};return c.queue=d,Lh(wh.bind(null,r,d,t),[t]),r.flags|=2048,Kl(9,{destroy:void 0},Nh.bind(null,r,d,a,s),null),a},useId:function(){var t=Dt(),s=He.identifierPrefix;if(Ee){var a=ws,r=Ns;a=(r&~(1<<32-Ht(r)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Ni++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Mb++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Yc,useFormState:Rh,useActionState:Rh,useOptimistic:function(t){var s=Dt();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Qc.bind(null,ye,!0,a),a.dispatch=s,[t,s]},useMemoCache:Ic,useCacheRefresh:function(){return Dt().memoizedState=Pb.bind(null,ye)},useEffectEvent:function(t){var s=Dt(),a={impl:t};return s.memoizedState=a,function(){if((Ue&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},Kc={readContext:yt,use:Si,useCallback:Vh,useContext:yt,useEffect:Vc,useImperativeHandle:Hh,useInsertionEffect:Bh,useLayoutEffect:Ph,useMemo:$h,useReducer:Ci,useRef:Uh,useState:function(){return Ci(Bs)},useDebugValue:$c,useDeferredValue:function(t,s){var a=et();return Gh(a,Be.memoizedState,t,s)},useTransition:function(){var t=Ci(Bs)[0],s=et().memoizedState;return[typeof t=="boolean"?t:Xr(t),s]},useSyncExternalStore:vh,useId:Kh,useHostTransitionStatus:Yc,useFormState:Oh,useActionState:Oh,useOptimistic:function(t,s){var a=et();return Th(a,Be,t,s)},useMemoCache:Ic,useCacheRefresh:Jh};Kc.useEffectEvent=Ih;var tx={readContext:yt,use:Si,useCallback:Vh,useContext:yt,useEffect:Vc,useImperativeHandle:Hh,useInsertionEffect:Bh,useLayoutEffect:Ph,useMemo:$h,useReducer:Pc,useRef:Uh,useState:function(){return Pc(Bs)},useDebugValue:$c,useDeferredValue:function(t,s){var a=et();return Be===null?Gc(a,t,s):Gh(a,Be.memoizedState,t,s)},useTransition:function(){var t=Pc(Bs)[0],s=et().memoizedState;return[typeof t=="boolean"?t:Xr(t),s]},useSyncExternalStore:vh,useId:Kh,useHostTransitionStatus:Yc,useFormState:zh,useActionState:zh,useOptimistic:function(t,s){var a=et();return Be!==null?Th(a,Be,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ic,useCacheRefresh:Jh};tx.useEffectEvent=Ih;function Jc(t,s,a,r){s=t.memoizedState,a=a(r,s),a=a==null?s:y({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Xc={enqueueSetState:function(t,s,a){t=t._reactInternals;var r=Kt(),c=pa(r);c.payload=s,a!=null&&(c.callback=a),s=ba(t,c,r),s!==null&&(Pt(s,t,r),Yr(s,t,r))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var r=Kt(),c=pa(r);c.tag=1,c.payload=s,a!=null&&(c.callback=a),s=ba(t,c,r),s!==null&&(Pt(s,t,r),Yr(s,t,r))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Kt(),r=pa(a);r.tag=2,s!=null&&(r.callback=s),s=ba(t,r,a),s!==null&&(Pt(s,t,a),Yr(s,t,a))}};function sx(t,s,a,r,c,d,h){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,d,h):s.prototype&&s.prototype.isPureReactComponent?!Br(a,r)||!Br(c,d):!0}function ax(t,s,a,r){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,r),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,r),s.state!==t&&Xc.enqueueReplaceState(s,s.state,null)}function hl(t,s){var a=s;if("ref"in s){a={};for(var r in s)r!=="ref"&&(a[r]=s[r])}if(t=t.defaultProps){a===s&&(a=y({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function lx(t){ni(t)}function rx(t){console.error(t)}function nx(t){ni(t)}function Ei(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(r){setTimeout(function(){throw r})}}function ix(t,s,a){try{var r=t.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Zc(t,s,a){return a=pa(a),a.tag=3,a.payload={element:null},a.callback=function(){Ei(t,s)},a}function ox(t){return t=pa(t),t.tag=3,t}function cx(t,s,a,r){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var d=r.value;t.payload=function(){return c(d)},t.callback=function(){ix(s,a,r)}}var h=a.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(t.callback=function(){ix(s,a,r),typeof c!="function"&&(Sa===null?Sa=new Set([this]):Sa.add(this));var p=r.stack;this.componentDidCatch(r.value,{componentStack:p!==null?p:""})})}function Hb(t,s,a,r,c){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(s=a.alternate,s!==null&&ql(s,a,c,!0),a=Gt.current,a!==null){switch(a.tag){case 31:case 13:return rs===null?qi():a.alternate===null&&Xe===0&&(Xe=3),a.flags&=-257,a.flags|=65536,a.lanes=c,r===gi?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([r]):s.add(r),wd(t,r,c)),!1;case 22:return a.flags|=65536,r===gi?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([r]):a.add(r)),wd(t,r,c)),!1}throw Error(o(435,a.tag))}return wd(t,r,c),qi(),!1}if(Ee)return s=Gt.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=c,r!==pc&&(t=Error(o(422),{cause:r}),Hr(ts(t,a)))):(r!==pc&&(s=Error(o(423),{cause:r}),Hr(ts(s,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,r=ts(r,a),c=Zc(t.stateNode,r,c),Ac(t,c),Xe!==4&&(Xe=2)),!1;var d=Error(o(520),{cause:r});if(d=ts(d,a),on===null?on=[d]:on.push(d),Xe!==4&&(Xe=2),s===null)return!0;r=ts(r,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Zc(a.stateNode,r,t),Ac(a,t),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Sa===null||!Sa.has(d))))return a.flags|=65536,c&=-c,a.lanes|=c,c=ox(c),cx(c,t,a,r),Ac(a,c),!1}a=a.return}while(a!==null);return!1}var Wc=Error(o(461)),ot=!1;function vt(t,s,a,r){s.child=t===null?hh(s,null,a,r):ul(s,t.child,a,r)}function dx(t,s,a,r,c){a=a.render;var d=s.ref;if("ref"in r){var h={};for(var p in r)p!=="ref"&&(h[p]=r[p])}else h=r;return il(s),r=Mc(t,s,a,h,d,c),p=zc(),t!==null&&!ot?(Uc(t,s,c),Ps(t,s,c)):(Ee&&p&&fc(s),s.flags|=1,vt(t,s,r,c),s.child)}function ux(t,s,a,r,c){if(t===null){var d=a.type;return typeof d=="function"&&!mc(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,mx(t,s,d,r,c)):(t=di(a.type,null,r,s,s.mode,c),t.ref=s.ref,t.return=s,s.child=t)}if(d=t.child,!id(t,c)){var h=d.memoizedProps;if(a=a.compare,a=a!==null?a:Br,a(h,r)&&t.ref===s.ref)return Ps(t,s,c)}return s.flags|=1,t=Ms(d,r),t.ref=s.ref,t.return=s,s.child=t}function mx(t,s,a,r,c){if(t!==null){var d=t.memoizedProps;if(Br(d,r)&&t.ref===s.ref)if(ot=!1,s.pendingProps=r=d,id(t,c))(t.flags&131072)!==0&&(ot=!0);else return s.lanes=t.lanes,Ps(t,s,c)}return ed(t,s,a,r,c)}function hx(t,s,a,r){var c=r.children,d=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(r=s.child=t.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;r=c&~d}else r=0,s.child=null;return xx(t,s,d,a,r)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&xi(s,d!==null?d.cachePool:null),d!==null?gh(s,d):_c(),ph(s);else return r=s.lanes=536870912,xx(t,s,d!==null?d.baseLanes|a:a,a,r)}else d!==null?(xi(s,d.cachePool),gh(s,d),va(),s.memoizedState=null):(t!==null&&xi(s,null),_c(),va());return vt(t,s,c,a),s.child}function en(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function xx(t,s,a,r,c){var d=Sc();return d=d===null?null:{parent:nt._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},t!==null&&xi(s,null),_c(),ph(s),t!==null&&ql(t,s,r,!0),s.childLanes=c,null}function _i(t,s){return s=Ri({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function fx(t,s,a){return ul(s,t.child,null,a),t=_i(s,s.pendingProps),t.flags|=2,Ft(s),s.memoizedState=null,t}function Vb(t,s,a){var r=s.pendingProps,c=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Ee){if(r.mode==="hidden")return t=_i(s,r),s.lanes=536870912,en(null,t);if(Rc(s),(t=Fe)?(t=Af(t,ls),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:ma!==null?{id:Ns,overflow:ws}:null,retryLane:536870912,hydrationErrors:null},a=Zm(t),a.return=s,s.child=a,bt=s,Fe=null)):t=null,t===null)throw xa(s);return s.lanes=536870912,null}return _i(s,r)}var d=t.memoizedState;if(d!==null){var h=d.dehydrated;if(Rc(s),c)if(s.flags&256)s.flags&=-257,s=fx(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(o(558));else if(ot||ql(t,s,a,!1),c=(a&t.childLanes)!==0,ot||c){if(r=He,r!==null&&(h=rm(r,a),h!==0&&h!==d.retryLane))throw d.retryLane=h,al(t,h),Pt(r,t,h),Wc;qi(),s=fx(t,s,a)}else t=d.treeContext,Fe=ns(h.nextSibling),bt=s,Ee=!0,ha=null,ls=!1,t!==null&&th(s,t),s=_i(s,r),s.flags|=4096;return s}return t=Ms(t.child,{mode:r.mode,children:r.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Di(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function ed(t,s,a,r,c){return il(s),a=Mc(t,s,a,r,void 0,c),r=zc(),t!==null&&!ot?(Uc(t,s,c),Ps(t,s,c)):(Ee&&r&&fc(s),s.flags|=1,vt(t,s,a,c),s.child)}function gx(t,s,a,r,c,d){return il(s),s.updateQueue=null,a=yh(s,r,a,c),bh(t),r=zc(),t!==null&&!ot?(Uc(t,s,d),Ps(t,s,d)):(Ee&&r&&fc(s),s.flags|=1,vt(t,s,a,d),s.child)}function px(t,s,a,r,c){if(il(s),s.stateNode===null){var d=Ll,h=a.contextType;typeof h=="object"&&h!==null&&(d=yt(h)),d=new a(r,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Xc,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=r,d.state=s.memoizedState,d.refs={},Tc(s),h=a.contextType,d.context=typeof h=="object"&&h!==null?yt(h):Ll,d.state=s.memoizedState,h=a.getDerivedStateFromProps,typeof h=="function"&&(Jc(s,a,h,r),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(h=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),h!==d.state&&Xc.enqueueReplaceState(d,d.state,null),Kr(s,r,d,c),Qr(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),r=!0}else if(t===null){d=s.stateNode;var p=s.memoizedProps,C=hl(a,p);d.props=C;var I=d.context,Q=a.contextType;h=Ll,typeof Q=="object"&&Q!==null&&(h=yt(Q));var W=a.getDerivedStateFromProps;Q=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",p=s.pendingProps!==p,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p||I!==h)&&ax(s,d,r,h),ga=!1;var P=s.memoizedState;d.state=P,Kr(s,r,d,c),Qr(),I=s.memoizedState,p||P!==I||ga?(typeof W=="function"&&(Jc(s,a,W,r),I=s.memoizedState),(C=ga||sx(s,a,C,r,P,I,h))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=r,s.memoizedState=I),d.props=r,d.state=I,d.context=h,r=C):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),r=!1)}else{d=s.stateNode,kc(t,s),h=s.memoizedProps,Q=hl(a,h),d.props=Q,W=s.pendingProps,P=d.context,I=a.contextType,C=Ll,typeof I=="object"&&I!==null&&(C=yt(I)),p=a.getDerivedStateFromProps,(I=typeof p=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(h!==W||P!==C)&&ax(s,d,r,C),ga=!1,P=s.memoizedState,d.state=P,Kr(s,r,d,c),Qr();var V=s.memoizedState;h!==W||P!==V||ga||t!==null&&t.dependencies!==null&&mi(t.dependencies)?(typeof p=="function"&&(Jc(s,a,p,r),V=s.memoizedState),(Q=ga||sx(s,a,Q,r,P,V,C)||t!==null&&t.dependencies!==null&&mi(t.dependencies))?(I||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,V,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,V,C)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||h===t.memoizedProps&&P===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&P===t.memoizedState||(s.flags|=1024),s.memoizedProps=r,s.memoizedState=V),d.props=r,d.state=V,d.context=C,r=Q):(typeof d.componentDidUpdate!="function"||h===t.memoizedProps&&P===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&P===t.memoizedState||(s.flags|=1024),r=!1)}return d=r,Di(t,s),r=(s.flags&128)!==0,d||r?(d=s.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,t!==null&&r?(s.child=ul(s,t.child,null,c),s.child=ul(s,null,a,c)):vt(t,s,a,c),s.memoizedState=d.state,t=s.child):t=Ps(t,s,c),t}function bx(t,s,a,r){return rl(),s.flags|=256,vt(t,s,a,r),s.child}var td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sd(t){return{baseLanes:t,cachePool:ih()}}function ad(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Qt),t}function yx(t,s,a){var r=s.pendingProps,c=!1,d=(s.flags&128)!==0,h;if((h=d)||(h=t!==null&&t.memoizedState===null?!1:(We.current&2)!==0),h&&(c=!0,s.flags&=-129),h=(s.flags&32)!==0,s.flags&=-33,t===null){if(Ee){if(c?ya(s):va(),(t=Fe)?(t=Af(t,ls),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:ma!==null?{id:Ns,overflow:ws}:null,retryLane:536870912,hydrationErrors:null},a=Zm(t),a.return=s,s.child=a,bt=s,Fe=null)):t=null,t===null)throw xa(s);return Bd(t)?s.lanes=32:s.lanes=536870912,null}var p=r.children;return r=r.fallback,c?(va(),c=s.mode,p=Ri({mode:"hidden",children:p},c),r=ll(r,c,a,null),p.return=s,r.return=s,p.sibling=r,s.child=p,r=s.child,r.memoizedState=sd(a),r.childLanes=ad(t,h,a),s.memoizedState=td,en(null,r)):(ya(s),ld(s,p))}var C=t.memoizedState;if(C!==null&&(p=C.dehydrated,p!==null)){if(d)s.flags&256?(ya(s),s.flags&=-257,s=rd(t,s,a)):s.memoizedState!==null?(va(),s.child=t.child,s.flags|=128,s=null):(va(),p=r.fallback,c=s.mode,r=Ri({mode:"visible",children:r.children},c),p=ll(p,c,a,null),p.flags|=2,r.return=s,p.return=s,r.sibling=p,s.child=r,ul(s,t.child,null,a),r=s.child,r.memoizedState=sd(a),r.childLanes=ad(t,h,a),s.memoizedState=td,s=en(null,r));else if(ya(s),Bd(p)){if(h=p.nextSibling&&p.nextSibling.dataset,h)var I=h.dgst;h=I,r=Error(o(419)),r.stack="",r.digest=h,Hr({value:r,source:null,stack:null}),s=rd(t,s,a)}else if(ot||ql(t,s,a,!1),h=(a&t.childLanes)!==0,ot||h){if(h=He,h!==null&&(r=rm(h,a),r!==0&&r!==C.retryLane))throw C.retryLane=r,al(t,r),Pt(h,t,r),Wc;Id(p)||qi(),s=rd(t,s,a)}else Id(p)?(s.flags|=192,s.child=t.child,s=null):(t=C.treeContext,Fe=ns(p.nextSibling),bt=s,Ee=!0,ha=null,ls=!1,t!==null&&th(s,t),s=ld(s,r.children),s.flags|=4096);return s}return c?(va(),p=r.fallback,c=s.mode,C=t.child,I=C.sibling,r=Ms(C,{mode:"hidden",children:r.children}),r.subtreeFlags=C.subtreeFlags&65011712,I!==null?p=Ms(I,p):(p=ll(p,c,a,null),p.flags|=2),p.return=s,r.return=s,r.sibling=p,s.child=r,en(null,r),r=s.child,p=t.child.memoizedState,p===null?p=sd(a):(c=p.cachePool,c!==null?(C=nt._currentValue,c=c.parent!==C?{parent:C,pool:C}:c):c=ih(),p={baseLanes:p.baseLanes|a,cachePool:c}),r.memoizedState=p,r.childLanes=ad(t,h,a),s.memoizedState=td,en(t.child,r)):(ya(s),a=t.child,t=a.sibling,a=Ms(a,{mode:"visible",children:r.children}),a.return=s,a.sibling=null,t!==null&&(h=s.deletions,h===null?(s.deletions=[t],s.flags|=16):h.push(t)),s.child=a,s.memoizedState=null,a)}function ld(t,s){return s=Ri({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Ri(t,s){return t=$t(22,t,null,s),t.lanes=0,t}function rd(t,s,a){return ul(s,t.child,null,a),t=ld(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function vx(t,s,a){t.lanes|=s;var r=t.alternate;r!==null&&(r.lanes|=s),vc(t.return,s,a)}function nd(t,s,a,r,c,d){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:c,treeForkCount:d}:(h.isBackwards=s,h.rendering=null,h.renderingStartTime=0,h.last=r,h.tail=a,h.tailMode=c,h.treeForkCount=d)}function jx(t,s,a){var r=s.pendingProps,c=r.revealOrder,d=r.tail;r=r.children;var h=We.current,p=(h&2)!==0;if(p?(h=h&1|2,s.flags|=128):h&=1,me(We,h),vt(t,s,r,a),r=Ee?qr:0,!p&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vx(t,a,s);else if(t.tag===19)vx(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=s.child,c=null;a!==null;)t=a.alternate,t!==null&&vi(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=s.child,s.child=null):(c=a.sibling,a.sibling=null),nd(s,!1,c,a,d,r);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=s.child,s.child=null;c!==null;){if(t=c.alternate,t!==null&&vi(t)===null){s.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}nd(s,!0,a,null,d,r);break;case"together":nd(s,!1,null,null,void 0,r);break;default:s.memoizedState=null}return s.child}function Ps(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),wa|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(ql(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(o(153));if(s.child!==null){for(t=s.child,a=Ms(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Ms(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function id(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&mi(t)))}function $b(t,s,a){switch(s.tag){case 3:Tt(s,s.stateNode.containerInfo),fa(s,nt,t.memoizedState.cache),rl();break;case 27:case 5:Et(s);break;case 4:Tt(s,s.stateNode.containerInfo);break;case 10:fa(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Rc(s),null;break;case 13:var r=s.memoizedState;if(r!==null)return r.dehydrated!==null?(ya(s),s.flags|=128,null):(a&s.child.childLanes)!==0?yx(t,s,a):(ya(s),t=Ps(t,s,a),t!==null?t.sibling:null);ya(s);break;case 19:var c=(t.flags&128)!==0;if(r=(a&s.childLanes)!==0,r||(ql(t,s,a,!1),r=(a&s.childLanes)!==0),c){if(r)return jx(t,s,a);s.flags|=128}if(c=s.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),me(We,We.current),r)break;return null;case 22:return s.lanes=0,hx(t,s,a,s.pendingProps);case 24:fa(s,nt,t.memoizedState.cache)}return Ps(t,s,a)}function Nx(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)ot=!0;else{if(!id(t,a)&&(s.flags&128)===0)return ot=!1,$b(t,s,a);ot=(t.flags&131072)!==0}else ot=!1,Ee&&(s.flags&1048576)!==0&&eh(s,qr,s.index);switch(s.lanes=0,s.tag){case 16:e:{var r=s.pendingProps;if(t=cl(s.elementType),s.type=t,typeof t=="function")mc(t)?(r=hl(t,r),s.tag=1,s=px(null,s,t,r,a)):(s.tag=0,s=ed(null,s,t,r,a));else{if(t!=null){var c=t.$$typeof;if(c===K){s.tag=11,s=dx(null,s,t,r,a);break e}else if(c===Y){s.tag=14,s=ux(null,s,t,r,a);break e}}throw s=te(t)||t,Error(o(306,s,""))}}return s;case 0:return ed(t,s,s.type,s.pendingProps,a);case 1:return r=s.type,c=hl(r,s.pendingProps),px(t,s,r,c,a);case 3:e:{if(Tt(s,s.stateNode.containerInfo),t===null)throw Error(o(387));r=s.pendingProps;var d=s.memoizedState;c=d.element,kc(t,s),Kr(s,r,null,a);var h=s.memoizedState;if(r=h.cache,fa(s,nt,r),r!==d.cache&&jc(s,[nt],a,!0),Qr(),r=h.element,d.isDehydrated)if(d={element:r,isDehydrated:!1,cache:h.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=bx(t,s,r,a);break e}else if(r!==c){c=ts(Error(o(424)),s),Hr(c),s=bx(t,s,r,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Fe=ns(t.firstChild),bt=s,Ee=!0,ha=null,ls=!0,a=hh(s,null,r,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(rl(),r===c){s=Ps(t,s,a);break e}vt(t,s,r,a)}s=s.child}return s;case 26:return Di(t,s),t===null?(a=Mf(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ee||(a=s.type,t=s.pendingProps,r=Qi(Ge.current).createElement(a),r[pt]=s,r[Mt]=t,jt(r,a,t),xt(r),s.stateNode=r):s.memoizedState=Mf(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Et(s),t===null&&Ee&&(r=s.stateNode=Df(s.type,s.pendingProps,Ge.current),bt=s,ls=!0,c=Fe,Aa(s.type)?(Pd=c,Fe=ns(r.firstChild)):Fe=c),vt(t,s,s.pendingProps.children,a),Di(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Ee&&((c=r=Fe)&&(r=vy(r,s.type,s.pendingProps,ls),r!==null?(s.stateNode=r,bt=s,Fe=ns(r.firstChild),ls=!1,c=!0):c=!1),c||xa(s)),Et(s),c=s.type,d=s.pendingProps,h=t!==null?t.memoizedProps:null,r=d.children,zd(c,d)?r=null:h!==null&&zd(c,h)&&(s.flags|=32),s.memoizedState!==null&&(c=Mc(t,s,zb,null,null,a),gn._currentValue=c),Di(t,s),vt(t,s,r,a),s.child;case 6:return t===null&&Ee&&((t=a=Fe)&&(a=jy(a,s.pendingProps,ls),a!==null?(s.stateNode=a,bt=s,Fe=null,t=!0):t=!1),t||xa(s)),null;case 13:return yx(t,s,a);case 4:return Tt(s,s.stateNode.containerInfo),r=s.pendingProps,t===null?s.child=ul(s,null,r,a):vt(t,s,r,a),s.child;case 11:return dx(t,s,s.type,s.pendingProps,a);case 7:return vt(t,s,s.pendingProps,a),s.child;case 8:return vt(t,s,s.pendingProps.children,a),s.child;case 12:return vt(t,s,s.pendingProps.children,a),s.child;case 10:return r=s.pendingProps,fa(s,s.type,r.value),vt(t,s,r.children,a),s.child;case 9:return c=s.type._context,r=s.pendingProps.children,il(s),c=yt(c),r=r(c),s.flags|=1,vt(t,s,r,a),s.child;case 14:return ux(t,s,s.type,s.pendingProps,a);case 15:return mx(t,s,s.type,s.pendingProps,a);case 19:return jx(t,s,a);case 31:return Vb(t,s,a);case 22:return hx(t,s,a,s.pendingProps);case 24:return il(s),r=yt(nt),t===null?(c=Sc(),c===null&&(c=He,d=Nc(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=a),c=d),s.memoizedState={parent:r,cache:c},Tc(s),fa(s,nt,c)):((t.lanes&a)!==0&&(kc(t,s),Kr(s,null,null,a),Qr()),c=t.memoizedState,d=s.memoizedState,c.parent!==r?(c={parent:r,cache:r},s.memoizedState=c,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=c),fa(s,nt,r)):(r=d.cache,fa(s,nt,r),r!==c.cache&&jc(s,[nt],a,!0))),vt(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(o(156,s.tag))}function qs(t){t.flags|=4}function od(t,s,a,r,c){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Kx())t.flags|=8192;else throw dl=gi,Cc}else t.flags&=-16777217}function wx(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Bf(s))if(Kx())t.flags|=8192;else throw dl=gi,Cc}function Oi(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?sm():536870912,t.lanes|=s,Wl|=s)}function tn(t,s){if(!Ee)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ye(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,r=0;if(s)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=r,t.childLanes=a,s}function Gb(t,s,a){var r=s.pendingProps;switch(gc(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(s),null;case 1:return Ye(s),null;case 3:return a=s.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),Ls(nt),gt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Pl(s)?qs(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,bc())),Ye(s),null;case 26:var c=s.type,d=s.memoizedState;return t===null?(qs(s),d!==null?(Ye(s),wx(s,d)):(Ye(s),od(s,c,null,r,a))):d?d!==t.memoizedState?(qs(s),Ye(s),wx(s,d)):(Ye(s),s.flags&=-16777217):(t=t.memoizedProps,t!==r&&qs(s),Ye(s),od(s,c,t,r,a)),null;case 27:if(rt(s),a=Ge.current,c=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==r&&qs(s);else{if(!r){if(s.stateNode===null)throw Error(o(166));return Ye(s),null}t=be.current,Pl(s)?sh(s):(t=Df(c,r,a),s.stateNode=t,qs(s))}return Ye(s),null;case 5:if(rt(s),c=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==r&&qs(s);else{if(!r){if(s.stateNode===null)throw Error(o(166));return Ye(s),null}if(d=be.current,Pl(s))sh(s);else{var h=Qi(Ge.current);switch(d){case 1:d=h.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:d=h.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":d=h.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":d=h.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":d=h.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof r.is=="string"?h.createElement("select",{is:r.is}):h.createElement("select"),r.multiple?d.multiple=!0:r.size&&(d.size=r.size);break;default:d=typeof r.is=="string"?h.createElement(c,{is:r.is}):h.createElement(c)}}d[pt]=s,d[Mt]=r;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)d.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=d;e:switch(jt(d,c,r),c){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&qs(s)}}return Ye(s),od(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==r&&qs(s);else{if(typeof r!="string"&&s.stateNode===null)throw Error(o(166));if(t=Ge.current,Pl(s)){if(t=s.stateNode,a=s.memoizedProps,r=null,c=bt,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}t[pt]=s,t=!!(t.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||vf(t.nodeValue,a)),t||xa(s,!0)}else t=Qi(t).createTextNode(r),t[pt]=s,s.stateNode=t}return Ye(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(r=Pl(s),a!==null){if(t===null){if(!r)throw Error(o(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[pt]=s}else rl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ye(s),t=!1}else a=bc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(Ft(s),s):(Ft(s),null);if((s.flags&128)!==0)throw Error(o(558))}return Ye(s),null;case 13:if(r=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Pl(s),r!==null&&r.dehydrated!==null){if(t===null){if(!c)throw Error(o(318));if(c=s.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[pt]=s}else rl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ye(s),c=!1}else c=bc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return s.flags&256?(Ft(s),s):(Ft(s),null)}return Ft(s),(s.flags&128)!==0?(s.lanes=a,s):(a=r!==null,t=t!==null&&t.memoizedState!==null,a&&(r=s.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==c&&(r.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),Oi(s,s.updateQueue),Ye(s),null);case 4:return gt(),t===null&&_d(s.stateNode.containerInfo),Ye(s),null;case 10:return Ls(s.type),Ye(s),null;case 19:if(Se(We),r=s.memoizedState,r===null)return Ye(s),null;if(c=(s.flags&128)!==0,d=r.rendering,d===null)if(c)tn(r,!1);else{if(Xe!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(d=vi(t),d!==null){for(s.flags|=128,tn(r,!1),t=d.updateQueue,s.updateQueue=t,Oi(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)Xm(a,t),a=a.sibling;return me(We,We.current&1|2),Ee&&zs(s,r.treeForkCount),s.child}t=t.sibling}r.tail!==null&&_t()>Ii&&(s.flags|=128,c=!0,tn(r,!1),s.lanes=4194304)}else{if(!c)if(t=vi(d),t!==null){if(s.flags|=128,c=!0,t=t.updateQueue,s.updateQueue=t,Oi(s,t),tn(r,!0),r.tail===null&&r.tailMode==="hidden"&&!d.alternate&&!Ee)return Ye(s),null}else 2*_t()-r.renderingStartTime>Ii&&a!==536870912&&(s.flags|=128,c=!0,tn(r,!1),s.lanes=4194304);r.isBackwards?(d.sibling=s.child,s.child=d):(t=r.last,t!==null?t.sibling=d:s.child=d,r.last=d)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=_t(),t.sibling=null,a=We.current,me(We,c?a&1|2:a&1),Ee&&zs(s,r.treeForkCount),t):(Ye(s),null);case 22:case 23:return Ft(s),Dc(),r=s.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(s.flags|=8192):r&&(s.flags|=8192),r?(a&536870912)!==0&&(s.flags&128)===0&&(Ye(s),s.subtreeFlags&6&&(s.flags|=8192)):Ye(s),a=s.updateQueue,a!==null&&Oi(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==a&&(s.flags|=2048),t!==null&&Se(ol),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Ls(nt),Ye(s),null;case 25:return null;case 30:return null}throw Error(o(156,s.tag))}function Fb(t,s){switch(gc(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Ls(nt),gt(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return rt(s),null;case 31:if(s.memoizedState!==null){if(Ft(s),s.alternate===null)throw Error(o(340));rl()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(Ft(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(o(340));rl()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Se(We),null;case 4:return gt(),null;case 10:return Ls(s.type),null;case 22:case 23:return Ft(s),Dc(),t!==null&&Se(ol),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Ls(nt),null;case 25:return null;default:return null}}function Sx(t,s){switch(gc(s),s.tag){case 3:Ls(nt),gt();break;case 26:case 27:case 5:rt(s);break;case 4:gt();break;case 31:s.memoizedState!==null&&Ft(s);break;case 13:Ft(s);break;case 19:Se(We);break;case 10:Ls(s.type);break;case 22:case 23:Ft(s),Dc(),t!==null&&Se(ol);break;case 24:Ls(nt)}}function sn(t,s){try{var a=s.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var c=r.next;a=c;do{if((a.tag&t)===t){r=void 0;var d=a.create,h=a.inst;r=d(),h.destroy=r}a=a.next}while(a!==c)}}catch(p){Ie(s,s.return,p)}}function ja(t,s,a){try{var r=s.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var d=c.next;r=d;do{if((r.tag&t)===t){var h=r.inst,p=h.destroy;if(p!==void 0){h.destroy=void 0,c=s;var C=a,I=p;try{I()}catch(Q){Ie(c,C,Q)}}}r=r.next}while(r!==d)}}catch(Q){Ie(s,s.return,Q)}}function Cx(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{fh(s,a)}catch(r){Ie(t,t.return,r)}}}function Tx(t,s,a){a.props=hl(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(r){Ie(t,s,r)}}function an(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof a=="function"?t.refCleanup=a(r):a.current=r}}catch(c){Ie(t,s,c)}}function Ss(t,s){var a=t.ref,r=t.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(c){Ie(t,s,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Ie(t,s,c)}else a.current=null}function kx(t){var s=t.type,a=t.memoizedProps,r=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(c){Ie(t,t.return,c)}}function cd(t,s,a){try{var r=t.stateNode;xy(r,t.type,a,s),r[Mt]=s}catch(c){Ie(t,t.return,c)}}function Ax(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Aa(t.type)||t.tag===4}function dd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ax(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Aa(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ud(t,s,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Rs));else if(r!==4&&(r===27&&Aa(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(ud(t,s,a),t=t.sibling;t!==null;)ud(t,s,a),t=t.sibling}function Mi(t,s,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(r!==4&&(r===27&&Aa(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Mi(t,s,a),t=t.sibling;t!==null;)Mi(t,s,a),t=t.sibling}function Ex(t){var s=t.stateNode,a=t.memoizedProps;try{for(var r=t.type,c=s.attributes;c.length;)s.removeAttributeNode(c[0]);jt(s,r,a),s[pt]=t,s[Mt]=a}catch(d){Ie(t,t.return,d)}}var Hs=!1,ct=!1,md=!1,_x=typeof WeakSet=="function"?WeakSet:Set,ft=null;function Yb(t,s){if(t=t.containerInfo,Od=to,t=Hm(t),rc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var c=r.anchorOffset,d=r.focusNode;r=r.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var h=0,p=-1,C=-1,I=0,Q=0,W=t,P=null;t:for(;;){for(var V;W!==a||c!==0&&W.nodeType!==3||(p=h+c),W!==d||r!==0&&W.nodeType!==3||(C=h+r),W.nodeType===3&&(h+=W.nodeValue.length),(V=W.firstChild)!==null;)P=W,W=V;for(;;){if(W===t)break t;if(P===a&&++I===c&&(p=h),P===d&&++Q===r&&(C=h),(V=W.nextSibling)!==null)break;W=P,P=W.parentNode}W=V}a=p===-1||C===-1?null:{start:p,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Md={focusedElem:t,selectionRange:a},to=!1,ft=s;ft!==null;)if(s=ft,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,ft=t;else for(;ft!==null;){switch(s=ft,d=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=s,c=d.memoizedProps,d=d.memoizedState,r=a.stateNode;try{var ie=hl(a.type,c);t=r.getSnapshotBeforeUpdate(ie,d),r.__reactInternalSnapshotBeforeUpdate=t}catch(xe){Ie(a,a.return,xe)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)Ld(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ld(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=s.sibling,t!==null){t.return=s.return,ft=t;break}ft=s.return}}function Dx(t,s,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:$s(t,a),r&4&&sn(5,a);break;case 1:if($s(t,a),r&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(h){Ie(a,a.return,h)}else{var c=hl(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(c,s,t.__reactInternalSnapshotBeforeUpdate)}catch(h){Ie(a,a.return,h)}}r&64&&Cx(a),r&512&&an(a,a.return);break;case 3:if($s(t,a),r&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{fh(t,s)}catch(h){Ie(a,a.return,h)}}break;case 27:s===null&&r&4&&Ex(a);case 26:case 5:$s(t,a),s===null&&r&4&&kx(a),r&512&&an(a,a.return);break;case 12:$s(t,a);break;case 31:$s(t,a),r&4&&Mx(t,a);break;case 13:$s(t,a),r&4&&zx(t,a),r&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=sy.bind(null,a),Ny(t,a))));break;case 22:if(r=a.memoizedState!==null||Hs,!r){s=s!==null&&s.memoizedState!==null||ct,c=Hs;var d=ct;Hs=r,(ct=s)&&!d?Gs(t,a,(a.subtreeFlags&8772)!==0):$s(t,a),Hs=c,ct=d}break;case 30:break;default:$s(t,a)}}function Rx(t){var s=t.alternate;s!==null&&(t.alternate=null,Rx(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Ho(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Qe=null,Ut=!1;function Vs(t,s,a){for(a=a.child;a!==null;)Ox(t,s,a),a=a.sibling}function Ox(t,s,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(kr,a)}catch{}switch(a.tag){case 26:ct||Ss(a,s),Vs(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ct||Ss(a,s);var r=Qe,c=Ut;Aa(a.type)&&(Qe=a.stateNode,Ut=!1),Vs(t,s,a),hn(a.stateNode),Qe=r,Ut=c;break;case 5:ct||Ss(a,s);case 6:if(r=Qe,c=Ut,Qe=null,Vs(t,s,a),Qe=r,Ut=c,Qe!==null)if(Ut)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(a.stateNode)}catch(d){Ie(a,s,d)}else try{Qe.removeChild(a.stateNode)}catch(d){Ie(a,s,d)}break;case 18:Qe!==null&&(Ut?(t=Qe,Tf(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ir(t)):Tf(Qe,a.stateNode));break;case 4:r=Qe,c=Ut,Qe=a.stateNode.containerInfo,Ut=!0,Vs(t,s,a),Qe=r,Ut=c;break;case 0:case 11:case 14:case 15:ja(2,a,s),ct||ja(4,a,s),Vs(t,s,a);break;case 1:ct||(Ss(a,s),r=a.stateNode,typeof r.componentWillUnmount=="function"&&Tx(a,s,r)),Vs(t,s,a);break;case 21:Vs(t,s,a);break;case 22:ct=(r=ct)||a.memoizedState!==null,Vs(t,s,a),ct=r;break;default:Vs(t,s,a)}}function Mx(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ir(t)}catch(a){Ie(s,s.return,a)}}}function zx(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ir(t)}catch(a){Ie(s,s.return,a)}}function Qb(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new _x),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new _x),s;default:throw Error(o(435,t.tag))}}function zi(t,s){var a=Qb(t);s.forEach(function(r){if(!a.has(r)){a.add(r);var c=ay.bind(null,t,r);r.then(c,c)}})}function Lt(t,s){var a=s.deletions;if(a!==null)for(var r=0;r<a.length;r++){var c=a[r],d=t,h=s,p=h;e:for(;p!==null;){switch(p.tag){case 27:if(Aa(p.type)){Qe=p.stateNode,Ut=!1;break e}break;case 5:Qe=p.stateNode,Ut=!1;break e;case 3:case 4:Qe=p.stateNode.containerInfo,Ut=!0;break e}p=p.return}if(Qe===null)throw Error(o(160));Ox(d,h,c),Qe=null,Ut=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Ux(s,t),s=s.sibling}var hs=null;function Ux(t,s){var a=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Lt(s,t),It(t),r&4&&(ja(3,t,t.return),sn(3,t),ja(5,t,t.return));break;case 1:Lt(s,t),It(t),r&512&&(ct||a===null||Ss(a,a.return)),r&64&&Hs&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var c=hs;if(Lt(s,t),It(t),r&512&&(ct||a===null||Ss(a,a.return)),r&4){var d=a!==null?a.memoizedState:null;if(r=t.memoizedState,a===null)if(r===null)if(t.stateNode===null){e:{r=t.type,a=t.memoizedProps,c=c.ownerDocument||c;t:switch(r){case"title":d=c.getElementsByTagName("title")[0],(!d||d[_r]||d[pt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(r),c.head.insertBefore(d,c.querySelector("head > title"))),jt(d,r,a),d[pt]=t,xt(d),r=d;break e;case"link":var h=Lf("link","href",c).get(r+(a.href||""));if(h){for(var p=0;p<h.length;p++)if(d=h[p],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){h.splice(p,1);break t}}d=c.createElement(r),jt(d,r,a),c.head.appendChild(d);break;case"meta":if(h=Lf("meta","content",c).get(r+(a.content||""))){for(p=0;p<h.length;p++)if(d=h[p],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){h.splice(p,1);break t}}d=c.createElement(r),jt(d,r,a),c.head.appendChild(d);break;default:throw Error(o(468,r))}d[pt]=t,xt(d),r=d}t.stateNode=r}else If(c,t.type,t.stateNode);else t.stateNode=Uf(c,r,t.memoizedProps);else d!==r?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,r===null?If(c,t.type,t.stateNode):Uf(c,r,t.memoizedProps)):r===null&&t.stateNode!==null&&cd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Lt(s,t),It(t),r&512&&(ct||a===null||Ss(a,a.return)),a!==null&&r&4&&cd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Lt(s,t),It(t),r&512&&(ct||a===null||Ss(a,a.return)),t.flags&32){c=t.stateNode;try{_l(c,"")}catch(ie){Ie(t,t.return,ie)}}r&4&&t.stateNode!=null&&(c=t.memoizedProps,cd(t,c,a!==null?a.memoizedProps:c)),r&1024&&(md=!0);break;case 6:if(Lt(s,t),It(t),r&4){if(t.stateNode===null)throw Error(o(162));r=t.memoizedProps,a=t.stateNode;try{a.nodeValue=r}catch(ie){Ie(t,t.return,ie)}}break;case 3:if(Xi=null,c=hs,hs=Ki(s.containerInfo),Lt(s,t),hs=c,It(t),r&4&&a!==null&&a.memoizedState.isDehydrated)try{ir(s.containerInfo)}catch(ie){Ie(t,t.return,ie)}md&&(md=!1,Lx(t));break;case 4:r=hs,hs=Ki(t.stateNode.containerInfo),Lt(s,t),It(t),hs=r;break;case 12:Lt(s,t),It(t);break;case 31:Lt(s,t),It(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,zi(t,r)));break;case 13:Lt(s,t),It(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Li=_t()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,zi(t,r)));break;case 22:c=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,I=Hs,Q=ct;if(Hs=I||c,ct=Q||C,Lt(s,t),ct=Q,Hs=I,It(t),r&8192)e:for(s=t.stateNode,s._visibility=c?s._visibility&-2:s._visibility|1,c&&(a===null||C||Hs||ct||xl(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){C=a=s;try{if(d=C.stateNode,c)h=d.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{p=C.stateNode;var W=C.memoizedProps.style,P=W!=null&&W.hasOwnProperty("display")?W.display:null;p.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(ie){Ie(C,C.return,ie)}}}else if(s.tag===6){if(a===null){C=s;try{C.stateNode.nodeValue=c?"":C.memoizedProps}catch(ie){Ie(C,C.return,ie)}}}else if(s.tag===18){if(a===null){C=s;try{var V=C.stateNode;c?kf(V,!0):kf(C.stateNode,!1)}catch(ie){Ie(C,C.return,ie)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}r&4&&(r=t.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,zi(t,a))));break;case 19:Lt(s,t),It(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,zi(t,r)));break;case 30:break;case 21:break;default:Lt(s,t),It(t)}}function It(t){var s=t.flags;if(s&2){try{for(var a,r=t.return;r!==null;){if(Ax(r)){a=r;break}r=r.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var c=a.stateNode,d=dd(t);Mi(t,d,c);break;case 5:var h=a.stateNode;a.flags&32&&(_l(h,""),a.flags&=-33);var p=dd(t);Mi(t,p,h);break;case 3:case 4:var C=a.stateNode.containerInfo,I=dd(t);ud(t,I,C);break;default:throw Error(o(161))}}catch(Q){Ie(t,t.return,Q)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Lx(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Lx(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function $s(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Dx(t,s.alternate,s),s=s.sibling}function xl(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:ja(4,s,s.return),xl(s);break;case 1:Ss(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Tx(s,s.return,a),xl(s);break;case 27:hn(s.stateNode);case 26:case 5:Ss(s,s.return),xl(s);break;case 22:s.memoizedState===null&&xl(s);break;case 30:xl(s);break;default:xl(s)}t=t.sibling}}function Gs(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var r=s.alternate,c=t,d=s,h=d.flags;switch(d.tag){case 0:case 11:case 15:Gs(c,d,a),sn(4,d);break;case 1:if(Gs(c,d,a),r=d,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(I){Ie(r,r.return,I)}if(r=d,c=r.updateQueue,c!==null){var p=r.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)xh(C[c],p)}catch(I){Ie(r,r.return,I)}}a&&h&64&&Cx(d),an(d,d.return);break;case 27:Ex(d);case 26:case 5:Gs(c,d,a),a&&r===null&&h&4&&kx(d),an(d,d.return);break;case 12:Gs(c,d,a);break;case 31:Gs(c,d,a),a&&h&4&&Mx(c,d);break;case 13:Gs(c,d,a),a&&h&4&&zx(c,d);break;case 22:d.memoizedState===null&&Gs(c,d,a),an(d,d.return);break;case 30:break;default:Gs(c,d,a)}s=s.sibling}}function hd(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Vr(a))}function xd(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Vr(t))}function xs(t,s,a,r){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ix(t,s,a,r),s=s.sibling}function Ix(t,s,a,r){var c=s.flags;switch(s.tag){case 0:case 11:case 15:xs(t,s,a,r),c&2048&&sn(9,s);break;case 1:xs(t,s,a,r);break;case 3:xs(t,s,a,r),c&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Vr(t)));break;case 12:if(c&2048){xs(t,s,a,r),t=s.stateNode;try{var d=s.memoizedProps,h=d.id,p=d.onPostCommit;typeof p=="function"&&p(h,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ie(s,s.return,C)}}else xs(t,s,a,r);break;case 31:xs(t,s,a,r);break;case 13:xs(t,s,a,r);break;case 23:break;case 22:d=s.stateNode,h=s.alternate,s.memoizedState!==null?d._visibility&2?xs(t,s,a,r):ln(t,s):d._visibility&2?xs(t,s,a,r):(d._visibility|=2,Jl(t,s,a,r,(s.subtreeFlags&10256)!==0||!1)),c&2048&&hd(h,s);break;case 24:xs(t,s,a,r),c&2048&&xd(s.alternate,s);break;default:xs(t,s,a,r)}}function Jl(t,s,a,r,c){for(c=c&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=t,h=s,p=a,C=r,I=h.flags;switch(h.tag){case 0:case 11:case 15:Jl(d,h,p,C,c),sn(8,h);break;case 23:break;case 22:var Q=h.stateNode;h.memoizedState!==null?Q._visibility&2?Jl(d,h,p,C,c):ln(d,h):(Q._visibility|=2,Jl(d,h,p,C,c)),c&&I&2048&&hd(h.alternate,h);break;case 24:Jl(d,h,p,C,c),c&&I&2048&&xd(h.alternate,h);break;default:Jl(d,h,p,C,c)}s=s.sibling}}function ln(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,r=s,c=r.flags;switch(r.tag){case 22:ln(a,r),c&2048&&hd(r.alternate,r);break;case 24:ln(a,r),c&2048&&xd(r.alternate,r);break;default:ln(a,r)}s=s.sibling}}var rn=8192;function Xl(t,s,a){if(t.subtreeFlags&rn)for(t=t.child;t!==null;)Bx(t,s,a),t=t.sibling}function Bx(t,s,a){switch(t.tag){case 26:Xl(t,s,a),t.flags&rn&&t.memoizedState!==null&&My(a,hs,t.memoizedState,t.memoizedProps);break;case 5:Xl(t,s,a);break;case 3:case 4:var r=hs;hs=Ki(t.stateNode.containerInfo),Xl(t,s,a),hs=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=rn,rn=16777216,Xl(t,s,a),rn=r):Xl(t,s,a));break;default:Xl(t,s,a)}}function Px(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function nn(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var r=s[a];ft=r,Hx(r,t)}Px(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qx(t),t=t.sibling}function qx(t){switch(t.tag){case 0:case 11:case 15:nn(t),t.flags&2048&&ja(9,t,t.return);break;case 3:nn(t);break;case 12:nn(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Ui(t)):nn(t);break;default:nn(t)}}function Ui(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var r=s[a];ft=r,Hx(r,t)}Px(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:ja(8,s,s.return),Ui(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Ui(s));break;default:Ui(s)}t=t.sibling}}function Hx(t,s){for(;ft!==null;){var a=ft;switch(a.tag){case 0:case 11:case 15:ja(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Vr(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,ft=r;else e:for(a=t;ft!==null;){r=ft;var c=r.sibling,d=r.return;if(Rx(r),r===a){ft=null;break e}if(c!==null){c.return=d,ft=c;break e}ft=d}}}var Kb={getCacheForType:function(t){var s=yt(nt),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return yt(nt).controller.signal}},Jb=typeof WeakMap=="function"?WeakMap:Map,Ue=0,He=null,Ce=null,ke=0,Le=0,Yt=null,Na=!1,Zl=!1,fd=!1,Fs=0,Xe=0,wa=0,fl=0,gd=0,Qt=0,Wl=0,on=null,Bt=null,pd=!1,Li=0,Vx=0,Ii=1/0,Bi=null,Sa=null,ut=0,Ca=null,er=null,Ys=0,bd=0,yd=null,$x=null,cn=0,vd=null;function Kt(){return(Ue&2)!==0&&ke!==0?ke&-ke:S.T!==null?Td():nm()}function Gx(){if(Qt===0)if((ke&536870912)===0||Ee){var t=Yn;Yn<<=1,(Yn&3932160)===0&&(Yn=262144),Qt=t}else Qt=536870912;return t=Gt.current,t!==null&&(t.flags|=32),Qt}function Pt(t,s,a){(t===He&&(Le===2||Le===9)||t.cancelPendingCommit!==null)&&(tr(t,0),Ta(t,ke,Qt,!1)),Er(t,a),((Ue&2)===0||t!==He)&&(t===He&&((Ue&2)===0&&(fl|=a),Xe===4&&Ta(t,ke,Qt,!1)),Cs(t))}function Fx(t,s,a){if((Ue&6)!==0)throw Error(o(327));var r=!a&&(s&127)===0&&(s&t.expiredLanes)===0||Ar(t,s),c=r?Wb(t,s):Nd(t,s,!0),d=r;do{if(c===0){Zl&&!r&&Ta(t,s,0,!1);break}else{if(a=t.current.alternate,d&&!Xb(a)){c=Nd(t,s,!1),d=!1;continue}if(c===2){if(d=s,t.errorRecoveryDisabledLanes&d)var h=0;else h=t.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){s=h;e:{var p=t;c=on;var C=p.current.memoizedState.isDehydrated;if(C&&(tr(p,h).flags|=256),h=Nd(p,h,!1),h!==2){if(fd&&!C){p.errorRecoveryDisabledLanes|=d,fl|=d,c=4;break e}d=Bt,Bt=c,d!==null&&(Bt===null?Bt=d:Bt.push.apply(Bt,d))}c=h}if(d=!1,c!==2)continue}}if(c===1){tr(t,0),Ta(t,s,0,!0);break}e:{switch(r=t,d=c,d){case 0:case 1:throw Error(o(345));case 4:if((s&4194048)!==s)break;case 6:Ta(r,s,Qt,!Na);break e;case 2:Bt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((s&62914560)===s&&(c=Li+300-_t(),10<c)){if(Ta(r,s,Qt,!Na),Kn(r,0,!0)!==0)break e;Ys=s,r.timeoutHandle=Sf(Yx.bind(null,r,a,Bt,Bi,pd,s,Qt,fl,Wl,Na,d,"Throttled",-0,0),c);break e}Yx(r,a,Bt,Bi,pd,s,Qt,fl,Wl,Na,d,null,-0,0)}}break}while(!0);Cs(t)}function Yx(t,s,a,r,c,d,h,p,C,I,Q,W,P,V){if(t.timeoutHandle=-1,W=s.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rs},Bx(s,d,W);var ie=(d&62914560)===d?Li-_t():(d&4194048)===d?Vx-_t():0;if(ie=zy(W,ie),ie!==null){Ys=d,t.cancelPendingCommit=ie(tf.bind(null,t,s,d,a,r,c,h,p,C,Q,W,null,P,V)),Ta(t,d,h,!I);return}}tf(t,s,d,a,r,c,h,p,C)}function Xb(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var c=a[r],d=c.getSnapshot;c=c.value;try{if(!Vt(d(),c))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ta(t,s,a,r){s&=~gd,s&=~fl,t.suspendedLanes|=s,t.pingedLanes&=~s,r&&(t.warmLanes|=s),r=t.expirationTimes;for(var c=s;0<c;){var d=31-Ht(c),h=1<<d;r[d]=-1,c&=~h}a!==0&&am(t,a,s)}function Pi(){return(Ue&6)===0?(dn(0),!1):!0}function jd(){if(Ce!==null){if(Le===0)var t=Ce.return;else t=Ce,Us=nl=null,Lc(t),Gl=null,Gr=0,t=Ce;for(;t!==null;)Sx(t.alternate,t),t=t.return;Ce=null}}function tr(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,py(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ys=0,jd(),He=t,Ce=a=Ms(t.current,null),ke=s,Le=0,Yt=null,Na=!1,Zl=Ar(t,s),fd=!1,Wl=Qt=gd=fl=wa=Xe=0,Bt=on=null,pd=!1,(s&8)!==0&&(s|=s&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=s;0<r;){var c=31-Ht(r),d=1<<c;s|=t[c],r&=~d}return Fs=s,ii(),a}function Qx(t,s){ye=null,S.H=Wr,s===$l||s===fi?(s=dh(),Le=3):s===Cc?(s=dh(),Le=4):Le=s===Wc?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Yt=s,Ce===null&&(Xe=1,Ei(t,ts(s,t.current)))}function Kx(){var t=Gt.current;return t===null?!0:(ke&4194048)===ke?rs===null:(ke&62914560)===ke||(ke&536870912)!==0?t===rs:!1}function Jx(){var t=S.H;return S.H=Wr,t===null?Wr:t}function Xx(){var t=S.A;return S.A=Kb,t}function qi(){Xe=4,Na||(ke&4194048)!==ke&&Gt.current!==null||(Zl=!0),(wa&134217727)===0&&(fl&134217727)===0||He===null||Ta(He,ke,Qt,!1)}function Nd(t,s,a){var r=Ue;Ue|=2;var c=Jx(),d=Xx();(He!==t||ke!==s)&&(Bi=null,tr(t,s)),s=!1;var h=Xe;e:do try{if(Le!==0&&Ce!==null){var p=Ce,C=Yt;switch(Le){case 8:jd(),h=6;break e;case 3:case 2:case 9:case 6:Gt.current===null&&(s=!0);var I=Le;if(Le=0,Yt=null,sr(t,p,C,I),a&&Zl){h=0;break e}break;default:I=Le,Le=0,Yt=null,sr(t,p,C,I)}}Zb(),h=Xe;break}catch(Q){Qx(t,Q)}while(!0);return s&&t.shellSuspendCounter++,Us=nl=null,Ue=r,S.H=c,S.A=d,Ce===null&&(He=null,ke=0,ii()),h}function Zb(){for(;Ce!==null;)Zx(Ce)}function Wb(t,s){var a=Ue;Ue|=2;var r=Jx(),c=Xx();He!==t||ke!==s?(Bi=null,Ii=_t()+500,tr(t,s)):Zl=Ar(t,s);e:do try{if(Le!==0&&Ce!==null){s=Ce;var d=Yt;t:switch(Le){case 1:Le=0,Yt=null,sr(t,s,d,1);break;case 2:case 9:if(oh(d)){Le=0,Yt=null,Wx(s);break}s=function(){Le!==2&&Le!==9||He!==t||(Le=7),Cs(t)},d.then(s,s);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:oh(d)?(Le=0,Yt=null,Wx(s)):(Le=0,Yt=null,sr(t,s,d,7));break;case 5:var h=null;switch(Ce.tag){case 26:h=Ce.memoizedState;case 5:case 27:var p=Ce;if(h?Bf(h):p.stateNode.complete){Le=0,Yt=null;var C=p.sibling;if(C!==null)Ce=C;else{var I=p.return;I!==null?(Ce=I,Hi(I)):Ce=null}break t}}Le=0,Yt=null,sr(t,s,d,5);break;case 6:Le=0,Yt=null,sr(t,s,d,6);break;case 8:jd(),Xe=6;break e;default:throw Error(o(462))}}ey();break}catch(Q){Qx(t,Q)}while(!0);return Us=nl=null,S.H=r,S.A=c,Ue=a,Ce!==null?0:(He=null,ke=0,ii(),Xe)}function ey(){for(;Ce!==null&&!Xa();)Zx(Ce)}function Zx(t){var s=Nx(t.alternate,t,Fs);t.memoizedProps=t.pendingProps,s===null?Hi(t):Ce=s}function Wx(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=gx(a,s,s.pendingProps,s.type,void 0,ke);break;case 11:s=gx(a,s,s.pendingProps,s.type.render,s.ref,ke);break;case 5:Lc(s);default:Sx(a,s),s=Ce=Xm(s,Fs),s=Nx(a,s,Fs)}t.memoizedProps=t.pendingProps,s===null?Hi(t):Ce=s}function sr(t,s,a,r){Us=nl=null,Lc(s),Gl=null,Gr=0;var c=s.return;try{if(Hb(t,c,s,a,ke)){Xe=1,Ei(t,ts(a,t.current)),Ce=null;return}}catch(d){if(c!==null)throw Ce=c,d;Xe=1,Ei(t,ts(a,t.current)),Ce=null;return}s.flags&32768?(Ee||r===1?t=!0:Zl||(ke&536870912)!==0?t=!1:(Na=t=!0,(r===2||r===9||r===3||r===6)&&(r=Gt.current,r!==null&&r.tag===13&&(r.flags|=16384))),ef(s,t)):Hi(s)}function Hi(t){var s=t;do{if((s.flags&32768)!==0){ef(s,Na);return}t=s.return;var a=Gb(s.alternate,s,Fs);if(a!==null){Ce=a;return}if(s=s.sibling,s!==null){Ce=s;return}Ce=s=t}while(s!==null);Xe===0&&(Xe=5)}function ef(t,s){do{var a=Fb(t.alternate,t);if(a!==null){a.flags&=32767,Ce=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){Ce=t;return}Ce=t=a}while(t!==null);Xe=6,Ce=null}function tf(t,s,a,r,c,d,h,p,C){t.cancelPendingCommit=null;do Vi();while(ut!==0);if((Ue&6)!==0)throw Error(o(327));if(s!==null){if(s===t.current)throw Error(o(177));if(d=s.lanes|s.childLanes,d|=dc,O0(t,a,d,h,p,C),t===He&&(Ce=He=null,ke=0),er=s,Ca=t,Ys=a,bd=d,yd=c,$x=r,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ly(Tr,function(){return nf(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||r){r=S.T,S.T=null,c=H.p,H.p=2,h=Ue,Ue|=4;try{Yb(t,s,a)}finally{Ue=h,H.p=c,S.T=r}}ut=1,sf(),af(),lf()}}function sf(){if(ut===1){ut=0;var t=Ca,s=er,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=S.T,S.T=null;var r=H.p;H.p=2;var c=Ue;Ue|=4;try{Ux(s,t);var d=Md,h=Hm(t.containerInfo),p=d.focusedElem,C=d.selectionRange;if(h!==p&&p&&p.ownerDocument&&qm(p.ownerDocument.documentElement,p)){if(C!==null&&rc(p)){var I=C.start,Q=C.end;if(Q===void 0&&(Q=I),"selectionStart"in p)p.selectionStart=I,p.selectionEnd=Math.min(Q,p.value.length);else{var W=p.ownerDocument||document,P=W&&W.defaultView||window;if(P.getSelection){var V=P.getSelection(),ie=p.textContent.length,xe=Math.min(C.start,ie),qe=C.end===void 0?xe:Math.min(C.end,ie);!V.extend&&xe>qe&&(h=qe,qe=xe,xe=h);var O=Pm(p,xe),_=Pm(p,qe);if(O&&_&&(V.rangeCount!==1||V.anchorNode!==O.node||V.anchorOffset!==O.offset||V.focusNode!==_.node||V.focusOffset!==_.offset)){var L=W.createRange();L.setStart(O.node,O.offset),V.removeAllRanges(),xe>qe?(V.addRange(L),V.extend(_.node,_.offset)):(L.setEnd(_.node,_.offset),V.addRange(L))}}}}for(W=[],V=p;V=V.parentNode;)V.nodeType===1&&W.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<W.length;p++){var X=W[p];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}to=!!Od,Md=Od=null}finally{Ue=c,H.p=r,S.T=a}}t.current=s,ut=2}}function af(){if(ut===2){ut=0;var t=Ca,s=er,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=S.T,S.T=null;var r=H.p;H.p=2;var c=Ue;Ue|=4;try{Dx(t,s.alternate,s)}finally{Ue=c,H.p=r,S.T=a}}ut=3}}function lf(){if(ut===4||ut===3){ut=0,Uo();var t=Ca,s=er,a=Ys,r=$x;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ut=5:(ut=0,er=Ca=null,rf(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Sa=null),Po(a),s=s.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(kr,s,void 0,(s.current.flags&128)===128)}catch{}if(r!==null){s=S.T,c=H.p,H.p=2,S.T=null;try{for(var d=t.onRecoverableError,h=0;h<r.length;h++){var p=r[h];d(p.value,{componentStack:p.stack})}}finally{S.T=s,H.p=c}}(Ys&3)!==0&&Vi(),Cs(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===vd?cn++:(cn=0,vd=t):cn=0,dn(0)}}function rf(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Vr(s)))}function Vi(){return sf(),af(),lf(),nf()}function nf(){if(ut!==5)return!1;var t=Ca,s=bd;bd=0;var a=Po(Ys),r=S.T,c=H.p;try{H.p=32>a?32:a,S.T=null,a=yd,yd=null;var d=Ca,h=Ys;if(ut=0,er=Ca=null,Ys=0,(Ue&6)!==0)throw Error(o(331));var p=Ue;if(Ue|=4,qx(d.current),Ix(d,d.current,h,a),Ue=p,dn(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(kr,d)}catch{}return!0}finally{H.p=c,S.T=r,rf(t,s)}}function of(t,s,a){s=ts(a,s),s=Zc(t.stateNode,s,2),t=ba(t,s,2),t!==null&&(Er(t,2),Cs(t))}function Ie(t,s,a){if(t.tag===3)of(t,t,a);else for(;s!==null;){if(s.tag===3){of(s,t,a);break}else if(s.tag===1){var r=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sa===null||!Sa.has(r))){t=ts(a,t),a=ox(2),r=ba(s,a,2),r!==null&&(cx(a,r,s,t),Er(r,2),Cs(r));break}}s=s.return}}function wd(t,s,a){var r=t.pingCache;if(r===null){r=t.pingCache=new Jb;var c=new Set;r.set(s,c)}else c=r.get(s),c===void 0&&(c=new Set,r.set(s,c));c.has(a)||(fd=!0,c.add(a),t=ty.bind(null,t,s,a),s.then(t,t))}function ty(t,s,a){var r=t.pingCache;r!==null&&r.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,He===t&&(ke&a)===a&&(Xe===4||Xe===3&&(ke&62914560)===ke&&300>_t()-Li?(Ue&2)===0&&tr(t,0):gd|=a,Wl===ke&&(Wl=0)),Cs(t)}function cf(t,s){s===0&&(s=sm()),t=al(t,s),t!==null&&(Er(t,s),Cs(t))}function sy(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),cf(t,a)}function ay(t,s){var a=0;switch(t.tag){case 31:case 13:var r=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(o(314))}r!==null&&r.delete(s),cf(t,a)}function ly(t,s){return Xt(t,s)}var $i=null,ar=null,Sd=!1,Gi=!1,Cd=!1,ka=0;function Cs(t){t!==ar&&t.next===null&&(ar===null?$i=ar=t:ar=ar.next=t),Gi=!0,Sd||(Sd=!0,ny())}function dn(t,s){if(!Cd&&Gi){Cd=!0;do for(var a=!1,r=$i;r!==null;){if(t!==0){var c=r.pendingLanes;if(c===0)var d=0;else{var h=r.suspendedLanes,p=r.pingedLanes;d=(1<<31-Ht(42|t)+1)-1,d&=c&~(h&~p),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,hf(r,d))}else d=ke,d=Kn(r,r===He?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(d&3)===0||Ar(r,d)||(a=!0,hf(r,d));r=r.next}while(a);Cd=!1}}function ry(){df()}function df(){Gi=Sd=!1;var t=0;ka!==0&&gy()&&(t=ka);for(var s=_t(),a=null,r=$i;r!==null;){var c=r.next,d=uf(r,s);d===0?(r.next=null,a===null?$i=c:a.next=c,c===null&&(ar=a)):(a=r,(t!==0||(d&3)!==0)&&(Gi=!0)),r=c}ut!==0&&ut!==5||dn(t),ka!==0&&(ka=0)}function uf(t,s){for(var a=t.suspendedLanes,r=t.pingedLanes,c=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var h=31-Ht(d),p=1<<h,C=c[h];C===-1?((p&a)===0||(p&r)!==0)&&(c[h]=R0(p,s)):C<=s&&(t.expiredLanes|=p),d&=~p}if(s=He,a=ke,a=Kn(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,a===0||t===s&&(Le===2||Le===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&oa(r),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ar(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(r!==null&&oa(r),Po(a)){case 2:case 8:a=Gn;break;case 32:a=Tr;break;case 268435456:a=tm;break;default:a=Tr}return r=mf.bind(null,t),a=Xt(a,r),t.callbackPriority=s,t.callbackNode=a,s}return r!==null&&r!==null&&oa(r),t.callbackPriority=2,t.callbackNode=null,2}function mf(t,s){if(ut!==0&&ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Vi()&&t.callbackNode!==a)return null;var r=ke;return r=Kn(t,t===He?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(Fx(t,r,s),uf(t,_t()),t.callbackNode!=null&&t.callbackNode===a?mf.bind(null,t):null)}function hf(t,s){if(Vi())return null;Fx(t,s,!0)}function ny(){by(function(){(Ue&6)!==0?Xt($n,ry):df()})}function Td(){if(ka===0){var t=Hl;t===0&&(t=Fn,Fn<<=1,(Fn&261888)===0&&(Fn=256)),ka=t}return ka}function xf(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Wn(""+t)}function ff(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function iy(t,s,a,r,c){if(s==="submit"&&a&&a.stateNode===c){var d=xf((c[Mt]||null).action),h=r.submitter;h&&(s=(s=h[Mt]||null)?xf(s.formAction):h.getAttribute("formAction"),s!==null&&(d=s,h=null));var p=new ai("action","action",null,r,c);t.push({event:p,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ka!==0){var C=h?ff(c,h):new FormData(c);Fc(a,{pending:!0,data:C,method:c.method,action:d},null,C)}}else typeof d=="function"&&(p.preventDefault(),C=h?ff(c,h):new FormData(c),Fc(a,{pending:!0,data:C,method:c.method,action:d},d,C))},currentTarget:c}]})}}for(var kd=0;kd<cc.length;kd++){var Ad=cc[kd],oy=Ad.toLowerCase(),cy=Ad[0].toUpperCase()+Ad.slice(1);ms(oy,"on"+cy)}ms(Gm,"onAnimationEnd"),ms(Fm,"onAnimationIteration"),ms(Ym,"onAnimationStart"),ms("dblclick","onDoubleClick"),ms("focusin","onFocus"),ms("focusout","onBlur"),ms(Cb,"onTransitionRun"),ms(Tb,"onTransitionStart"),ms(kb,"onTransitionCancel"),ms(Qm,"onTransitionEnd"),Al("onMouseEnter",["mouseout","mouseover"]),Al("onMouseLeave",["mouseout","mouseover"]),Al("onPointerEnter",["pointerout","pointerover"]),Al("onPointerLeave",["pointerout","pointerover"]),Wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var un="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(un));function gf(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var r=t[a],c=r.event;r=r.listeners;e:{var d=void 0;if(s)for(var h=r.length-1;0<=h;h--){var p=r[h],C=p.instance,I=p.currentTarget;if(p=p.listener,C!==d&&c.isPropagationStopped())break e;d=p,c.currentTarget=I;try{d(c)}catch(Q){ni(Q)}c.currentTarget=null,d=C}else for(h=0;h<r.length;h++){if(p=r[h],C=p.instance,I=p.currentTarget,p=p.listener,C!==d&&c.isPropagationStopped())break e;d=p,c.currentTarget=I;try{d(c)}catch(Q){ni(Q)}c.currentTarget=null,d=C}}}}function Te(t,s){var a=s[qo];a===void 0&&(a=s[qo]=new Set);var r=t+"__bubble";a.has(r)||(pf(s,t,2,!1),a.add(r))}function Ed(t,s,a){var r=0;s&&(r|=4),pf(a,t,r,s)}var Fi="_reactListening"+Math.random().toString(36).slice(2);function _d(t){if(!t[Fi]){t[Fi]=!0,cm.forEach(function(a){a!=="selectionchange"&&(dy.has(a)||Ed(a,!1,t),Ed(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Fi]||(s[Fi]=!0,Ed("selectionchange",!1,s))}}function pf(t,s,a,r){switch(Ff(s)){case 2:var c=Iy;break;case 8:c=By;break;default:c=Gd}a=c.bind(null,s,a,t),c=void 0,!Jo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(c=!0),r?c!==void 0?t.addEventListener(s,a,{capture:!0,passive:c}):t.addEventListener(s,a,!0):c!==void 0?t.addEventListener(s,a,{passive:c}):t.addEventListener(s,a,!1)}function Dd(t,s,a,r,c){var d=r;if((s&1)===0&&(s&2)===0&&r!==null)e:for(;;){if(r===null)return;var h=r.tag;if(h===3||h===4){var p=r.stateNode.containerInfo;if(p===c)break;if(h===4)for(h=r.return;h!==null;){var C=h.tag;if((C===3||C===4)&&h.stateNode.containerInfo===c)return;h=h.return}for(;p!==null;){if(h=Cl(p),h===null)return;if(C=h.tag,C===5||C===6||C===26||C===27){r=d=h;continue e}p=p.parentNode}}r=r.return}jm(function(){var I=d,Q=Qo(a),W=[];e:{var P=Km.get(t);if(P!==void 0){var V=ai,ie=t;switch(t){case"keypress":if(ti(a)===0)break e;case"keydown":case"keyup":V=ab;break;case"focusin":ie="focus",V=ec;break;case"focusout":ie="blur",V=ec;break;case"beforeblur":case"afterblur":V=ec;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Sm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=G0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=nb;break;case Gm:case Fm:case Ym:V=Q0;break;case Qm:V=ob;break;case"scroll":case"scrollend":V=V0;break;case"wheel":V=db;break;case"copy":case"cut":case"paste":V=J0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Tm;break;case"toggle":case"beforetoggle":V=mb}var xe=(s&4)!==0,qe=!xe&&(t==="scroll"||t==="scrollend"),O=xe?P!==null?P+"Capture":null:P;xe=[];for(var _=I,L;_!==null;){var X=_;if(L=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||L===null||O===null||(X=Rr(_,O),X!=null&&xe.push(mn(_,X,L))),qe)break;_=_.return}0<xe.length&&(P=new V(P,ie,null,a,Q),W.push({event:P,listeners:xe}))}}if((s&7)===0){e:{if(P=t==="mouseover"||t==="pointerover",V=t==="mouseout"||t==="pointerout",P&&a!==Yo&&(ie=a.relatedTarget||a.fromElement)&&(Cl(ie)||ie[Sl]))break e;if((V||P)&&(P=Q.window===Q?Q:(P=Q.ownerDocument)?P.defaultView||P.parentWindow:window,V?(ie=a.relatedTarget||a.toElement,V=I,ie=ie?Cl(ie):null,ie!==null&&(qe=m(ie),xe=ie.tag,ie!==qe||xe!==5&&xe!==27&&xe!==6)&&(ie=null)):(V=null,ie=I),V!==ie)){if(xe=Sm,X="onMouseLeave",O="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(xe=Tm,X="onPointerLeave",O="onPointerEnter",_="pointer"),qe=V==null?P:Dr(V),L=ie==null?P:Dr(ie),P=new xe(X,_+"leave",V,a,Q),P.target=qe,P.relatedTarget=L,X=null,Cl(Q)===I&&(xe=new xe(O,_+"enter",ie,a,Q),xe.target=L,xe.relatedTarget=qe,X=xe),qe=X,V&&ie)t:{for(xe=uy,O=V,_=ie,L=0,X=O;X;X=xe(X))L++;X=0;for(var he=_;he;he=xe(he))X++;for(;0<L-X;)O=xe(O),L--;for(;0<X-L;)_=xe(_),X--;for(;L--;){if(O===_||_!==null&&O===_.alternate){xe=O;break t}O=xe(O),_=xe(_)}xe=null}else xe=null;V!==null&&bf(W,P,V,xe,!1),ie!==null&&qe!==null&&bf(W,qe,ie,xe,!0)}}e:{if(P=I?Dr(I):window,V=P.nodeName&&P.nodeName.toLowerCase(),V==="select"||V==="input"&&P.type==="file")var Oe=Mm;else if(Rm(P))if(zm)Oe=Nb;else{Oe=vb;var ue=yb}else V=P.nodeName,!V||V.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?I&&Fo(I.elementType)&&(Oe=Mm):Oe=jb;if(Oe&&(Oe=Oe(t,I))){Om(W,Oe,a,Q);break e}ue&&ue(t,P,I),t==="focusout"&&I&&P.type==="number"&&I.memoizedProps.value!=null&&Go(P,"number",P.value)}switch(ue=I?Dr(I):window,t){case"focusin":(Rm(ue)||ue.contentEditable==="true")&&(Ml=ue,nc=I,Pr=null);break;case"focusout":Pr=nc=Ml=null;break;case"mousedown":ic=!0;break;case"contextmenu":case"mouseup":case"dragend":ic=!1,Vm(W,a,Q);break;case"selectionchange":if(Sb)break;case"keydown":case"keyup":Vm(W,a,Q)}var ve;if(sc)e:{switch(t){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Ol?_m(t,a)&&(Ae="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ae="onCompositionStart");Ae&&(km&&a.locale!=="ko"&&(Ol||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Ol&&(ve=Nm()):(ua=Q,Xo="value"in ua?ua.value:ua.textContent,Ol=!0)),ue=Yi(I,Ae),0<ue.length&&(Ae=new Cm(Ae,t,null,a,Q),W.push({event:Ae,listeners:ue}),ve?Ae.data=ve:(ve=Dm(a),ve!==null&&(Ae.data=ve)))),(ve=xb?fb(t,a):gb(t,a))&&(Ae=Yi(I,"onBeforeInput"),0<Ae.length&&(ue=new Cm("onBeforeInput","beforeinput",null,a,Q),W.push({event:ue,listeners:Ae}),ue.data=ve)),iy(W,t,I,a,Q)}gf(W,s)})}function mn(t,s,a){return{instance:t,listener:s,currentTarget:a}}function Yi(t,s){for(var a=s+"Capture",r=[];t!==null;){var c=t,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=Rr(t,a),c!=null&&r.unshift(mn(t,c,d)),c=Rr(t,s),c!=null&&r.push(mn(t,c,d))),t.tag===3)return r;t=t.return}return[]}function uy(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function bf(t,s,a,r,c){for(var d=s._reactName,h=[];a!==null&&a!==r;){var p=a,C=p.alternate,I=p.stateNode;if(p=p.tag,C!==null&&C===r)break;p!==5&&p!==26&&p!==27||I===null||(C=I,c?(I=Rr(a,d),I!=null&&h.unshift(mn(a,I,C))):c||(I=Rr(a,d),I!=null&&h.push(mn(a,I,C)))),a=a.return}h.length!==0&&t.push({event:s,listeners:h})}var my=/\r\n?/g,hy=/\u0000|\uFFFD/g;function yf(t){return(typeof t=="string"?t:""+t).replace(my,`
`).replace(hy,"")}function vf(t,s){return s=yf(s),yf(t)===s}function Pe(t,s,a,r,c,d){switch(a){case"children":typeof r=="string"?s==="body"||s==="textarea"&&r===""||_l(t,r):(typeof r=="number"||typeof r=="bigint")&&s!=="body"&&_l(t,""+r);break;case"className":Xn(t,"class",r);break;case"tabIndex":Xn(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Xn(t,a,r);break;case"style":ym(t,r,d);break;case"data":if(s!=="object"){Xn(t,"data",r);break}case"src":case"href":if(r===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=Wn(""+r),t.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&Pe(t,s,"name",c.name,c,null),Pe(t,s,"formEncType",c.formEncType,c,null),Pe(t,s,"formMethod",c.formMethod,c,null),Pe(t,s,"formTarget",c.formTarget,c,null)):(Pe(t,s,"encType",c.encType,c,null),Pe(t,s,"method",c.method,c,null),Pe(t,s,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=Wn(""+r),t.setAttribute(a,r);break;case"onClick":r!=null&&(t.onclick=Rs);break;case"onScroll":r!=null&&Te("scroll",t);break;case"onScrollEnd":r!=null&&Te("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(a=r.__html,a!=null){if(c.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}a=Wn(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""+r):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":r===!0?t.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,r):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(a,r):t.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(a):t.setAttribute(a,r);break;case"popover":Te("beforetoggle",t),Te("toggle",t),Jn(t,"popover",r);break;case"xlinkActuate":Ds(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Ds(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Ds(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Ds(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Ds(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Ds(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Ds(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Ds(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Ds(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Jn(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=q0.get(a)||a,Jn(t,a,r))}}function Rd(t,s,a,r,c,d){switch(a){case"style":ym(t,r,d);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(a=r.__html,a!=null){if(c.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"children":typeof r=="string"?_l(t,r):(typeof r=="number"||typeof r=="bigint")&&_l(t,""+r);break;case"onScroll":r!=null&&Te("scroll",t);break;case"onScrollEnd":r!=null&&Te("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Rs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dm.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),s=a.slice(2,c?a.length-7:void 0),d=t[Mt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(s,d,c),typeof r=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,r,c);break e}a in t?t[a]=r:r===!0?t.setAttribute(a,""):Jn(t,a,r)}}}function jt(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",t),Te("load",t);var r=!1,c=!1,d;for(d in a)if(a.hasOwnProperty(d)){var h=a[d];if(h!=null)switch(d){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:Pe(t,s,d,h,a,null)}}c&&Pe(t,s,"srcSet",a.srcSet,a,null),r&&Pe(t,s,"src",a.src,a,null);return;case"input":Te("invalid",t);var p=d=h=c=null,C=null,I=null;for(r in a)if(a.hasOwnProperty(r)){var Q=a[r];if(Q!=null)switch(r){case"name":c=Q;break;case"type":h=Q;break;case"checked":C=Q;break;case"defaultChecked":I=Q;break;case"value":d=Q;break;case"defaultValue":p=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(o(137,s));break;default:Pe(t,s,r,Q,a,null)}}fm(t,d,p,C,I,h,c,!1);return;case"select":Te("invalid",t),r=h=d=null;for(c in a)if(a.hasOwnProperty(c)&&(p=a[c],p!=null))switch(c){case"value":d=p;break;case"defaultValue":h=p;break;case"multiple":r=p;default:Pe(t,s,c,p,a,null)}s=d,a=h,t.multiple=!!r,s!=null?El(t,!!r,s,!1):a!=null&&El(t,!!r,a,!0);return;case"textarea":Te("invalid",t),d=c=r=null;for(h in a)if(a.hasOwnProperty(h)&&(p=a[h],p!=null))switch(h){case"value":r=p;break;case"defaultValue":c=p;break;case"children":d=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(o(91));break;default:Pe(t,s,h,p,a,null)}pm(t,r,c,d);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(r=a[C],r!=null))switch(C){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Pe(t,s,C,r,a,null)}return;case"dialog":Te("beforetoggle",t),Te("toggle",t),Te("cancel",t),Te("close",t);break;case"iframe":case"object":Te("load",t);break;case"video":case"audio":for(r=0;r<un.length;r++)Te(un[r],t);break;case"image":Te("error",t),Te("load",t);break;case"details":Te("toggle",t);break;case"embed":case"source":case"link":Te("error",t),Te("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in a)if(a.hasOwnProperty(I)&&(r=a[I],r!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:Pe(t,s,I,r,a,null)}return;default:if(Fo(s)){for(Q in a)a.hasOwnProperty(Q)&&(r=a[Q],r!==void 0&&Rd(t,s,Q,r,a,void 0));return}}for(p in a)a.hasOwnProperty(p)&&(r=a[p],r!=null&&Pe(t,s,p,r,a,null))}function xy(t,s,a,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,h=null,p=null,C=null,I=null,Q=null;for(V in a){var W=a[V];if(a.hasOwnProperty(V)&&W!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":C=W;default:r.hasOwnProperty(V)||Pe(t,s,V,null,r,W)}}for(var P in r){var V=r[P];if(W=a[P],r.hasOwnProperty(P)&&(V!=null||W!=null))switch(P){case"type":d=V;break;case"name":c=V;break;case"checked":I=V;break;case"defaultChecked":Q=V;break;case"value":h=V;break;case"defaultValue":p=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(o(137,s));break;default:V!==W&&Pe(t,s,P,V,r,W)}}$o(t,h,p,C,I,Q,d,c);return;case"select":V=h=p=P=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":V=C;default:r.hasOwnProperty(d)||Pe(t,s,d,null,r,C)}for(c in r)if(d=r[c],C=a[c],r.hasOwnProperty(c)&&(d!=null||C!=null))switch(c){case"value":P=d;break;case"defaultValue":p=d;break;case"multiple":h=d;default:d!==C&&Pe(t,s,c,d,r,C)}s=p,a=h,r=V,P!=null?El(t,!!a,P,!1):!!r!=!!a&&(s!=null?El(t,!!a,s,!0):El(t,!!a,a?[]:"",!1));return;case"textarea":V=P=null;for(p in a)if(c=a[p],a.hasOwnProperty(p)&&c!=null&&!r.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:Pe(t,s,p,null,r,c)}for(h in r)if(c=r[h],d=a[h],r.hasOwnProperty(h)&&(c!=null||d!=null))switch(h){case"value":P=c;break;case"defaultValue":V=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:c!==d&&Pe(t,s,h,c,r,d)}gm(t,P,V);return;case"option":for(var ie in a)if(P=a[ie],a.hasOwnProperty(ie)&&P!=null&&!r.hasOwnProperty(ie))switch(ie){case"selected":t.selected=!1;break;default:Pe(t,s,ie,null,r,P)}for(C in r)if(P=r[C],V=a[C],r.hasOwnProperty(C)&&P!==V&&(P!=null||V!=null))switch(C){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Pe(t,s,C,P,r,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in a)P=a[xe],a.hasOwnProperty(xe)&&P!=null&&!r.hasOwnProperty(xe)&&Pe(t,s,xe,null,r,P);for(I in r)if(P=r[I],V=a[I],r.hasOwnProperty(I)&&P!==V&&(P!=null||V!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(o(137,s));break;default:Pe(t,s,I,P,r,V)}return;default:if(Fo(s)){for(var qe in a)P=a[qe],a.hasOwnProperty(qe)&&P!==void 0&&!r.hasOwnProperty(qe)&&Rd(t,s,qe,void 0,r,P);for(Q in r)P=r[Q],V=a[Q],!r.hasOwnProperty(Q)||P===V||P===void 0&&V===void 0||Rd(t,s,Q,P,r,V);return}}for(var O in a)P=a[O],a.hasOwnProperty(O)&&P!=null&&!r.hasOwnProperty(O)&&Pe(t,s,O,null,r,P);for(W in r)P=r[W],V=a[W],!r.hasOwnProperty(W)||P===V||P==null&&V==null||Pe(t,s,W,P,r,V)}function jf(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fy(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),r=0;r<a.length;r++){var c=a[r],d=c.transferSize,h=c.initiatorType,p=c.duration;if(d&&p&&jf(h)){for(h=0,p=c.responseEnd,r+=1;r<a.length;r++){var C=a[r],I=C.startTime;if(I>p)break;var Q=C.transferSize,W=C.initiatorType;Q&&jf(W)&&(C=C.responseEnd,h+=Q*(C<p?1:(p-I)/(C-I)))}if(--r,s+=8*(d+h)/(c.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Od=null,Md=null;function Qi(t){return t.nodeType===9?t:t.ownerDocument}function Nf(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wf(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function zd(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ud=null;function gy(){var t=window.event;return t&&t.type==="popstate"?t===Ud?!1:(Ud=t,!0):(Ud=null,!1)}var Sf=typeof setTimeout=="function"?setTimeout:void 0,py=typeof clearTimeout=="function"?clearTimeout:void 0,Cf=typeof Promise=="function"?Promise:void 0,by=typeof queueMicrotask=="function"?queueMicrotask:typeof Cf<"u"?function(t){return Cf.resolve(null).then(t).catch(yy)}:Sf;function yy(t){setTimeout(function(){throw t})}function Aa(t){return t==="head"}function Tf(t,s){var a=s,r=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(r===0){t.removeChild(c),ir(s);return}r--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")r++;else if(a==="html")hn(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,hn(a);for(var d=a.firstChild;d;){var h=d.nextSibling,p=d.nodeName;d[_r]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=h}}else a==="body"&&hn(t.ownerDocument.body);a=c}while(a);ir(s)}function kf(t,s){var a=t;t=0;do{var r=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=r}while(a)}function Ld(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ld(a),Ho(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function vy(t,s,a,r){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[_r])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ns(t.nextSibling),t===null)break}return null}function jy(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ns(t.nextSibling),t===null))return null;return t}function Af(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ns(t.nextSibling),t===null))return null;return t}function Id(t){return t.data==="$?"||t.data==="$~"}function Bd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Ny(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var r=function(){s(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function ns(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Pd=null;function Ef(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return ns(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function _f(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function Df(t,s,a){switch(s=Qi(a),t){case"html":if(t=s.documentElement,!t)throw Error(o(452));return t;case"head":if(t=s.head,!t)throw Error(o(453));return t;case"body":if(t=s.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function hn(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Ho(t)}var is=new Map,Rf=new Set;function Ki(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Qs=H.d;H.d={f:wy,r:Sy,D:Cy,C:Ty,L:ky,m:Ay,X:_y,S:Ey,M:Dy};function wy(){var t=Qs.f(),s=Pi();return t||s}function Sy(t){var s=Tl(t);s!==null&&s.tag===5&&s.type==="form"?Qh(s):Qs.r(t)}var lr=typeof document>"u"?null:document;function Of(t,s,a){var r=lr;if(r&&typeof s=="string"&&s){var c=Wt(s);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Rf.has(c)||(Rf.add(c),t={rel:t,crossOrigin:a,href:s},r.querySelector(c)===null&&(s=r.createElement("link"),jt(s,"link",t),xt(s),r.head.appendChild(s)))}}function Cy(t){Qs.D(t),Of("dns-prefetch",t,null)}function Ty(t,s){Qs.C(t,s),Of("preconnect",t,s)}function ky(t,s,a){Qs.L(t,s,a);var r=lr;if(r&&t&&s){var c='link[rel="preload"][as="'+Wt(s)+'"]';s==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Wt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Wt(a.imageSizes)+'"]')):c+='[href="'+Wt(t)+'"]';var d=c;switch(s){case"style":d=rr(t);break;case"script":d=nr(t)}is.has(d)||(t=y({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),is.set(d,t),r.querySelector(c)!==null||s==="style"&&r.querySelector(xn(d))||s==="script"&&r.querySelector(fn(d))||(s=r.createElement("link"),jt(s,"link",t),xt(s),r.head.appendChild(s)))}}function Ay(t,s){Qs.m(t,s);var a=lr;if(a&&t){var r=s&&typeof s.as=="string"?s.as:"script",c='link[rel="modulepreload"][as="'+Wt(r)+'"][href="'+Wt(t)+'"]',d=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=nr(t)}if(!is.has(d)&&(t=y({rel:"modulepreload",href:t},s),is.set(d,t),a.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(fn(d)))return}r=a.createElement("link"),jt(r,"link",t),xt(r),a.head.appendChild(r)}}}function Ey(t,s,a){Qs.S(t,s,a);var r=lr;if(r&&t){var c=kl(r).hoistableStyles,d=rr(t);s=s||"default";var h=c.get(d);if(!h){var p={loading:0,preload:null};if(h=r.querySelector(xn(d)))p.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":s},a),(a=is.get(d))&&qd(t,a);var C=h=r.createElement("link");xt(C),jt(C,"link",t),C._p=new Promise(function(I,Q){C.onload=I,C.onerror=Q}),C.addEventListener("load",function(){p.loading|=1}),C.addEventListener("error",function(){p.loading|=2}),p.loading|=4,Ji(h,s,r)}h={type:"stylesheet",instance:h,count:1,state:p},c.set(d,h)}}}function _y(t,s){Qs.X(t,s);var a=lr;if(a&&t){var r=kl(a).hoistableScripts,c=nr(t),d=r.get(c);d||(d=a.querySelector(fn(c)),d||(t=y({src:t,async:!0},s),(s=is.get(c))&&Hd(t,s),d=a.createElement("script"),xt(d),jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(c,d))}}function Dy(t,s){Qs.M(t,s);var a=lr;if(a&&t){var r=kl(a).hoistableScripts,c=nr(t),d=r.get(c);d||(d=a.querySelector(fn(c)),d||(t=y({src:t,async:!0,type:"module"},s),(s=is.get(c))&&Hd(t,s),d=a.createElement("script"),xt(d),jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(c,d))}}function Mf(t,s,a,r){var c=(c=Ge.current)?Ki(c):null;if(!c)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=rr(a.href),a=kl(c).hoistableStyles,r=a.get(s),r||(r={type:"style",instance:null,count:0,state:null},a.set(s,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=rr(a.href);var d=kl(c).hoistableStyles,h=d.get(t);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,h),(d=c.querySelector(xn(t)))&&!d._p&&(h.instance=d,h.state.loading=5),is.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},is.set(t,a),d||Ry(c,t,a,h.state))),s&&r===null)throw Error(o(528,""));return h}if(s&&r!==null)throw Error(o(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=nr(a),a=kl(c).hoistableScripts,r=a.get(s),r||(r={type:"script",instance:null,count:0,state:null},a.set(s,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function rr(t){return'href="'+Wt(t)+'"'}function xn(t){return'link[rel="stylesheet"]['+t+"]"}function zf(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function Ry(t,s,a,r){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?r.loading=1:(s=t.createElement("link"),r.preload=s,s.addEventListener("load",function(){return r.loading|=1}),s.addEventListener("error",function(){return r.loading|=2}),jt(s,"link",a),xt(s),t.head.appendChild(s))}function nr(t){return'[src="'+Wt(t)+'"]'}function fn(t){return"script[async]"+t}function Uf(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var r=t.querySelector('style[data-href~="'+Wt(a.href)+'"]');if(r)return s.instance=r,xt(r),r;var c=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),xt(r),jt(r,"style",c),Ji(r,a.precedence,t),s.instance=r;case"stylesheet":c=rr(a.href);var d=t.querySelector(xn(c));if(d)return s.state.loading|=4,s.instance=d,xt(d),d;r=zf(a),(c=is.get(c))&&qd(r,c),d=(t.ownerDocument||t).createElement("link"),xt(d);var h=d;return h._p=new Promise(function(p,C){h.onload=p,h.onerror=C}),jt(d,"link",r),s.state.loading|=4,Ji(d,a.precedence,t),s.instance=d;case"script":return d=nr(a.src),(c=t.querySelector(fn(d)))?(s.instance=c,xt(c),c):(r=a,(c=is.get(d))&&(r=y({},a),Hd(r,c)),t=t.ownerDocument||t,c=t.createElement("script"),xt(c),jt(c,"link",r),t.head.appendChild(c),s.instance=c);case"void":return null;default:throw Error(o(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(r=s.instance,s.state.loading|=4,Ji(r,a.precedence,t));return s.instance}function Ji(t,s,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,d=c,h=0;h<r.length;h++){var p=r[h];if(p.dataset.precedence===s)d=p;else if(d!==c)break}d?d.parentNode.insertBefore(t,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function qd(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Hd(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Xi=null;function Lf(t,s,a){if(Xi===null){var r=new Map,c=Xi=new Map;c.set(a,r)}else c=Xi,r=c.get(a),r||(r=new Map,c.set(a,r));if(r.has(t))return r;for(r.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var d=a[c];if(!(d[_r]||d[pt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var h=d.getAttribute(s)||"";h=t+h;var p=r.get(h);p?p.push(d):r.set(h,[d])}}return r}function If(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function Oy(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Bf(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function My(t,s,a,r){if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=rr(r.href),d=s.querySelector(xn(c));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=Zi.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=d,xt(d);return}d=s.ownerDocument||s,r=zf(r),(c=is.get(c))&&qd(r,c),d=d.createElement("link"),xt(d);var h=d;h._p=new Promise(function(p,C){h.onload=p,h.onerror=C}),jt(d,"link",r),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Zi.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var Vd=0;function zy(t,s){return t.stylesheets&&t.count===0&&eo(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var r=setTimeout(function(){if(t.stylesheets&&eo(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+s);0<t.imgBytes&&Vd===0&&(Vd=62500*fy());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&eo(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Vd?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(c)}}:null}function Zi(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)eo(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Wi=null;function eo(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Wi=new Map,s.forEach(Uy,t),Wi=null,Zi.call(t))}function Uy(t,s){if(!(s.state.loading&4)){var a=Wi.get(t);if(a)var r=a.get(null);else{a=new Map,Wi.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var h=c[d];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(a.set(h.dataset.precedence,h),r=h)}r&&a.set(null,r)}c=s.instance,h=c.getAttribute("data-precedence"),d=a.get(h)||r,d===r&&a.set(null,c),a.set(h,c),this.count++,r=Zi.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),d?d.parentNode.insertBefore(c,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),s.state.loading|=4}}var gn={$$typeof:D,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function Ly(t,s,a,r,c,d,h,p,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Io(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Io(0),this.hiddenUpdates=Io(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Pf(t,s,a,r,c,d,h,p,C,I,Q,W){return t=new Ly(t,s,a,h,C,I,Q,W,p),s=1,d===!0&&(s|=24),d=$t(3,null,null,s),t.current=d,d.stateNode=t,s=Nc(),s.refCount++,t.pooledCache=s,s.refCount++,d.memoizedState={element:r,isDehydrated:a,cache:s},Tc(d),t}function qf(t){return t?(t=Ll,t):Ll}function Hf(t,s,a,r,c,d){c=qf(c),r.context===null?r.context=c:r.pendingContext=c,r=pa(s),r.payload={element:a},d=d===void 0?null:d,d!==null&&(r.callback=d),a=ba(t,r,s),a!==null&&(Pt(a,t,s),Yr(a,t,s))}function Vf(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function $d(t,s){Vf(t,s),(t=t.alternate)&&Vf(t,s)}function $f(t){if(t.tag===13||t.tag===31){var s=al(t,67108864);s!==null&&Pt(s,t,67108864),$d(t,67108864)}}function Gf(t){if(t.tag===13||t.tag===31){var s=Kt();s=Bo(s);var a=al(t,s);a!==null&&Pt(a,t,s),$d(t,s)}}var to=!0;function Iy(t,s,a,r){var c=S.T;S.T=null;var d=H.p;try{H.p=2,Gd(t,s,a,r)}finally{H.p=d,S.T=c}}function By(t,s,a,r){var c=S.T;S.T=null;var d=H.p;try{H.p=8,Gd(t,s,a,r)}finally{H.p=d,S.T=c}}function Gd(t,s,a,r){if(to){var c=Fd(r);if(c===null)Dd(t,s,r,so,a),Yf(t,r);else if(qy(c,t,s,a,r))r.stopPropagation();else if(Yf(t,r),s&4&&-1<Py.indexOf(t)){for(;c!==null;){var d=Tl(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var h=Za(d.pendingLanes);if(h!==0){var p=d;for(p.pendingLanes|=2,p.entangledLanes|=2;h;){var C=1<<31-Ht(h);p.entanglements[1]|=C,h&=~C}Cs(d),(Ue&6)===0&&(Ii=_t()+500,dn(0))}}break;case 31:case 13:p=al(d,2),p!==null&&Pt(p,d,2),Pi(),$d(d,2)}if(d=Fd(r),d===null&&Dd(t,s,r,so,a),d===c)break;c=d}c!==null&&r.stopPropagation()}else Dd(t,s,r,null,a)}}function Fd(t){return t=Qo(t),Yd(t)}var so=null;function Yd(t){if(so=null,t=Cl(t),t!==null){var s=m(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=x(s),t!==null)return t;t=null}else if(a===31){if(t=f(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return so=t,null}function Ff(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lo()){case $n:return 2;case Gn:return 8;case Tr:case T0:return 32;case tm:return 268435456;default:return 32}default:return 32}}var Qd=!1,Ea=null,_a=null,Da=null,pn=new Map,bn=new Map,Ra=[],Py="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yf(t,s){switch(t){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":Da=null;break;case"pointerover":case"pointerout":pn.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":bn.delete(s.pointerId)}}function yn(t,s,a,r,c,d){return t===null||t.nativeEvent!==d?(t={blockedOn:s,domEventName:a,eventSystemFlags:r,nativeEvent:d,targetContainers:[c]},s!==null&&(s=Tl(s),s!==null&&$f(s)),t):(t.eventSystemFlags|=r,s=t.targetContainers,c!==null&&s.indexOf(c)===-1&&s.push(c),t)}function qy(t,s,a,r,c){switch(s){case"focusin":return Ea=yn(Ea,t,s,a,r,c),!0;case"dragenter":return _a=yn(_a,t,s,a,r,c),!0;case"mouseover":return Da=yn(Da,t,s,a,r,c),!0;case"pointerover":var d=c.pointerId;return pn.set(d,yn(pn.get(d)||null,t,s,a,r,c)),!0;case"gotpointercapture":return d=c.pointerId,bn.set(d,yn(bn.get(d)||null,t,s,a,r,c)),!0}return!1}function Qf(t){var s=Cl(t.target);if(s!==null){var a=m(s);if(a!==null){if(s=a.tag,s===13){if(s=x(a),s!==null){t.blockedOn=s,im(t.priority,function(){Gf(a)});return}}else if(s===31){if(s=f(a),s!==null){t.blockedOn=s,im(t.priority,function(){Gf(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ao(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Fd(t.nativeEvent);if(a===null){a=t.nativeEvent;var r=new a.constructor(a.type,a);Yo=r,a.target.dispatchEvent(r),Yo=null}else return s=Tl(a),s!==null&&$f(s),t.blockedOn=a,!1;s.shift()}return!0}function Kf(t,s,a){ao(t)&&a.delete(s)}function Hy(){Qd=!1,Ea!==null&&ao(Ea)&&(Ea=null),_a!==null&&ao(_a)&&(_a=null),Da!==null&&ao(Da)&&(Da=null),pn.forEach(Kf),bn.forEach(Kf)}function lo(t,s){t.blockedOn===s&&(t.blockedOn=null,Qd||(Qd=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Hy)))}var ro=null;function Jf(t){ro!==t&&(ro=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ro===t&&(ro=null);for(var s=0;s<t.length;s+=3){var a=t[s],r=t[s+1],c=t[s+2];if(typeof r!="function"){if(Yd(r||a)===null)continue;break}var d=Tl(a);d!==null&&(t.splice(s,3),s-=3,Fc(d,{pending:!0,data:c,method:a.method,action:r},r,c))}}))}function ir(t){function s(C){return lo(C,t)}Ea!==null&&lo(Ea,t),_a!==null&&lo(_a,t),Da!==null&&lo(Da,t),pn.forEach(s),bn.forEach(s);for(var a=0;a<Ra.length;a++){var r=Ra[a];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Ra.length&&(a=Ra[0],a.blockedOn===null);)Qf(a),a.blockedOn===null&&Ra.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var c=a[r],d=a[r+1],h=c[Mt]||null;if(typeof d=="function")h||Jf(a);else if(h){var p=null;if(d&&d.hasAttribute("formAction")){if(c=d,h=d[Mt]||null)p=h.formAction;else if(Yd(c)!==null)continue}else p=h.action;typeof p=="function"?a[r+1]=p:(a.splice(r,3),r-=3),Jf(a)}}}function Xf(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(h){return c=h})},focusReset:"manual",scroll:"manual"})}function s(){c!==null&&(c(),c=null),r||setTimeout(a,20)}function a(){if(!r&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),c!==null&&(c(),c=null)}}}function Kd(t){this._internalRoot=t}no.prototype.render=Kd.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(o(409));var a=s.current,r=Kt();Hf(a,r,t,s,null,null)},no.prototype.unmount=Kd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Hf(t.current,2,null,t,null,null),Pi(),s[Sl]=null}};function no(t){this._internalRoot=t}no.prototype.unstable_scheduleHydration=function(t){if(t){var s=nm();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Ra.length&&s!==0&&s<Ra[a].priority;a++);Ra.splice(a,0,t),a===0&&Qf(t)}};var Zf=l.version;if(Zf!=="19.2.0")throw Error(o(527,Zf,"19.2.0"));H.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=w(s),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var Vy={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:S,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!io.isDisabled&&io.supportsFiber)try{kr=io.inject(Vy),qt=io}catch{}}return jn.createRoot=function(t,s){if(!u(t))throw Error(o(299));var a=!1,r="",c=lx,d=rx,h=nx;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(r=s.identifierPrefix),s.onUncaughtError!==void 0&&(c=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),s=Pf(t,1,!1,null,null,a,r,null,c,d,h,Xf),t[Sl]=s.current,_d(t),new Kd(s)},jn.hydrateRoot=function(t,s,a){if(!u(t))throw Error(o(299));var r=!1,c="",d=lx,h=rx,p=nx,C=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(h=a.onCaughtError),a.onRecoverableError!==void 0&&(p=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),s=Pf(t,1,!0,s,a??null,r,c,C,d,h,p,Xf),s.context=qf(null),a=s.current,r=Kt(),r=Bo(r),c=pa(r),c.callback=null,ba(a,c,r),a=r,s.current.lanes=a,Er(s,a),Cs(s),t[Sl]=s.current,_d(t),new no(s)},jn.version="19.2.0",jn}var xg;function Av(){if(xg)return Xd.exports;xg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(l){console.error(l)}}return n(),Xd.exports=kv(),Xd.exports}var Ev=Av();class _v{config=null;configPromise=null;async getConfig(){return this.config?this.config:(this.config=this.getBuildTimeConfig(),this.config)}async fetchConfig(){const l=window.location.origin;try{const i=await fetch(`${l}/api/runtime-config`);if(!i.ok)throw new Error(`Config fetch failed: ${i.status}`);const o=await i.json();return{apiBaseUrl:l,firebase:o.firebase,googleMapsApiKey:"AIzaSyDTV_5KiXOuYRtG2TEMIvrHPCsht3sSWEQ",unsplash:{accessKey:""}}}catch(i){return console.error("Failed to fetch runtime config, using fallback:",i),this.getBuildTimeConfig()}}getBuildTimeConfig(){return{apiBaseUrl:window.location.origin,firebase:{apiKey:"AIzaSyCuJr5N0ytr1h_Aq_5qQazNL0wQUnsZlAw",authDomain:"travelbuddy-2d1c5.firebaseapp.com",projectId:"travelbuddy-2d1c5",storageBucket:"travelbuddy-2d1c5.firebasestorage.app",messagingSenderId:"45425409967",appId:"1:45425409967:web:782638c65a40dcb156b95a"},googleMapsApiKey:"AIzaSyDTV_5KiXOuYRtG2TEMIvrHPCsht3sSWEQ",unsplash:{accessKey:""}}}}const ds=new _v,cp=j.createContext({config:null,loading:!0,error:null}),Un=()=>{const n=j.useContext(cp);if(!n)throw new Error("useConfig must be used within a ConfigProvider");return n},Dv=({children:n})=>{const[l,i]=j.useState(null),[o,u]=j.useState(!0),[m,x]=j.useState(null);return j.useEffect(()=>{(async()=>{try{const g=await ds.getConfig();i(g),x(null)}catch(g){x(g instanceof Error?g.message:"Failed to load config")}finally{u(!1)}})()},[]),e.jsx(cp.Provider,{value:{config:l,loading:o,error:m},children:n})},Rv=()=>{};var fg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp=function(n){const l=[];let i=0;for(let o=0;o<n.length;o++){let u=n.charCodeAt(o);u<128?l[i++]=u:u<2048?(l[i++]=u>>6|192,l[i++]=u&63|128):(u&64512)===55296&&o+1<n.length&&(n.charCodeAt(o+1)&64512)===56320?(u=65536+((u&1023)<<10)+(n.charCodeAt(++o)&1023),l[i++]=u>>18|240,l[i++]=u>>12&63|128,l[i++]=u>>6&63|128,l[i++]=u&63|128):(l[i++]=u>>12|224,l[i++]=u>>6&63|128,l[i++]=u&63|128)}return l},Ov=function(n){const l=[];let i=0,o=0;for(;i<n.length;){const u=n[i++];if(u<128)l[o++]=String.fromCharCode(u);else if(u>191&&u<224){const m=n[i++];l[o++]=String.fromCharCode((u&31)<<6|m&63)}else if(u>239&&u<365){const m=n[i++],x=n[i++],f=n[i++],g=((u&7)<<18|(m&63)<<12|(x&63)<<6|f&63)-65536;l[o++]=String.fromCharCode(55296+(g>>10)),l[o++]=String.fromCharCode(56320+(g&1023))}else{const m=n[i++],x=n[i++];l[o++]=String.fromCharCode((u&15)<<12|(m&63)<<6|x&63)}}return l.join("")},up={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,l){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=l?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let u=0;u<n.length;u+=3){const m=n[u],x=u+1<n.length,f=x?n[u+1]:0,g=u+2<n.length,w=g?n[u+2]:0,v=m>>2,y=(m&3)<<4|f>>4;let b=(f&15)<<2|w>>6,U=w&63;g||(U=64,x||(b=64)),o.push(i[v],i[y],i[b],i[U])}return o.join("")},encodeString(n,l){return this.HAS_NATIVE_SUPPORT&&!l?btoa(n):this.encodeByteArray(dp(n),l)},decodeString(n,l){return this.HAS_NATIVE_SUPPORT&&!l?atob(n):Ov(this.decodeStringToByteArray(n,l))},decodeStringToByteArray(n,l){this.init_();const i=l?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let u=0;u<n.length;){const m=i[n.charAt(u++)],f=u<n.length?i[n.charAt(u)]:0;++u;const w=u<n.length?i[n.charAt(u)]:64;++u;const y=u<n.length?i[n.charAt(u)]:64;if(++u,m==null||f==null||w==null||y==null)throw new Mv;const b=m<<2|f>>4;if(o.push(b),w!==64){const U=f<<4&240|w>>2;if(o.push(U),y!==64){const A=w<<6&192|y;o.push(A)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Mv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zv=function(n){const l=dp(n);return up.encodeByteArray(l,!0)},mp=function(n){return zv(n).replace(/\./g,"")},hp=function(n){try{return up.decodeString(n,!0)}catch(l){console.error("base64Decode failed: ",l)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=()=>Uv().__FIREBASE_DEFAULTS__,Iv=()=>{if(typeof process>"u"||typeof fg>"u")return;const n=fg.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Bv=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const l=n&&hp(n[1]);return l&&JSON.parse(l)},Pu=()=>{try{return Rv()||Lv()||Iv()||Bv()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Pv=n=>Pu()?.emulatorHosts?.[n],xp=()=>Pu()?.config,fp=n=>Pu()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((l,i)=>{this.resolve=l,this.reject=i})}wrapCallback(l){return(i,o)=>{i?this.reject(i):this.resolve(o),typeof l=="function"&&(this.promise.catch(()=>{}),l.length===1?l(i):l(i,o))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Hv(n){return(await fetch(n,{credentials:"include"})).ok}const kn={};function Vv(){const n={prod:[],emulator:[]};for(const l of Object.keys(kn))kn[l]?n.emulator.push(l):n.prod.push(l);return n}function $v(n){let l=document.getElementById(n),i=!1;return l||(l=document.createElement("div"),l.setAttribute("id",n),i=!0),{created:i,element:l}}let gg=!1;function Gv(n,l){if(typeof window>"u"||typeof document>"u"||!Ro(window.location.host)||kn[n]===l||kn[n]||gg)return;kn[n]=l;function i(b){return`__firebase__banner__${b}`}const o="__firebase__banner",m=Vv().prod.length>0;function x(){const b=document.getElementById(o);b&&b.remove()}function f(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function g(b,U){b.setAttribute("width","24"),b.setAttribute("id",U),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function w(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{gg=!0,x()},b}function v(b,U){b.setAttribute("id",U),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function y(){const b=$v(o),U=i("text"),A=document.getElementById(U)||document.createElement("span"),N=i("learnmore"),M=document.getElementById(N)||document.createElement("a"),E=i("preprendIcon"),$=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const D=b.element;f(D),v(M,N);const K=w();g($,E),D.append($,A,M,K),document.body.appendChild(D)}m?(A.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function Yv(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Qv(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Kv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Jv(){const n=Rt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Xv(){try{return typeof indexedDB=="object"}catch{return!1}}function Zv(){return new Promise((n,l)=>{try{let i=!0;const o="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(o);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(o),n(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{l(u.error?.message||"")}}catch(i){l(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="FirebaseError";class Qa extends Error{constructor(l,i,o){super(i),this.code=l,this.customData=o,this.name=Wv,Object.setPrototypeOf(this,Qa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ln.prototype.create)}}class Ln{constructor(l,i,o){this.service=l,this.serviceName=i,this.errors=o}create(l,...i){const o=i[0]||{},u=`${this.service}/${l}`,m=this.errors[l],x=m?ej(m,o):"Error",f=`${this.serviceName}: ${x} (${u}).`;return new Qa(u,f,o)}}function ej(n,l){return n.replace(tj,(i,o)=>{const u=l[o];return u!=null?String(u):`<${o}?>`})}const tj=/\{\$([^}]+)}/g;function sj(n){for(const l in n)if(Object.prototype.hasOwnProperty.call(n,l))return!1;return!0}function vr(n,l){if(n===l)return!0;const i=Object.keys(n),o=Object.keys(l);for(const u of i){if(!o.includes(u))return!1;const m=n[u],x=l[u];if(pg(m)&&pg(x)){if(!vr(m,x))return!1}else if(m!==x)return!1}for(const u of o)if(!i.includes(u))return!1;return!0}function pg(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(n){const l=[];for(const[i,o]of Object.entries(n))Array.isArray(o)?o.forEach(u=>{l.push(encodeURIComponent(i)+"="+encodeURIComponent(u))}):l.push(encodeURIComponent(i)+"="+encodeURIComponent(o));return l.length?"&"+l.join("&"):""}function Sn(n){const l={};return n.replace(/^\?/,"").split("&").forEach(o=>{if(o){const[u,m]=o.split("=");l[decodeURIComponent(u)]=decodeURIComponent(m)}}),l}function Cn(n){const l=n.indexOf("?");if(!l)return"";const i=n.indexOf("#",l);return n.substring(l,i>0?i:void 0)}function aj(n,l){const i=new lj(n,l);return i.subscribe.bind(i)}class lj{constructor(l,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{l(this)}).catch(o=>{this.error(o)})}next(l){this.forEachObserver(i=>{i.next(l)})}error(l){this.forEachObserver(i=>{i.error(l)}),this.close(l)}complete(){this.forEachObserver(l=>{l.complete()}),this.close()}subscribe(l,i,o){let u;if(l===void 0&&i===void 0&&o===void 0)throw new Error("Missing Observer.");rj(l,["next","error","complete"])?u=l:u={next:l,error:i,complete:o},u.next===void 0&&(u.next=eu),u.error===void 0&&(u.error=eu),u.complete===void 0&&(u.complete=eu);const m=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?u.error(this.finalError):u.complete()}catch{}}),this.observers.push(u),m}unsubscribeOne(l){this.observers===void 0||this.observers[l]===void 0||(delete this.observers[l],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(l){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,l)}sendOne(l,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[l]!==void 0)try{i(this.observers[l])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})}close(l){this.finalized||(this.finalized=!0,l!==void 0&&(this.finalError=l),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rj(n,l){if(typeof n!="object"||n===null)return!1;for(const i of l)if(i in n&&typeof n[i]=="function")return!0;return!1}function eu(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(n){return n&&n._delegate?n._delegate:n}class jr{constructor(l,i,o){this.name=l,this.instanceFactory=i,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(l){return this.instantiationMode=l,this}setMultipleInstances(l){return this.multipleInstances=l,this}setServiceProps(l){return this.serviceProps=l,this}setInstanceCreatedCallback(l){return this.onInstanceCreated=l,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(l,i){this.name=l,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(l){const i=this.normalizeInstanceIdentifier(l);if(!this.instancesDeferred.has(i)){const o=new qv;if(this.instancesDeferred.set(i,o),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&o.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(l){const i=this.normalizeInstanceIdentifier(l?.identifier),o=l?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(l){if(l.name!==this.name)throw Error(`Mismatching Component ${l.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=l,!!this.shouldAutoInitialize()){if(oj(l))try{this.getOrInitializeService({instanceIdentifier:bl})}catch{}for(const[i,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const m=this.getOrInitializeService({instanceIdentifier:u});o.resolve(m)}catch{}}}}clearInstance(l=bl){this.instancesDeferred.delete(l),this.instancesOptions.delete(l),this.instances.delete(l)}async delete(){const l=Array.from(this.instances.values());await Promise.all([...l.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...l.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(l=bl){return this.instances.has(l)}getOptions(l=bl){return this.instancesOptions.get(l)||{}}initialize(l={}){const{options:i={}}=l,o=this.normalizeInstanceIdentifier(l.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:o,options:i});for(const[m,x]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(m);o===f&&x.resolve(u)}return u}onInit(l,i){const o=this.normalizeInstanceIdentifier(i),u=this.onInitCallbacks.get(o)??new Set;u.add(l),this.onInitCallbacks.set(o,u);const m=this.instances.get(o);return m&&l(m,o),()=>{u.delete(l)}}invokeOnInitCallbacks(l,i){const o=this.onInitCallbacks.get(i);if(o)for(const u of o)try{u(l,i)}catch{}}getOrInitializeService({instanceIdentifier:l,options:i={}}){let o=this.instances.get(l);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:ij(l),options:i}),this.instances.set(l,o),this.instancesOptions.set(l,i),this.invokeOnInitCallbacks(o,l),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,l,o)}catch{}return o||null}normalizeInstanceIdentifier(l=bl){return this.component?this.component.multipleInstances?l:bl:l}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ij(n){return n===bl?void 0:n}function oj(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(l){this.name=l,this.providers=new Map}addComponent(l){const i=this.getProvider(l.name);if(i.isComponentSet())throw new Error(`Component ${l.name} has already been registered with ${this.name}`);i.setComponent(l)}addOrOverwriteComponent(l){this.getProvider(l.name).isComponentSet()&&this.providers.delete(l.name),this.addComponent(l)}getProvider(l){if(this.providers.has(l))return this.providers.get(l);const i=new nj(l,this);return this.providers.set(l,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const dj={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},uj=Ve.INFO,mj={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},hj=(n,l,...i)=>{if(l<n.logLevel)return;const o=new Date().toISOString(),u=mj[l];if(u)console[u](`[${o}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${l})`)};class gp{constructor(l){this.name=l,this._logLevel=uj,this._logHandler=hj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(l){if(!(l in Ve))throw new TypeError(`Invalid value "${l}" assigned to \`logLevel\``);this._logLevel=l}setLogLevel(l){this._logLevel=typeof l=="string"?dj[l]:l}get logHandler(){return this._logHandler}set logHandler(l){if(typeof l!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=l}get userLogHandler(){return this._userLogHandler}set userLogHandler(l){this._userLogHandler=l}debug(...l){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...l),this._logHandler(this,Ve.DEBUG,...l)}log(...l){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...l),this._logHandler(this,Ve.VERBOSE,...l)}info(...l){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...l),this._logHandler(this,Ve.INFO,...l)}warn(...l){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...l),this._logHandler(this,Ve.WARN,...l)}error(...l){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...l),this._logHandler(this,Ve.ERROR,...l)}}const xj=(n,l)=>l.some(i=>n instanceof i);let bg,yg;function fj(){return bg||(bg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gj(){return yg||(yg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pp=new WeakMap,vu=new WeakMap,bp=new WeakMap,tu=new WeakMap,qu=new WeakMap;function pj(n){const l=new Promise((i,o)=>{const u=()=>{n.removeEventListener("success",m),n.removeEventListener("error",x)},m=()=>{i(Va(n.result)),u()},x=()=>{o(n.error),u()};n.addEventListener("success",m),n.addEventListener("error",x)});return l.then(i=>{i instanceof IDBCursor&&pp.set(i,n)}).catch(()=>{}),qu.set(l,n),l}function bj(n){if(vu.has(n))return;const l=new Promise((i,o)=>{const u=()=>{n.removeEventListener("complete",m),n.removeEventListener("error",x),n.removeEventListener("abort",x)},m=()=>{i(),u()},x=()=>{o(n.error||new DOMException("AbortError","AbortError")),u()};n.addEventListener("complete",m),n.addEventListener("error",x),n.addEventListener("abort",x)});vu.set(n,l)}let ju={get(n,l,i){if(n instanceof IDBTransaction){if(l==="done")return vu.get(n);if(l==="objectStoreNames")return n.objectStoreNames||bp.get(n);if(l==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Va(n[l])},set(n,l,i){return n[l]=i,!0},has(n,l){return n instanceof IDBTransaction&&(l==="done"||l==="store")?!0:l in n}};function yj(n){ju=n(ju)}function vj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(l,...i){const o=n.call(su(this),l,...i);return bp.set(o,l.sort?l.sort():[l]),Va(o)}:gj().includes(n)?function(...l){return n.apply(su(this),l),Va(pp.get(this))}:function(...l){return Va(n.apply(su(this),l))}}function jj(n){return typeof n=="function"?vj(n):(n instanceof IDBTransaction&&bj(n),xj(n,fj())?new Proxy(n,ju):n)}function Va(n){if(n instanceof IDBRequest)return pj(n);if(tu.has(n))return tu.get(n);const l=jj(n);return l!==n&&(tu.set(n,l),qu.set(l,n)),l}const su=n=>qu.get(n);function Nj(n,l,{blocked:i,upgrade:o,blocking:u,terminated:m}={}){const x=indexedDB.open(n,l),f=Va(x);return o&&x.addEventListener("upgradeneeded",g=>{o(Va(x.result),g.oldVersion,g.newVersion,Va(x.transaction),g)}),i&&x.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),f.then(g=>{m&&g.addEventListener("close",()=>m()),u&&g.addEventListener("versionchange",w=>u(w.oldVersion,w.newVersion,w))}).catch(()=>{}),f}const wj=["get","getKey","getAll","getAllKeys","count"],Sj=["put","add","delete","clear"],au=new Map;function vg(n,l){if(!(n instanceof IDBDatabase&&!(l in n)&&typeof l=="string"))return;if(au.get(l))return au.get(l);const i=l.replace(/FromIndex$/,""),o=l!==i,u=Sj.includes(i);if(!(i in(o?IDBIndex:IDBObjectStore).prototype)||!(u||wj.includes(i)))return;const m=async function(x,...f){const g=this.transaction(x,u?"readwrite":"readonly");let w=g.store;return o&&(w=w.index(f.shift())),(await Promise.all([w[i](...f),u&&g.done]))[0]};return au.set(l,m),m}yj(n=>({...n,get:(l,i,o)=>vg(l,i)||n.get(l,i,o),has:(l,i)=>!!vg(l,i)||n.has(l,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{constructor(l){this.container=l}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Tj(i)){const o=i.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(i=>i).join(" ")}}function Tj(n){return n.getComponent()?.type==="VERSION"}const Nu="@firebase/app",jg="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new gp("@firebase/app"),kj="@firebase/app-compat",Aj="@firebase/analytics-compat",Ej="@firebase/analytics",_j="@firebase/app-check-compat",Dj="@firebase/app-check",Rj="@firebase/auth",Oj="@firebase/auth-compat",Mj="@firebase/database",zj="@firebase/data-connect",Uj="@firebase/database-compat",Lj="@firebase/functions",Ij="@firebase/functions-compat",Bj="@firebase/installations",Pj="@firebase/installations-compat",qj="@firebase/messaging",Hj="@firebase/messaging-compat",Vj="@firebase/performance",$j="@firebase/performance-compat",Gj="@firebase/remote-config",Fj="@firebase/remote-config-compat",Yj="@firebase/storage",Qj="@firebase/storage-compat",Kj="@firebase/firestore",Jj="@firebase/ai",Xj="@firebase/firestore-compat",Zj="firebase",Wj="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu="[DEFAULT]",eN={[Nu]:"fire-core",[kj]:"fire-core-compat",[Ej]:"fire-analytics",[Aj]:"fire-analytics-compat",[Dj]:"fire-app-check",[_j]:"fire-app-check-compat",[Rj]:"fire-auth",[Oj]:"fire-auth-compat",[Mj]:"fire-rtdb",[zj]:"fire-data-connect",[Uj]:"fire-rtdb-compat",[Lj]:"fire-fn",[Ij]:"fire-fn-compat",[Bj]:"fire-iid",[Pj]:"fire-iid-compat",[qj]:"fire-fcm",[Hj]:"fire-fcm-compat",[Vj]:"fire-perf",[$j]:"fire-perf-compat",[Gj]:"fire-rc",[Fj]:"fire-rc-compat",[Yj]:"fire-gcs",[Qj]:"fire-gcs-compat",[Kj]:"fire-fst",[Xj]:"fire-fst-compat",[Jj]:"fire-vertex","fire-js":"fire-js",[Zj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=new Map,tN=new Map,Su=new Map;function Ng(n,l){try{n.container.addComponent(l)}catch(i){la.debug(`Component ${l.name} failed to register with FirebaseApp ${n.name}`,i)}}function En(n){const l=n.name;if(Su.has(l))return la.debug(`There were multiple attempts to register component ${l}.`),!1;Su.set(l,n);for(const i of wo.values())Ng(i,n);for(const i of tN.values())Ng(i,n);return!0}function yp(n,l){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(l)}function os(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$a=new Ln("app","Firebase",sN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(l,i,o){this._isDeleted=!1,this._options={...l},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(l){this.checkDestroyed(),this._automaticDataCollectionEnabled=l}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(l){this._isDeleted=l}checkDestroyed(){if(this.isDeleted)throw $a.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn=Wj;function vp(n,l={}){let i=n;typeof l!="object"&&(l={name:l});const o={name:wu,automaticDataCollectionEnabled:!0,...l},u=o.name;if(typeof u!="string"||!u)throw $a.create("bad-app-name",{appName:String(u)});if(i||(i=xp()),!i)throw $a.create("no-options");const m=wo.get(u);if(m){if(vr(i,m.options)&&vr(o,m.config))return m;throw $a.create("duplicate-app",{appName:u})}const x=new cj(u);for(const g of Su.values())x.addComponent(g);const f=new aN(i,o,x);return wo.set(u,f),f}function lN(n=wu){const l=wo.get(n);if(!l&&n===wu&&xp())return vp();if(!l)throw $a.create("no-app",{appName:n});return l}function hr(n,l,i){let o=eN[n]??n;i&&(o+=`-${i}`);const u=o.match(/\s|\//),m=l.match(/\s|\//);if(u||m){const x=[`Unable to register library "${o}" with version "${l}":`];u&&x.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&m&&x.push("and"),m&&x.push(`version name "${l}" contains illegal characters (whitespace or "/")`),la.warn(x.join(" "));return}En(new jr(`${o}-version`,()=>({library:o,version:l}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN="firebase-heartbeat-database",nN=1,_n="firebase-heartbeat-store";let lu=null;function jp(){return lu||(lu=Nj(rN,nN,{upgrade:(n,l)=>{switch(l){case 0:try{n.createObjectStore(_n)}catch(i){console.warn(i)}}}}).catch(n=>{throw $a.create("idb-open",{originalErrorMessage:n.message})})),lu}async function iN(n){try{const i=(await jp()).transaction(_n),o=await i.objectStore(_n).get(Np(n));return await i.done,o}catch(l){if(l instanceof Qa)la.warn(l.message);else{const i=$a.create("idb-get",{originalErrorMessage:l?.message});la.warn(i.message)}}}async function wg(n,l){try{const o=(await jp()).transaction(_n,"readwrite");await o.objectStore(_n).put(l,Np(n)),await o.done}catch(i){if(i instanceof Qa)la.warn(i.message);else{const o=$a.create("idb-set",{originalErrorMessage:i?.message});la.warn(o.message)}}}function Np(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=1024,cN=30;class dN{constructor(l){this.container=l,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new mN(i),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Sg();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>cN){const u=hN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(l){la.warn(l)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const l=Sg(),{heartbeatsToSend:i,unsentEntries:o}=uN(this._heartbeatsCache.heartbeats),u=mp(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=l,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(l){return la.warn(l),""}}}function Sg(){return new Date().toISOString().substring(0,10)}function uN(n,l=oN){const i=[];let o=n.slice();for(const u of n){const m=i.find(x=>x.agent===u.agent);if(m){if(m.dates.push(u.date),Cg(i)>l){m.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Cg(i)>l){i.pop();break}o=o.slice(1)}return{heartbeatsToSend:i,unsentEntries:o}}class mN{constructor(l){this.app=l,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Xv()?Zv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await iN(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(l){if(await this._canUseIndexedDBPromise){const o=await this.read();return wg(this.app,{lastSentHeartbeatDate:l.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:l.heartbeats})}else return}async add(l){if(await this._canUseIndexedDBPromise){const o=await this.read();return wg(this.app,{lastSentHeartbeatDate:l.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...l.heartbeats]})}else return}}function Cg(n){return mp(JSON.stringify({version:2,heartbeats:n})).length}function hN(n){if(n.length===0)return-1;let l=0,i=n[0].date;for(let o=1;o<n.length;o++)n[o].date<i&&(i=n[o].date,l=o);return l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(n){En(new jr("platform-logger",l=>new Cj(l),"PRIVATE")),En(new jr("heartbeat",l=>new dN(l),"PRIVATE")),hr(Nu,jg,n),hr(Nu,jg,"esm2020"),hr("fire-js","")}xN("");function wp(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fN=wp,Sp=new Ln("auth","Firebase",wp());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=new gp("@firebase/auth");function gN(n,...l){So.logLevel<=Ve.WARN&&So.warn(`Auth (${Bn}): ${n}`,...l)}function fo(n,...l){So.logLevel<=Ve.ERROR&&So.error(`Auth (${Bn}): ${n}`,...l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(n,...l){throw Vu(n,...l)}function ks(n,...l){return Vu(n,...l)}function Hu(n,l,i){const o={...fN(),[l]:i};return new Ln("auth","Firebase",o).create(l,{appName:n.name})}function As(n){return Hu(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pN(n,l,i){const o=i;if(!(l instanceof o))throw o.name!==l.constructor.name&&us(n,"argument-error"),Hu(n,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vu(n,...l){if(typeof n!="string"){const i=l[0],o=[...l.slice(1)];return o[0]&&(o[0].appName=n.name),n._errorFactory.create(i,...o)}return Sp.create(n,...l)}function ge(n,l,...i){if(!n)throw Vu(l,...i)}function Xs(n){const l="INTERNAL ASSERTION FAILED: "+n;throw fo(l),new Error(l)}function ra(n,l){n||Xs(l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(){return typeof self<"u"&&self.location?.href||""}function bN(){return Tg()==="http:"||Tg()==="https:"}function Tg(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bN()||Qv()||"connection"in navigator)?navigator.onLine:!0}function vN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(l,i){this.shortDelay=l,this.longDelay=i,ra(i>l,"Short delay should be less than long delay!"),this.isMobile=Fv()||Kv()}get(){return yN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(n,l){ra(n.emulator,"Emulator should always be set here");const{url:i}=n.emulator;return l?`${i}${l.startsWith("/")?l.slice(1):l}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{static initialize(l,i,o){this.fetchImpl=l,i&&(this.headersImpl=i),o&&(this.responseImpl=o)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wN=new Pn(3e4,6e4);function Ka(n,l){return n.tenantId&&!l.tenantId?{...l,tenantId:n.tenantId}:l}async function Ja(n,l,i,o,u={}){return Tp(n,u,async()=>{let m={},x={};o&&(l==="GET"?x=o:m={body:JSON.stringify(o)});const f=In({key:n.config.apiKey,...x}).slice(1),g=await n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);const w={method:l,headers:g,...m};return Yv()||(w.referrerPolicy="no-referrer"),n.emulatorConfig&&Ro(n.emulatorConfig.host)&&(w.credentials="include"),Cp.fetch()(await kp(n,n.config.apiHost,i,f),w)})}async function Tp(n,l,i){n._canInitEmulator=!1;const o={...jN,...l};try{const u=new CN(n),m=await Promise.race([i(),u.promise]);u.clearNetworkTimeout();const x=await m.json();if("needConfirmation"in x)throw uo(n,"account-exists-with-different-credential",x);if(m.ok&&!("errorMessage"in x))return x;{const f=m.ok?x.errorMessage:x.error.message,[g,w]=f.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw uo(n,"credential-already-in-use",x);if(g==="EMAIL_EXISTS")throw uo(n,"email-already-in-use",x);if(g==="USER_DISABLED")throw uo(n,"user-disabled",x);const v=o[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(w)throw Hu(n,v,w);us(n,v)}}catch(u){if(u instanceof Qa)throw u;us(n,"network-request-failed",{message:String(u)})}}async function qn(n,l,i,o,u={}){const m=await Ja(n,l,i,o,u);return"mfaPendingCredential"in m&&us(n,"multi-factor-auth-required",{_serverResponse:m}),m}async function kp(n,l,i,o){const u=`${l}${i}?${o}`,m=n,x=m.config.emulator?$u(n.config,u):`${n.config.apiScheme}://${u}`;return NN.includes(i)&&(await m._persistenceManagerAvailable,m._getPersistenceType()==="COOKIE")?m._getPersistence()._getFinalTarget(x).toString():x}function SN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class CN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((i,o)=>{this.timer=setTimeout(()=>o(ks(this.auth,"network-request-failed")),wN.get())})}}function uo(n,l,i){const o={appName:n.name};i.email&&(o.email=i.email),i.phoneNumber&&(o.phoneNumber=i.phoneNumber);const u=ks(n,l,o);return u.customData._tokenResponse=i,u}function kg(n){return n!==void 0&&n.enterprise!==void 0}class TN{constructor(l){if(this.siteKey="",this.recaptchaEnforcementState=[],l.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=l.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=l.recaptchaEnforcementState}getProviderEnforcementState(l){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===l)return SN(i.enforcementState);return null}isProviderEnabled(l){return this.getProviderEnforcementState(l)==="ENFORCE"||this.getProviderEnforcementState(l)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kN(n,l){return Ja(n,"GET","/v2/recaptchaConfig",Ka(n,l))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(n,l){return Ja(n,"POST","/v1/accounts:delete",l)}async function Co(n,l){return Ja(n,"POST","/v1/accounts:lookup",l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(n){if(n)try{const l=new Date(Number(n));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}async function EN(n,l=!1){const i=_s(n),o=await i.getIdToken(l),u=Gu(o);ge(u&&u.exp&&u.auth_time&&u.iat,i.auth,"internal-error");const m=typeof u.firebase=="object"?u.firebase:void 0,x=m?.sign_in_provider;return{claims:u,token:o,authTime:An(ru(u.auth_time)),issuedAtTime:An(ru(u.iat)),expirationTime:An(ru(u.exp)),signInProvider:x||null,signInSecondFactor:m?.sign_in_second_factor||null}}function ru(n){return Number(n)*1e3}function Gu(n){const[l,i,o]=n.split(".");if(l===void 0||i===void 0||o===void 0)return fo("JWT malformed, contained fewer than 3 sections"),null;try{const u=hp(i);return u?JSON.parse(u):(fo("Failed to decode base64 JWT payload"),null)}catch(u){return fo("Caught error parsing JWT payload as JSON",u?.toString()),null}}function Ag(n){const l=Gu(n);return ge(l,"internal-error"),ge(typeof l.exp<"u","internal-error"),ge(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dn(n,l,i=!1){if(i)return l;try{return await l}catch(o){throw o instanceof Qa&&_N(o)&&n.auth.currentUser===n&&await n.auth.signOut(),o}}function _N({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(l){if(l){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,o)}}schedule(l=!1){if(!this.isRunning)return;const i=this.getInterval(l);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(l){l?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(l,i){this.createdAt=l,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=An(this.lastLoginAt),this.creationTime=An(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(n){const l=n.auth,i=await n.getIdToken(),o=await Dn(n,Co(l,{idToken:i}));ge(o?.users.length,l,"internal-error");const u=o.users[0];n._notifyReloadListener(u);const m=u.providerUserInfo?.length?Ap(u.providerUserInfo):[],x=ON(n.providerData,m),f=n.isAnonymous,g=!(n.email&&u.passwordHash)&&!x?.length,w=f?g:!1,v={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:x,metadata:new Tu(u.createdAt,u.lastLoginAt),isAnonymous:w};Object.assign(n,v)}async function RN(n){const l=_s(n);await To(l),await l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)}function ON(n,l){return[...n.filter(o=>!l.some(u=>u.providerId===o.providerId)),...l]}function Ap(n){return n.map(({providerId:l,...i})=>({providerId:l,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(n,l){const i=await Tp(n,{},async()=>{const o=In({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:u,apiKey:m}=n.config,x=await kp(n,u,"/v1/token",`key=${m}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:f,body:o};return n.emulatorConfig&&Ro(n.emulatorConfig.host)&&(g.credentials="include"),Cp.fetch()(x,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function zN(n,l){return Ja(n,"POST","/v2/accounts:revokeToken",Ka(n,l))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){ge(l.idToken,"internal-error"),ge(typeof l.idToken<"u","internal-error"),ge(typeof l.refreshToken<"u","internal-error");const i="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):Ag(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,i)}updateFromIdToken(l){ge(l.length!==0,"internal-error");const i=Ag(l);this.updateTokensAndExpiration(l,null,i)}async getToken(l,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,l,"user-token-expired"),this.refreshToken?(await this.refresh(l,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(l,i){const{accessToken:o,refreshToken:u,expiresIn:m}=await MN(l,i);this.updateTokensAndExpiration(o,u,Number(m))}updateTokensAndExpiration(l,i,o){this.refreshToken=i||null,this.accessToken=l||null,this.expirationTime=Date.now()+o*1e3}static fromJSON(l,i){const{refreshToken:o,accessToken:u,expirationTime:m}=i,x=new xr;return o&&(ge(typeof o=="string","internal-error",{appName:l}),x.refreshToken=o),u&&(ge(typeof u=="string","internal-error",{appName:l}),x.accessToken=u),m&&(ge(typeof m=="number","internal-error",{appName:l}),x.expirationTime=m),x}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new xr,this.toJSON())}_performRefresh(){return Xs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(n,l){ge(typeof n=="string"||typeof n>"u","internal-error",{appName:l})}class ps{constructor({uid:l,auth:i,stsTokenManager:o,...u}){this.providerId="firebase",this.proactiveRefresh=new DN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=l,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Tu(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(l){const i=await Dn(this,this.stsTokenManager.getToken(this.auth,l));return ge(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(l){return EN(this,l)}reload(){return RN(this)}_assign(l){this!==l&&(ge(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(i=>({...i})),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){const i=new ps({...this,auth:l,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(l){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(l,i=!1){let o=!1;l.idToken&&l.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(l),o=!0),i&&await To(this),await this.auth._persistUserIfCurrent(this),o&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(os(this.auth.app))return Promise.reject(As(this.auth));const l=await this.getIdToken();return await Dn(this,AN(this.auth,{idToken:l})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>({...l})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,i){const o=i.displayName??void 0,u=i.email??void 0,m=i.phoneNumber??void 0,x=i.photoURL??void 0,f=i.tenantId??void 0,g=i._redirectEventId??void 0,w=i.createdAt??void 0,v=i.lastLoginAt??void 0,{uid:y,emailVerified:b,isAnonymous:U,providerData:A,stsTokenManager:N}=i;ge(y&&N,l,"internal-error");const M=xr.fromJSON(this.name,N);ge(typeof y=="string",l,"internal-error"),Ma(o,l.name),Ma(u,l.name),ge(typeof b=="boolean",l,"internal-error"),ge(typeof U=="boolean",l,"internal-error"),Ma(m,l.name),Ma(x,l.name),Ma(f,l.name),Ma(g,l.name),Ma(w,l.name),Ma(v,l.name);const E=new ps({uid:y,auth:l,email:u,emailVerified:b,displayName:o,isAnonymous:U,photoURL:x,phoneNumber:m,tenantId:f,stsTokenManager:M,createdAt:w,lastLoginAt:v});return A&&Array.isArray(A)&&(E.providerData=A.map($=>({...$}))),g&&(E._redirectEventId=g),E}static async _fromIdTokenResponse(l,i,o=!1){const u=new xr;u.updateFromServerResponse(i);const m=new ps({uid:i.localId,auth:l,stsTokenManager:u,isAnonymous:o});return await To(m),m}static async _fromGetAccountInfoResponse(l,i,o){const u=i.users[0];ge(u.localId!==void 0,"internal-error");const m=u.providerUserInfo!==void 0?Ap(u.providerUserInfo):[],x=!(u.email&&u.passwordHash)&&!m?.length,f=new xr;f.updateFromIdToken(o);const g=new ps({uid:u.localId,auth:l,stsTokenManager:f,isAnonymous:x}),w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Tu(u.createdAt,u.lastLoginAt),isAnonymous:!(u.email&&u.passwordHash)&&!m?.length};return Object.assign(g,w),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg=new Map;function Zs(n){ra(n instanceof Function,"Expected a class definition");let l=Eg.get(n);return l?(ra(l instanceof n,"Instance stored in cache mismatched with class"),l):(l=new n,Eg.set(n,l),l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(l,i){this.storage[l]=i}async _get(l){const i=this.storage[l];return i===void 0?null:i}async _remove(l){delete this.storage[l]}_addListener(l,i){}_removeListener(l,i){}}Ep.type="NONE";const _g=Ep;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(n,l,i){return`firebase:${n}:${l}:${i}`}class fr{constructor(l,i,o){this.persistence=l,this.auth=i,this.userKey=o;const{config:u,name:m}=this.auth;this.fullUserKey=go(this.userKey,u.apiKey,m),this.fullPersistenceKey=go("persistence",u.apiKey,m),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}async getCurrentUser(){const l=await this.persistence._get(this.fullUserKey);if(!l)return null;if(typeof l=="string"){const i=await Co(this.auth,{idToken:l}).catch(()=>{});return i?ps._fromGetAccountInfoResponse(this.auth,i,l):null}return ps._fromJSON(this.auth,l)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(l){if(this.persistence===l)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=l,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(l,i,o="authUser"){if(!i.length)return new fr(Zs(_g),l,o);const u=(await Promise.all(i.map(async w=>{if(await w._isAvailable())return w}))).filter(w=>w);let m=u[0]||Zs(_g);const x=go(o,l.config.apiKey,l.name);let f=null;for(const w of i)try{const v=await w._get(x);if(v){let y;if(typeof v=="string"){const b=await Co(l,{idToken:v}).catch(()=>{});if(!b)break;y=await ps._fromGetAccountInfoResponse(l,b,v)}else y=ps._fromJSON(l,v);w!==m&&(f=y),m=w;break}}catch{}const g=u.filter(w=>w._shouldAllowMigration);return!m._shouldAllowMigration||!g.length?new fr(m,l,o):(m=g[0],f&&await m._set(x,f.toJSON()),await Promise.all(i.map(async w=>{if(w!==m)try{await w._remove(x)}catch{}})),new fr(m,l,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(n){const l=n.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(Op(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(_p(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(zp(l))return"Blackberry";if(Up(l))return"Webos";if(Dp(l))return"Safari";if((l.includes("chrome/")||Rp(l))&&!l.includes("edge/"))return"Chrome";if(Mp(l))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,o=n.match(i);if(o?.length===2)return o[1]}return"Other"}function _p(n=Rt()){return/firefox\//i.test(n)}function Dp(n=Rt()){const l=n.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function Rp(n=Rt()){return/crios\//i.test(n)}function Op(n=Rt()){return/iemobile/i.test(n)}function Mp(n=Rt()){return/android/i.test(n)}function zp(n=Rt()){return/blackberry/i.test(n)}function Up(n=Rt()){return/webos/i.test(n)}function Fu(n=Rt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function UN(n=Rt()){return Fu(n)&&!!window.navigator?.standalone}function LN(){return Jv()&&document.documentMode===10}function Lp(n=Rt()){return Fu(n)||Mp(n)||Up(n)||zp(n)||/windows phone/i.test(n)||Op(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(n,l=[]){let i;switch(n){case"Browser":i=Dg(Rt());break;case"Worker":i=`${Dg(Rt())}-${n}`;break;default:i=n}const o=l.length?l.join(","):"FirebaseCore-web";return`${i}/JsCore/${Bn}/${o}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,i){const o=m=>new Promise((x,f)=>{try{const g=l(m);x(g)}catch(g){f(g)}});o.onAbort=i,this.queue.push(o);const u=this.queue.length-1;return()=>{this.queue[u]=()=>Promise.resolve()}}async runMiddleware(l){if(this.auth.currentUser===l)return;const i=[];try{for(const o of this.queue)await o(l),o.onAbort&&i.push(o.onAbort)}catch(o){i.reverse();for(const u of i)try{u()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BN(n,l={}){return Ja(n,"GET","/v2/passwordPolicy",Ka(n,l))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=6;class qN{constructor(l){const i=l.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??PN,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=l.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=l.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=l.forceUpgradeOnSignin??!1,this.schemaVersion=l.schemaVersion}validatePassword(l){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(l,i),this.validatePasswordCharacterOptions(l,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(l,i){const o=this.customStrengthOptions.minPasswordLength,u=this.customStrengthOptions.maxPasswordLength;o&&(i.meetsMinPasswordLength=l.length>=o),u&&(i.meetsMaxPasswordLength=l.length<=u)}validatePasswordCharacterOptions(l,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let o;for(let u=0;u<l.length;u++)o=l.charAt(u),this.updatePasswordCharacterOptionsStatuses(i,o>="a"&&o<="z",o>="A"&&o<="Z",o>="0"&&o<="9",this.allowedNonAlphanumericCharacters.includes(o))}updatePasswordCharacterOptionsStatuses(l,i,o,u,m){this.customStrengthOptions.containsLowercaseLetter&&(l.containsLowercaseLetter||(l.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(l.containsUppercaseLetter||(l.containsUppercaseLetter=o)),this.customStrengthOptions.containsNumericCharacter&&(l.containsNumericCharacter||(l.containsNumericCharacter=u)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(l.containsNonAlphanumericCharacter||(l.containsNonAlphanumericCharacter=m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(l,i,o,u){this.app=l,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=o,this.config=u,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rg(this),this.idTokenSubscription=new Rg(this),this.beforeStateQueue=new IN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Sp,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=u.sdkClientVersion,this._persistenceManagerAvailable=new Promise(m=>this._resolvePersistenceManagerAvailable=m)}_initializeWithPersistence(l,i){return i&&(this._popupRedirectResolver=Zs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fr.create(this,l),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const l=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!l)){if(this.currentUser&&l&&this.currentUser.uid===l.uid){this._currentUser._assign(l),await this.currentUser.getIdToken();return}await this._updateCurrentUser(l,!0)}}async initializeCurrentUserFromIdToken(l){try{const i=await Co(this,{idToken:l}),o=await ps._fromGetAccountInfoResponse(this,i,l);await this.directlySetCurrentUser(o)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(l){if(os(this.app)){const m=this.app.settings.authIdToken;return m?new Promise(x=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(m).then(x,x))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,u=!1;if(l&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const m=this.redirectUser?._redirectEventId,x=o?._redirectEventId,f=await this.tryRedirectSignIn(l);(!m||m===x)&&f?.user&&(o=f.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(m){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(m))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(l){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,l,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(l){try{await To(l)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(l)}useDeviceLanguage(){this.languageCode=vN()}async _delete(){this._deleted=!0}async updateCurrentUser(l){if(os(this.app))return Promise.reject(As(this));const i=l?_s(l):null;return i&&ge(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(l,i=!1){if(!this._deleted)return l&&ge(this.tenantId===l.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(l),this.queue(async()=>{await this.directlySetCurrentUser(l),this.notifyAuthListeners()})}async signOut(){return os(this.app)?Promise.reject(As(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(l){return os(this.app)?Promise.reject(As(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zs(l))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(l){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(l)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const l=await BN(this),i=new qN(l);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(l){this._errorFactory=new Ln("auth","Firebase",l())}onAuthStateChanged(l,i,o){return this.registerStateListener(this.authStateSubscription,l,i,o)}beforeAuthStateChanged(l,i){return this.beforeStateQueue.pushCallback(l,i)}onIdTokenChanged(l,i,o){return this.registerStateListener(this.idTokenSubscription,l,i,o)}authStateReady(){return new Promise((l,i)=>{if(this.currentUser)l();else{const o=this.onAuthStateChanged(()=>{o(),l()},i)}})}async revokeAccessToken(l){if(this.currentUser){const i=await this.currentUser.getIdToken(),o={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:l,idToken:i};this.tenantId!=null&&(o.tenantId=this.tenantId),await zN(this,o)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(l,i){const o=await this.getOrInitRedirectPersistenceManager(i);return l===null?o.removeCurrentUser():o.setCurrentUser(l)}async getOrInitRedirectPersistenceManager(l){if(!this.redirectPersistenceManager){const i=l&&Zs(l)||this._popupRedirectResolver;ge(i,this,"argument-error"),this.redirectPersistenceManager=await fr.create(this,[Zs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(l){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===l?this._currentUser:this.redirectUser?._redirectEventId===l?this.redirectUser:null}async _persistUserIfCurrent(l){if(l===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(l))}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const l=this.currentUser?.uid??null;this.lastNotifiedUid!==l&&(this.lastNotifiedUid=l,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,i,o,u){if(this._deleted)return()=>{};const m=typeof i=="function"?i:i.next.bind(i);let x=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(f,this,"internal-error"),f.then(()=>{x||m(this.currentUser)}),typeof i=="function"){const g=l.addObserver(i,o,u);return()=>{x=!0,g()}}else{const g=l.addObserver(i);return()=>{x=!0,g()}}}async directlySetCurrentUser(l){this.currentUser&&this.currentUser!==l&&this._currentUser._stopProactiveRefresh(),l&&this.isProactiveRefreshEnabled&&l._startProactiveRefresh(),this.currentUser=l,l?await this.assertedPersistence.setCurrentUser(l):await this.assertedPersistence.removeCurrentUser()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=Ip(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const l={"X-Client-Version":this.clientVersion};this.app.options.appId&&(l["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(l["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(l["X-Firebase-AppCheck"]=o),l}async _getAppCheckToken(){if(os(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const l=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return l?.error&&gN(`Error while retrieving App Check token: ${l.error}`),l?.token}}function na(n){return _s(n)}class Rg{constructor(l){this.auth=l,this.observer=null,this.addObserver=aj(i=>this.observer=i)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VN(n){Oo=n}function Bp(n){return Oo.loadJS(n)}function $N(){return Oo.recaptchaEnterpriseScript}function GN(){return Oo.gapiScript}function FN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class YN{constructor(){this.enterprise=new QN}ready(l){l()}execute(l,i){return Promise.resolve("token")}render(l,i){return""}}class QN{ready(l){l()}execute(l,i){return Promise.resolve("token")}render(l,i){return""}}const KN="recaptcha-enterprise",Pp="NO_RECAPTCHA";class JN{constructor(l){this.type=KN,this.auth=na(l)}async verify(l="verify",i=!1){async function o(m){if(!i){if(m.tenantId==null&&m._agentRecaptchaConfig!=null)return m._agentRecaptchaConfig.siteKey;if(m.tenantId!=null&&m._tenantRecaptchaConfigs[m.tenantId]!==void 0)return m._tenantRecaptchaConfigs[m.tenantId].siteKey}return new Promise(async(x,f)=>{kN(m,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const w=new TN(g);return m.tenantId==null?m._agentRecaptchaConfig=w:m._tenantRecaptchaConfigs[m.tenantId]=w,x(w.siteKey)}}).catch(g=>{f(g)})})}function u(m,x,f){const g=window.grecaptcha;kg(g)?g.enterprise.ready(()=>{g.enterprise.execute(m,{action:l}).then(w=>{x(w)}).catch(()=>{x(Pp)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new YN().execute("siteKey",{action:"verify"}):new Promise((m,x)=>{o(this.auth).then(f=>{if(!i&&kg(window.grecaptcha))u(f,m,x);else{if(typeof window>"u"){x(new Error("RecaptchaVerifier is only supported in browser"));return}let g=$N();g.length!==0&&(g+=f),Bp(g).then(()=>{u(f,m,x)}).catch(w=>{x(w)})}}).catch(f=>{x(f)})})}}async function Og(n,l,i,o=!1,u=!1){const m=new JN(n);let x;if(u)x=Pp;else try{x=await m.verify(i)}catch{x=await m.verify(i,!0)}const f={...l};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const g=f.phoneEnrollmentInfo.phoneNumber,w=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:w,captchaResponse:x,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const g=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:x,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return o?Object.assign(f,{captchaResp:x}):Object.assign(f,{captchaResponse:x}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function ku(n,l,i,o,u){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const m=await Og(n,l,i,i==="getOobCode");return o(n,m)}else return o(n,l).catch(async m=>{if(m.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const x=await Og(n,l,i,i==="getOobCode");return o(n,x)}else return Promise.reject(m)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(n,l){const i=yp(n,"auth");if(i.isInitialized()){const u=i.getImmediate(),m=i.getOptions();if(vr(m,l??{}))return u;us(u,"already-initialized")}return i.initialize({options:l})}function ZN(n,l){const i=l?.persistence||[],o=(Array.isArray(i)?i:[i]).map(Zs);l?.errorMap&&n._updateErrorMap(l.errorMap),n._initializeWithPersistence(o,l?.popupRedirectResolver)}function WN(n,l,i){const o=na(n);ge(/^https?:\/\//.test(l),o,"invalid-emulator-scheme");const u=!1,m=qp(l),{host:x,port:f}=ew(l),g=f===null?"":`:${f}`,w={url:`${m}//${x}${g}/`},v=Object.freeze({host:x,port:f,protocol:m.replace(":",""),options:Object.freeze({disableWarnings:u})});if(!o._canInitEmulator){ge(o.config.emulator&&o.emulatorConfig,o,"emulator-config-failed"),ge(vr(w,o.config.emulator)&&vr(v,o.emulatorConfig),o,"emulator-config-failed");return}o.config.emulator=w,o.emulatorConfig=v,o.settings.appVerificationDisabledForTesting=!0,Ro(x)?(Hv(`${m}//${x}${g}`),Gv("Auth",!0)):tw()}function qp(n){const l=n.indexOf(":");return l<0?"":n.substr(0,l+1)}function ew(n){const l=qp(n),i=/(\/\/)?([^?#/]+)/.exec(n.substr(l.length));if(!i)return{host:"",port:null};const o=i[2].split("@").pop()||"",u=/^(\[[^\]]+\])(:|$)/.exec(o);if(u){const m=u[1];return{host:m,port:Mg(o.substr(m.length+1))}}else{const[m,x]=o.split(":");return{host:m,port:Mg(x)}}}function Mg(n){if(!n)return null;const l=Number(n);return isNaN(l)?null:l}function tw(){function n(){const l=document.createElement("p"),i=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(l,i){this.providerId=l,this.signInMethod=i}toJSON(){return Xs("not implemented")}_getIdTokenResponse(l){return Xs("not implemented")}_linkToIdToken(l,i){return Xs("not implemented")}_getReauthenticationResolver(l){return Xs("not implemented")}}async function sw(n,l){return Ja(n,"POST","/v1/accounts:signUp",l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aw(n,l){return qn(n,"POST","/v1/accounts:signInWithPassword",Ka(n,l))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lw(n,l){return qn(n,"POST","/v1/accounts:signInWithEmailLink",Ka(n,l))}async function rw(n,l){return qn(n,"POST","/v1/accounts:signInWithEmailLink",Ka(n,l))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn extends Yu{constructor(l,i,o,u=null){super("password",o),this._email=l,this._password=i,this._tenantId=u}static _fromEmailAndPassword(l,i){return new Rn(l,i,"password")}static _fromEmailAndCode(l,i,o=null){return new Rn(l,i,"emailLink",o)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const i=typeof l=="string"?JSON.parse(l):l;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(l){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ku(l,i,"signInWithPassword",aw);case"emailLink":return lw(l,{email:this._email,oobCode:this._password});default:us(l,"internal-error")}}async _linkToIdToken(l,i){switch(this.signInMethod){case"password":const o={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ku(l,o,"signUpPassword",sw);case"emailLink":return rw(l,{idToken:i,email:this._email,oobCode:this._password});default:us(l,"internal-error")}}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gr(n,l){return qn(n,"POST","/v1/accounts:signInWithIdp",Ka(n,l))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="http://localhost";class Nl extends Yu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const i=new Nl(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(i.idToken=l.idToken),l.accessToken&&(i.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(i.nonce=l.nonce),l.pendingToken&&(i.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(i.accessToken=l.oauthToken,i.secret=l.oauthTokenSecret):us("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const i=typeof l=="string"?JSON.parse(l):l,{providerId:o,signInMethod:u,...m}=i;if(!o||!u)return null;const x=new Nl(o,u);return x.idToken=m.idToken||void 0,x.accessToken=m.accessToken||void 0,x.secret=m.secret,x.nonce=m.nonce,x.pendingToken=m.pendingToken||null,x}_getIdTokenResponse(l){const i=this.buildRequest();return gr(l,i)}_linkToIdToken(l,i){const o=this.buildRequest();return o.idToken=i,gr(l,o)}_getReauthenticationResolver(l){const i=this.buildRequest();return i.autoCreate=!1,gr(l,i)}buildRequest(){const l={requestUri:nw,returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),l.postBody=In(i)}return l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ow(n){const l=Sn(Cn(n)).link,i=l?Sn(Cn(l)).deep_link_id:null,o=Sn(Cn(n)).deep_link_id;return(o?Sn(Cn(o)).link:null)||o||i||l||n}class Qu{constructor(l){const i=Sn(Cn(l)),o=i.apiKey??null,u=i.oobCode??null,m=iw(i.mode??null);ge(o&&u&&m,"argument-error"),this.apiKey=o,this.operation=m,this.code=u,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(l){const i=ow(l);try{return new Qu(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(){this.providerId=Nr.PROVIDER_ID}static credential(l,i){return Rn._fromEmailAndPassword(l,i)}static credentialWithLink(l,i){const o=Qu.parseLink(i);return ge(o,"argument-error"),Rn._fromEmailAndCode(l,o.code,o.tenantId)}}Nr.PROVIDER_ID="password";Nr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Nr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn extends Ku{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends Hn{constructor(){super("facebook.com")}static credential(l){return Nl._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.FACEBOOK_SIGN_IN_METHOD,accessToken:l})}static credentialFromResult(l){return Ia.credentialFromTaggedObject(l)}static credentialFromError(l){return Ia.credentialFromTaggedObject(l.customData||{})}static credentialFromTaggedObject({_tokenResponse:l}){if(!l||!("oauthAccessToken"in l)||!l.oauthAccessToken)return null;try{return Ia.credential(l.oauthAccessToken)}catch{return null}}}Ia.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ia.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Hn{constructor(){super("google.com"),this.addScope("profile")}static credential(l,i){return Nl._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GOOGLE_SIGN_IN_METHOD,idToken:l,accessToken:i})}static credentialFromResult(l){return Ts.credentialFromTaggedObject(l)}static credentialFromError(l){return Ts.credentialFromTaggedObject(l.customData||{})}static credentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:i,oauthAccessToken:o}=l;if(!i&&!o)return null;try{return Ts.credential(i,o)}catch{return null}}}Ts.GOOGLE_SIGN_IN_METHOD="google.com";Ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends Hn{constructor(){super("github.com")}static credential(l){return Nl._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.GITHUB_SIGN_IN_METHOD,accessToken:l})}static credentialFromResult(l){return Ba.credentialFromTaggedObject(l)}static credentialFromError(l){return Ba.credentialFromTaggedObject(l.customData||{})}static credentialFromTaggedObject({_tokenResponse:l}){if(!l||!("oauthAccessToken"in l)||!l.oauthAccessToken)return null;try{return Ba.credential(l.oauthAccessToken)}catch{return null}}}Ba.GITHUB_SIGN_IN_METHOD="github.com";Ba.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends Hn{constructor(){super("twitter.com")}static credential(l,i){return Nl._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.TWITTER_SIGN_IN_METHOD,oauthToken:l,oauthTokenSecret:i})}static credentialFromResult(l){return Pa.credentialFromTaggedObject(l)}static credentialFromError(l){return Pa.credentialFromTaggedObject(l.customData||{})}static credentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthAccessToken:i,oauthTokenSecret:o}=l;if(!i||!o)return null;try{return Pa.credential(i,o)}catch{return null}}}Pa.TWITTER_SIGN_IN_METHOD="twitter.com";Pa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cw(n,l){return qn(n,"POST","/v1/accounts:signUp",Ka(n,l))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static async _fromIdTokenResponse(l,i,o,u=!1){const m=await ps._fromIdTokenResponse(l,o,u),x=zg(o);return new wl({user:m,providerId:x,_tokenResponse:o,operationType:i})}static async _forOperation(l,i,o){await l._updateTokensIfNecessary(o,!0);const u=zg(o);return new wl({user:l,providerId:u,_tokenResponse:o,operationType:i})}}function zg(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends Qa{constructor(l,i,o,u){super(i.code,i.message),this.operationType=o,this.user=u,Object.setPrototypeOf(this,ko.prototype),this.customData={appName:l.name,tenantId:l.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:o}}static _fromErrorAndOperation(l,i,o,u){return new ko(l,i,o,u)}}function Hp(n,l,i,o){return(l==="reauthenticate"?i._getReauthenticationResolver(n):i._getIdTokenResponse(n)).catch(m=>{throw m.code==="auth/multi-factor-auth-required"?ko._fromErrorAndOperation(n,m,l,o):m})}async function dw(n,l,i=!1){const o=await Dn(n,l._linkToIdToken(n.auth,await n.getIdToken()),i);return wl._forOperation(n,"link",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uw(n,l,i=!1){const{auth:o}=n;if(os(o.app))return Promise.reject(As(o));const u="reauthenticate";try{const m=await Dn(n,Hp(o,u,l,n),i);ge(m.idToken,o,"internal-error");const x=Gu(m.idToken);ge(x,o,"internal-error");const{sub:f}=x;return ge(n.uid===f,o,"user-mismatch"),wl._forOperation(n,u,m)}catch(m){throw m?.code==="auth/user-not-found"&&us(o,"user-mismatch"),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vp(n,l,i=!1){if(os(n.app))return Promise.reject(As(n));const o="signIn",u=await Hp(n,o,l),m=await wl._fromIdTokenResponse(n,o,u);return i||await n._updateCurrentUser(m.user),m}async function mw(n,l){return Vp(na(n),l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $p(n){const l=na(n);l._getPasswordPolicyInternal()&&await l._updatePasswordPolicy()}async function hw(n,l,i){if(os(n.app))return Promise.reject(As(n));const o=na(n),x=await ku(o,{returnSecureToken:!0,email:l,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cw).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&$p(n),g}),f=await wl._fromIdTokenResponse(o,"signIn",x);return await o._updateCurrentUser(f.user),f}function xw(n,l,i){return os(n.app)?Promise.reject(As(n)):mw(_s(n),Nr.credential(l,i)).catch(async o=>{throw o.code==="auth/password-does-not-meet-requirements"&&$p(n),o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(n,l){return _s(n).setPersistence(l)}function gw(n,l,i,o){return _s(n).onIdTokenChanged(l,i,o)}function pw(n,l,i){return _s(n).beforeAuthStateChanged(l,i)}function bw(n,l,i,o){return _s(n).onAuthStateChanged(l,i,o)}function yw(n){return _s(n).signOut()}const Ao="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(l,i){this.storageRetriever=l,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Ao,"1"),this.storage.removeItem(Ao),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(l,i){return this.storage.setItem(l,JSON.stringify(i)),Promise.resolve()}_get(l){const i=this.storage.getItem(l);return Promise.resolve(i?JSON.parse(i):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=1e3,jw=10;class Fp extends Gp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(l,i)=>this.onStorageEvent(l,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Lp(),this._shouldAllowMigration=!0}forAllChangedKeys(l){for(const i of Object.keys(this.listeners)){const o=this.storage.getItem(i),u=this.localCache[i];o!==u&&l(i,u,o)}}onStorageEvent(l,i=!1){if(!l.key){this.forAllChangedKeys((x,f,g)=>{this.notifyListeners(x,g)});return}const o=l.key;i?this.detachListener():this.stopPolling();const u=()=>{const x=this.storage.getItem(o);!i&&this.localCache[o]===x||this.notifyListeners(o,x)},m=this.storage.getItem(o);LN()&&m!==l.newValue&&l.newValue!==l.oldValue?setTimeout(u,jw):u()}notifyListeners(l,i){this.localCache[l]=i;const o=this.listeners[l];if(o)for(const u of Array.from(o))u(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((l,i,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:l,oldValue:i,newValue:o}),!0)})},vw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(l,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[l]||(this.listeners[l]=new Set,this.localCache[l]=this.storage.getItem(l)),this.listeners[l].add(i)}_removeListener(l,i){this.listeners[l]&&(this.listeners[l].delete(i),this.listeners[l].size===0&&delete this.listeners[l]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(l,i){await super._set(l,i),this.localCache[l]=JSON.stringify(i)}async _get(l){const i=await super._get(l);return this.localCache[l]=JSON.stringify(i),i}async _remove(l){await super._remove(l),delete this.localCache[l]}}Fp.type="LOCAL";const Yp=Fp;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp extends Gp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(l,i){}_removeListener(l,i){}}Qp.type="SESSION";const Kp=Qp;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(n){return Promise.all(n.map(async l=>{try{return{fulfilled:!0,value:await l}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(l){this.eventTarget=l,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(l){const i=this.receivers.find(u=>u.isListeningto(l));if(i)return i;const o=new Mo(l);return this.receivers.push(o),o}isListeningto(l){return this.eventTarget===l}async handleEvent(l){const i=l,{eventId:o,eventType:u,data:m}=i.data,x=this.handlersMap[u];if(!x?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:u});const f=Array.from(x).map(async w=>w(i.origin,m)),g=await Nw(f);i.ports[0].postMessage({status:"done",eventId:o,eventType:u,response:g})}_subscribe(l,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[l]||(this.handlersMap[l]=new Set),this.handlersMap[l].add(i)}_unsubscribe(l,i){this.handlersMap[l]&&i&&this.handlersMap[l].delete(i),(!i||this.handlersMap[l].size===0)&&delete this.handlersMap[l],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mo.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(n="",l=10){let i="";for(let o=0;o<l;o++)i+=Math.floor(Math.random()*10);return n+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}async _send(l,i,o=50){const u=typeof MessageChannel<"u"?new MessageChannel:null;if(!u)throw new Error("connection_unavailable");let m,x;return new Promise((f,g)=>{const w=Ju("",20);u.port1.start();const v=setTimeout(()=>{g(new Error("unsupported_event"))},o);x={messageChannel:u,onMessage(y){const b=y;if(b.data.eventId===w)switch(b.data.status){case"ack":clearTimeout(v),m=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(m),f(b.data.response);break;default:clearTimeout(v),clearTimeout(m),g(new Error("invalid_response"));break}}},this.handlers.add(x),u.port1.addEventListener("message",x.onMessage),this.target.postMessage({eventType:l,eventId:w,data:i},[u.port2])}).finally(()=>{x&&this.removeMessageHandler(x)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(){return window}function Sw(n){Es().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(){return typeof Es().WorkerGlobalScope<"u"&&typeof Es().importScripts=="function"}async function Cw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Tw(){return navigator?.serviceWorker?.controller||null}function kw(){return Jp()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="firebaseLocalStorageDb",Aw=1,Eo="firebaseLocalStorage",Zp="fbase_key";class Vn{constructor(l){this.request=l}toPromise(){return new Promise((l,i)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function zo(n,l){return n.transaction([Eo],l?"readwrite":"readonly").objectStore(Eo)}function Ew(){const n=indexedDB.deleteDatabase(Xp);return new Vn(n).toPromise()}function Au(){const n=indexedDB.open(Xp,Aw);return new Promise((l,i)=>{n.addEventListener("error",()=>{i(n.error)}),n.addEventListener("upgradeneeded",()=>{const o=n.result;try{o.createObjectStore(Eo,{keyPath:Zp})}catch(u){i(u)}}),n.addEventListener("success",async()=>{const o=n.result;o.objectStoreNames.contains(Eo)?l(o):(o.close(),await Ew(),l(await Au()))})})}async function Ug(n,l,i){const o=zo(n,!0).put({[Zp]:l,value:i});return new Vn(o).toPromise()}async function _w(n,l){const i=zo(n,!1).get(l),o=await new Vn(i).toPromise();return o===void 0?null:o.value}function Lg(n,l){const i=zo(n,!0).delete(l);return new Vn(i).toPromise()}const Dw=800,Rw=3;class Wp{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Au(),this.db)}async _withRetries(l){let i=0;for(;;)try{const o=await this._openDb();return await l(o)}catch(o){if(i++>Rw)throw o;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Jp()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mo._getInstance(kw()),this.receiver._subscribe("keyChanged",async(l,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(l,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Cw(),!this.activeServiceWorker)return;this.sender=new ww(this.activeServiceWorker);const l=await this.sender._send("ping",{},800);l&&l[0]?.fulfilled&&l[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(l){if(!(!this.sender||!this.activeServiceWorker||Tw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:l},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const l=await Au();return await Ug(l,Ao,"1"),await Lg(l,Ao),!0}catch{}return!1}async _withPendingWrite(l){this.pendingWrites++;try{await l()}finally{this.pendingWrites--}}async _set(l,i){return this._withPendingWrite(async()=>(await this._withRetries(o=>Ug(o,l,i)),this.localCache[l]=i,this.notifyServiceWorker(l)))}async _get(l){const i=await this._withRetries(o=>_w(o,l));return this.localCache[l]=i,i}async _remove(l){return this._withPendingWrite(async()=>(await this._withRetries(i=>Lg(i,l)),delete this.localCache[l],this.notifyServiceWorker(l)))}async _poll(){const l=await this._withRetries(u=>{const m=zo(u,!1).getAll();return new Vn(m).toPromise()});if(!l)return[];if(this.pendingWrites!==0)return[];const i=[],o=new Set;if(l.length!==0)for(const{fbase_key:u,value:m}of l)o.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(m)&&(this.notifyListeners(u,m),i.push(u));for(const u of Object.keys(this.localCache))this.localCache[u]&&!o.has(u)&&(this.notifyListeners(u,null),i.push(u));return i}notifyListeners(l,i){this.localCache[l]=i;const o=this.listeners[l];if(o)for(const u of Array.from(o))u(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Dw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(l,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[l]||(this.listeners[l]=new Set,this._get(l)),this.listeners[l].add(i)}_removeListener(l,i){this.listeners[l]&&(this.listeners[l].delete(i),this.listeners[l].size===0&&delete this.listeners[l]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Wp.type="LOCAL";const Ow=Wp;new Pn(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(n,l){return l?Zs(l):(ge(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu extends Yu{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return gr(l,this._buildIdpRequest())}_linkToIdToken(l,i){return gr(l,this._buildIdpRequest(i))}_getReauthenticationResolver(l){return gr(l,this._buildIdpRequest())}_buildIdpRequest(l){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(i.idToken=l),i}}function Mw(n){return Vp(n.auth,new Xu(n),n.bypassAuthState)}function zw(n){const{auth:l,user:i}=n;return ge(i,l,"internal-error"),uw(i,new Xu(n),n.bypassAuthState)}async function Uw(n){const{auth:l,user:i}=n;return ge(i,l,"internal-error"),dw(i,new Xu(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(l,i,o,u,m=!1){this.auth=l,this.resolver=o,this.user=u,this.bypassAuthState=m,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(l,i)=>{this.pendingPromise={resolve:l,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(o){this.reject(o)}})}async onAuthEvent(l){const{urlResponse:i,sessionId:o,postBody:u,tenantId:m,error:x,type:f}=l;if(x){this.reject(x);return}const g={auth:this.auth,requestUri:i,sessionId:o,tenantId:m||void 0,postBody:u||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(g))}catch(w){this.reject(w)}}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return Mw;case"linkViaPopup":case"linkViaRedirect":return Uw;case"reauthViaPopup":case"reauthViaRedirect":return zw;default:us(this.auth,"internal-error")}}resolve(l){ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=new Pn(2e3,1e4);class dr extends t0{constructor(l,i,o,u,m){super(l,i,u,m),this.provider=o,this.authWindow=null,this.pollId=null,dr.currentPopupAction&&dr.currentPopupAction.cancel(),dr.currentPopupAction=this}async executeNotNull(){const l=await this.execute();return ge(l,this.auth,"internal-error"),l}async onExecution(){ra(this.filter.length===1,"Popup operations only handle one event");const l=Ju();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],l),this.authWindow.associatedEvent=l,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ks(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ks(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dr.currentPopupAction=null}pollUserCancellation(){const l=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ks(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(l,Lw.get())};l()}}dr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="pendingRedirect",po=new Map;class Bw extends t0{constructor(l,i,o=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,o),this.eventId=null}async execute(){let l=po.get(this.auth._key());if(!l){try{const o=await Pw(this.resolver,this.auth)?await super.execute():null;l=()=>Promise.resolve(o)}catch(i){l=()=>Promise.reject(i)}po.set(this.auth._key(),l)}return this.bypassAuthState||po.set(this.auth._key(),()=>Promise.resolve(null)),l()}async onAuthEvent(l){if(l.type==="signInViaRedirect")return super.onAuthEvent(l);if(l.type==="unknown"){this.resolve(null);return}if(l.eventId){const i=await this.auth._redirectUserForId(l.eventId);if(i)return this.user=i,super.onAuthEvent(l);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Pw(n,l){const i=a0(l),o=s0(n);if(!await o._isAvailable())return!1;const u=await o._get(i)==="true";return await o._remove(i),u}async function qw(n,l){return s0(n)._set(a0(l),"true")}function Hw(n,l){po.set(n._key(),l)}function s0(n){return Zs(n._redirectPersistence)}function a0(n){return go(Iw,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(n,l,i){return $w(n,l,i)}async function $w(n,l,i){if(os(n.app))return Promise.reject(As(n));const o=na(n);pN(n,l,Ku),await o._initializationPromise;const u=e0(o,i);return await qw(u,o),u._openRedirect(o,l,"signInViaRedirect")}async function l0(n,l){return await na(n)._initializationPromise,r0(n,l,!1)}async function r0(n,l,i=!1){if(os(n.app))return Promise.reject(As(n));const o=na(n),u=e0(o,l),x=await new Bw(o,u,i).execute();return x&&!i&&(delete x.user._redirectEventId,await o._persistUserIfCurrent(x.user),await o._setRedirectUser(null,l)),x}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=600*1e3;class Fw{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let i=!1;return this.consumers.forEach(o=>{this.isEventForConsumer(l,o)&&(i=!0,this.sendToConsumer(l,o),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!Yw(l)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=l,i=!0)),i}sendToConsumer(l,i){if(l.error&&!n0(l)){const o=l.error.code?.split("auth/")[1]||"internal-error";i.onError(ks(this.auth,o))}else i.onAuthEvent(l)}isEventForConsumer(l,i){const o=i.eventId===null||!!l.eventId&&l.eventId===i.eventId;return i.filter.includes(l.type)&&o}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=Gw&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ig(l))}saveEventToCache(l){this.cachedEventUids.add(Ig(l)),this.lastProcessedEventTime=Date.now()}}function Ig(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(l=>l).join("-")}function n0({type:n,error:l}){return n==="unknown"&&l?.code==="auth/no-auth-event"}function Yw(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return n0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qw(n,l={}){return Ja(n,"GET","/v1/projects",l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jw=/^https?/;async function Xw(n){if(n.config.emulator)return;const{authorizedDomains:l}=await Qw(n);for(const i of l)try{if(Zw(i))return}catch{}us(n,"unauthorized-domain")}function Zw(n){const l=Cu(),{protocol:i,hostname:o}=new URL(l);if(n.startsWith("chrome-extension://")){const x=new URL(n);return x.hostname===""&&o===""?i==="chrome-extension:"&&n.replace("chrome-extension://","")===l.replace("chrome-extension://",""):i==="chrome-extension:"&&x.hostname===o}if(!Jw.test(i))return!1;if(Kw.test(n))return o===n;const u=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+u+"|"+u+")$","i").test(o)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=new Pn(3e4,6e4);function Bg(){const n=Es().___jsl;if(n?.H){for(const l of Object.keys(n.H))if(n.H[l].r=n.H[l].r||[],n.H[l].L=n.H[l].L||[],n.H[l].r=[...n.H[l].L],n.CP)for(let i=0;i<n.CP.length;i++)n.CP[i]=null}}function e2(n){return new Promise((l,i)=>{function o(){Bg(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{Bg(),i(ks(n,"network-request-failed"))},timeout:Ww.get()})}if(Es().gapi?.iframes?.Iframe)l(gapi.iframes.getContext());else if(Es().gapi?.load)o();else{const u=FN("iframefcb");return Es()[u]=()=>{gapi.load?o():i(ks(n,"network-request-failed"))},Bp(`${GN()}?onload=${u}`).catch(m=>i(m))}}).catch(l=>{throw bo=null,l})}let bo=null;function t2(n){return bo=bo||e2(n),bo}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=new Pn(5e3,15e3),a2="__/auth/iframe",l2="emulator/auth/iframe",r2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i2(n){const l=n.config;ge(l.authDomain,n,"auth-domain-config-required");const i=l.emulator?$u(l,l2):`https://${n.config.authDomain}/${a2}`,o={apiKey:l.apiKey,appName:n.name,v:Bn},u=n2.get(n.config.apiHost);u&&(o.eid=u);const m=n._getFrameworks();return m.length&&(o.fw=m.join(",")),`${i}?${In(o).slice(1)}`}async function o2(n){const l=await t2(n),i=Es().gapi;return ge(i,n,"internal-error"),l.open({where:document.body,url:i2(n),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r2,dontclear:!0},o=>new Promise(async(u,m)=>{await o.restyle({setHideOnLeave:!1});const x=ks(n,"network-request-failed"),f=Es().setTimeout(()=>{m(x)},s2.get());function g(){Es().clearTimeout(f),u(o)}o.ping(g).then(g,()=>{m(x)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},d2=500,u2=600,m2="_blank",h2="http://localhost";class Pg{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function x2(n,l,i,o=d2,u=u2){const m=Math.max((window.screen.availHeight-u)/2,0).toString(),x=Math.max((window.screen.availWidth-o)/2,0).toString();let f="";const g={...c2,width:o.toString(),height:u.toString(),top:m,left:x},w=Rt().toLowerCase();i&&(f=Rp(w)?m2:i),_p(w)&&(l=l||h2,g.scrollbars="yes");const v=Object.entries(g).reduce((b,[U,A])=>`${b}${U}=${A},`,"");if(UN(w)&&f!=="_self")return f2(l||"",f),new Pg(null);const y=window.open(l||"",f,v);ge(y,n,"popup-blocked");try{y.focus()}catch{}return new Pg(y)}function f2(n,l){const i=document.createElement("a");i.href=n,i.target=l;const o=document.createEvent("MouseEvent");o.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="__/auth/handler",p2="emulator/auth/handler",b2=encodeURIComponent("fac");async function qg(n,l,i,o,u,m){ge(n.config.authDomain,n,"auth-domain-config-required"),ge(n.config.apiKey,n,"invalid-api-key");const x={apiKey:n.config.apiKey,appName:n.name,authType:i,redirectUrl:o,v:Bn,eventId:u};if(l instanceof Ku){l.setDefaultLanguage(n.languageCode),x.providerId=l.providerId||"",sj(l.getCustomParameters())||(x.customParameters=JSON.stringify(l.getCustomParameters()));for(const[v,y]of Object.entries({}))x[v]=y}if(l instanceof Hn){const v=l.getScopes().filter(y=>y!=="");v.length>0&&(x.scopes=v.join(","))}n.tenantId&&(x.tid=n.tenantId);const f=x;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const g=await n._getAppCheckToken(),w=g?`#${b2}=${encodeURIComponent(g)}`:"";return`${y2(n)}?${In(f).slice(1)}${w}`}function y2({config:n}){return n.emulator?$u(n,p2):`https://${n.authDomain}/${g2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu="webStorageSupport";class v2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kp,this._completeRedirectFn=r0,this._overrideRedirectResult=Hw}async _openPopup(l,i,o,u){ra(this.eventManagers[l._key()]?.manager,"_initialize() not called before _openPopup()");const m=await qg(l,i,o,Cu(),u);return x2(l,m,Ju())}async _openRedirect(l,i,o,u){await this._originValidation(l);const m=await qg(l,i,o,Cu(),u);return Sw(m),new Promise(()=>{})}_initialize(l){const i=l._key();if(this.eventManagers[i]){const{manager:u,promise:m}=this.eventManagers[i];return u?Promise.resolve(u):(ra(m,"If manager is not set, promise should be"),m)}const o=this.initAndGetManager(l);return this.eventManagers[i]={promise:o},o.catch(()=>{delete this.eventManagers[i]}),o}async initAndGetManager(l){const i=await o2(l),o=new Fw(l);return i.register("authEvent",u=>(ge(u?.authEvent,l,"invalid-auth-event"),{status:o.onEvent(u.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[l._key()]={manager:o},this.iframes[l._key()]=i,o}_isIframeWebStorageSupported(l,i){this.iframes[l._key()].send(nu,{type:nu},u=>{const m=u?.[0]?.[nu];m!==void 0&&i(!!m),us(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const i=l._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Xw(l)),this.originValidationPromises[i]}get _shouldInitProactively(){return Lp()||Dp()||Fu()}}const j2=v2;var Hg="@firebase/auth",Vg="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(l){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(l)}:null}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const i=this.auth.onIdTokenChanged(o=>{l(o?.stsTokenManager.accessToken||null)});this.internalListeners.set(l,i),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const i=this.internalListeners.get(l);i&&(this.internalListeners.delete(l),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function S2(n){En(new jr("auth",(l,{options:i})=>{const o=l.getProvider("app").getImmediate(),u=l.getProvider("heartbeat"),m=l.getProvider("app-check-internal"),{apiKey:x,authDomain:f}=o.options;ge(x&&!x.includes(":"),"invalid-api-key",{appName:o.name});const g={apiKey:x,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ip(n)},w=new HN(o,u,m,g);return ZN(w,i),w},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,i,o)=>{l.getProvider("auth-internal").initialize()})),En(new jr("auth-internal",l=>{const i=na(l.getProvider("auth").getImmediate());return(o=>new N2(o))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(Hg,Vg,w2(n)),hr(Hg,Vg,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=300,T2=fp("authIdTokenMaxAge")||C2;let $g=null;const k2=n=>async l=>{const i=l&&await l.getIdTokenResult(),o=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(o&&o>T2)return;const u=i?.token;$g!==u&&($g=u,await fetch(n,{method:u?"POST":"DELETE",headers:u?{Authorization:`Bearer ${u}`}:{}}))};function A2(n=lN()){const l=yp(n,"auth");if(l.isInitialized())return l.getImmediate();const i=XN(n,{popupRedirectResolver:j2,persistence:[Ow,Yp,Kp]}),o=fp("authTokenSyncURL");if(o&&typeof isSecureContext=="boolean"&&isSecureContext){const m=new URL(o,location.origin);if(location.origin===m.origin){const x=k2(m.toString());pw(i,x,()=>x(i.currentUser)),gw(i,f=>x(f))}}const u=Pv("auth");return u&&WN(i,`http://${u}`),i}function E2(){return document.getElementsByTagName("head")?.[0]??document}VN({loadJS(n){return new Promise((l,i)=>{const o=document.createElement("script");o.setAttribute("src",n),o.onload=l,o.onerror=u=>{const m=ks("internal-error");m.customData=u,i(m)},o.type="text/javascript",o.charset="UTF-8",E2().appendChild(o)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});S2("Browser");var _2="firebase",D2="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hr(_2,D2,"app");const iu={apiKey:"AIzaSyCuJr5N0ytr1h_Aq_5qQazNL0wQUnsZlAw",authDomain:"travelbuddy-2d1c5.firebaseapp.com",projectId:"travelbuddy-2d1c5",storageBucket:"travelbuddy-2d1c5.firebasestorage.app",messagingSenderId:"45425409967",appId:"1:45425409967:web:782638c65a40dcb156b95a"};let Gg=null,Ws=null;try{iu.apiKey&&iu.apiKey!=="undefined"?(Gg=vp(iu),Ws=A2(Gg),fw(Ws,Yp).catch(n=>{console.warn(" Failed to set auth persistence:",n)}),console.log(" Firebase initialized successfully with LOCAL persistence")):console.log(" Firebase config missing, running without Firebase")}catch(n){console.error(" Firebase initialization failed:",n)}const R2=Object.freeze(Object.defineProperty({__proto__:null,get auth(){return Ws}},Symbol.toStringTag,{value:"Module"}));let O2="http://localhost:3001";class M2{async getBaseUrl(){try{return`${(await ds.getConfig()).apiBaseUrl}/api`}catch{return`${O2}/api`}}async request(l,i={}){const u=`${await this.getBaseUrl()}${l}`,m={headers:{"Content-Type":"application/json",...i.headers},...i};try{const x=await fetch(u,m);if(!x.ok){const g=await x.json().catch(()=>({message:"Network error"}));throw new Error(g.message||`HTTP ${x.status}: ${x.statusText}`)}return await x.json()}catch(x){throw console.error(`API request failed [${l}]:`,x),x instanceof TypeError&&x.message.includes("fetch")?new Error("Network connection failed. Please check your internet connection."):x}}async getWeather(l,i){return this.request(`/weather/google?lat=${l}&lng=${i}`)}async getNearbyPlaces(l,i,o,u){if(!l||!i||isNaN(l)||isNaN(i))throw new Error("Valid latitude and longitude are required");if(Math.abs(l)>90||Math.abs(i)>180)throw new Error("Invalid coordinates: latitude must be between -90 and 90, longitude between -180 and 180");const m=new URLSearchParams({lat:l.toString(),lng:i.toString()});return o?.trim()&&m.append("q",o.trim()),u&&u>0&&m.append("radius",u.toString()),this.request(`/places/nearby?${m}`)}async getPlaceSections(l,i){return this.request(`/places/sections?lat=${l}&lng=${i}`)}async getDeals(l,i=!0){const o=new URLSearchParams({isActive:i.toString()});return l&&l!=="all"&&o.append("businessType",l),this.request(`/deals?${o}`)}async getPosts(l=20,i){const o=new URLSearchParams({limit:l.toString()});return i&&o.append("cursor",i),this.request(`/community/posts?${o}`)}async createPost(l){return this.request("/community/posts",{method:"POST",body:JSON.stringify(l)})}async login(l,i){return this.request("/auth/login",{method:"POST",body:JSON.stringify({email:l,password:i})})}async register(l,i,o){return this.request("/auth/register",{method:"POST",body:JSON.stringify({username:l,email:i,password:o})})}async getProfile(){const l=localStorage.getItem("auth_token");return this.request("/auth/profile",{headers:{Authorization:`Bearer ${l}`}})}async updateProfile(l){const i=localStorage.getItem("auth_token");return this.request("/auth/profile",{method:"PUT",headers:{Authorization:`Bearer ${i}`},body:JSON.stringify(l)})}async searchPlaces(l,i){if(!l?.trim())throw new Error("Search query is required");const o=new URLSearchParams({q:l.trim()});i?.category&&o.append("category",i.category),i?.limit&&i.limit>0&&o.append("limit",i.limit.toString()),i?.lat&&o.append("lat",i.lat.toString()),i?.lng&&o.append("lng",i.lng.toString()),i?.radius&&o.append("radius",i.radius.toString());try{const u=await this.request(`/enhanced-places/search?${o}`);if(u?.success&&u.results)return Array.isArray(u.results)?u.results:[];const m=await this.request(`/hybrid/search?${o}`);if(m?.success&&m.results)return Array.isArray(m.results)?m.results:[];const x=await this.request(`/search/places?${o}`);return x?.success&&x.data?Array.isArray(x.data.places)?x.data.places:[]:Array.isArray(x)?x:[]}catch(u){return console.error("Search places failed:",u),[]}}async getSearchSuggestions(l){if(!l||l.length<2)return[];try{return(await this.request(`/search/suggestions?q=${encodeURIComponent(l)}`)).suggestions||[]}catch(i){return console.warn("Suggestions failed:",i),[]}}async getPlaceDetails(l,i,o,u){try{const m=new URLSearchParams;i&&m.append("name",i),o&&m.append("location",o),u&&m.append("category",u);const x=m.toString()?`?${m}`:"",f=await this.request(`/place-details/${l}${x}`);return f.success?f.place:null}catch(m){throw console.error("Place details failed:",m),m}}async healthCheck(){return this.request("/health")}async getUserTrips(){const l=localStorage.getItem("auth_token");return this.request("/users/trip-plans",{headers:{Authorization:`Bearer ${l}`}})}async createTrip(l){const i=localStorage.getItem("auth_token");return this.request("/users/trip-plans",{method:"POST",headers:{Authorization:`Bearer ${i}`},body:JSON.stringify(l)})}async updateTrip(l,i){const o=localStorage.getItem("auth_token");return this.request(`/users/trip-plans/${l}`,{method:"PUT",headers:{Authorization:`Bearer ${o}`},body:JSON.stringify(i)})}async deleteTrip(l){const i=localStorage.getItem("auth_token");return this.request(`/users/trip-plans/${l}`,{method:"DELETE",headers:{Authorization:`Bearer ${i}`}})}async updateTripActivity(l,i,o,u){const m=localStorage.getItem("auth_token");return this.request(`/users/trip-plans/${l}/activities`,{method:"PATCH",headers:{Authorization:`Bearer ${m}`},body:JSON.stringify({dayIndex:i,activityIndex:o,isVisited:u,visitedDate:u?new Date().toISOString():null})})}async generateAITrip(l){const i=localStorage.getItem("auth_token");return this.request("/ai/trip-generator",{method:"POST",headers:{Authorization:`Bearer ${i}`},body:JSON.stringify(l)})}async getUserFavoriteIds(){const l=localStorage.getItem("auth_token");return this.request("/users/favorites",{headers:{Authorization:`Bearer ${l}`}})}async addToFavorites(l){const i=localStorage.getItem("auth_token");return this.request("/users/favorites",{method:"POST",headers:{Authorization:`Bearer ${i}`},body:JSON.stringify({placeId:l})})}async removeFromFavorites(l){const i=localStorage.getItem("auth_token");return this.request(`/users/favorites/${l}`,{method:"DELETE",headers:{Authorization:`Bearer ${i}`}})}async togglePlaceFavorite(l){const i=localStorage.getItem("auth_token");return this.request("/users/favorites/toggle",{method:"POST",headers:{Authorization:`Bearer ${i}`},body:JSON.stringify({placeId:l})})}async getTravelStyle(){const l=localStorage.getItem("auth_token");return this.request("/users/travel-style",{headers:{Authorization:`Bearer ${l}`}})}async setTravelStyle(l){const i=localStorage.getItem("auth_token");return this.request("/users/travel-style",{method:"PUT",headers:{Authorization:`Bearer ${i}`},body:JSON.stringify({travelStyle:l})})}async getPreferences(){const l=localStorage.getItem("auth_token");return this.request("/users/preferences",{headers:{Authorization:`Bearer ${l}`}})}async updatePreferences(l){const i=localStorage.getItem("auth_token");return this.request("/users/preferences",{method:"PUT",headers:{Authorization:`Bearer ${i}`},body:JSON.stringify(l)})}async getExtendedProfile(){const l=localStorage.getItem("auth_token");return this.request("/users/profile/extended",{headers:{Authorization:`Bearer ${l}`}})}async updateExtendedProfile(l){const i=localStorage.getItem("auth_token");return this.request("/users/profile/extended",{method:"PUT",headers:{Authorization:`Bearer ${i}`},body:JSON.stringify(l)})}async uploadAvatar(l){const i=localStorage.getItem("auth_token"),o=new FormData;return o.append("profilePicture",l),fetch(`${await this.getBaseUrl()}/users/profile/picture`,{method:"POST",headers:{Authorization:`Bearer ${i}`},body:o})}async generateTrip(l){const i=localStorage.getItem("auth_token");return this.request("/ai/trip-generator",{method:"POST",headers:{Authorization:`Bearer ${i}`},body:JSON.stringify(l)})}async getSmartRecommendations(l){const i=localStorage.getItem("auth_token");return this.request("/ai/recommendations",{method:"POST",headers:{Authorization:`Bearer ${i}`},body:JSON.stringify(l)})}async getPlaceAIContent(l){return this.request(`/ai/place-content/${l}`)}async enhancedSearch(l,i){const o=new URLSearchParams({q:l});return i&&Object.entries(i).forEach(([u,m])=>{m&&o.append(u,m.toString())}),this.request(`/enhanced-places/search?${o}`)}async getSubscriptionTiers(){return this.request("/subscriptions/tiers")}async getUserSubscription(l){const i=localStorage.getItem("auth_token");return this.request(`/subscriptions/${l}`,{headers:{Authorization:`Bearer ${i}`}})}async getSubscriptionUsage(l){const i=localStorage.getItem("auth_token");return this.request(`/subscriptions/${l}/usage`,{headers:{Authorization:`Bearer ${i}`}})}async startFreeTrial(l,i){const o=localStorage.getItem("auth_token");return this.request("/subscriptions/trial",{method:"POST",headers:{Authorization:`Bearer ${o}`},body:JSON.stringify({userId:l,tier:i,trialDays:7})})}async upgradeSubscription(l,i){const o=localStorage.getItem("auth_token");return this.request("/subscriptions/upgrade",{method:"POST",headers:{Authorization:`Bearer ${o}`},body:JSON.stringify({userId:l,tier:i})})}async cancelSubscription(l,i){const o=localStorage.getItem("auth_token");return this.request(`/subscriptions/${l}/cancel`,{method:"POST",headers:{Authorization:`Bearer ${o}`},body:JSON.stringify({cancelAtPeriodEnd:!0,reason:i||"user_requested"})})}async processPayment(l,i,o,u="paypal"){const m=localStorage.getItem("auth_token");return this.request("/subscriptions/payment",{method:"POST",headers:{Authorization:`Bearer ${m}`},body:JSON.stringify({userId:l,tier:i,amount:o,paymentMethod:u})})}async getPaymentHistory(l){const i=localStorage.getItem("auth_token");return this.request(`/payments/${l}/history`,{headers:{Authorization:`Bearer ${i}`}})}async checkTrialUsage(l){return(await this.request(`/users/${l}/trial-history`))?.hasUsedTrial===!0}async getTrips(){return this.getUserTrips()}}const i0=new M2,Ke={log:(...n)=>{},warn:(...n)=>{},error:(...n)=>{console.error(...n)}},o0=j.createContext(void 0),Ct=()=>{const n=j.useContext(o0);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n},z2=({children:n})=>{const[l,i]=j.useState(null),[o,u]=j.useState(!0),m={auth:Ws},x=!1,{config:f,loading:g}=Un();j.useEffect(()=>{if(g||!f)return;if(m?.auth&&f?.firebase?.apiKey&&l0(m.auth).then(K=>{K&&Ke.log(" Google Sign-In redirect successful",K.user.email)}).catch(K=>{Ke.error(" Google Sign-In redirect error:",K)}),localStorage.getItem("demo_token")){w();return}if(!m?.auth||!f?.firebase?.apiKey){u(!1);return}const $=m.auth?.currentUser;Ke.log(" AUTH STEP 3.1: Checking existing session",{hasAuth:!!m.auth,currentUser:$,currentUserEmail:$?.email,localStorage:{demoToken:!!localStorage.getItem("demo_token"),cachedUser:!!localStorage.getItem("cached_user")}}),$&&m.auth&&v($).then(()=>u(!1));const D=bw(m.auth,async K=>{Ke.log(" AUTH STEP 4: Auth state changed",{hasUser:!!K,uid:K?.uid,email:K?.email,hasDemoToken:!!localStorage.getItem("demo_token")}),K?await v(K):localStorage.getItem("demo_token")||i(null),u(!1)});return()=>D()},[m,f,x,g]);const w=async()=>{try{const E=localStorage.getItem("demo_token");if(!E){u(!1);return}const $=await fetch(`${f?.apiBaseUrl||window.location.origin}/api/demo-auth/verify-token`,{headers:{Authorization:`Bearer ${E}`}});if($.ok){const D=await $.json();i({id:D.user.id,email:D.user.email,username:D.user.username,tier:D.user.tier,role:D.user.role,isAdmin:D.user.isAdmin})}else Ke.log(" Demo token invalid, removing"),localStorage.removeItem("demo_token")}catch(E){Ke.error("Failed to restore demo user:",E),localStorage.removeItem("demo_token")}finally{u(!1)}},v=async E=>{const $=`sync_${E.uid}`;if(window[$]){const D=localStorage.getItem("cached_user");if(D&&!l)try{i(JSON.parse(D))}catch{Ke.error("Failed to parse cached user")}return}window[$]=!0,setTimeout(()=>{delete window[$]},5e3);try{Ke.log(" Starting user sync for:",E.uid),Ke.log(" User email:",E.email);const D=await E.getIdToken();Ke.log(" Firebase token obtained:",D?"Yes":"No"),localStorage.setItem("token",D);const K={email:E.email,username:E.displayName||E.email?.split("@")[0],firebaseUid:E.uid};Ke.log(" Sync data:",K);const q=`${f?.apiBaseUrl||window.location.origin}/api/users/sync`;Ke.log(" API URL:",q);const ee=await fetch(q,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${D}`},body:JSON.stringify(K)});if(Ke.log(" Response status:",ee.status),Ke.log(" Response ok:",ee.ok),ee.ok){const Y=await ee.json();Ke.log(" Sync successful:",Y);const T={id:Y._id,email:Y.email,username:Y.username,fullName:Y.fullName,phone:Y.phone,bio:Y.bio,homeCity:Y.homeCity,tier:Y.tier||"free",profilePicture:Y.profilePicture,firebaseUid:E.uid,role:Y.role||"regular",isAdmin:Y.isAdmin||!1};i(T),localStorage.setItem("cached_user",JSON.stringify(T))}else{const Y=await ee.text();Ke.error(" Sync failed:",ee.status,Y),Ke.log(" Using fallback - user will still be authenticated");const T={id:E.uid,email:E.email||"",username:E.displayName||E.email?.split("@")[0]||"User",tier:"free",firebaseUid:E.uid,role:"regular",isAdmin:!1};i(T),localStorage.setItem("cached_user",JSON.stringify(T))}}catch(D){Ke.error(" User sync error:",D);const K={id:E.uid,email:E.email||"",username:E.displayName||E.email?.split("@")[0]||"User",tier:"free",firebaseUid:E.uid,role:"regular",isAdmin:!1};i(K),localStorage.setItem("cached_user",JSON.stringify(K))}},y=async(E,$)=>{if(!m)throw new Error("Firebase not initialized");try{Ke.log(" Starting login for:",E);const D=await xw(m.auth,E,$);Ke.log(" Login successful, waiting for auth state change")}catch(D){throw Ke.error(" Login failed:",D),new Error(D.message||"Login failed")}},b=async()=>{if(!m)throw new Error("Firebase not initialized");try{Ke.log(" Starting Google Sign-In");const E=new Ts;E.setCustomParameters({prompt:"select_account"}),await Vw(m.auth,E)}catch(E){throw Ke.error(" Google Sign-In failed:",E),new Error(E.message||"Google Sign-In failed")}},U=async(E,$,D)=>{if(!m)throw new Error("Firebase not initialized");try{const K=await hw(m.auth,$,D)}catch(K){throw new Error(K.message||"Registration failed")}},A=async E=>{try{if(localStorage.getItem("demo_token")){i(q=>q?{...q,...E}:null);return}if(!m?.auth.currentUser)throw new Error("Not authenticated");const D=await m.auth.currentUser.getIdToken(),K=await fetch(`${f?.apiBaseUrl}/api/users/profile`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${D}`},body:JSON.stringify(E)});if(K.ok){const q=await K.json();i(Y=>Y?{...Y,...q,...E}:null);const ee={...l,...q,...E};localStorage.setItem("cached_user",JSON.stringify(ee))}else throw new Error("Profile update failed")}catch{throw new Error("Profile update failed")}},N=async()=>{try{i({id:"demo-user-123",email:"admin@travelbuddy.com",username:"Demo Admin",tier:"premium",role:"admin",isAdmin:!0}),localStorage.setItem("demo_token","demo-token-123")}catch(E){throw new Error(E.message||"Demo login failed")}},M=async()=>{try{localStorage.removeItem("demo_token"),localStorage.removeItem("cached_user"),localStorage.removeItem("token"),m&&await yw(m.auth),i(null)}catch(E){Ke.error("Logout failed:",E)}};return e.jsx(o0.Provider,{value:{user:l,login:y,register:U,loginWithGoogle:b,loginDemo:N,logout:M,updateProfile:A,isLoading:o},children:n})},c0=j.createContext(void 0),d0=()=>{const n=j.useContext(c0);if(!n)throw new Error("useApp must be used within AppProvider");return n},U2=({children:n})=>{const[l,i]=j.useState("home"),[o,u]=j.useState(3),{user:m}=Ct(),x={id:m?.id||"1",name:m?.username||"Traveler",avatar:m?.profilePicture||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop&crop=face",location:"Current Location",travelStyle:"Explorer",email:m?.email,tier:m?.tier},f=()=>u(y=>y+1),g=()=>u(0),w=(y,b,U)=>{const A=`activity-${y}-${b}-${U}`,N=localStorage.getItem(A)==="true";localStorage.setItem(A,(!N).toString())},v=(y,b,U)=>{const A=`activity-${y}-${b}-${U}`;return localStorage.getItem(A)==="true"};return e.jsx(c0.Provider,{value:{user:x,notifications:o,currentPage:l,setCurrentPage:i,addNotification:f,clearNotifications:g,toggleActivityStatus:w,getActivityStatus:v},children:n})},Zu="-",L2=n=>{const l=B2(n),{conflictingClassGroups:i,conflictingClassGroupModifiers:o}=n;return{getClassGroupId:x=>{const f=x.split(Zu);return f[0]===""&&f.length!==1&&f.shift(),u0(f,l)||I2(x)},getConflictingClassGroupIds:(x,f)=>{const g=i[x]||[];return f&&o[x]?[...g,...o[x]]:g}}},u0=(n,l)=>{if(n.length===0)return l.classGroupId;const i=n[0],o=l.nextPart.get(i),u=o?u0(n.slice(1),o):void 0;if(u)return u;if(l.validators.length===0)return;const m=n.join(Zu);return l.validators.find(({validator:x})=>x(m))?.classGroupId},Fg=/^\[(.+)\]$/,I2=n=>{if(Fg.test(n)){const l=Fg.exec(n)[1],i=l?.substring(0,l.indexOf(":"));if(i)return"arbitrary.."+i}},B2=n=>{const{theme:l,classGroups:i}=n,o={nextPart:new Map,validators:[]};for(const u in i)Eu(i[u],o,u,l);return o},Eu=(n,l,i,o)=>{n.forEach(u=>{if(typeof u=="string"){const m=u===""?l:Yg(l,u);m.classGroupId=i;return}if(typeof u=="function"){if(P2(u)){Eu(u(o),l,i,o);return}l.validators.push({validator:u,classGroupId:i});return}Object.entries(u).forEach(([m,x])=>{Eu(x,Yg(l,m),i,o)})})},Yg=(n,l)=>{let i=n;return l.split(Zu).forEach(o=>{i.nextPart.has(o)||i.nextPart.set(o,{nextPart:new Map,validators:[]}),i=i.nextPart.get(o)}),i},P2=n=>n.isThemeGetter,q2=n=>{if(n<1)return{get:()=>{},set:()=>{}};let l=0,i=new Map,o=new Map;const u=(m,x)=>{i.set(m,x),l++,l>n&&(l=0,o=i,i=new Map)};return{get(m){let x=i.get(m);if(x!==void 0)return x;if((x=o.get(m))!==void 0)return u(m,x),x},set(m,x){i.has(m)?i.set(m,x):u(m,x)}}},_u="!",Du=":",H2=Du.length,V2=n=>{const{prefix:l,experimentalParseClassName:i}=n;let o=u=>{const m=[];let x=0,f=0,g=0,w;for(let A=0;A<u.length;A++){let N=u[A];if(x===0&&f===0){if(N===Du){m.push(u.slice(g,A)),g=A+H2;continue}if(N==="/"){w=A;continue}}N==="["?x++:N==="]"?x--:N==="("?f++:N===")"&&f--}const v=m.length===0?u:u.substring(g),y=$2(v),b=y!==v,U=w&&w>g?w-g:void 0;return{modifiers:m,hasImportantModifier:b,baseClassName:y,maybePostfixModifierPosition:U}};if(l){const u=l+Du,m=o;o=x=>x.startsWith(u)?m(x.substring(u.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:x,maybePostfixModifierPosition:void 0}}if(i){const u=o;o=m=>i({className:m,parseClassName:u})}return o},$2=n=>n.endsWith(_u)?n.substring(0,n.length-1):n.startsWith(_u)?n.substring(1):n,G2=n=>{const l=Object.fromEntries(n.orderSensitiveModifiers.map(o=>[o,!0]));return o=>{if(o.length<=1)return o;const u=[];let m=[];return o.forEach(x=>{x[0]==="["||l[x]?(u.push(...m.sort(),x),m=[]):m.push(x)}),u.push(...m.sort()),u}},F2=n=>({cache:q2(n.cacheSize),parseClassName:V2(n),sortModifiers:G2(n),...L2(n)}),Y2=/\s+/,Q2=(n,l)=>{const{parseClassName:i,getClassGroupId:o,getConflictingClassGroupIds:u,sortModifiers:m}=l,x=[],f=n.trim().split(Y2);let g="";for(let w=f.length-1;w>=0;w-=1){const v=f[w],{isExternal:y,modifiers:b,hasImportantModifier:U,baseClassName:A,maybePostfixModifierPosition:N}=i(v);if(y){g=v+(g.length>0?" "+g:g);continue}let M=!!N,E=o(M?A.substring(0,N):A);if(!E){if(!M){g=v+(g.length>0?" "+g:g);continue}if(E=o(A),!E){g=v+(g.length>0?" "+g:g);continue}M=!1}const $=m(b).join(":"),D=U?$+_u:$,K=D+E;if(x.includes(K))continue;x.push(K);const q=u(E,M);for(let ee=0;ee<q.length;++ee){const Y=q[ee];x.push(D+Y)}g=v+(g.length>0?" "+g:g)}return g};function K2(){let n=0,l,i,o="";for(;n<arguments.length;)(l=arguments[n++])&&(i=m0(l))&&(o&&(o+=" "),o+=i);return o}const m0=n=>{if(typeof n=="string")return n;let l,i="";for(let o=0;o<n.length;o++)n[o]&&(l=m0(n[o]))&&(i&&(i+=" "),i+=l);return i};function J2(n,...l){let i,o,u,m=x;function x(g){const w=l.reduce((v,y)=>y(v),n());return i=F2(w),o=i.cache.get,u=i.cache.set,m=f,f(g)}function f(g){const w=o(g);if(w)return w;const v=Q2(g,i);return u(g,v),v}return function(){return m(K2.apply(null,arguments))}}const mt=n=>{const l=i=>i[n]||[];return l.isThemeGetter=!0,l},h0=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,x0=/^\((?:(\w[\w-]*):)?(.+)\)$/i,X2=/^\d+\/\d+$/,Z2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,W2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,e1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,t1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,s1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,or=n=>X2.test(n),we=n=>!!n&&!Number.isNaN(Number(n)),za=n=>!!n&&Number.isInteger(Number(n)),ou=n=>n.endsWith("%")&&we(n.slice(0,-1)),Ks=n=>Z2.test(n),a1=()=>!0,l1=n=>W2.test(n)&&!e1.test(n),f0=()=>!1,r1=n=>t1.test(n),n1=n=>s1.test(n),i1=n=>!oe(n)&&!ce(n),o1=n=>wr(n,b0,f0),oe=n=>h0.test(n),gl=n=>wr(n,y0,l1),cu=n=>wr(n,h1,we),Qg=n=>wr(n,g0,f0),c1=n=>wr(n,p0,n1),mo=n=>wr(n,v0,r1),ce=n=>x0.test(n),Nn=n=>Sr(n,y0),d1=n=>Sr(n,x1),Kg=n=>Sr(n,g0),u1=n=>Sr(n,b0),m1=n=>Sr(n,p0),ho=n=>Sr(n,v0,!0),wr=(n,l,i)=>{const o=h0.exec(n);return o?o[1]?l(o[1]):i(o[2]):!1},Sr=(n,l,i=!1)=>{const o=x0.exec(n);return o?o[1]?l(o[1]):i:!1},g0=n=>n==="position"||n==="percentage",p0=n=>n==="image"||n==="url",b0=n=>n==="length"||n==="size"||n==="bg-size",y0=n=>n==="length",h1=n=>n==="number",x1=n=>n==="family-name",v0=n=>n==="shadow",f1=()=>{const n=mt("color"),l=mt("font"),i=mt("text"),o=mt("font-weight"),u=mt("tracking"),m=mt("leading"),x=mt("breakpoint"),f=mt("container"),g=mt("spacing"),w=mt("radius"),v=mt("shadow"),y=mt("inset-shadow"),b=mt("text-shadow"),U=mt("drop-shadow"),A=mt("blur"),N=mt("perspective"),M=mt("aspect"),E=mt("ease"),$=mt("animate"),D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],q=()=>[...K(),ce,oe],ee=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto","contain","none"],T=()=>[ce,oe,g],ae=()=>[or,"full","auto",...T()],pe=()=>[za,"none","subgrid",ce,oe],ze=()=>["auto",{span:["full",za,ce,oe]},za,ce,oe],k=()=>[za,"auto",ce,oe],J=()=>["auto","min","max","fr",ce,oe],te=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],G=()=>["start","end","center","stretch","center-safe","end-safe"],S=()=>["auto",...T()],H=()=>[or,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],z=()=>[n,ce,oe],R=()=>[...K(),Kg,Qg,{position:[ce,oe]}],se=()=>["no-repeat",{repeat:["","x","y","space","round"]}],De=()=>["auto","cover","contain",u1,o1,{size:[ce,oe]}],Se=()=>[ou,Nn,gl],me=()=>["","none","full",w,ce,oe],be=()=>["",we,Nn,gl],$e=()=>["solid","dashed","dotted","double"],Ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ne=()=>[we,ou,Kg,Qg],Tt=()=>["","none",A,ce,oe],gt=()=>["none",we,ce,oe],Et=()=>["none",we,ce,oe],rt=()=>[we,ce,oe],Ot=()=>[or,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ks],breakpoint:[Ks],color:[a1],container:[Ks],"drop-shadow":[Ks],ease:["in","out","in-out"],font:[i1],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ks],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ks],shadow:[Ks],spacing:["px",we],text:[Ks],"text-shadow":[Ks],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",or,oe,ce,M]}],container:["container"],columns:[{columns:[we,oe,ce,f]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:q()}],overflow:[{overflow:ee()}],"overflow-x":[{"overflow-x":ee()}],"overflow-y":[{"overflow-y":ee()}],overscroll:[{overscroll:Y()}],"overscroll-x":[{"overscroll-x":Y()}],"overscroll-y":[{"overscroll-y":Y()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ae()}],"inset-x":[{"inset-x":ae()}],"inset-y":[{"inset-y":ae()}],start:[{start:ae()}],end:[{end:ae()}],top:[{top:ae()}],right:[{right:ae()}],bottom:[{bottom:ae()}],left:[{left:ae()}],visibility:["visible","invisible","collapse"],z:[{z:[za,"auto",ce,oe]}],basis:[{basis:[or,"full","auto",f,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[we,or,"auto","initial","none",oe]}],grow:[{grow:["",we,ce,oe]}],shrink:[{shrink:["",we,ce,oe]}],order:[{order:[za,"first","last","none",ce,oe]}],"grid-cols":[{"grid-cols":pe()}],"col-start-end":[{col:ze()}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":pe()}],"row-start-end":[{row:ze()}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":J()}],"auto-rows":[{"auto-rows":J()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...te(),"normal"]}],"justify-items":[{"justify-items":[...G(),"normal"]}],"justify-self":[{"justify-self":["auto",...G()]}],"align-content":[{content:["normal",...te()]}],"align-items":[{items:[...G(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...G(),{baseline:["","last"]}]}],"place-content":[{"place-content":te()}],"place-items":[{"place-items":[...G(),"baseline"]}],"place-self":[{"place-self":["auto",...G()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:S()}],mx:[{mx:S()}],my:[{my:S()}],ms:[{ms:S()}],me:[{me:S()}],mt:[{mt:S()}],mr:[{mr:S()}],mb:[{mb:S()}],ml:[{ml:S()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:H()}],w:[{w:[f,"screen",...H()]}],"min-w":[{"min-w":[f,"screen","none",...H()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[x]},...H()]}],h:[{h:["screen","lh",...H()]}],"min-h":[{"min-h":["screen","lh","none",...H()]}],"max-h":[{"max-h":["screen","lh",...H()]}],"font-size":[{text:["base",i,Nn,gl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,ce,cu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ou,oe]}],"font-family":[{font:[d1,oe,l]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[u,ce,oe]}],"line-clamp":[{"line-clamp":[we,"none",ce,cu]}],leading:[{leading:[m,...T()]}],"list-image":[{"list-image":["none",ce,oe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ce,oe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$e(),"wavy"]}],"text-decoration-thickness":[{decoration:[we,"from-font","auto",ce,gl]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[we,"auto",ce,oe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce,oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce,oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:R()}],"bg-repeat":[{bg:se()}],"bg-size":[{bg:De()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},za,ce,oe],radial:["",ce,oe],conic:[za,ce,oe]},m1,c1]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:Se()}],"gradient-via-pos":[{via:Se()}],"gradient-to-pos":[{to:Se()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:me()}],"rounded-s":[{"rounded-s":me()}],"rounded-e":[{"rounded-e":me()}],"rounded-t":[{"rounded-t":me()}],"rounded-r":[{"rounded-r":me()}],"rounded-b":[{"rounded-b":me()}],"rounded-l":[{"rounded-l":me()}],"rounded-ss":[{"rounded-ss":me()}],"rounded-se":[{"rounded-se":me()}],"rounded-ee":[{"rounded-ee":me()}],"rounded-es":[{"rounded-es":me()}],"rounded-tl":[{"rounded-tl":me()}],"rounded-tr":[{"rounded-tr":me()}],"rounded-br":[{"rounded-br":me()}],"rounded-bl":[{"rounded-bl":me()}],"border-w":[{border:be()}],"border-w-x":[{"border-x":be()}],"border-w-y":[{"border-y":be()}],"border-w-s":[{"border-s":be()}],"border-w-e":[{"border-e":be()}],"border-w-t":[{"border-t":be()}],"border-w-r":[{"border-r":be()}],"border-w-b":[{"border-b":be()}],"border-w-l":[{"border-l":be()}],"divide-x":[{"divide-x":be()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":be()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...$e(),"hidden","none"]}],"divide-style":[{divide:[...$e(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...$e(),"none","hidden"]}],"outline-offset":[{"outline-offset":[we,ce,oe]}],"outline-w":[{outline:["",we,Nn,gl]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",v,ho,mo]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",y,ho,mo]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:be()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[we,gl]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":be()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",b,ho,mo]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[we,ce,oe]}],"mix-blend":[{"mix-blend":[...Ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[we]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ne()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ne()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":Ne()}],"mask-image-t-to-pos":[{"mask-t-to":Ne()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":Ne()}],"mask-image-r-to-pos":[{"mask-r-to":Ne()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":Ne()}],"mask-image-b-to-pos":[{"mask-b-to":Ne()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":Ne()}],"mask-image-l-to-pos":[{"mask-l-to":Ne()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":Ne()}],"mask-image-x-to-pos":[{"mask-x-to":Ne()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":Ne()}],"mask-image-y-to-pos":[{"mask-y-to":Ne()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[ce,oe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ne()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ne()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":K()}],"mask-image-conic-pos":[{"mask-conic":[we]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ne()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ne()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:R()}],"mask-repeat":[{mask:se()}],"mask-size":[{mask:De()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ce,oe]}],filter:[{filter:["","none",ce,oe]}],blur:[{blur:Tt()}],brightness:[{brightness:[we,ce,oe]}],contrast:[{contrast:[we,ce,oe]}],"drop-shadow":[{"drop-shadow":["","none",U,ho,mo]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",we,ce,oe]}],"hue-rotate":[{"hue-rotate":[we,ce,oe]}],invert:[{invert:["",we,ce,oe]}],saturate:[{saturate:[we,ce,oe]}],sepia:[{sepia:["",we,ce,oe]}],"backdrop-filter":[{"backdrop-filter":["","none",ce,oe]}],"backdrop-blur":[{"backdrop-blur":Tt()}],"backdrop-brightness":[{"backdrop-brightness":[we,ce,oe]}],"backdrop-contrast":[{"backdrop-contrast":[we,ce,oe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",we,ce,oe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[we,ce,oe]}],"backdrop-invert":[{"backdrop-invert":["",we,ce,oe]}],"backdrop-opacity":[{"backdrop-opacity":[we,ce,oe]}],"backdrop-saturate":[{"backdrop-saturate":[we,ce,oe]}],"backdrop-sepia":[{"backdrop-sepia":["",we,ce,oe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ce,oe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[we,"initial",ce,oe]}],ease:[{ease:["linear","initial",E,ce,oe]}],delay:[{delay:[we,ce,oe]}],animate:[{animate:["none",$,ce,oe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,ce,oe]}],"perspective-origin":[{"perspective-origin":q()}],rotate:[{rotate:gt()}],"rotate-x":[{"rotate-x":gt()}],"rotate-y":[{"rotate-y":gt()}],"rotate-z":[{"rotate-z":gt()}],scale:[{scale:Et()}],"scale-x":[{"scale-x":Et()}],"scale-y":[{"scale-y":Et()}],"scale-z":[{"scale-z":Et()}],"scale-3d":["scale-3d"],skew:[{skew:rt()}],"skew-x":[{"skew-x":rt()}],"skew-y":[{"skew-y":rt()}],transform:[{transform:[ce,oe,"","none","gpu","cpu"]}],"transform-origin":[{origin:q()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ot()}],"translate-x":[{"translate-x":Ot()}],"translate-y":[{"translate-y":Ot()}],"translate-z":[{"translate-z":Ot()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce,oe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce,oe]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[we,Nn,gl,cu]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},g1=J2(f1);function Cr(...n){return g1(n.filter(Boolean).join(" "))}const B=({variant:n="primary",size:l="md",loading:i=!1,className:o,children:u,disabled:m,...x})=>{const f="inline-flex items-center justify-center font-medium rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",g={primary:"bg-primary-500 text-white hover:bg-primary-600 focus:ring-primary-500 shadow-lg hover:shadow-xl",default:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 shadow-lg hover:shadow-xl",secondary:"bg-secondary-500 text-white hover:bg-secondary-600 focus:ring-secondary-500 shadow-lg hover:shadow-xl",outline:"border-2 border-primary-500 text-primary-500 hover:bg-primary-50 focus:ring-primary-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-gray-500"},w={sm:"px-3 py-2 text-sm",md:"px-4 py-2.5 text-sm",lg:"px-6 py-3 text-base"};return e.jsxs("button",{className:Cr(f,g[n],w[l],(i||m)&&"opacity-50 cursor-not-allowed",o),disabled:i||m,...x,children:[i&&e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current mr-2"}),u]})},Jg=[{id:"home",label:"Home",icon:zu,path:"/"},{id:"discover",label:"Destinations",icon:gs,path:"/places"},{id:"planner",label:"Trip Planner",icon:de,path:"/trips"},{id:"deals",label:"Deals",icon:fs,path:"/deals"},{id:"community",label:"Community",icon:St,path:"/community"},{id:"more",label:"More",icon:Uu,path:"#",dropdown:[{label:"Events",path:"/events",icon:kt},{label:"Transport Hub",path:"/transport",icon:yl},{label:"Find an Agent",path:"/services",icon:St},{label:"About Us",path:"/about",icon:eg},{label:"Contact Us",path:"/contact",icon:ys},{label:"Help Center",path:"/help",icon:eg}]}],Xg=[{code:"en",label:"English",flag:""},{code:"si",label:"",flag:""},{code:"ta",label:"",flag:""}],p1=()=>{const{user:n,logout:l}=Ct(),i=_o(),[o,u]=j.useState(!1),[m,x]=j.useState(!1),[f,g]=j.useState(!1),[w,v]=j.useState(!1),[y,b]=j.useState(null),[U,A]=j.useState(!1),[N,M]=j.useState(Xg[0]);j.useEffect(()=>{const D=()=>{u(window.scrollY>20)};return window.addEventListener("scroll",D),()=>window.removeEventListener("scroll",D)},[]),j.useEffect(()=>{const D=K=>{K.target.closest(".dropdown-container")||(b(null),A(!1),v(!1))};return document.addEventListener("click",D),()=>document.removeEventListener("click",D)},[]);const E=()=>{l(),g(!1)},$=D=>{M(D),v(!1)};return e.jsx("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${o?"bg-white/95 backdrop-blur-md shadow-lg border-b border-white/50":"bg-black/30 backdrop-blur-sm"}`,children:e.jsxs("div",{className:"max-w-full mx-auto px-6 sm:px-8 lg:px-12",children:[e.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs(fe,{to:"/",className:"flex items-center space-x-3 group",title:"TravelBuddy - Your Intelligent Travel Companion",children:[e.jsxs("div",{className:"relative w-12 h-12 bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-600 rounded-2xl flex items-center justify-center group-hover:scale-105 transition-all duration-300 shadow-lg",children:[e.jsx(Mu,{className:"w-7 h-7 text-white"}),e.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsx("div",{className:"hidden sm:block",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h1",{className:`text-2xl font-bold transition-all duration-300 ${o?"text-black":"text-white drop-shadow-lg"}`,children:"TravelBuddy"}),e.jsx("span",{className:"px-2 py-0.5 bg-blue-500 text-white text-xs font-semibold rounded-full",children:"Beta"})]})})]})}),e.jsx("nav",{className:"hidden lg:flex items-center space-x-4",children:Jg.map(D=>{const K=D.icon,q=i.pathname===D.path,ee=D.dropdown&&D.dropdown.length>0;return e.jsxs("div",{className:"relative dropdown-container",children:[ee?e.jsxs("button",{onClick:()=>b(y===D.id?null:D.id),className:`flex items-center space-x-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 relative ${q?o?"text-blue-600 font-semibold":"text-white font-semibold":o?"text-gray-700 hover:text-gray-900":"text-white/90 hover:text-white"}`,children:[e.jsx(K,{className:"w-4 h-4"}),e.jsx("span",{children:D.label}),q&&e.jsx("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-blue-600 rounded-full"})]}):e.jsxs(fe,{to:D.path,className:`flex items-center space-x-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 relative ${q?o?"text-blue-600 font-semibold":"text-white font-semibold":o?"text-gray-700 hover:text-gray-900":"text-white/90 hover:text-white"}`,children:[e.jsx(K,{className:"w-4 h-4"}),e.jsx("span",{children:D.label}),q&&e.jsx("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-blue-600 rounded-full"})]}),ee&&y===D.id&&e.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white rounded-xl shadow-xl border border-gray-200 py-2 z-50",children:D.dropdown?.map(Y=>{const T=Y.icon;return e.jsxs(fe,{to:Y.path,onClick:()=>b(null),className:"flex items-center space-x-3 px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[T&&e.jsx(T,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{children:Y.label})]},Y.path)})})]},D.id)})}),e.jsxs("div",{className:"flex items-center space-x-5",children:[n&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(B,{variant:"ghost",size:"sm",className:`relative p-2 ${o?"text-gray-700 hover:bg-gray-100":"text-white hover:bg-white/10"}`,title:"Notifications",children:[e.jsx(mr,{className:"w-5 h-5"}),e.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full text-xs flex items-center justify-center",children:e.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full"})})]}),e.jsx(B,{variant:"ghost",size:"sm",className:`p-2 ${o?"text-gray-700 hover:bg-gray-100":"text-white hover:bg-white/10"}`,title:"Saved Trips & Favorites",children:e.jsx(dt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"relative hidden md:block dropdown-container",children:[e.jsxs(B,{variant:"ghost",size:"sm",onClick:()=>v(!w),className:`flex items-center space-x-2 px-3 py-2 text-sm font-medium ${o?"text-gray-700 hover:bg-gray-100":"text-white hover:bg-white/10"}`,children:[e.jsx("span",{children:N.flag}),e.jsx("span",{children:N.code.toUpperCase()}),e.jsx(Uu,{className:"w-3 h-3"})]}),w&&e.jsx("div",{className:"absolute right-0 mt-1 w-40 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:Xg.map(D=>e.jsxs("button",{onClick:()=>$(D),className:`flex items-center space-x-3 w-full px-4 py-2 text-sm text-left hover:bg-gray-100 transition-colors ${N.code===D.code?"bg-blue-50 text-blue-700":"text-gray-700"}`,children:[e.jsx("span",{children:D.flag}),e.jsx("span",{children:D.label})]},D.code))})]}),n?e.jsxs("div",{className:"relative dropdown-container",children:[e.jsxs("button",{onClick:()=>A(!U),className:`flex items-center space-x-2 px-2 py-2 rounded-full transition-all duration-200 ${o?"hover:bg-gray-100":"hover:bg-white/10"}`,children:[e.jsxs("div",{className:"relative w-9 h-9 bg-gradient-to-br from-blue-500 via-purple-500 to-indigo-500 rounded-full flex items-center justify-center",children:[n.profilePicture?e.jsx("img",{src:n.profilePicture,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):e.jsx(Ga,{className:"w-5 h-5 text-white"}),e.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 bg-green-500 border-2 border-white rounded-full",title:"Online"})]}),e.jsx("span",{className:`hidden lg:block text-sm font-medium ${o?"text-gray-700":"text-white"}`,children:n.fullName?.split(" ")[0]||n.email?.split("@")[0]||"User"})]}),U&&e.jsxs("div",{className:"absolute right-0 mt-1 w-56 bg-white rounded-xl shadow-2xl border border-gray-200 py-2 z-50",children:[e.jsxs(fe,{to:"/profile",onClick:()=>A(!1),className:"flex items-center space-x-3 px-4 py-3 hover:bg-gray-50 transition-colors",children:[e.jsx(Ga,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"My Profile"})]}),e.jsxs(fe,{to:"/trips",onClick:()=>A(!1),className:"flex items-center space-x-3 px-4 py-3 hover:bg-gray-50 transition-colors",children:[e.jsx(de,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"My Trips"})]}),e.jsxs(fe,{to:"/community",onClick:()=>A(!1),className:"flex items-center space-x-3 px-4 py-3 hover:bg-gray-50 transition-colors",children:[e.jsx(dt,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Saved Places"})]}),e.jsxs(fe,{to:"/profile",onClick:()=>A(!1),className:"flex items-center space-x-3 px-4 py-3 hover:bg-gray-50 transition-colors",children:[e.jsx(Ky,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Settings"})]}),e.jsx("div",{className:"border-t border-gray-200 my-2"}),e.jsxs("button",{onClick:E,className:"flex items-center space-x-3 px-4 py-3 hover:bg-red-50 transition-colors w-full text-left",children:[e.jsx(rp,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"text-sm text-red-600",children:"Logout"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(fe,{to:"/login",children:e.jsx(B,{variant:"ghost",size:"sm",className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${o?"text-gray-700 hover:bg-gray-100":"text-white hover:bg-white/10"}`,children:"Login"})}),e.jsx(fe,{to:"/register",children:e.jsx(B,{size:"sm",className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 text-white hover:from-blue-700 hover:via-purple-700 hover:to-indigo-700 px-6 py-2 rounded-lg font-medium shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105",children:"Sign Up Free"})})]}),e.jsx(B,{variant:"ghost",size:"sm",onClick:()=>x(!m),className:`lg:hidden p-2 ${o?"text-gray-700 hover:bg-gray-100":"text-white hover:bg-white/10"}`,children:m?e.jsx(ht,{className:"w-5 h-5"}):e.jsx(Jy,{className:"w-5 h-5"})})]})]}),m&&e.jsxs("div",{className:"lg:hidden bg-white/95 backdrop-blur-md border-t border-gray-200 py-4",children:[n&&e.jsx("div",{className:"px-4 pb-4 mb-4 border-b border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(fe,{to:"/trips",onClick:()=>x(!1),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-blue-50 rounded-xl text-blue-700 font-medium text-sm",children:[e.jsx(de,{className:"w-4 h-4"}),e.jsx("span",{children:"Plan Trip"})]}),e.jsxs(fe,{to:"/community",onClick:()=>x(!1),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-purple-50 rounded-xl text-purple-700 font-medium text-sm",children:[e.jsx(dt,{className:"w-4 h-4"}),e.jsx("span",{children:"Saved"})]})]})}),e.jsx("nav",{className:"space-y-1 px-4",children:Jg.map(D=>{const K=D.icon,q=i.pathname===D.path;return e.jsxs(fe,{to:D.path,onClick:()=>x(!1),className:`flex items-center space-x-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200 ${q?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx(K,{className:"w-5 h-5"}),e.jsx("span",{children:D.label})]},D.id)})}),!n&&e.jsx("div",{className:"px-4 pt-4 border-t border-gray-200 mt-4",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(fe,{to:"/login",className:"flex-1",children:e.jsx(B,{variant:"outline",className:"w-full",children:"Login"})}),e.jsx(fe,{to:"/register",className:"flex-1",children:e.jsx(B,{className:"w-full bg-gradient-to-r from-blue-600 to-purple-600",children:"Sign Up"})})]})})]})]})})},b1=()=>e.jsx("footer",{className:"bg-gray-900 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-600 rounded-xl flex items-center justify-center",children:e.jsx(Mu,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold",children:"TravelBuddy"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Your Intelligent Travel Companion"})]})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Discover amazing destinations, plan perfect trips, and connect with trusted travel services worldwide."}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(mu,{className:"w-5 h-5"})}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(hu,{className:"w-5 h-5"})}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(xu,{className:"w-5 h-5"})}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(Xy,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Explore"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsxs(fe,{to:"/places",className:"text-gray-400 hover:text-white transition-colors flex items-center",children:[e.jsx(de,{className:"w-4 h-4 mr-2"}),"Destinations"]})}),e.jsx("li",{children:e.jsxs(fe,{to:"/trips",className:"text-gray-400 hover:text-white transition-colors flex items-center",children:[e.jsx(Fa,{className:"w-4 h-4 mr-2"}),"Trip Planner"]})}),e.jsx("li",{children:e.jsxs(fe,{to:"/transport",className:"text-gray-400 hover:text-white transition-colors flex items-center",children:[e.jsx(yl,{className:"w-4 h-4 mr-2"}),"Transportation"]})}),e.jsx("li",{children:e.jsxs(fe,{to:"/services",className:"text-gray-400 hover:text-white transition-colors flex items-center",children:[e.jsx(St,{className:"w-4 h-4 mr-2"}),"Travel Agents"]})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Support"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(fe,{to:"/about",className:"text-gray-400 hover:text-white transition-colors",children:"About Us"})}),e.jsx("li",{children:e.jsx(fe,{to:"/contact",className:"text-gray-400 hover:text-white transition-colors",children:"Contact Us"})}),e.jsx("li",{children:e.jsx(fe,{to:"/help",className:"text-gray-400 hover:text-white transition-colors",children:"Help Center"})}),e.jsx("li",{children:e.jsx(fe,{to:"/blog",className:"text-gray-400 hover:text-white transition-colors",children:"Travel Blog"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Contact"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-gray-400",children:[e.jsx(ys,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-sm",children:"support@travelbuddy.com"})]}),e.jsxs("div",{className:"flex items-center text-gray-400",children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-sm",children:"+1 (555) 123-4567"})]})]})]})]}),e.jsxs("div",{className:"border-t border-gray-800 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:" 2024 TravelBuddy. All rights reserved."}),e.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[e.jsx(fe,{to:"/privacy",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Privacy Policy"}),e.jsx(fe,{to:"/terms",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Terms of Service"}),e.jsx(fe,{to:"/cookies",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Cookie Policy"})]})]})]})}),y1="modulepreload",v1=function(n){return"/"+n},Zg={},Wu=function(l,i,o){let u=Promise.resolve();if(i&&i.length>0){let g=function(w){return Promise.all(w.map(v=>Promise.resolve(v).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const x=document.querySelector("meta[property=csp-nonce]"),f=x?.nonce||x?.getAttribute("nonce");u=g(i.map(w=>{if(w=v1(w),w in Zg)return;Zg[w]=!0;const v=w.endsWith(".css"),y=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${w}"]${y}`))return;const b=document.createElement("link");if(b.rel=v?"stylesheet":y1,v||(b.as="script"),b.crossOrigin="",b.href=w,f&&b.setAttribute("nonce",f),document.head.appendChild(b),v)return new Promise((U,A)=>{b.addEventListener("load",U),b.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${w}`)))})}))}function m(x){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=x,window.dispatchEvent(f),!f.defaultPrevented)throw x}return u.then(x=>{for(const f of x||[])f.status==="rejected"&&m(f.reason);return l().catch(m)})},re=({className:n,hover:l=!1,glass:i=!1,children:o,...u})=>e.jsx("div",{className:Cr("rounded-2xl border border-gray-200 bg-white shadow-sm",l&&"card-hover cursor-pointer",i&&"glass",n),...u,children:o}),st=({className:n,children:l,...i})=>e.jsx("div",{className:Cr("p-6 pb-4",n),...i,children:l}),ne=({className:n,children:l,...i})=>e.jsx("div",{className:Cr("px-6 pb-6",n),...i,children:l}),at=({className:n,children:l,...i})=>e.jsx("h3",{className:Cr("text-lg font-semibold text-gray-900",n),...i,children:l}),j1=({className:n,children:l,...i})=>e.jsx("p",{className:Cr("text-sm text-gray-600",n),...i,children:l}),Wg=({src:n,fallbackSrc:l="https://via.placeholder.com/600x400?text=Image+Not+Available",alt:i,loading:o="lazy",...u})=>{const[m,x]=j.useState(n),[f,g]=j.useState(!1),w=()=>{!f&&l&&(x(l),g(!0))};return e.jsx("img",{...u,src:m,alt:i,loading:o,onError:w})},xo={GB:{country:"United Kingdom",countryCode:"GB",city:"London",currency:"GBP",emergencyNumber:"999"},US:{country:"United States",countryCode:"US",city:"New York",currency:"USD",emergencyNumber:"911"},LK:{country:"Sri Lanka",countryCode:"LK",city:"Colombo",currency:"LKR",emergencyNumber:"119"}},j0=()=>{const[n,l]=j.useState(xo.LK),[i,o]=j.useState(!0);return j.useEffect(()=>{(async()=>{try{const m=Intl.DateTimeFormat().resolvedOptions().timeZone;let x="LK";m.includes("America")?x="US":m.includes("Europe/London")?x="GB":m.includes("Asia/Colombo")&&(x="LK");const f=xo[x]||xo.LK;l(f)}catch{console.log("Location detection failed, using default"),l(xo.LK)}finally{o(!1)}})()},[]),{location:n,loading:i}},N1=({title:n="TravelBuddy - AI Travel Planner & Trip Planning App | Discover Destinations Worldwide",description:l="Plan your perfect trip with TravelBuddy's AI-powered travel planner. Explore millions of destinations, create custom itineraries, find deals, and manage everything in one app. Download for iOS & Android.",keywords:i="trip planner, travel app, AI travel planning, itinerary builder, discover destinations, travel deals, vacation planner, travel guide, flight booking, hotel booking"})=>(j.useEffect(()=>{document.title=n;const o=(x,f)=>{let g=document.querySelector(`meta[name="${x}"]`);g||(g=document.createElement("meta"),g.name=x,document.head.appendChild(g)),g.content=f};o("description",l),o("keywords",i),o("robots","index, follow");const u={"@context":"https://schema.org","@graph":[{"@type":"WebPage","@id":"https://travelbuddy.com/",url:"https://travelbuddy.com/",name:n,description:l,inLanguage:"en-US",isPartOf:{"@id":"https://travelbuddy.com/#website"}},{"@type":"LocalBusiness","@id":"https://travelbuddy.com/#business",name:"TravelBuddy",description:"AI-powered travel planning platform helping travelers discover, plan and experience the world effortlessly",url:"https://travelbuddy.com/",telephone:"+1-800-TRAVEL",address:{"@type":"PostalAddress",addressCountry:"US"},sameAs:["https://facebook.com/travelbuddy","https://twitter.com/travelbuddy","https://instagram.com/travelbuddy"]},{"@type":"TravelAgency","@id":"https://travelbuddy.com/#travelagency",name:"TravelBuddy",description:"AI-powered travel planning and booking platform",url:"https://travelbuddy.com/",priceRange:"Free - $19.99",hasOfferCatalog:{"@type":"OfferCatalog",name:"Travel Services",itemListElement:[{"@type":"Offer",itemOffered:{"@type":"Service",name:"AI Trip Planning",description:"Personalized itinerary creation using artificial intelligence"}},{"@type":"Offer",itemOffered:{"@type":"Service",name:"Destination Discovery",description:"Find hidden gems and popular attractions worldwide"}}]}},{"@type":"SoftwareApplication","@id":"https://travelbuddy.com/#app",name:"TravelBuddy",description:l,applicationCategory:"TravelApplication",operatingSystem:["iOS","Android","Web"],offers:{"@type":"Offer",price:"0",priceCurrency:"USD",availability:"https://schema.org/InStock"},aggregateRating:{"@type":"AggregateRating",ratingValue:"4.8",reviewCount:"50000",bestRating:"5",worstRating:"1"}},{"@type":"FAQPage","@id":"https://travelbuddy.com/#faq",mainEntity:[{"@type":"Question",name:"How does TravelBuddy create my itinerary?",acceptedAnswer:{"@type":"Answer",text:"Our AI analyzes your preferences, budget, travel dates, and interests to create personalized itineraries in under 2 minutes. We consider factors like weather, local events, opening hours, and travel distances to optimize your trip."}},{"@type":"Question",name:"Is the AI trip planner free?",acceptedAnswer:{"@type":"Answer",text:"Yes! Our basic AI trip planner is completely free forever. You can create unlimited itineraries, discover places, and plan trips without any cost. Premium features like offline access and advanced weather AI are available for $9.99/month."}},{"@type":"Question",name:"Can I use the app offline?",acceptedAnswer:{"@type":"Answer",text:"Premium users can download their complete itineraries, maps, and place details for offline access. This includes photos, descriptions, contact information, and navigation - perfect for international travel without roaming charges."}}]},{"@type":"Review","@id":"https://travelbuddy.com/#review1",author:{"@type":"Person",name:"Sarah Chen"},reviewRating:{"@type":"Rating",ratingValue:"5",bestRating:"5"},reviewBody:"TravelBuddy helped me discover amazing local cafes in Tokyo I would never have found!",itemReviewed:{"@type":"SoftwareApplication",name:"TravelBuddy"}}]};let m=document.querySelector('script[type="application/ld+json"]');m||(m=document.createElement("script"),m.type="application/ld+json",document.head.appendChild(m)),m.textContent=JSON.stringify(u)},[n,l,i]),null),w1=`
  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes slide-in-left {
    from {
      opacity: 0;
      transform: translateX(-80px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
  
  @keyframes slide-in-right {
    from {
      opacity: 0;
      transform: translateX(80px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
  
  @keyframes message-in {
    from {
      opacity: 0;
      transform: translateY(20px) scale(0.9);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }
  
  @keyframes nav-in {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes feature-in {
    from {
      opacity: 0;
      transform: translateX(-30px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
  
  @keyframes buttons-in {
    from {
      opacity: 0;
      transform: translateY(40px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes pulse-glow {
    0%, 100% {
      opacity: 0.3;
      transform: scale(1);
    }
    50% {
      opacity: 0.6;
      transform: scale(1.1);
    }
  }
  
  @keyframes pulse-slow {
    0%, 100% {
      opacity: 0.3;
    }
    50% {
      opacity: 0.5;
    }
  }
  
  .animate-fade-in-up {
    animation: fade-in-up 0.8s ease-out both;
  }
  
  .animate-slide-in-left {
    animation: slide-in-left 1s ease-out both;
  }
  
  .animate-slide-in-right {
    animation: slide-in-right 1s ease-out both;
  }
  
  .animate-message-in {
    animation: message-in 0.6s ease-out both;
  }
  
  .animate-nav-in {
    animation: nav-in 0.8s ease-out both;
  }
  
  .animate-feature-in {
    animation: feature-in 0.6s ease-out both;
  }
  
  .animate-buttons-in {
    animation: buttons-in 0.8s ease-out both;
  }
  
  .animate-pulse-glow {
    animation: pulse-glow 4s ease-in-out infinite;
  }
  
  .animate-pulse-slow {
    animation: pulse-slow 6s ease-in-out infinite;
  }
  
  @keyframes float {
    0%, 100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-10px);
    }
  }
  
  .animate-float {
    animation: float 3s ease-in-out infinite;
  }
  
  .phone-tilt-container {
    perspective: 1000px;
  }
  
  .phone-tilt-container:hover > div {
    transform: rotateY(-5deg) rotateX(2deg) scale(1.02);
  }
`;j.lazy(()=>Wu(()=>import("./LazyDestinationGrid-DyIVw8e-.js"),__vite__mapDeps([0,1,2])));j.lazy(()=>Wu(()=>import("./LazyDealsSection-DOtUfFSa.js"),__vite__mapDeps([3,1,2])));const S1=()=>e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),C1=()=>{const[n,l]=j.useState(null),i=[{icon:"",question:"How does TravelBuddy create my itinerary?",answer:"Our AI analyzes your preferences, budget, travel dates, and interests to create personalized itineraries in under 2 minutes. We consider factors like weather, local events, opening hours, and travel distances to optimize your trip."},{icon:"",question:"Is the AI trip planner free?",answer:"Yes! Our basic AI trip planner is completely free forever. You can create unlimited itineraries, discover places, and plan trips without any cost. Premium features like offline access and advanced weather AI are available for $9.99/month."},{icon:"",question:"Can I use the app offline?",answer:"Premium users can download their complete itineraries, maps, and place details for offline access. This includes photos, descriptions, contact information, and navigation - perfect for international travel without roaming charges."},{icon:"",question:"Are deals verified?",answer:"All deals are verified in real-time through our partner network. We work directly with hotels, airlines, and activity providers to ensure accurate pricing and availability. Deals are updated every 15 minutes."},{icon:"",question:"How accurate are the AI recommendations?",answer:"Our AI has a 94% satisfaction rate based on user feedback. It learns from 125,000+ successful trips and considers 200+ factors including weather, crowds, local events, and personal preferences to make recommendations."},{icon:"",question:"Can I share my itinerary with friends?",answer:"Yes! You can share itineraries via link, export to PDF, or collaborate in real-time. Friends can add suggestions, vote on activities, and make changes together - perfect for group travel planning."}];return e.jsx("div",{className:"space-y-4",children:i.map((o,u)=>e.jsx("div",{className:"group",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-100 overflow-hidden",children:[e.jsxs("button",{onClick:()=>l(n===u?null:u),className:"w-full p-6 text-left flex items-center justify-between hover:bg-gray-50 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-100 to-purple-100 rounded-xl flex items-center justify-center mr-4 group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-xl",children:o.icon})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 group-hover:text-blue-600 transition-colors duration-200",children:o.question}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click to see answer"})]})]}),e.jsx("div",{className:`w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center transition-all duration-300 ${n===u?"rotate-180 bg-blue-600":"group-hover:bg-blue-200"}`,children:e.jsx(Uu,{className:`w-4 h-4 transition-colors duration-300 ${n===u?"text-white":"text-blue-600"}`})})]}),e.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${n===u?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:e.jsx("div",{className:"px-6 pb-6",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border-l-4 border-blue-500",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:o.answer})})})})]})},u))})},T1=()=>{const n=new Date().getMonth(),l={0:[{id:1,name:"Dubai",country:"UAE",image:"https://images.unsplash.com/photo-1512453979798-5ea266f8880c?w=400&h=300&fit=crop&auto=format&q=60",rating:4.8,reason:"Perfect weather",popular:!0},{id:2,name:"Goa",country:"India",image:"https://images.unsplash.com/photo-1512343879784-a960bf40e7f2?w=400&h=300&fit=crop&auto=format&q=60",rating:4.6,reason:"Peak season"},{id:3,name:"Patagonia",country:"Chile",image:"https://images.unsplash.com/photo-1551632811-561732d1e306?w=400&h=300&fit=crop&auto=format&q=60",rating:4.9,reason:"Summer season"},{id:4,name:"New Zealand",country:"South Island",image:"https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=400&h=300&fit=crop&auto=format&q=60",rating:4.7,reason:"Summer adventures"},{id:5,name:"Thailand",country:"Bangkok",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop&auto=format&q=60",rating:4.5,reason:"Cool & dry"},{id:6,name:"Myanmar",country:"Bagan",image:"https://images.unsplash.com/photo-1570366583862-f91883984fde?w=400&h=300&fit=crop&auto=format&q=60",rating:4.6,reason:"Ideal climate"},{id:7,name:"Egypt",country:"Cairo",image:"https://images.unsplash.com/photo-1539650116574-75c0c6d73f6e?w=400&h=300&fit=crop&auto=format&q=60",rating:4.4,reason:"Mild temperatures"},{id:8,name:"Argentina",country:"Buenos Aires",image:"https://images.unsplash.com/photo-1589909202802-8f4aadce1849?w=400&h=300&fit=crop&auto=format&q=60",rating:4.5,reason:"Summer vibes"},{id:9,name:"Australia",country:"Sydney",image:"https://images.unsplash.com/photo-1506973035872-a4ec16b8e8d9?w=400&h=300&fit=crop&auto=format&q=60",rating:4.8,reason:"Beach season",trending:!0}],10:[{id:1,name:"Kyoto",country:"Japan",image:"https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?w=400&h=300&fit=crop&auto=format&q=60",rating:4.9,reason:"Autumn foliage",popular:!0},{id:2,name:"Dubai",country:"UAE",image:"https://images.unsplash.com/photo-1512453979798-5ea266f8880c?w=400&h=300&fit=crop&auto=format&q=60",rating:4.8,reason:"Ideal weather"},{id:3,name:"Patagonia",country:"Chile",image:"https://images.unsplash.com/photo-1551632811-561732d1e306?w=400&h=300&fit=crop&auto=format&q=60",rating:4.9,reason:"Peak season"},{id:4,name:"India",country:"Rajasthan",image:"https://images.unsplash.com/photo-1524492412937-b28074a5d7da?w=400&h=300&fit=crop&auto=format&q=60",rating:4.7,reason:"Pleasant weather"},{id:5,name:"Myanmar",country:"Bagan",image:"https://images.unsplash.com/photo-1570366583862-f91883984fde?w=400&h=300&fit=crop&auto=format&q=60",rating:4.6,reason:"Cool & dry",trending:!0},{id:6,name:"Nepal",country:"Kathmandu",image:"https://images.unsplash.com/photo-1544735716-392fe2489ffa?w=400&h=300&fit=crop&auto=format&q=60",rating:4.5,reason:"Clear mountain views"},{id:7,name:"Egypt",country:"Luxor",image:"https://images.unsplash.com/photo-1539650116574-75c0c6d73f6e?w=400&h=300&fit=crop&auto=format&q=60",rating:4.4,reason:"Comfortable temps"},{id:8,name:"Vietnam",country:"Hanoi",image:"https://images.unsplash.com/photo-1559592413-7cec4d0d2d8f?w=400&h=300&fit=crop&auto=format&q=60",rating:4.6,reason:"Perfect climate"},{id:9,name:"Cambodia",country:"Siem Reap",image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=300&fit=crop&auto=format&q=60",rating:4.5,reason:"Dry season starts"}]};return l[n]||l[10]||l[0]},k1=T1(),A1={testimonials:[{name:"Sarah Chen",location:"Singapore",text:"TravelBuddy helped me discover amazing local cafes in Tokyo I would never have found!",rating:5},{name:"Michael Rodriguez",location:"Barcelona",text:"The AI recommendations were spot-on. Saved me hours of research for my Thailand trip.",rating:5}]},E1=()=>{j0();const{user:n}=Ct(),[l,i]=j.useState(""),[o,u]=j.useState(!1),[m,x]=j.useState(0),[f,g]=j.useState(0),w=["You have a trip draft in progress.","There are 3 new deals near your location.","Perfect weather in Ella this weekend!","2 friends shared new travel photos.","Your saved places have price drops."],v=[{title:"Places Discovery",content:e.jsxs("div",{className:"bg-gray-50 h-full relative overflow-hidden",children:[e.jsxs("div",{className:"bg-white p-3 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900",children:"Explore Places"}),e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(de,{className:"w-3 h-3 text-blue-600"})})]}),e.jsxs("div",{className:"relative mb-3",children:[e.jsx(wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-3 h-3 text-gray-400"}),e.jsx("input",{className:"w-full pl-9 pr-4 py-2 bg-gray-100 rounded-lg text-sm",placeholder:"Search places...",readOnly:!0})]}),e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx("div",{className:"bg-blue-500 text-white px-3 py-1 rounded-full text-xs font-medium",children:"All"}),e.jsx("div",{className:"bg-gray-200 text-gray-700 px-3 py-1 rounded-full text-xs font-medium",children:"Food"}),e.jsx("div",{className:"bg-gray-200 text-gray-700 px-3 py-1 rounded-full text-xs font-medium",children:"Culture"})]})]}),e.jsxs("div",{className:"p-3 space-y-3",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"h-24 rounded-t-lg relative overflow-hidden",children:[e.jsx("img",{src:"https://picsum.photos/300/200?random=1",alt:"Eiffel Tower",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-white/90 rounded-full flex items-center justify-center",children:e.jsx(dt,{className:"w-3 h-3 text-red-500"})})]}),e.jsxs("div",{className:"p-2",children:[e.jsx("h5",{className:"font-bold text-xs text-gray-900 mb-1",children:"Eiffel Tower"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(_e,{className:"w-3 h-3 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-xs font-medium",children:"4.8"})]}),e.jsx("span",{className:"text-xs text-gray-500",children:"Landmark"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"h-24 rounded-t-lg relative overflow-hidden",children:e.jsx("img",{src:"https://picsum.photos/300/200?random=2",alt:"Notre Dame",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-2",children:[e.jsx("h5",{className:"font-bold text-xs text-gray-900 mb-1",children:"Notre Dame"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(_e,{className:"w-3 h-3 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-xs font-medium",children:"4.7"})]}),e.jsx("span",{className:"text-xs text-gray-500",children:"Cathedral"})]})]})]})]})]})},{title:"Smart Search",content:e.jsxs("div",{className:"bg-gray-50 h-full relative overflow-hidden",children:[e.jsxs("div",{className:"bg-white p-3 border-b border-gray-200",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-3",children:"AI Search"}),e.jsxs("div",{className:"relative mb-3",children:[e.jsx(wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-3 h-3 text-blue-600"}),e.jsx("input",{className:"w-full pl-9 pr-4 py-2 bg-blue-100 border-2 border-blue-300 rounded-lg text-sm font-medium",value:"Romantic dinner Paris",readOnly:!0})]})]}),e.jsxs("div",{className:"p-3 space-y-3",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg p-3 text-white",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(tt,{className:"w-4 h-4 mr-2"}),e.jsx("h5",{className:"font-bold text-sm",children:"AI Suggestion"})]}),e.jsx("p",{className:"text-xs opacity-90",children:"Found 12 romantic restaurants near Eiffel Tower"})]}),e.jsx("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden mr-3",children:e.jsx("img",{src:"https://picsum.photos/100/100?random=3",alt:"Restaurant",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h6",{className:"font-bold text-xs text-gray-900",children:"Le Jules Verne"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Michelin starred  "}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(_e,{className:"w-3 h-3 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-xs font-medium",children:"4.9"})]})]})]})})]})]})},{title:"Trip Planning",content:e.jsxs("div",{className:"bg-gray-50 h-full relative overflow-hidden",children:[e.jsxs("div",{className:"bg-white p-3 border-b border-gray-200",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-3",children:"My Trip"}),e.jsx("div",{className:"bg-gradient-to-r from-green-100 to-blue-100 px-3 py-2 rounded-lg mb-3 border border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-800 font-bold",children:"Paris Weekend"}),e.jsx("p",{className:"text-xs text-green-600",children:"Nov 25-27  2 days"})]}),e.jsx(kt,{className:"w-4 h-4 text-green-600"})]})})]}),e.jsxs("div",{className:"p-3 space-y-3",children:[e.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-xs font-bold text-blue-600",children:"1"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900",children:"Day 1: Iconic Paris"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Eiffel Tower  Louvre Museum"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded overflow-hidden",children:e.jsx("img",{src:"https://picsum.photos/50/50?random=4",alt:"",className:"w-full h-full object-cover"})}),e.jsx("div",{className:"w-8 h-8 rounded overflow-hidden",children:e.jsx("img",{src:"https://picsum.photos/50/50?random=5",alt:"",className:"w-full h-full object-cover"})})]})]}),e.jsx("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-xs font-bold text-purple-600",children:"2"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900",children:"Day 2: Culture & Romance"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Montmartre  Seine Cruise"})]})]})})]})]})},{title:"Map Navigation",content:e.jsxs("div",{className:"bg-gray-50 h-full relative overflow-hidden",children:[e.jsxs("div",{className:"bg-white p-3 border-b border-gray-200",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-3",children:"Navigate"}),e.jsx("div",{className:"bg-blue-100 px-3 py-2 rounded-lg mb-3 border border-blue-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(de,{className:"w-4 h-4 text-blue-600 mr-2"}),e.jsx("p",{className:"text-xs text-blue-700 font-medium",children:"You are near Eiffel Tower"})]})})]}),e.jsxs("div",{className:"p-3 bg-gradient-to-br from-green-100 via-blue-100 to-purple-100 h-full relative",children:[e.jsx("div",{className:"absolute inset-0 opacity-20",children:e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-green-200 to-blue-200"})}),e.jsxs("div",{className:"relative space-y-2",children:[e.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded overflow-hidden mr-3",children:e.jsx("img",{src:"https://picsum.photos/50/50?random=6",alt:"",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900",children:"Eiffel Tower"}),e.jsx("p",{className:"text-xs text-green-600",children:"5 min walk  Open now"})]}),e.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:""})})]})}),e.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-orange-600 text-xs",children:""})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900",children:"Caf de Flore"}),e.jsx("p",{className:"text-xs text-orange-600",children:"2 min walk  Popular"})]})]})})]})]})]})}];return j.useEffect(()=>{if(n){const y=setInterval(()=>{x(b=>(b+1)%w.length)},3e3);return()=>clearInterval(y)}},[n,w.length]),j.useEffect(()=>{const y=setInterval(()=>{g(b=>(b+1)%v.length)},4e3);return()=>clearInterval(y)},[v.length]),e.jsxs("div",{className:"min-h-screen",children:[e.jsx(N1,{}),e.jsx("style",{children:w1}),e.jsxs("section",{className:"relative h-screen bg-gradient-to-b from-blue-600 via-indigo-700 to-purple-800 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0",children:e.jsx(Wg,{src:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1920&h=1080&fit=crop&auto=format&q=80",fallbackSrc:"https://picsum.photos/1920/1080?random=1",alt:"Travel essentials - map, camera, passport and planning items",className:"w-full h-full object-cover",loading:"eager"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 to-transparent"}),e.jsx("div",{className:"relative z-10 h-screen flex items-center px-4 py-8",children:e.jsxs("div",{className:"w-full max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center text-white mb-8",children:[e.jsxs("h1",{className:"text-3xl md:text-5xl lg:text-6xl font-bold mb-4 leading-tight",children:[n?`Welcome back, ${n.fullName?.split(" ")[0]||n.username?.split(" ")[0]||n.name||"Explorer"}!`:"Your Perfect Trip in",e.jsx("span",{className:"block text-yellow-400",children:n?"Your next adventure is waiting.":"2 Minutes"})]}),e.jsx("h2",{className:"text-lg md:text-xl mb-6 text-white/90 max-w-2xl mx-auto",children:n?e.jsx("span",{className:"inline-block transition-all duration-500 ease-in-out transform",children:w[m]}):"AI plans everything. You just pack and go."})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mt-6",children:n?e.jsxs(e.Fragment,{children:[e.jsx(fe,{to:"/trips",children:e.jsx(B,{className:"bg-white/20 backdrop-blur-sm border border-white/30 text-white hover:bg-white hover:text-gray-900 px-6 py-3 rounded-xl transition-all duration-300",children:"Start Trip Planning"})}),e.jsx(fe,{to:"/places",children:e.jsxs(B,{className:"bg-yellow-500 hover:bg-yellow-600 text-black px-6 py-3 rounded-xl font-semibold transition-all duration-300",children:["Explore Destinations",e.jsx(La,{className:"w-4 h-4 ml-2"})]})})]}):e.jsxs(e.Fragment,{children:[e.jsx(fe,{to:"/register",children:e.jsxs(B,{className:"bg-yellow-500 hover:bg-yellow-600 text-black px-6 py-3 rounded-xl font-semibold transition-all duration-300",children:["Get Started Free",e.jsx(La,{className:"w-4 h-4 ml-2"})]})}),e.jsx(fe,{to:"/login",children:e.jsx(B,{className:"bg-white/20 backdrop-blur-sm border border-white/30 text-white hover:bg-white hover:text-gray-900 px-6 py-3 rounded-xl transition-all duration-300",children:"Sign In"})})]})})]})})]}),e.jsxs("section",{className:"py-20 bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 to-purple-600/5"}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 relative",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{className:"relative flex justify-center lg:justify-start order-2 lg:order-1",children:[e.jsx("div",{className:"absolute -top-8 -left-8 bg-blue-600 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg animate-pulse",children:" Nearby Places"}),e.jsx("div",{className:"absolute top-32 -right-12 bg-green-600 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg animate-pulse",style:{animationDelay:"1s"},children:" Offline Mode"}),e.jsx("div",{className:"absolute bottom-32 -left-16 bg-purple-600 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg animate-pulse",style:{animationDelay:"2s"},children:" AI Recommendations"}),e.jsx("div",{className:"absolute bottom-16 -right-8 bg-orange-600 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg animate-pulse",style:{animationDelay:"3s"},children:" Live Navigation"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-full blur-3xl animate-pulse-slow"}),e.jsx("div",{className:"relative phone-tilt-container z-10",children:e.jsxs("div",{className:"relative w-72 h-[580px] bg-gradient-to-b from-gray-900 to-black rounded-[3rem] p-2 shadow-2xl",children:[e.jsxs("div",{className:"w-full h-full bg-white rounded-[2.5rem] overflow-hidden relative",children:[e.jsxs("div",{className:"bg-gray-900 h-8 flex items-center justify-between px-6 text-white text-xs",children:[e.jsx("span",{className:"font-medium",children:"9:41"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-4 h-2 bg-white rounded-sm"}),e.jsx("div",{className:"w-1 h-2 bg-white rounded-sm"})]})]}),e.jsx("div",{className:"h-full transition-all duration-1000 ease-in-out",children:v[f].content}),e.jsx("div",{className:"absolute bottom-16 left-1/2 transform -translate-x-1/2 flex gap-2",children:v.map((y,b)=>e.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${b===f?"bg-blue-500 w-6":"bg-gray-300"}`},b))}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-2",children:e.jsxs("div",{className:"flex justify-around",children:[e.jsxs("div",{className:`text-xs text-center transition-colors duration-300 ${f===0?"text-blue-500":"text-gray-400"}`,children:[e.jsx("div",{className:"w-5 h-5 mx-auto mb-1 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(de,{className:"w-3 h-3"})}),e.jsx("span",{className:"font-medium",children:"Places"})]}),e.jsxs("div",{className:`text-xs text-center transition-colors duration-300 ${f===2?"text-blue-500":"text-gray-400"}`,children:[e.jsx("div",{className:"w-5 h-5 mx-auto mb-1 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(kt,{className:"w-3 h-3"})}),e.jsx("span",{children:"Trips"})]}),e.jsxs("div",{className:`text-xs text-center transition-colors duration-300 ${f===3?"text-blue-500":"text-gray-400"}`,children:[e.jsx("div",{className:"w-5 h-5 mx-auto mb-1 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(wt,{className:"w-3 h-3"})}),e.jsx("span",{children:"Navigate"})]})]})})]}),e.jsx("div",{className:"absolute -bottom-4 left-3 right-3 h-12 bg-gradient-to-b from-black/30 to-transparent rounded-[3rem] blur-2xl"})]})})]}),e.jsxs("div",{className:"space-y-6 order-1 lg:order-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"inline-flex items-center bg-gradient-to-r from-blue-100 to-purple-100 rounded-full px-4 py-2 mb-4",children:[e.jsx("span",{className:"text-2xl mr-2",children:""}),e.jsx("span",{className:"text-blue-800 font-semibold",children:"Mobile App"})]}),e.jsxs("h2",{className:"text-4xl lg:text-5xl font-bold text-gray-900 mb-4 leading-tight",children:["Your Travel Companion",e.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600",children:"In Your Pocket"})]}),e.jsx("p",{className:"text-xl text-gray-600",children:"Unique mobile features that make travel planning effortless"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-4 bg-white rounded-xl p-4 shadow-md hover:shadow-lg transition-all duration-300 group",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-all duration-300",children:e.jsx(de,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Nearby Places Discovery"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Find restaurants, attractions & hidden gems within walking distance using GPS"})]})]}),e.jsxs("div",{className:"flex items-start gap-4 bg-white rounded-xl p-4 shadow-md hover:shadow-lg transition-all duration-300 group",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-green-600 rounded-xl flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-all duration-300",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Offline Access"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Download maps, itineraries & place details - travel without internet or roaming"})]})]}),e.jsxs("div",{className:"flex items-start gap-4 bg-white rounded-xl p-4 shadow-md hover:shadow-lg transition-all duration-300 group",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-purple-600 rounded-xl flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-all duration-300",children:e.jsx(tt,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Smart AI Recommendations"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Get personalized suggestions based on time, weather, crowds & your preferences"})]})]}),e.jsxs("div",{className:"flex items-start gap-4 bg-white rounded-xl p-4 shadow-md hover:shadow-lg transition-all duration-300 group",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-orange-500 to-orange-600 rounded-xl flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-all duration-300",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Live Navigation"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Turn-by-turn directions to your next destination with real-time traffic updates"})]})]})]}),e.jsxs("div",{className:"pt-4",children:[e.jsx("p",{className:"text-gray-600 mb-4 font-semibold",children:"Download the mobile app:"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("a",{href:"#",className:"inline-flex items-center justify-center bg-black text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[e.jsx("svg",{className:"w-6 h-6 mr-3",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"})}),"App Store"]}),e.jsxs("a",{href:"#",className:"inline-flex items-center justify-center bg-black text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[e.jsx("svg",{className:"w-6 h-6 mr-3",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M3,20.5V3.5C3,2.91 3.34,2.39 3.84,2.15L13.69,12L3.84,21.85C3.34,21.6 3,21.09 3,20.5M16.81,15.12L6.05,21.34L14.54,12.85L16.81,15.12M20.16,10.81C20.5,11.08 20.75,11.5 20.75,12C20.75,12.5 20.53,12.9 20.18,13.18L17.89,14.5L15.39,12L17.89,9.5L20.16,10.81M6.05,2.66L16.81,8.88L14.54,11.15L6.05,2.66Z"})}),"Google Play"]})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"Or use the web app - no download needed!"})]})]})]})})]}),e.jsx("section",{className:"py-20 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Best Places to Visit This Month"}),e.jsxs("p",{className:"text-xl text-gray-600",children:["AI-curated destinations perfect for ",new Date().toLocaleString("default",{month:"long"})]})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:k1.map(y=>e.jsxs(re,{className:"group overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Wg,{src:y.image,fallbackSrc:`https://picsum.photos/400/300?random=${y.id}`,alt:y.name,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"}),y.popular&&e.jsx("div",{className:"absolute top-4 left-4 bg-yellow-500 text-black px-3 py-1 rounded-full text-sm font-medium",children:"Most Popular"}),y.trending&&e.jsx("div",{className:"absolute top-4 left-4 bg-red-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Trending"}),e.jsx("div",{className:"absolute top-4 right-4 bg-blue-600 text-white px-3 py-1 rounded-full text-xs font-medium",children:y.reason})]}),e.jsxs(ne,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:y.name}),e.jsx("p",{className:"text-gray-600",children:y.country})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(_e,{className:"w-4 h-4 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-sm font-medium",children:y.rating})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-blue-600 font-medium",children:y.reason}),e.jsx(fe,{to:"/places",children:e.jsx(B,{className:"bg-blue-600 text-white hover:bg-blue-700 px-4 py-2",children:"Explore"})})]})]})]},y.id))}),e.jsx("div",{className:"text-center",children:e.jsx(fe,{to:"/places",children:e.jsxs(B,{className:"bg-blue-600 text-white hover:bg-blue-700 px-8 py-4 text-lg rounded-xl",children:["View All Destinations",e.jsx(La,{className:"w-5 h-5 ml-2"})]})})})]})}),e.jsxs("section",{className:"py-20 bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 to-purple-600/5"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs("div",{className:"inline-flex items-center bg-gradient-to-r from-blue-100 to-purple-100 rounded-full px-6 py-2 mb-6",children:[e.jsx(tt,{className:"w-5 h-5 text-blue-600 mr-2"}),e.jsx("span",{className:"text-blue-800 font-semibold",children:"AI-Powered Planning"})]}),e.jsx("h2",{className:"text-5xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-6",children:"Plan Your Dream Trip in 3 Simple Steps"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Our AI transforms hours of research into minutes of smart planning"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8 relative",children:[e.jsx("div",{className:"hidden md:block absolute top-24 left-1/4 right-1/4 h-1 bg-gradient-to-r from-blue-400 via-purple-400 to-green-400 rounded-full"}),[{step:1,icon:e.jsx(wt,{className:"w-10 h-10"}),title:"Tell Us Your Travel Style",description:"Share your interests and budget in just 30 seconds. No lengthy forms!",color:"from-blue-500 to-blue-600",bgColor:"from-blue-50 to-blue-100",time:"30 seconds"},{step:2,icon:e.jsx(tt,{className:"w-10 h-10"}),title:"AI Creates Your Perfect Itinerary",description:"Get personalized itineraries with hidden gems, hotels, transport & activities  all in 2 minutes.",color:"from-purple-500 to-purple-600",bgColor:"from-purple-50 to-purple-100",time:"2 minutes"},{step:3,icon:e.jsx(Fa,{className:"w-10 h-10"}),title:"Download, Share & Book Instantly",description:"One-click booking and offline access. Take your trip anywhere, even without internet.",color:"from-green-500 to-green-600",bgColor:"from-green-50 to-green-100",time:"5 minutes"}].map((y,b)=>e.jsx("div",{className:"relative group",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-4 border border-gray-100",children:[e.jsx("div",{className:`absolute -top-4 left-8 w-12 h-12 bg-gradient-to-r ${y.color} rounded-full flex items-center justify-center shadow-lg`,children:e.jsx("span",{className:"text-white font-bold text-lg",children:y.step})}),e.jsx("div",{className:`w-20 h-20 bg-gradient-to-r ${y.bgColor} rounded-2xl flex items-center justify-center mx-auto mb-6 mt-4 group-hover:scale-110 transition-transform duration-300 animate-float`,children:e.jsx("div",{className:`text-transparent bg-gradient-to-r ${y.color} bg-clip-text`,children:y.icon})}),e.jsxs("div",{className:"inline-flex items-center bg-gray-100 rounded-full px-3 py-1 mb-4",children:[e.jsx(lt,{className:"w-4 h-4 text-gray-500 mr-1"}),e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:y.time})]}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:y.title}),e.jsx("p",{className:"text-gray-600 text-base leading-relaxed",children:y.description}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${y.color} opacity-0 group-hover:opacity-5 rounded-2xl transition-opacity duration-300`})]})},y.step))]}),e.jsxs("div",{className:"text-center mt-16",children:[e.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Ready to Start Your Adventure?"}),e.jsx("p",{className:"text-xl text-gray-600 mb-6",children:"Join 50,000+ travelers who saved 3+ hours with AI planning"}),e.jsx(fe,{to:"/trips",children:e.jsxs(B,{className:"bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700 text-white px-10 py-4 text-lg rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[e.jsx(tt,{className:"w-6 h-6 mr-3"}),"Start Planning Free",e.jsx(La,{className:"w-5 h-5 ml-3"})]})}),e.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"No credit card required  Free forever"})]})]})]}),e.jsx("section",{className:"py-16 bg-gradient-to-b from-white to-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsx("div",{className:"group",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-yellow-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-400 via-yellow-500 to-orange-500 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-gray-900 font-bold text-lg leading-tight",children:"2024 Award Winner"}),e.jsx("div",{className:"text-gray-600 text-sm font-medium",children:"Best Travel Companion"})]})]})})}),e.jsx("div",{className:"group",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-blue-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 via-blue-600 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-gray-900 font-bold text-lg leading-tight",children:"#1 Trending App"}),e.jsx("div",{className:"text-blue-600 text-sm font-medium",children:"Featured on App Store"})]})]})})}),e.jsx("div",{className:"group",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-green-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 via-green-600 to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-gray-900 font-bold text-lg leading-tight",children:"4.8/5 Rating"}),e.jsx("div",{className:"text-gray-600 text-sm font-medium",children:"Based on 50k+ Reviews"})]})]})})}),e.jsx("div",{className:"group",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-teal-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 via-green-500 to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-gray-900 font-bold text-lg leading-tight",children:"Secure & Private"}),e.jsx("div",{className:"text-gray-600 text-sm font-medium",children:"Bank-grade encryption"})]})]})})}),e.jsx("div",{className:"group",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-orange-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 via-orange-600 to-red-500 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-gray-900 font-bold text-lg leading-tight",children:"Fresh Deals"}),e.jsx("div",{className:"text-gray-600 text-sm font-medium",children:"Updated every hour"})]})]})})}),e.jsx("div",{className:"group",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-purple-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 via-purple-600 to-pink-500 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-gray-900 font-bold text-lg leading-tight",children:"Active Community"}),e.jsx("div",{className:"text-gray-600 text-sm font-medium",children:"67 travelers online now"})]})]})})})]})})}),e.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-50 to-green-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Simple, Transparent Pricing"}),e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Start free, upgrade when you need more"}),e.jsx("p",{className:"text-lg text-blue-600 font-semibold",children:"Used by travelers from 120+ countries"})]}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-6 mb-12",children:[e.jsxs("div",{className:"bg-white rounded-xl px-6 py-4 shadow-lg border border-gray-200",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"50,000+"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Travelers"})]}),e.jsxs("div",{className:"bg-white rounded-xl px-6 py-4 shadow-lg border border-gray-200",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"125,000+"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Trips Generated"})]}),e.jsxs("div",{className:"bg-white rounded-xl px-6 py-4 shadow-lg border border-gray-200",children:[e.jsx("div",{className:"flex items-center gap-1 text-2xl font-bold text-yellow-500",children:""}),e.jsx("div",{className:"text-sm text-gray-600",children:"Play Store Rating"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-gray-200 mb-12",children:[e.jsx("h3",{className:"text-2xl font-bold text-center mb-8",children:"Choose Your Plan"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-900",children:"Feature"}),e.jsx("th",{className:"text-center py-4 px-6 font-semibold text-gray-900",children:"Free"}),e.jsx("th",{className:"text-center py-4 px-6 font-semibold text-blue-600 bg-blue-50 rounded-t-lg",children:"Premium"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-4 px-6 text-gray-700",children:"AI Trip Planning"}),e.jsx("td",{className:"text-center py-4 px-6",children:e.jsx("span",{className:"text-green-500 text-xl",children:""})}),e.jsx("td",{className:"text-center py-4 px-6 bg-blue-50",children:e.jsx("span",{className:"text-green-500 text-xl",children:""})})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-4 px-6 text-gray-700",children:"Unlimited Favorites"}),e.jsx("td",{className:"text-center py-4 px-6",children:e.jsx("span",{className:"text-gray-400 text-xl",children:""})}),e.jsx("td",{className:"text-center py-4 px-6 bg-blue-50",children:e.jsx("span",{className:"text-green-500 text-xl",children:""})})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-4 px-6 text-gray-700",children:"Offline Access"}),e.jsx("td",{className:"text-center py-4 px-6",children:e.jsx("span",{className:"text-gray-400 text-xl",children:""})}),e.jsx("td",{className:"text-center py-4 px-6 bg-blue-50",children:e.jsx("span",{className:"text-green-500 text-xl",children:""})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-4 px-6 text-gray-700",children:"Advanced Weather AI"}),e.jsx("td",{className:"text-center py-4 px-6",children:e.jsx("span",{className:"text-gray-400 text-xl",children:""})}),e.jsx("td",{className:"text-center py-4 px-6 bg-blue-50 rounded-b-lg",children:e.jsx("span",{className:"text-green-500 text-xl",children:""})})]})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mt-8",children:[e.jsx(fe,{to:n?"/trips":"/register",children:e.jsx(B,{className:"bg-gray-600 text-white hover:bg-gray-700 px-8 py-3 rounded-xl",children:"Start Free"})}),e.jsx(fe,{to:"/subscription",children:e.jsx(B,{className:"bg-blue-600 text-white hover:bg-blue-700 px-8 py-3 rounded-xl",children:"Upgrade to Premium - $9.99/month"})})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg",children:[e.jsx("h3",{className:"text-2xl font-bold text-center mb-8",children:"What Our Users Say"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:A1.testimonials.map((y,b)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-3",children:[...Array(y.rating)].map((U,A)=>e.jsx(_e,{className:"w-5 h-5 text-yellow-500 fill-current"},A))}),e.jsxs("p",{className:"text-gray-700 mb-4 italic",children:['"',y.text,'"']}),e.jsx("div",{className:"font-semibold text-gray-900",children:y.name}),e.jsx("div",{className:"text-gray-600 text-sm",children:y.location})]},b))})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsx(fe,{to:"/trips",children:e.jsxs(B,{className:"bg-green-600 text-white hover:bg-green-700 px-8 py-4 text-lg rounded-xl",children:["Start Planning Free",e.jsx(La,{className:"w-5 h-5 ml-2"})]})})})]})}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Everything You Need"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Complete travel services in one platform"})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{icon:e.jsx(Zy,{className:"w-8 h-8"}),title:"Hotels",description:"Compare the best options in seconds",link:"/services",color:"from-blue-500 to-blue-600",bgColor:"from-blue-50 to-blue-100"},{icon:e.jsx(yl,{className:"w-8 h-8"}),title:"Transport",description:"Taxi, bus, tuk-tuk, train  all in one place",link:"/transport",color:"from-green-500 to-green-600",bgColor:"from-green-50 to-green-100"},{icon:e.jsx(de,{className:"w-8 h-8"}),title:"Activities",description:"Local events, top attractions & hidden experiences",link:"/discovery",color:"from-purple-500 to-purple-600",bgColor:"from-purple-50 to-purple-100"},{icon:e.jsx(kt,{className:"w-8 h-8"}),title:"Trip Planning",description:"Your smart itinerary, always up to date",link:"/trips",color:"from-orange-500 to-orange-600",bgColor:"from-orange-50 to-orange-100"}].map((y,b)=>e.jsx(fe,{to:y.link,children:e.jsxs(re,{className:"p-6 text-center hover:shadow-xl transition-all duration-300 hover:-translate-y-2 cursor-pointer group",children:[e.jsx("div",{className:`w-16 h-16 bg-gradient-to-r ${y.bgColor} rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-all duration-300`,children:e.jsx("div",{className:`text-transparent bg-gradient-to-r ${y.color} bg-clip-text group-hover:scale-110 transition-transform duration-300`,children:y.icon})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors duration-300",children:y.title}),e.jsx("p",{className:"text-gray-600 group-hover:text-gray-700 transition-colors duration-300",children:y.description}),e.jsx("div",{className:"mt-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsx(La,{className:"w-5 h-5 text-blue-600 mx-auto"})})]})},b))})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-b from-gray-50 to-white",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs("div",{className:"inline-flex items-center bg-blue-100 rounded-full px-6 py-2 mb-6",children:[e.jsx("span",{className:"text-2xl mr-2",children:""}),e.jsx("span",{className:"text-blue-800 font-semibold",children:"Got Questions?"})]}),e.jsx("h2",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-6",children:"Frequently Asked Questions"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Everything you need to know about TravelBuddy"})]}),e.jsx(C1,{}),e.jsx("div",{className:"text-center mt-16",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Still have questions?"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Our support team is here to help you 24/7"}),e.jsx(fe,{to:"/contact",children:e.jsx(B,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:"Contact Support"})})]})})]})}),n&&e.jsx(j.Suspense,{fallback:e.jsx(S1,{}),children:e.jsx("section",{className:"py-20 bg-gradient-to-r from-purple-50 to-pink-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Recommended For Your Travel Style"}),e.jsx("p",{className:"text-xl text-gray-600",children:"AI-powered suggestions based on your preferences and past trips"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs(re,{className:"p-6 text-center hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-100 to-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(tt,{className:"w-8 h-8 text-purple-600"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Adventure Seeker"}),e.jsx("p",{className:"text-gray-600",children:"Hiking trails, extreme sports, and outdoor adventures"})]}),e.jsxs(re,{className:"p-6 text-center hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-100 to-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(dt,{className:"w-8 h-8 text-green-600"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Culture Explorer"}),e.jsx("p",{className:"text-gray-600",children:"Museums, local cuisine, and authentic experiences"})]}),e.jsxs(re,{className:"p-6 text-center hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-yellow-100 to-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(_e,{className:"w-8 h-8 text-orange-600"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Luxury Traveler"}),e.jsx("p",{className:"text-gray-600",children:"Premium hotels, fine dining, and exclusive experiences"})]})]})]})})})]})},ea=({children:n,className:l="",variant:i="default"})=>{const o="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium",u={default:"bg-blue-100 text-blue-800",destructive:"bg-red-100 text-red-800",outline:"border border-gray-300 text-gray-700",secondary:"bg-gray-100 text-gray-800"};return e.jsx("span",{className:`${o} ${u[i]} ${l}`,children:n})},_1=({isOpen:n,onClose:l,currentTier:i="free",upgradeRequired:o=!1})=>{const{user:u}=Ct(),{config:m}=Un(),[x,f]=j.useState(!1),[g,w]=j.useState({}),[v,y]=j.useState(null);j.useEffect(()=>{n&&(b(),U())},[n]);const b=async()=>{try{const E=m?.apiBaseUrl||"https://travelbuddy-b2c6hgbbgeh4esdh.eastus2-01.azurewebsites.net",$=await fetch(`${E}/api/subscriptions/tiers`);if($.ok){const D=await $.json();w(D)}}catch(E){console.error("Failed to fetch tiers:",E)}},U=async()=>{if(u?.id)try{const E=m?.apiBaseUrl||"https://travelbuddy-b2c6hgbbgeh4esdh.eastus2-01.azurewebsites.net",$=await fetch(`${E}/api/subscriptions/status`,{headers:{"x-user-id":u.id}});if($.ok){const D=await $.json();y(D)}}catch(E){console.error("Failed to fetch subscription status:",E)}},A=async E=>{if(u?.id){f(!0);try{const $=m?.apiBaseUrl||"https://travelbuddy-b2c6hgbbgeh4esdh.eastus2-01.azurewebsites.net",D=await fetch(`${$}/api/subscriptions/upgrade`,{method:"POST",headers:{"Content-Type":"application/json","x-user-id":u.id},body:JSON.stringify({tier:E})});if(D.ok){const K=await D.json();alert(`Successfully upgraded to ${E} plan!`),l(),window.location.reload()}else{const K=await D.json();alert(`Upgrade failed: ${K.error}`)}}catch($){console.error("Upgrade failed:",$),alert("Upgrade failed. Please try again.")}finally{f(!1)}}};if(!n)return null;const N=["free","basic","premium","pro"],M=N.indexOf(i);return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs(re,{className:"w-full max-w-6xl max-h-[90vh] overflow-y-auto bg-white",children:[e.jsxs(st,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(at,{className:"flex items-center text-2xl font-bold",children:[e.jsx(qa,{className:"w-6 h-6 mr-3"}),o?"Upgrade Required":"Choose Your Plan"]}),e.jsx(B,{variant:"outline",size:"sm",onClick:l,className:"bg-white/20 border-white/30 text-white hover:bg-white/30 rounded-full w-8 h-8 p-0",children:e.jsx(ht,{className:"w-4 h-4"})})]}),o&&e.jsx("p",{className:"text-blue-100 mt-2",children:"You've reached your plan limit. Upgrade to continue using this feature."})]}),e.jsxs(ne,{className:"p-8",children:[v&&e.jsxs("div",{className:"mb-8 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Current Usage"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(v.usage).map(([E,$])=>e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium capitalize",children:E.replace(/([A-Z])/g," $1")}),e.jsxs("div",{className:"text-gray-600",children:[$.current," / ",$.limit===-1?"":$.limit," per ",$.period]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:$.limit===-1?"100%":`${Math.min(100,$.current/$.limit*100)}%`}})})]},E))})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:N.map((E,$)=>{const D=g[E];if(!D)return null;const K=E===i,q=$>M,ee=E==="premium";return e.jsxs("div",{className:`relative border-2 rounded-xl p-6 ${K?"border-green-500 bg-green-50":ee?"border-purple-500 bg-purple-50":"border-gray-200 bg-white"} ${q?"hover:shadow-lg transition-shadow":""}`,children:[ee&&e.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:e.jsx("span",{className:"bg-purple-600 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Most Popular"})}),K&&e.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:e.jsx("span",{className:"bg-green-600 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Current Plan"})}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsxs("div",{className:"flex justify-center mb-2",children:[E==="free"&&e.jsx(tt,{className:"w-8 h-8 text-blue-500"}),E==="basic"&&e.jsx(bs,{className:"w-8 h-8 text-green-500"}),E==="premium"&&e.jsx(_e,{className:"w-8 h-8 text-purple-500"}),E==="pro"&&e.jsx(qa,{className:"w-8 h-8 text-yellow-500"})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:D.name}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900 mt-2",children:["$",D.price,D.price>0&&e.jsx("span",{className:"text-sm text-gray-500",children:"/month"})]})]}),e.jsx("ul",{className:"space-y-3 mb-6",children:D.features.map((Y,T)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(On,{className:"w-5 h-5 text-green-500 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-700",children:Y})]},T))}),e.jsx(B,{onClick:()=>A(E),disabled:x||K||!q,className:`w-full ${K?"bg-green-600 text-white cursor-default":q?ee?"bg-purple-600 hover:bg-purple-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:x?"Processing...":K?"Current Plan":q?`Upgrade to ${D.name}`:"Downgrade Not Available"})]},E)})}),e.jsxs("div",{className:"mt-8 text-center text-sm text-gray-600",children:[e.jsx("p",{children:"All plans include basic features and customer support."}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Note:"})," This is a demo subscription system. No actual payment is processed."]})]})]})]})})},D1=()=>{const{user:n}=Ct(),[l,i]=j.useState({emailVerified:!1,phoneVerified:!1,twoFactorEnabled:!1,lastLogin:new Date,loginHistory:[]}),[o,u]=j.useState(!1),m=async()=>{if(n?.id)try{const f=await ds.getConfig(),g=localStorage.getItem("token")||localStorage.getItem("demo_token"),w={};g&&(w.Authorization=`Bearer ${g}`),n?.id&&(w["x-user-id"]=n.id);const v=await fetch(`${f.apiBaseUrl}/api/users/security`,{headers:w});if(v.ok){const y=await v.json();i(y)}else i({emailVerified:!0,phoneVerified:!1,twoFactorEnabled:!1,lastLogin:new Date,loginHistory:[]})}catch(f){console.error("Failed to fetch security settings:",f),i({emailVerified:!0,phoneVerified:!1,twoFactorEnabled:!1,lastLogin:new Date,loginHistory:[]})}},x=async f=>{u(!0);try{const g=await ds.getConfig(),w=localStorage.getItem("token")||localStorage.getItem("demo_token"),v={"Content-Type":"application/json"};w&&(v.Authorization=`Bearer ${w}`),n?.id&&(v["x-user-id"]=n.id);const y=await fetch(`${g.apiBaseUrl}/api/users/security`,{method:"PUT",headers:v,body:JSON.stringify(f)});if(y.ok){const b=await y.json();return i(U=>({...U,...b})),!0}return!1}catch(g){return console.error("Failed to update security settings:",g),!1}finally{u(!1)}};return j.useEffect(()=>{m()},[n?.id]),{security:l,loading:o,updateSecurity:x,refreshSecurity:m}},R1=({currentPicture:n,onUploadSuccess:l,onUploadError:i,onUploadProgress:o})=>{const{user:u}=Ct(),[m,x]=j.useState(!1),[f,g]=j.useState(null),[w,v]=j.useState(0),y=j.useRef(null),b=M=>{const E=M.target.files?.[0];if(!E)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(E.type)){i?.("Please select a valid image file (JPEG, PNG, GIF, or WebP)");return}if(E.size>5*1024*1024){i?.("File size must be less than 5MB");return}const D=new FileReader;D.onload=K=>{g(K.target?.result)},D.readAsDataURL(E),U(E)},U=async M=>{x(!0),v(0),o?.(0);try{const E=new FormData;E.append("profilePicture",M);const $=localStorage.getItem("token")||localStorage.getItem("demo_token"),D={};$&&(D.Authorization=`Bearer ${$}`),u?.id&&(D["x-user-id"]=u.id);const K=setInterval(()=>{v(ae=>Math.min(ae+10,90))},200),ee=`${(await ds.getConfig()).apiBaseUrl}/api/upload/profile-picture`;console.log(" Uploading to:",ee,{userId:u?.id,hasToken:!!$});const Y=await fetch(ee,{method:"POST",headers:D,body:E});if(console.log(" Upload response:",Y.status,Y.statusText),clearInterval(K),v(100),!Y.ok){const ae=await Y.json();throw new Error(ae.error||"Upload failed")}const T=await Y.json();if(T.success)l?.(T.profilePicture),g(null),v(0);else throw new Error(T.error||"Upload failed")}catch(E){console.error("Upload error:",E);const $=E instanceof Error?E.message:"Upload failed. Please try again.";i?.($),g(null),v(0)}finally{x(!1),y.current&&(y.current.value="")}},A=()=>{y.current?.click()},N=f||n;return e.jsxs("div",{className:"relative group",children:[e.jsxs("div",{className:"w-40 h-40 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm border-4 border-white/30 shadow-2xl overflow-hidden",children:[N?e.jsx("img",{src:N,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx(Ga,{className:"w-20 h-20 text-white"}),m&&e.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex flex-col items-center justify-center rounded-full",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mb-2"}),w>0&&e.jsxs("div",{className:"text-white text-xs font-semibold",children:[w,"%"]})]})]}),e.jsx("button",{onClick:A,disabled:m,className:"absolute bottom-3 right-3 w-12 h-12 bg-white text-blue-600 rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-all duration-200 group-hover:bg-blue-50 disabled:opacity-50 disabled:cursor-not-allowed",title:"Upload profile picture",children:m?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}):e.jsx(Ha,{className:"w-6 h-6"})}),e.jsx("input",{ref:y,type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:b,className:"hidden"})]})},O1=()=>{const{user:n,updateProfile:l,logout:i}=Ct(),o=At(),{security:u,updateSecurity:m}=D1(),[x,f]=j.useState(!1),[g,w]=j.useState({username:n?.username||"",email:n?.email||"",fullName:n?.fullName||"",phone:n?.phone||"",bio:n?.bio||"",homeCity:n?.homeCity||"",languages:n?.languages||[]}),[v,y]=j.useState(!1),[b,U]=j.useState(!1),[A,N]=j.useState({tripsPlanned:0,placesVisited:0,reviewsWritten:0,aiGenerations:0,profileViews:0,dealsCreated:0,clientSatisfaction:0,ridesCompleted:0}),[M,E]=j.useState(!1),[$,D]=j.useState(null),[K,q]=j.useState(null),[ee,Y]=j.useState(""),[T,ae]=j.useState([]),[pe,ze]=j.useState(""),[k,J]=j.useState({budgetRange:"moderate",travelPace:"moderate",interests:[],accessibility:!1}),[te,G]=j.useState({profileVisibility:"public",hideTravel:!1,hideActivity:!1}),[S,H]=j.useState({email:!0,push:!0,trips:!0,deals:!0,community:!0}),[z,R]=j.useState(!1),[se,De]=j.useState(!1),[Se,me]=j.useState(!1),be=()=>{let F=0;const je=5;return(n?.fullName||g.fullName)&&F++,u.emailVerified&&F++,(n?.phone||g.phone)&&F++,(n?.bio||g.bio)&&F++,(n?.homeCity||g.homeCity)&&F++,Math.round(F/je*100)};j.useEffect(()=>{ds.getConfig().then(F=>Y(F.apiBaseUrl))},[]),j.useEffect(()=>{n?.id&&$e()},[n?.id]),j.useEffect(()=>{if(n){if(n.socialLinks){const F=n.socialLinks;if(Array.isArray(F))ae(F);else{const je=Object.entries(F).filter(([Z,le])=>le).map(([Z,le])=>({platform:Z,url:le}));ae(je)}}n.travelPreferences&&J(n.travelPreferences)}},[n]),j.useEffect(()=>{const F=je=>{je.target.closest(".role-menu-container")||E(!1)};return document.addEventListener("click",F),()=>document.removeEventListener("click",F)},[]);const $e=async()=>{try{const F=await ds.getConfig(),je=localStorage.getItem("token")||localStorage.getItem("demo_token"),Z={};je&&(Z.Authorization=`Bearer ${je}`),n?.id&&(Z["x-user-id"]=n.id);const le=await fetch(`${F.apiBaseUrl}/api/users/${n?.id}/stats`,{headers:Z});if(le.ok){const Re=await le.json();if(N({tripsPlanned:Re.totalTrips||0,placesVisited:Re.totalFavorites||0,reviewsWritten:Re.totalPosts||0,aiGenerations:0,profileViews:0,dealsCreated:0,clientSatisfaction:0,ridesCompleted:0}),w({username:n?.username||"",email:n?.email||"",fullName:Re.fullName||n?.fullName||"",phone:Re.phone||n?.phone||"",bio:Re.bio||n?.bio||"",homeCity:Re.homeCity||n?.homeCity||"",languages:Re.languages||n?.languages||[]}),Re.socialLinks)if(Array.isArray(Re.socialLinks))ae(Re.socialLinks);else{const Xt=Object.entries(Re.socialLinks).filter(([oa,Xa])=>Xa).map(([oa,Xa])=>({platform:oa,url:Xa}));ae(Xt)}Re.travelPreferences&&J(Re.travelPreferences)}}catch(F){console.error("Failed to fetch user stats:",F)}},Ge=async()=>{y(!0);try{const F=await ds.getConfig(),je=localStorage.getItem("token")||localStorage.getItem("demo_token"),Z={"Content-Type":"application/json"};je&&(Z.Authorization=`Bearer ${je}`),n?.id&&(Z["x-user-id"]=n.id);const le=await fetch(`${F.apiBaseUrl}/api/users/profile`,{method:"PUT",headers:Z,body:JSON.stringify({...g,socialLinks:T,travelPreferences:k})});if(le.ok){const Re=await le.json();await l({username:g.username,fullName:g.fullName,phone:g.phone,bio:g.bio,homeCity:g.homeCity,socialLinks:T,travelPreferences:k}),f(!1),alert("Profile updated successfully!")}else throw new Error("Failed to update profile")}catch(F){console.error("Failed to update profile:",F),alert("Failed to update profile. Please try again.")}finally{y(!1)}},Ne=()=>{w({username:n?.username||"",email:n?.email||"",fullName:n?.fullName||"",phone:n?.phone||"",bio:n?.bio||"",homeCity:n?.homeCity||"",languages:n?.languages||[]}),f(!1)},Tt=async F=>{console.log("Profile picture uploaded successfully:",F),D(null),q(null),n&&await l({profilePicture:F}),$e()},gt=F=>{console.error("Profile picture upload failed:",F),D(null),q(F),setTimeout(()=>q(null),5e3)};if(!n)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Not Logged In"}),e.jsx("p",{className:"text-gray-600",children:"Please log in to view your profile"})]})});const Et=()=>{const F=n.activeRole||n.role;return F==="merchant"?[{icon:cs,label:"Deals Created",value:A.dealsCreated,bgColor:"bg-purple-100",iconColor:"text-purple-600"},{icon:Ya,label:"Profile Views",value:A.profileViews,bgColor:"bg-blue-100",iconColor:"text-blue-600"},{icon:_e,label:"Rating",value:"4.8",bgColor:"bg-yellow-100",iconColor:"text-yellow-600"}]:F==="travel_agent"?[{icon:St,label:"Clients Served",value:A.ridesCompleted,bgColor:"bg-green-100",iconColor:"text-green-600"},{icon:vl,label:"Satisfaction",value:`${A.clientSatisfaction}%`,bgColor:"bg-blue-100",iconColor:"text-blue-600"},{icon:_e,label:"Rating",value:"4.9",bgColor:"bg-yellow-100",iconColor:"text-yellow-600"}]:F==="transport_provider"?[{icon:yl,label:"Rides Completed",value:A.ridesCompleted,bgColor:"bg-indigo-100",iconColor:"text-indigo-600"},{icon:cs,label:"Fleet Usage",value:"85%",bgColor:"bg-green-100",iconColor:"text-green-600"},{icon:_e,label:"Driver Rating",value:"4.7",bgColor:"bg-yellow-100",iconColor:"text-yellow-600"}]:[{icon:de,label:"Trips Planned",value:A.tripsPlanned,bgColor:"bg-blue-100",iconColor:"text-blue-600"},{icon:dt,label:"Places Saved",value:A.placesVisited,bgColor:"bg-green-100",iconColor:"text-green-600"},{icon:bu,label:"Posts Shared",value:A.reviewsWritten,bgColor:"bg-yellow-100",iconColor:"text-yellow-600"}]},rt=()=>{const F=A.tripsPlanned,je=A.placesVisited;return F>=10?{type:"Adventure Seeker",icon:Mu,desc:"Always exploring new horizons"}:je>=20?{type:"Culture Explorer",icon:gs,desc:"Passionate about diverse experiences"}:F>=5?{type:"Weekend Wanderer",icon:de,desc:"Regular traveler building memories"}:{type:"Journey Starter",icon:tt,desc:"Beginning your travel adventure"}},Ot=()=>{const F=[];return A.tripsPlanned>0&&F.push({icon:tv,label:"First Trip",color:"text-blue-600"}),A.tripsPlanned>=5&&F.push({icon:oo,label:"5 Trips",color:"text-purple-600"}),A.placesVisited>=10&&F.push({icon:sv,label:"10 Places",color:"text-green-600"}),A.reviewsWritten>=5&&F.push({icon:_e,label:"5 Reviews",color:"text-yellow-600"}),F},ia=()=>[],Jt=[{id:"culture",label:"Culture & History",icon:gs},{id:"adventure",label:"Adventure",icon:gu},{id:"food",label:"Food & Dining",icon:pu},{id:"beach",label:"Beach & Relaxation",icon:Fa},{id:"nature",label:"Nature & Wildlife",icon:gu},{id:"shopping",label:"Shopping",icon:ag},{id:"nightlife",label:"Nightlife",icon:_e},{id:"photography",label:"Photography",icon:Ha},{id:"wellness",label:"Wellness & Spa",icon:dt},{id:"sports",label:"Sports & Fitness",icon:oo},{id:"art",label:"Art & Museums",icon:tt},{id:"music",label:"Music & Festivals",icon:mr}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-16 relative",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-center space-y-8 lg:space-y-0 lg:space-x-12",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsx(R1,{currentPicture:n.profilePicture,onUploadSuccess:Tt,onUploadError:gt}),$!==null&&e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-black/70 text-white text-xs py-1 px-2 rounded-b-full text-center",children:["Uploading... ",$,"%"]}),K&&e.jsx("div",{className:"absolute -bottom-8 left-0 right-0 bg-red-500 text-white text-xs py-2 px-3 rounded-lg text-center shadow-lg",children:K})]})}),e.jsxs("div",{className:"text-center lg:text-left flex-1",children:[e.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-3 mb-2",children:[e.jsx("h1",{className:"text-5xl font-bold",children:n.fullName||n.email?.split("@")[0]}),e.jsx(Ze,{className:"w-6 h-6 text-green-400",title:"Verified Account"})]}),e.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-2 mb-4",children:[e.jsx(ys,{className:"w-5 h-5 text-white/80"}),e.jsx("p",{className:"text-xl text-white/90",children:n.email}),u.emailVerified?e.jsx(Ze,{className:"w-4 h-4 text-green-400",title:"Email Verified"}):e.jsx(wn,{className:"w-4 h-4 text-yellow-400",title:"Email Not Verified"})]}),(n.phone||g.phone)&&e.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-2 mb-6",children:[e.jsx(vs,{className:"w-5 h-5 text-white/80"}),e.jsx("p",{className:"text-lg text-white/90",children:n.phone||g.phone}),u.phoneVerified?e.jsx(Ze,{className:"w-4 h-4 text-green-400",title:"Phone Verified"}):e.jsx(wn,{className:"w-4 h-4 text-yellow-400",title:"Phone Not Verified"})]}),e.jsxs("div",{className:"flex flex-wrap justify-center lg:justify-start gap-3 mb-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 text-yellow-900 px-4 py-2 rounded-full font-semibold shadow-lg",children:[(n.tier==="travelagent"||n.tier==="partner")&&e.jsx(qa,{className:"w-4 h-4 mr-2 inline"}),n.tier==="wanderpro"&&e.jsx(bs,{className:"w-4 h-4 mr-2 inline"}),(n.tier||"explorer").charAt(0).toUpperCase()+(n.tier||"explorer").slice(1)," Plan"]}),(n.roles||[n.role||"user"]).map(F=>e.jsxs("div",{className:`px-4 py-2 rounded-full font-medium shadow-lg ${F===n.activeRole?"bg-white text-blue-600":"bg-white/20 backdrop-blur-sm border border-white/30"}`,children:[F==="merchant"?" Business":F==="transport_provider"?" Transport":F==="travel_agent"?" Agent":" Traveler",F===n.activeRole&&" (Active)"]},F))]}),n.bio&&e.jsx("p",{className:"text-lg text-white/90 max-w-2xl",children:n.bio})]}),e.jsxs("div",{className:"flex flex-col space-y-3",children:[x?e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs(B,{variant:"outline",className:"bg-white/20 border-white/30 text-white hover:bg-white/30",onClick:Ne,children:[e.jsx(ht,{className:"w-4 h-4 mr-2"}),"Cancel"]}),e.jsxs(B,{className:"bg-blue-600 text-white hover:bg-blue-700",onClick:Ge,disabled:v,children:[e.jsx(pr,{className:"w-4 h-4 mr-2"}),v?"Saving...":"Save"]})]}):e.jsxs(B,{onClick:()=>f(!0),className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm",children:[e.jsx(fu,{className:"w-5 h-5 mr-2"}),"Edit Profile"]}),e.jsxs(B,{variant:"outline",className:"bg-white/10 border-white/30 text-white hover:bg-white/20",onClick:()=>U(!0),children:[e.jsx(qa,{className:"w-5 h-5 mr-2"}),"Upgrade Plan"]})]})]})})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 -mt-12 relative z-10",children:[e.jsx(re,{className:"bg-white shadow-lg mb-8 border border-gray-100",children:e.jsxs(ne,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Profile Completion"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Complete your profile to unlock all features"})]}),e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[be(),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-500",style:{width:`${be()}%`}})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${n?.fullName||g.fullName?"bg-green-50":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[n?.fullName||g.fullName?e.jsx(Ze,{className:"w-4 h-4 text-green-600"}):e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add your full name"})]}),!(n?.fullName||g.fullName)&&e.jsx(B,{size:"sm",variant:"outline",onClick:()=>f(!0),className:"text-xs",children:"Add"})]}),e.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${u.emailVerified?"bg-green-50":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[u.emailVerified?e.jsx(Ze,{className:"w-4 h-4 text-green-600"}):e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Verify your email"})]}),!u.emailVerified&&e.jsx(B,{size:"sm",variant:"outline",className:"text-xs",children:"Verify"})]}),e.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${n?.phone||g.phone?"bg-green-50":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[n?.phone||g.phone?e.jsx(Ze,{className:"w-4 h-4 text-green-600"}):e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add phone number"})]}),!(n?.phone||g.phone)&&e.jsx(B,{size:"sm",variant:"outline",onClick:()=>f(!0),className:"text-xs",children:"Add"})]}),e.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${n?.bio||g.bio?"bg-green-50":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[n?.bio||g.bio?e.jsx(Ze,{className:"w-4 h-4 text-green-600"}):e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Write a bio"})]}),!(n?.bio||g.bio)&&e.jsx(B,{size:"sm",variant:"outline",onClick:()=>f(!0),className:"text-xs",children:"Add"})]}),e.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${n?.homeCity||g.homeCity?"bg-green-50":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[n?.homeCity||g.homeCity?e.jsx(Ze,{className:"w-4 h-4 text-green-600"}):e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add home city"})]}),!(n?.homeCity||g.homeCity)&&e.jsx(B,{size:"sm",variant:"outline",onClick:()=>f(!0),className:"text-xs",children:"Add"})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:Et().map((F,je)=>{const Z=F.icon;return e.jsx(re,{className:"bg-white shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1 border border-gray-100",children:e.jsxs(ne,{className:"p-8 text-center",children:[e.jsx("div",{className:`w-24 h-24 ${F.bgColor} rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-sm`,children:e.jsx(Z,{className:`w-14 h-14 ${F.iconColor}`})}),e.jsx("div",{className:"text-5xl font-bold text-gray-900 mb-2",children:F.value}),e.jsx("div",{className:"text-gray-600 font-medium text-lg",children:F.label})]})},je)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-12",children:[e.jsx(re,{className:"bg-white shadow-lg border border-gray-100",children:e.jsxs(ne,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-md",children:(()=>{const F=rt().icon;return e.jsx(F,{className:"w-9 h-9 text-white"})})()}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Your Travel Personality"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:rt().type}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:rt().desc})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["$",A.tripsPlanned*450]}),e.jsx("div",{className:"text-xs text-gray-600",children:"Est. Travel Spend"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:A.placesVisited}),e.jsx("div",{className:"text-xs text-gray-600",children:"Places Explored"})]})]})]})}),e.jsx(re,{className:"bg-white shadow-lg border border-gray-100",children:e.jsxs(ne,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(oo,{className:"w-6 h-6 text-yellow-600"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Achievements"})]}),e.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:[Ot().length," Unlocked"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[Ot().map((F,je)=>{const Z=F.icon;return e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-xl border border-gray-200",children:[e.jsx("div",{className:"w-10 h-10 bg-white rounded-lg flex items-center justify-center shadow-sm",children:e.jsx(Z,{className:`w-6 h-6 ${F.color}`})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:F.label}),e.jsx("p",{className:"text-xs text-gray-500",children:"Unlocked"})]})]},je)}),Ot().length===0&&e.jsxs("div",{className:"col-span-2 text-center py-6 text-gray-500",children:[e.jsx(oo,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"Start your journey to unlock badges!"})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-12",children:[e.jsxs(re,{className:"bg-white shadow-lg lg:col-span-2 border border-gray-100",children:[e.jsx(st,{className:"border-b border-gray-100",children:e.jsxs(at,{className:"text-xl text-gray-900 flex items-center",children:[e.jsx(lt,{className:"w-5 h-5 mr-2 text-blue-600"}),"Recent Activity"]})}),e.jsx(ne,{className:"p-6",children:ia().length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(lt,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No recent activity"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Start planning trips to see your activity here"})]}):e.jsx("div",{className:"space-y-4",children:ia().map((F,je)=>{const Z=F.icon;return e.jsxs("div",{className:"flex items-start space-x-3 p-3 hover:bg-gray-50 rounded-lg transition-colors",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(Z,{className:`w-5 h-5 ${F.color}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm text-gray-900",children:[e.jsx("span",{className:"font-medium",children:F.action})," ",e.jsx("span",{className:"font-semibold text-blue-600",children:F.target})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:F.time})]})]},je)})})})]}),e.jsxs(re,{className:"bg-white shadow-lg border border-gray-100",children:[e.jsx(st,{className:"border-b border-gray-100",children:e.jsxs(at,{className:"text-xl text-gray-900 flex items-center",children:[e.jsx(tg,{className:"w-5 h-5 mr-2 text-purple-600"}),"Social Links"]})}),e.jsx(ne,{className:"p-6",children:e.jsx("div",{className:"space-y-3",children:x?e.jsxs(e.Fragment,{children:[T.map((F,je)=>{const le={instagram:xu,linkedin:sg,twitter:hu,facebook:mu,tiktok:"",youtube:"",github:"",website:gs}[F.platform];return e.jsxs("div",{className:"flex items-center space-x-2",children:[typeof le=="string"?e.jsx("span",{className:"text-lg",children:le}):e.jsx(le,{className:"w-4 h-4"}),e.jsx("input",{type:"text",value:F.url,onChange:Re=>{const Xt=[...T];Xt[je].url=Re.target.value,ae(Xt)},className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg text-sm",placeholder:"Enter URL"}),e.jsx(B,{size:"sm",variant:"outline",onClick:()=>ae(T.filter((Re,Xt)=>Xt!==je)),className:"text-red-600",children:e.jsx(ht,{className:"w-4 h-4"})})]},je)}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:pe,onChange:F=>ze(F.target.value),className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg text-sm",children:[e.jsx("option",{value:"",children:"Select platform"}),["instagram","linkedin","twitter","facebook","tiktok","youtube","github","website"].filter(F=>!T.find(je=>je.platform===F)).map(F=>e.jsx("option",{value:F,children:F.charAt(0).toUpperCase()+F.slice(1)},F))]}),e.jsx(B,{size:"sm",onClick:()=>{pe&&(ae([...T,{platform:pe,url:""}]),ze(""))},disabled:!pe,children:"Add"})]})]}):e.jsx(e.Fragment,{children:T.length===0?e.jsxs("div",{className:"text-center py-6",children:[e.jsx(tg,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No social links added"}),e.jsx(B,{size:"sm",variant:"outline",onClick:()=>f(!0),className:"mt-3",children:"Add Links"})]}):e.jsx("div",{className:"space-y-2",children:T.map((F,je)=>{const le={instagram:xu,linkedin:sg,twitter:hu,facebook:mu,tiktok:"",youtube:"",github:"",website:gs}[F.platform];return e.jsxs("a",{href:F.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded-lg",children:[typeof le=="string"?e.jsx("span",{className:"text-lg",children:le}):e.jsx(le,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm text-gray-900 capitalize",children:F.platform})]},je)})})})})})]})]}),e.jsxs(re,{className:"bg-white shadow-lg mb-12 border border-gray-100",children:[e.jsx(st,{className:"border-b border-gray-100",children:e.jsx(at,{className:"text-xl text-gray-900 flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(yo,{className:"w-5 h-5 mr-2 text-purple-600"}),"Travel Preferences"]})})}),e.jsxs(ne,{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Budget Range"}),x?e.jsxs("select",{value:k.budgetRange,onChange:F=>J({...k,budgetRange:F.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg",children:[e.jsx("option",{value:"budget",children:"Budget ($)"}),e.jsx("option",{value:"moderate",children:"Moderate ($$)"}),e.jsx("option",{value:"luxury",children:"Luxury ($$$)"})]}):e.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg",children:[e.jsx(ag,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium capitalize",children:k.budgetRange})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Travel Pace"}),x?e.jsxs("select",{value:k.travelPace,onChange:F=>J({...k,travelPace:F.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg",children:[e.jsx("option",{value:"relaxed",children:"Relaxed"}),e.jsx("option",{value:"moderate",children:"Moderate"}),e.jsx("option",{value:"fast",children:"Fast-Paced"})]}):e.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg",children:[e.jsx(bs,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"font-medium capitalize",children:k.travelPace})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Accessibility"}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[x?e.jsx("input",{type:"checkbox",checked:k.accessibility,onChange:F=>J({...k,accessibility:F.target.checked}),className:"w-5 h-5 text-blue-600 rounded"}):e.jsx(Ze,{className:`w-5 h-5 ${k.accessibility?"text-green-600":"text-gray-300"}`}),e.jsx("span",{className:"font-medium",children:k.accessibility?"Required":"Not Required"})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Travel Interests"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Jt.map(F=>{const je=F.icon,Z=k.interests.includes(F.id);return e.jsxs("button",{onClick:()=>{x&&J({...k,interests:Z?k.interests.filter(le=>le!==F.id):[...k.interests,F.id]})},disabled:!x,className:`flex items-center space-x-2 p-3 rounded-lg border-2 transition-all ${Z?"border-blue-500 bg-blue-50":"border-gray-200 bg-white hover:border-gray-300"} ${x?"cursor-pointer":"cursor-default"}`,children:[e.jsx(je,{className:`w-5 h-5 ${Z?"text-blue-600":"text-gray-400"}`}),e.jsx("span",{className:`text-sm font-medium ${Z?"text-blue-900":"text-gray-600"}`,children:F.label})]},F.id)})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-8 pb-16",children:[e.jsxs("div",{className:"xl:col-span-2 space-y-8",children:[e.jsxs(re,{className:"bg-white shadow-lg border border-gray-100",children:[e.jsx(st,{className:"border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(at,{className:"text-2xl text-gray-900 flex items-center",children:[e.jsx(Ga,{className:"w-6 h-6 mr-3 text-blue-600"}),"Personal Information"]}),x?e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs(B,{variant:"outline",size:"sm",onClick:Ne,children:[e.jsx(ht,{className:"w-4 h-4 mr-2"}),"Cancel"]}),e.jsxs(B,{size:"sm",onClick:Ge,disabled:v,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[e.jsx(pr,{className:"w-4 h-4 mr-2"}),v?"Saving...":"Save"]})]}):e.jsxs(B,{onClick:()=>f(!0),variant:"outline",size:"sm",children:[e.jsx(fu,{className:"w-4 h-4 mr-2"}),"Edit"]})]})}),e.jsx(ne,{className:"p-8 space-y-6",children:x?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:g.fullName,onChange:F=>w({...g,fullName:F.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your full name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Username"}),e.jsx("input",{type:"text",value:g.username,onChange:F=>w({...g,username:F.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:g.email,disabled:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-100 cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone"}),e.jsx("input",{type:"tel",value:g.phone,onChange:F=>w({...g,phone:F.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"+1 (555) 123-4567"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Bio"}),e.jsx("textarea",{value:g.bio,onChange:F=>w({...g,bio:F.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 h-24 resize-none",placeholder:"Tell us about yourself..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Home City"}),e.jsx("input",{type:"text",value:g.homeCity,onChange:F=>w({...g,homeCity:F.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"New York, NY"})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Full Name"}),e.jsx("p",{className:"text-lg text-gray-900 font-medium",children:n.fullName||g.fullName||"Not set"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Username"}),e.jsx("p",{className:"text-lg text-gray-900 font-medium",children:n.fullName||n.email?.split("@")[0]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Email"}),e.jsx("p",{className:"text-lg text-gray-900 font-medium",children:n.email})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Phone"}),e.jsx("p",{className:"text-lg text-gray-900 font-medium",children:n.phone||g.phone||"Not set"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Bio"}),e.jsx("p",{className:"text-lg text-gray-900 font-medium",children:n.bio||g.bio||"Not set"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Home City"}),e.jsx("p",{className:"text-lg text-gray-900 font-medium",children:n.homeCity||g.homeCity||"Not set"})]})]})]})})]}),e.jsxs(re,{className:"bg-white shadow-lg overflow-hidden border border-gray-100",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:e.jsx(sa,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:"Account Security"}),e.jsx("p",{className:"text-green-100 text-sm",children:" Your account is secure"})]})]}),e.jsx("div",{className:"w-16 h-16 bg-white/10 backdrop-blur-sm rounded-full flex items-center justify-center",children:e.jsx(Ze,{className:"w-8 h-8 text-white"})})]})}),e.jsx(ne,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-xl border border-green-200",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center shadow-sm",children:e.jsx(Ze,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-900",children:"Email Verified"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Confirmed and secure"})]})]}),e.jsx(Ze,{className:"w-6 h-6 text-green-600"})]}),e.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl border ${u.twoFactorEnabled?"bg-green-50 border-green-200":"bg-amber-50 border-amber-300"}`,children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center shadow-sm ${u.twoFactorEnabled?"bg-green-500":"bg-amber-500"}`,children:u.twoFactorEnabled?e.jsx(Ze,{className:"w-7 h-7 text-white"}):e.jsx(wn,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-bold text-gray-900",children:"Two-Factor Auth"}),e.jsx("p",{className:"text-sm text-gray-600",children:u.twoFactorEnabled?"Extra protection active":"Recommended for security"})]})]}),e.jsx(B,{size:"sm",className:u.twoFactorEnabled?"bg-red-500 hover:bg-red-600 text-white":"bg-green-600 hover:bg-green-700 text-white",onClick:()=>m({twoFactorEnabled:!u.twoFactorEnabled}),children:u.twoFactorEnabled?"Disable":"Enable"})]})]})})]})]}),e.jsx("div",{className:"xl:col-span-2 space-y-8",children:e.jsxs(re,{className:"bg-white shadow-lg border border-gray-100",children:[e.jsx(st,{className:"border-b border-gray-100",children:e.jsxs(at,{className:"text-2xl text-gray-900 flex items-center",children:[e.jsx(bs,{className:"w-6 h-6 mr-3 text-purple-600"}),"Quick Actions"]})}),e.jsxs(ne,{className:"p-8 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(B,{className:"justify-start bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white h-14 shadow-md",onClick:()=>U(!0),children:[e.jsx(qa,{className:"w-6 h-6 mr-3"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold",children:"Subscription"}),e.jsx("div",{className:"text-xs opacity-90",children:"Manage your plan"})]})]}),e.jsxs(B,{variant:"outline",className:"justify-start border-2 hover:bg-blue-50 h-14",onClick:()=>o("/trips"),children:[e.jsx(de,{className:"w-6 h-6 mr-3 text-blue-600"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold",children:"My Trips"}),e.jsx("div",{className:"text-xs text-gray-500",children:"View & manage"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(B,{variant:"outline",className:"justify-start border-2 hover:bg-green-50 h-14",onClick:()=>o("/discovery"),children:[e.jsx(dt,{className:"w-6 h-6 mr-3 text-green-600"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold",children:"Saved Places"}),e.jsxs("div",{className:"text-xs text-gray-500",children:[A.placesVisited," places"]})]})]}),e.jsxs(B,{variant:"outline",className:"justify-start border-2 hover:bg-yellow-50 h-14",onClick:()=>o("/community"),children:[e.jsx(jl,{className:"w-6 h-6 mr-3 text-yellow-600"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold",children:"Messages"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Coming soon"})]})]})]}),(n.activeRole==="merchant"||n.role==="merchant")&&e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Business Tools"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(B,{variant:"outline",className:"justify-start h-12",onClick:()=>o("/deals/create"),children:[e.jsx(cs,{className:"w-5 h-5 mr-3 text-purple-600"}),"Create Deal"]}),e.jsxs(B,{variant:"outline",className:"justify-start h-12",children:[e.jsx(Wy,{className:"w-5 h-5 mr-3 text-blue-600"}),"Business Profile"]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200 space-y-3",children:[e.jsxs(B,{variant:"outline",className:"w-full justify-start border-2 hover:bg-gray-50",onClick:()=>o("/role-selection"),children:[e.jsx(ev,{className:"w-5 h-5 mr-3"}),"Switch Role"]}),e.jsxs(B,{variant:"outline",className:"w-full justify-start border-2 hover:bg-gray-50",onClick:()=>De(!0),children:[e.jsx(sa,{className:"w-5 h-5 mr-3"}),"Privacy Settings"]}),e.jsxs(B,{variant:"outline",className:"w-full justify-start border-2 hover:bg-gray-50",onClick:()=>me(!0),children:[e.jsx(mr,{className:"w-5 h-5 mr-3"}),"Notifications"]}),e.jsxs(B,{variant:"outline",className:"w-full justify-start border-2 hover:bg-blue-50",onClick:async()=>{const F={user:n,stats:A,preferences:k,socialLinks:T},je=new Blob([JSON.stringify(F,null,2)],{type:"application/json"}),Z=URL.createObjectURL(je),le=document.createElement("a");le.href=Z,le.download=`travelbuddy-data-${n.username}.json`,le.click()},children:[e.jsx(bu,{className:"w-5 h-5 mr-3"}),"Export My Data"]}),e.jsxs(B,{variant:"outline",className:"w-full justify-start border-2 border-red-200 text-red-600 hover:bg-red-50",onClick:()=>R(!0),children:[e.jsx(wn,{className:"w-5 h-5 mr-3"}),"Delete Account"]}),n.isAdmin&&e.jsxs(B,{variant:"outline",className:"w-full justify-start border-2 border-purple-200 text-purple-700 hover:bg-purple-50",onClick:()=>window.location.href="/admin",children:[e.jsx(sa,{className:"w-5 h-5 mr-3"}),"Admin Panel"]}),e.jsxs(B,{variant:"outline",className:"w-full justify-start border-2 border-red-200 text-red-600 hover:bg-red-50 hover:border-red-300",onClick:i,children:[e.jsx(rp,{className:"w-5 h-5 mr-3"}),"Logout"]})]})]})]})})]})]}),e.jsx(_1,{isOpen:b,onClose:()=>U(!1)}),z&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-red-600 mb-4",children:"Delete Account?"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"This action cannot be undone. All your data will be permanently deleted."}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(B,{variant:"outline",onClick:()=>R(!1),className:"flex-1",children:"Cancel"}),e.jsx(B,{className:"flex-1 bg-red-600 hover:bg-red-700 text-white",onClick:async()=>{if(confirm("Type DELETE to confirm")){const F=localStorage.getItem("token")||localStorage.getItem("demo_token"),je={};F&&(je.Authorization=`Bearer ${F}`),await fetch(`${ee}/api/users/profile`,{method:"DELETE",headers:je}),i()}},children:"Delete Forever"})]})]})}),se&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Privacy Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Profile Visibility"}),e.jsxs("select",{value:te.profileVisibility,onChange:F=>G({...te,profileVisibility:F.target.value}),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"public",children:"Public"}),e.jsx("option",{value:"private",children:"Private"}),e.jsx("option",{value:"friends",children:"Friends Only"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:te.hideTravel,onChange:F=>G({...te,hideTravel:F.target.checked}),className:"w-5 h-5"}),e.jsx("span",{children:"Hide Travel History"})]}),e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:te.hideActivity,onChange:F=>G({...te,hideActivity:F.target.checked}),className:"w-5 h-5"}),e.jsx("span",{children:"Hide Activity"})]})]}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsx(B,{variant:"outline",onClick:()=>De(!1),className:"flex-1",children:"Cancel"}),e.jsx(B,{className:"flex-1",onClick:async()=>{await fetch(`${ee}/api/users/privacy`,{method:"PUT",headers:{"Content-Type":"application/json","x-user-id":n.id},body:JSON.stringify(te)}),De(!1)},children:"Save"})]})]})}),Se&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Notification Preferences"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Email Notifications"}),e.jsx("input",{type:"checkbox",checked:S.email,onChange:F=>H({...S,email:F.target.checked}),className:"w-5 h-5"})]}),e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Push Notifications"}),e.jsx("input",{type:"checkbox",checked:S.push,onChange:F=>H({...S,push:F.target.checked}),className:"w-5 h-5"})]}),e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Trip Updates"}),e.jsx("input",{type:"checkbox",checked:S.trips,onChange:F=>H({...S,trips:F.target.checked}),className:"w-5 h-5"})]}),e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Deals & Offers"}),e.jsx("input",{type:"checkbox",checked:S.deals,onChange:F=>H({...S,deals:F.target.checked}),className:"w-5 h-5"})]}),e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Community Alerts"}),e.jsx("input",{type:"checkbox",checked:S.community,onChange:F=>H({...S,community:F.target.checked}),className:"w-5 h-5"})]})]}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsx(B,{variant:"outline",onClick:()=>me(!1),className:"flex-1",children:"Cancel"}),e.jsx(B,{className:"flex-1",onClick:async()=>{await fetch(`${ee}/api/users/notifications`,{method:"PUT",headers:{"Content-Type":"application/json","x-user-id":n.id},body:JSON.stringify(S)}),me(!1)},children:"Save"})]})]})})]})},M1=["restaurants in Colombo","hotels in Kandy","things to do in Ella","beaches in Galle","temples in Anuradhapura","tea estates in Nuwara Eliya"],z1=({onSearch:n,placeholder:l="Where do you want to go? (e.g., Kandy, Ella, Galle)",showSuggestions:i=!0})=>{const[o,u]=j.useState(""),[m,x]=j.useState(!1),[f,g]=j.useState(!1),[w]=j.useState(["restaurants in Colombo","hotels in Kandy"]),v=j.useRef(null),y=j.useRef(null),b=async N=>{if(N.preventDefault(),o.trim()&&!m){x(!0);try{await n(o.trim())}finally{x(!1)}}},U=()=>{u(""),v.current?.focus()},A=N=>{u(N),g(!1),n(N)};return j.useEffect(()=>{const N=M=>{y.current&&!y.current.contains(M.target)&&g(!1)};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]),e.jsxs("form",{onSubmit:b,className:"relative",children:[e.jsxs("div",{className:"relative",children:[e.jsx(wt,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{ref:v,type:"text",value:o,onChange:N=>u(N.target.value),onFocus:()=>i&&g(!0),placeholder:l,disabled:m,className:"w-full pl-12 pr-20 py-4 text-lg border-2 border-gray-200 rounded-2xl focus:border-teal-500 focus:outline-none bg-white shadow-lg text-gray-800 placeholder-gray-500 disabled:opacity-50"}),o&&e.jsx("button",{type:"button",onClick:U,className:"absolute right-20 top-1/2 transform -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ht,{className:"w-4 h-4"})}),e.jsxs("button",{type:"submit",disabled:!o.trim()||m,className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-teal-500 text-white px-6 py-2 rounded-xl hover:bg-teal-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[m&&e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),m?"Searching...":"Search"]})]}),i&&f&&e.jsxs("div",{ref:y,className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl border border-gray-200 z-50 max-h-80 overflow-y-auto",children:[w.length>0&&e.jsxs("div",{className:"p-4 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-2",children:[e.jsx(lt,{className:"w-4 h-4 mr-1"}),"Recent Searches"]}),w.map((N,M)=>e.jsx("button",{onClick:()=>A(N),className:"block w-full text-left px-2 py-1 text-sm text-gray-700 hover:bg-gray-50 rounded",children:N},M))]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-2",children:[e.jsx(cs,{className:"w-4 h-4 mr-1"}),"Trending in Sri Lanka"]}),e.jsx("div",{className:"grid grid-cols-1 gap-1",children:M1.slice(0,6).map((N,M)=>e.jsxs("button",{onClick:()=>A(N),className:"text-left px-2 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded flex items-center",children:[e.jsx(wt,{className:"w-3 h-3 mr-2 text-gray-400"}),N]},M))})]})]})]})},pl=({className:n="",variant:l="rectangular",width:i,height:o})=>{const u="animate-pulse bg-gray-200",m={text:"rounded",circular:"rounded-full",rectangular:"rounded-lg"},x={width:i||"100%",height:o||(l==="text"?"1rem":"100%")};return e.jsx("div",{className:`${u} ${m[l]} ${n}`,style:x})},U1=()=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[e.jsx(pl,{className:"w-full h-48"}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsx(pl,{className:"h-6 w-3/4"}),e.jsx(pl,{className:"h-4 w-1/2"}),e.jsx(pl,{className:"h-4 w-full"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(pl,{className:"h-6 w-16"}),e.jsx(pl,{className:"h-6 w-20"})]}),e.jsx(pl,{className:"h-10 w-full"})]})]}),L1=({title:n,message:l,actionLabel:i,onAction:o,icon:u})=>e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"text-gray-500",children:[u&&e.jsx("div",{className:"mb-4",children:u}),e.jsx("h3",{className:"text-xl font-medium mb-2",children:n}),e.jsx("p",{className:"mb-6",children:l}),i&&o&&e.jsx(B,{onClick:o,variant:"outline",children:i})]})}),I1=[{id:"restaurant",label:"Restaurants",icon:""},{id:"hotel",label:"Hotels",icon:""},{id:"attraction",label:"Attractions",icon:""},{id:"temple",label:"Temples",icon:""},{id:"beach",label:"Beaches",icon:""},{id:"nature",label:"Nature",icon:""}],B1=[{id:"$",label:"Budget (LKR 1,000-3,000)",value:"$"},{id:"$$",label:"Mid-range (LKR 3,000-8,000)",value:"$$"},{id:"$$$",label:"Premium (LKR 8,000+)",value:"$$$"}],P1=({onFiltersChange:n,isOpen:l,onClose:i})=>{const[o,u]=j.useState({category:[],priceRange:[],rating:0,location:"",openNow:!1,radius:5e3}),m=y=>{const b=o.category.includes(y)?o.category.filter(A=>A!==y):[...o.category,y],U={...o,category:b};u(U),n(U)},x=y=>{const b=o.priceRange.includes(y)?o.priceRange.filter(A=>A!==y):[...o.priceRange,y],U={...o,priceRange:b};u(U),n(U)},f=()=>{const y={category:[],priceRange:[],rating:0,location:"",openNow:!1,radius:5e3};u(y),n(y)},g=y=>{const b={...o,rating:y};u(b),n(b)},w=()=>{const y={...o,openNow:!o.openNow};u(y),n(y)},v=y=>{const b={...o,radius:y};u(b),n(b)};return l?e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end sm:items-center justify-center",children:e.jsxs("div",{className:"bg-white w-full sm:w-96 sm:rounded-xl p-6 max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(Mn,{className:"w-5 h-5 mr-2"}),"Filters"]}),e.jsx("button",{onClick:i,className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(ht,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Categories"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:I1.map(y=>e.jsxs("button",{onClick:()=>m(y.id),className:`p-3 rounded-lg border text-sm flex items-center justify-center transition-colors ${o.category.includes(y.id)?"bg-blue-50 border-blue-200 text-blue-700":"border-gray-200 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"mr-2",children:y.icon}),y.label]},y.id))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Price Range"}),e.jsx("div",{className:"space-y-2",children:B1.map(y=>e.jsx("button",{onClick:()=>x(y.value),className:`w-full p-3 rounded-lg border text-sm text-left transition-colors ${o.priceRange.includes(y.value)?"bg-green-50 border-green-200 text-green-700":"border-gray-200 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:y.label}),e.jsx("span",{className:"font-medium",children:y.value})]})},y.id))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Minimum Rating"}),e.jsx("div",{className:"flex space-x-2",children:[3,4,4.5].map(y=>e.jsxs("button",{onClick:()=>g(y),className:`px-3 py-2 rounded-lg border text-sm flex items-center transition-colors ${o.rating===y?"bg-yellow-50 border-yellow-200 text-yellow-700":"border-gray-200 hover:bg-gray-50"}`,children:[e.jsx(_e,{className:"w-4 h-4 mr-1 fill-current"}),y,"+"]},y))})]}),e.jsx("div",{className:"mb-6",children:e.jsx("button",{onClick:w,className:`w-full p-4 rounded-lg border text-left transition-colors ${o.openNow?"bg-green-50 border-green-200":"border-gray-200 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(lt,{className:`w-5 h-5 mr-3 ${o.openNow?"text-green-600":"text-gray-400"}`}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Open Now"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Show only places currently open"})]})]}),e.jsx("div",{className:`w-12 h-6 rounded-full transition-colors ${o.openNow?"bg-green-500":"bg-gray-300"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform ${o.openNow?"translate-x-6":"translate-x-0.5"} mt-0.5`})})]})})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"font-medium flex items-center",children:[e.jsx(aa,{className:"w-4 h-4 mr-2"}),"Search Radius"]}),e.jsx("span",{className:"text-sm font-semibold text-blue-600",children:o.radius>=1e3?`${(o.radius/1e3).toFixed(0)} km`:`${o.radius} m`})]}),e.jsx("input",{type:"range",min:"1000",max:"50000",step:"1000",value:o.radius,onChange:y=>v(Number(y.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-600"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"1 km"}),e.jsx("span",{children:"25 km"}),e.jsx("span",{children:"50 km"})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(B,{onClick:f,variant:"outline",className:"flex-1",children:"Clear All"}),e.jsx(B,{onClick:i,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"Apply Filters"})]})]})}):null},du=new Map,q1=600*1e3;let cr={places:[],query:"",context:""};const ep=()=>{const n=At(),[l,i]=j.useState(cr.places),[o,u]=j.useState(!1),[m,x]=j.useState(!1),[f,g]=j.useState(cr.query),[w,v]=j.useState(cr.context),[y,b]=j.useState(cr.places.length>0),[U,A]=j.useState([]),[N,M]=j.useState(!1),[E,$]=j.useState({category:[],priceRange:[],rating:0,location:"",openNow:!1,radius:5e3}),[D,K]=j.useState(!1),[q,ee]=j.useState([]),Y=G=>{let S=[...G];return E.category.length>0&&(S=S.filter(H=>E.category.includes(H.category.toLowerCase()))),E.priceRange.length>0&&(S=S.filter(H=>E.priceRange.includes(H.priceLevel))),E.rating>0&&(S=S.filter(H=>H.rating>=E.rating)),E.openNow&&(S=S.filter(H=>{const z=new Date().getHours();return z>=9&&z<=22})),S},T=async(G,S=!0)=>{if(!G.trim())return;const H=G.toLowerCase().trim();if(S){u(!0),g(G);const z=du.get(H);if(z&&Date.now()-z.timestamp<q1){console.log(" Using cached results for:",G);const R=z.data;i(R),ee(Y(R)),v(z.context),b(!0),u(!1),cr={places:R,query:G,context:z.context};return}i([]),ee([])}else x(!0);try{console.log(" Fetching new results for:",G);const z=await i0.searchPlaces(G,{limit:8});if(S){const R=z||[],se=`AI-powered results for "${G}"`;i(R),ee(Y(R)),v(se),du.set(H,{data:R,timestamp:Date.now(),context:se}),cr={places:R,query:G,context:se}}else{const R=[...l,...z||[]];i(R),ee(Y(R))}b(!0)}catch(z){console.error("Search failed:",z),S&&(i([]),ee([]),v("Search failed. Please try again."))}finally{u(!1),x(!1)}},ae=()=>{f&&!m&&T(f,!1)},pe=G=>({restaurant:"bg-orange-100 text-orange-800",hotel:"bg-blue-100 text-blue-800",attraction:"bg-purple-100 text-purple-800",museum:"bg-green-100 text-green-800",cafe:"bg-yellow-100 text-yellow-800",shopping:"bg-pink-100 text-pink-800",park:"bg-emerald-100 text-emerald-800"})[G]||"bg-gray-100 text-gray-800",ze=G=>({$:"text-green-600",$$:"text-yellow-600",$$$:"text-orange-600",$$$$:"text-red-600"})[G]||"text-gray-600",k=G=>{console.log(" Toggling place selection:",G.name),A(S=>{const H=S.some(z=>z.id===G.id);return console.log(" Current selection state:",H?"selected":"not selected"),H?(console.log(" Removing from selection"),S.filter(z=>z.id!==G.id)):(console.log(" Adding to selection"),[...S,G])})},J=G=>U.some(S=>S.id===G.id),te=()=>{U.length!==0&&(sessionStorage.setItem("selectedPlaces",JSON.stringify(U)),n("/trips"))};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 text-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(tt,{className:"h-8 w-8 mr-3"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"Discover Your Next Adventure"})]}),e.jsx("p",{className:"text-xl md:text-2xl mb-8 text-blue-100 max-w-3xl mx-auto",children:"AI-powered travel discovery. Find amazing places, hidden gems, and perfect experiences tailored just for you."}),e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx(z1,{onSearch:T}),e.jsx("p",{className:"text-sm text-blue-200 mt-2",children:'Try: "restaurants in Tokyo", "museums in Paris", "hotels in New York"'})]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-100 py-6",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Explore by Country:"}),e.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onChange:G=>G.target.value&&T(`best places in ${G.target.value}`,!0),defaultValue:"",children:[e.jsx("option",{value:"",children:"Select a country"}),e.jsx("option",{value:"Japan",children:" Japan"}),e.jsx("option",{value:"France",children:" France"}),e.jsx("option",{value:"Italy",children:" Italy"}),e.jsx("option",{value:"Thailand",children:" Thailand"}),e.jsx("option",{value:"United States",children:" United States"}),e.jsx("option",{value:"United Kingdom",children:" United Kingdom"}),e.jsx("option",{value:"Spain",children:" Spain"}),e.jsx("option",{value:"Germany",children:" Germany"}),e.jsx("option",{value:"Australia",children:" Australia"}),e.jsx("option",{value:"Canada",children:" Canada"}),e.jsx("option",{value:"India",children:" India"}),e.jsx("option",{value:"China",children:" China"}),e.jsx("option",{value:"Brazil",children:" Brazil"}),e.jsx("option",{value:"Mexico",children:" Mexico"}),e.jsx("option",{value:"Sri Lanka",children:" Sri Lanka"})]})]}),e.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:[{label:" Asia",query:"attractions in Asia"},{label:" Europe",query:"attractions in Europe"},{label:" Americas",query:"attractions in Americas"},{label:" Islands",query:"tropical islands destinations"},{label:" Mountains",query:"mountain destinations"},{label:" Culture",query:"cultural attractions museums"}].map(G=>e.jsx(B,{variant:"outline",size:"sm",onClick:()=>T(G.query,!0),className:"border-gray-300 text-gray-700 hover:bg-blue-50 hover:border-blue-300 hover:text-blue-700 transition-colors",children:G.label},G.label))})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[o&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-center py-8",children:e.jsxs("div",{className:"inline-flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"}),e.jsx("span",{className:"text-lg text-gray-600",children:"AI is discovering amazing places for you..."})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:8}).map((G,S)=>e.jsx(U1,{},S))})]}),w&&!o&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(cs,{className:"h-5 w-5 text-blue-600 mr-2"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Discovery Results"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(B,{onClick:()=>M(!0),variant:"outline",size:"sm",className:"flex items-center",children:[e.jsx(aa,{className:"h-4 w-4 mr-2"}),"Filters",(E.category.length>0||E.priceRange.length>0||E.rating>0||E.openNow)&&e.jsx("span",{className:"ml-2 bg-blue-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:E.category.length+E.priceRange.length+(E.rating>0?1:0)+(E.openNow?1:0)})]}),e.jsxs(B,{onClick:()=>K(!D),variant:"outline",size:"sm",className:"flex items-center",children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),D?"Hide Map":"Show Map"]}),U.length>0&&e.jsxs(B,{onClick:te,className:"bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700 text-white",children:[e.jsx(Fa,{className:"h-4 w-4 mr-2"}),"Generate Trip (",U.length,")"]})]})]}),e.jsx("p",{className:"text-gray-600",children:w}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Found ",l.length," places",q.length<l.length&&`  Showing ${q.length} after filters`,"  Semantic AI Search",du.has(f.toLowerCase().trim())&&"  Cached",U.length>0&&`  ${U.length} selected for trip`]})]}),l.length>0&&!o&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:(q.length>0?q:l).map(G=>e.jsxs(re,{className:"overflow-hidden hover:shadow-xl transition-all duration-300 hover:scale-105 hover:-translate-y-1 group",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"relative w-full h-48 bg-gray-200 overflow-hidden",children:[e.jsx("img",{src:G.image||`https://source.unsplash.com/800x600/?${encodeURIComponent(G.name)},${encodeURIComponent(G.category)},${encodeURIComponent(G.location.city)}`,alt:G.name,className:"w-full h-48 object-cover transition-all duration-300 hover:scale-105",loading:"lazy",onLoad:S=>{const H=S.target;H.style.opacity="1";const z=H.parentElement?.querySelector(".image-loader");z&&z.classList.add("hidden")},onError:S=>{const H=S.target,z=H.parentElement?.querySelector(".image-loader");if(z&&z.classList.add("hidden"),!H.src.includes("source.unsplash.com"))H.src=`https://source.unsplash.com/800x600/?${encodeURIComponent(G.category)},${encodeURIComponent(G.location.country)},travel`;else if(!H.src.includes("picsum.photos"))H.src=`https://picsum.photos/seed/${Math.abs(G.name.split("").reduce((R,se)=>(R=(R<<5)-R+se.charCodeAt(0),R&R),0))}/800/600`;else{H.style.display="none";const R=H.parentElement?.querySelector(".image-placeholder");R&&R.classList.remove("hidden")}},style:{opacity:0}}),e.jsx("div",{className:"image-loader absolute inset-0 flex items-center justify-center bg-gray-100",children:e.jsx("div",{className:"animate-pulse flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full animate-bounce"})})}),e.jsx("div",{className:"image-placeholder hidden absolute inset-0 flex items-center justify-center bg-gradient-to-br from-blue-100 to-purple-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx(de,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:G.category}),e.jsx("p",{className:"text-xs text-gray-400",children:G.name})]})})]}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx(ea,{className:pe(G.category),children:G.category})}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsxs(ea,{className:"bg-white text-gray-800",children:[e.jsx(_e,{className:"h-3 w-3 mr-1 fill-current text-yellow-500"}),G.rating]})})]}),e.jsxs(ne,{className:"p-4",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-1",children:G.name}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[e.jsx(de,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:[G.location.city,", ",G.location.country]}),e.jsx("span",{className:`ml-2 font-semibold ${ze(G.priceLevel)}`,children:G.priceLevel})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-3",children:G.description}),e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:G.highlights.slice(0,3).map((S,H)=>e.jsx(ea,{variant:"outline",className:"text-xs",children:S},H))})}),e.jsxs("div",{className:"space-y-2 text-xs text-gray-500",children:[G.openHours&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(lt,{className:"h-3 w-3 mr-1"}),e.jsx("span",{children:G.openHours})]}),G.contact?.phone&&G.contact.phone!=="Not available"&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(vs,{className:"h-3 w-3 mr-1"}),e.jsx("span",{children:G.contact.phone})]}),G.contact?.website&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(gs,{className:"h-3 w-3 mr-1"}),e.jsx("a",{href:G.contact.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Visit Website"})]})]}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(B,{size:"sm",variant:J(G)?"default":"outline",className:`flex-1 ${J(G)?"bg-blue-600 text-white hover:bg-blue-700":"border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white"}`,onClick:()=>k(G),children:J(G)?e.jsxs(e.Fragment,{children:[e.jsx(On,{className:"h-3 w-3 mr-1"}),"Selected"]}):e.jsxs(e.Fragment,{children:[e.jsx(br,{className:"h-3 w-3 mr-1"}),"Select"]})}),e.jsx(B,{size:"sm",variant:"outline",className:"flex-1 border-purple-600 text-purple-600 hover:bg-purple-600 hover:text-white",children:"Save"})]}),e.jsxs(B,{size:"sm",className:"w-full bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700 text-white border-none",onClick:()=>n(`/places/${G.id}`,{state:{placeData:G}}),children:[e.jsx(tt,{className:"h-3 w-3 mr-1"}),"More Details"]})]})]})]},G.id))}),l.length>0&&e.jsxs("div",{className:"text-center mt-8 space-y-4",children:[U.length>0&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900",children:"Selected Places for Trip"}),e.jsxs("p",{className:"text-sm text-blue-700",children:[U.length," place",U.length!==1?"s":""," selected"]})]}),e.jsxs(B,{onClick:te,className:"bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700 text-white",children:[e.jsx(Fa,{className:"h-4 w-4 mr-2"}),"Generate Trip"]})]}),e.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:U.map(G=>e.jsx(ea,{className:"bg-blue-100 text-blue-800",children:G.name},G.id))})]}),e.jsx(B,{onClick:ae,disabled:m,className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white border-none",children:m?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Loading More..."]}):e.jsxs(e.Fragment,{children:[e.jsx(tt,{className:"h-4 w-4 mr-2"}),"Explore More Places"]})}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Showing ",l.length," places  Click to discover more"]})]})]}),!o&&l.length===0&&f&&e.jsx(L1,{title:"No results found",message:"Try a different search term or check your spelling",actionLabel:"Try Popular Searches",onAction:()=>T("restaurants in Tokyo",!0),icon:e.jsx(tt,{className:"h-8 w-8 text-gray-400"})}),!o&&l.length===0&&!f&&e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"text-gray-500",children:[e.jsx(tt,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-xl font-medium mb-2",children:"Ready to Discover?"}),e.jsx("p",{className:"mb-6",children:"Use the search bar above to find amazing places, then select them to generate a custom trip"}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:["restaurants in Colombo","temples in Kandy","hotels in Galle","beaches in Mirissa"].map(G=>e.jsx(B,{variant:"outline",size:"sm",onClick:()=>T(G,!0),children:G},G))})]})})]}),e.jsx(P1,{isOpen:N,onClose:()=>{M(!1),ee(Y(l))},onFiltersChange:G=>{$(G),ee(Y(l))}})]})},N0=()=>{const{placeId:n}=Ru(),l=At(),o=_o().state?.placeData,[u,m]=j.useState(null),[x,f]=j.useState(!o),[g,w]=j.useState(0),[v,y]=j.useState(!1);j.useEffect(()=>{if(o){const N=[o.image,`https://source.unsplash.com/1200x800/?${encodeURIComponent(o.name)},interior`,`https://source.unsplash.com/1200x800/?${encodeURIComponent(o.name)},exterior`,`https://source.unsplash.com/1200x800/?${encodeURIComponent(o.category)},${encodeURIComponent(o.location.city)}`,`https://source.unsplash.com/1200x800/?${encodeURIComponent(o.name)},architecture`,`https://source.unsplash.com/1200x800/?${encodeURIComponent(o.category)},travel`],M={id:o.id,name:o.name,description:{short:o.description,full:o.description,highlights:o.highlights||[]},images:{hero:o.image,gallery:N,count:N.length},rating:{overall:o.rating,count:100},category:o.category,priceLevel:o.priceLevel,pricing:{currency:"USD",tickets:[]},location:o.location,hours:{schedule:{},isOpen:!0,nextClose:o.openHours||"Hours vary"},contact:o.contact,tips:[],tags:o.tags||[],similarPlaces:[]};m(M),f(!1)}else n&&b(n)},[n,o]);const b=async N=>{f(!0);try{const M=o?.name,E=o?.location?.address||`${o?.location?.city}, ${o?.location?.country}`,$=o?.category,D=await i0.getPlaceDetails(N,M,E,$);D&&m(D)}catch(M){console.error("Failed to load place details:",M)}finally{f(!1)}},U=()=>{u&&w(N=>(N+1)%u.images.gallery.length)},A=()=>{u&&w(N=>(N-1+u.images.gallery.length)%u.images.gallery.length)};return x?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:o?"Loading enhanced details...":"Loading place details..."})]})}):u?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(B,{variant:"outline",onClick:()=>l(-1),className:"flex items-center",children:[e.jsx(vo,{className:"h-4 w-4 mr-2"}),"Back"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(B,{variant:"outline",size:"sm",children:[e.jsx(jo,{className:"h-4 w-4 mr-2"}),"Share"]}),e.jsxs(B,{variant:"outline",size:"sm",children:[e.jsx(dt,{className:"h-4 w-4 mr-2"}),"Save"]})]})]})})}),e.jsxs("div",{className:"relative h-96 overflow-hidden bg-gray-200",children:[e.jsx("img",{src:u.images.hero||`https://source.unsplash.com/1200x800/?${encodeURIComponent(u.name)},${encodeURIComponent(u.location.city)}`,alt:u.name,className:"w-full h-full object-cover transition-all duration-500",loading:"eager",onLoad:N=>{const M=N.target;M.style.opacity="1";const E=M.parentElement?.querySelector(".hero-loader");E&&E.classList.add("hidden")},onError:N=>{const M=N.target,E=M.parentElement?.querySelector(".hero-loader");if(E&&E.classList.add("hidden"),!M.src.includes("source.unsplash.com"))M.src=`https://source.unsplash.com/1200x800/?${encodeURIComponent(u.name)},travel,landmark`;else if(!M.src.includes("picsum.photos"))M.src=`https://picsum.photos/seed/${Math.abs(u.name.split("").reduce(($,D)=>($=($<<5)-$+D.charCodeAt(0),$&$),0))}/1200/800`;else{M.style.display="none";const $=M.parentElement?.querySelector(".hero-placeholder");$&&$.classList.remove("hidden")}},style:{opacity:0}}),e.jsx("div",{className:"hero-loader absolute inset-0 flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-pulse w-16 h-16 bg-gray-300 rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Loading image..."})]})}),e.jsx("div",{className:"hero-placeholder hidden absolute inset-0 flex items-center justify-center bg-gradient-to-br from-blue-200 to-purple-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx(de,{className:"h-24 w-24 text-gray-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-600",children:u.name}),e.jsx("p",{className:"text-gray-500",children:u.location.city})]})}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30"}),e.jsx("div",{className:"absolute bottom-4 right-4",children:e.jsxs(B,{onClick:()=>y(!0),className:"bg-white text-gray-900 hover:bg-gray-100",children:[e.jsx(Ha,{className:"h-4 w-4 mr-2"}),"View Gallery (",u.images.count,")"]})})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:u.name}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(_e,{className:"h-5 w-5 text-yellow-400 fill-current mr-1"}),e.jsx("span",{className:"font-semibold",children:u.rating.overall}),e.jsxs("span",{className:"text-gray-600 ml-1",children:["(",u.rating.count.toLocaleString()," reviews)"]})]}),e.jsx(ea,{className:"bg-blue-100 text-blue-800",children:u.category}),e.jsx("span",{className:"text-lg font-semibold text-green-600",children:u.priceLevel})]}),e.jsxs("div",{className:"flex items-center text-gray-600 mb-6",children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:u.location.address})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(B,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:[e.jsx(aa,{className:"h-4 w-4 mr-2"}),"Get Directions"]}),e.jsxs(B,{variant:"outline",children:[e.jsx(kt,{className:"h-4 w-4 mr-2"}),"Plan Visit"]}),e.jsxs(B,{variant:"outline",children:[e.jsx(vs,{className:"h-4 w-4 mr-2"}),"Call"]}),e.jsxs(B,{variant:"outline",children:[e.jsx(gs,{className:"h-4 w-4 mr-2"}),"Website"]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Photos"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:u.images.gallery.slice(0,6).map((N,M)=>e.jsxs("div",{className:"relative aspect-video rounded-lg overflow-hidden cursor-pointer hover:scale-105 transition-all duration-300 bg-gray-200",onClick:()=>{w(M),y(!0)},children:[e.jsx("img",{src:N,alt:`${u.name} photo ${M+1}`,className:"w-full h-full object-cover transition-opacity duration-300",loading:"lazy",onLoad:E=>{const $=E.target;$.style.opacity="1";const D=$.parentElement?.querySelector(".gallery-loader");D&&D.classList.add("hidden")},onError:E=>{const $=E.target,D=$.parentElement?.querySelector(".gallery-loader");D&&D.classList.add("hidden"),$.src.includes("source.unsplash.com")?$.src=`https://picsum.photos/seed/${encodeURIComponent(u.id+M)}/600/400`:$.src=`https://source.unsplash.com/600x400/?${encodeURIComponent(u.name)},travel,photo${M}`},style:{opacity:0}}),e.jsx("div",{className:"gallery-loader absolute inset-0 flex items-center justify-center bg-gray-100",children:e.jsx("div",{className:"animate-pulse w-8 h-8 bg-gray-300 rounded-full"})})]},M))}),e.jsxs(B,{variant:"outline",className:"mt-4",onClick:()=>y(!0),children:["View All ",u.images.count," Photos"]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"About"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:u.description.full})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Highlights"}),e.jsx("ul",{className:"space-y-2",children:u.description.highlights.map((N,M)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-600 mr-2",children:""}),e.jsx("span",{className:"text-gray-700",children:N})]},M))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Tips & Recommendations"}),e.jsx("div",{className:"space-y-3",children:u.tips.map((N,M)=>e.jsxs("div",{className:"flex items-start bg-blue-50 p-3 rounded-lg",children:[e.jsx(av,{className:"h-5 w-5 text-blue-600 mr-3 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:N})]},M))})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(re,{children:e.jsxs(ne,{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"Quick Info"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(lt,{className:"h-4 w-4 text-gray-600 mr-3"}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[u.hours.isOpen?"Open":"Closed","  Closes ",u.hours.nextClose]}),e.jsx("div",{className:"text-sm text-gray-600",children:"See all hours"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(js,{className:"h-4 w-4 text-gray-600 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:u.priceLevel}),e.jsx("div",{className:"text-sm text-gray-600",children:"Price level"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(St,{className:"h-4 w-4 text-gray-600 mr-3"}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[u.rating.count.toLocaleString()," reviews"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"User reviews"})]})]})]})]})}),e.jsx(re,{children:e.jsxs(ne,{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"Pricing"}),e.jsx("div",{className:"space-y-3",children:u.pricing.tickets.map((N,M)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-700",children:N.type}),e.jsxs("span",{className:"font-semibold",children:[u.pricing.currency," ",N.price]})]},M))})]})}),e.jsx(re,{children:e.jsxs(ne,{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"Contact"}),e.jsxs("div",{className:"space-y-3",children:[u.contact.phone&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(vs,{className:"h-4 w-4 text-gray-600 mr-3"}),e.jsx("a",{href:`tel:${u.contact.phone}`,className:"text-blue-600 hover:underline",children:u.contact.phone})]}),u.contact.website&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(gs,{className:"h-4 w-4 text-gray-600 mr-3"}),e.jsx("a",{href:u.contact.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Visit Website"})]})]})]})}),e.jsx(re,{children:e.jsxs(ne,{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"Location"}),e.jsx("div",{className:"aspect-video bg-gray-200 rounded-lg mb-4 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-600",children:"Interactive Map"})}),e.jsxs(B,{className:"w-full",onClick:()=>{const{lat:N,lng:M}=u.location.coordinates;window.open(`https://www.google.com/maps?q=${N},${M}`,"_blank")},children:[e.jsx(aa,{className:"h-4 w-4 mr-2"}),"Get Directions"]})]})})]})]}),e.jsxs("div",{className:"mt-12",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"You might also like"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.similarPlaces.map(N=>e.jsxs(re,{className:"overflow-hidden hover:shadow-lg transition-all duration-300 hover:scale-105 cursor-pointer",children:[e.jsxs("div",{className:"relative h-48 bg-gray-200",children:[e.jsx("img",{src:N.image,alt:N.name,className:"w-full h-48 object-cover transition-opacity duration-300",loading:"lazy",onLoad:M=>{const E=M.target;E.style.opacity="1";const $=E.parentElement?.querySelector(".similar-loader");$&&$.classList.add("hidden")},onError:M=>{const E=M.target,$=E.parentElement?.querySelector(".similar-loader");$&&$.classList.add("hidden"),E.src=`https://source.unsplash.com/400x300/?${encodeURIComponent(N.name)},${encodeURIComponent(N.category)}`},style:{opacity:0}}),e.jsx("div",{className:"similar-loader absolute inset-0 flex items-center justify-center bg-gray-100",children:e.jsx("div",{className:"animate-pulse w-6 h-6 bg-gray-300 rounded-full"})})]}),e.jsxs(ne,{className:"p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:N.name}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(_e,{className:"h-4 w-4 text-yellow-400 fill-current mr-1"}),e.jsx("span",{className:"text-sm",children:N.rating})]}),e.jsx(ea,{variant:"outline",className:"text-xs",children:N.category})]})]})]},N.id))})]})]}),v&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center",children:e.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[e.jsx("button",{onClick:()=>y(!1),className:"absolute top-4 right-4 text-white hover:text-gray-300 z-10",children:""}),e.jsx("button",{onClick:A,className:"absolute left-4 text-white hover:text-gray-300 z-10",children:e.jsx(np,{className:"h-8 w-8"})}),e.jsxs("div",{className:"relative max-w-full max-h-full flex items-center justify-center",children:[e.jsx("img",{src:u.images.gallery[g],alt:`${u.name} photo ${g+1}`,className:"max-w-full max-h-full object-contain transition-opacity duration-300",onLoad:N=>{const M=N.target;M.style.opacity="1";const E=M.parentElement?.querySelector(".modal-loader");E&&E.classList.add("hidden")},onError:N=>{const M=N.target,E=M.parentElement?.querySelector(".modal-loader");E&&E.classList.add("hidden"),M.src.includes("source.unsplash.com")?M.src=`https://picsum.photos/seed/${encodeURIComponent(u.id+g)}/1200/800`:M.src=`https://source.unsplash.com/1200x800/?${encodeURIComponent(u.name)},travel,photo${g}`},style:{opacity:0}}),e.jsx("div",{className:"modal-loader absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-white border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-white",children:"Loading image..."})]})})]}),e.jsx("button",{onClick:U,className:"absolute right-4 text-white hover:text-gray-300 z-10",children:e.jsx(Lu,{className:"h-8 w-8"})}),e.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 text-white",children:[g+1," of ",u.images.gallery.length]})]})})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Place not found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"The place you're looking for doesn't exist."}),e.jsxs(B,{onClick:()=>l(-1),children:[e.jsx(vo,{className:"h-4 w-4 mr-2"}),"Go Back"]})]})})};class H1{baseURL;constructor(){this.baseURL="http://localhost:3001"}async getAuthToken(){const l=localStorage.getItem("demo_token");if(l)return console.log(" Using demo token for authentication"),l;try{const{auth:o}=await Wu(async()=>{const{auth:u}=await Promise.resolve().then(()=>R2);return{auth:u}},void 0);if(o?.currentUser){const u=await o.currentUser.getIdToken();return console.log(" Using Firebase token for authentication"),u}}catch(o){console.log(" Firebase not available:",o.message)}const i=localStorage.getItem("auth_token");return i?(console.log(" Using fallback auth token"),i):(console.log(" No authentication token found"),null)}async getAuthHeaders(){const l={"Content-Type":"application/json"},i=await this.getAuthToken();return i&&(l.Authorization=`Bearer ${i}`),l}async request(l,i={}){const o=`${this.baseURL}/api${l}`,u=await this.getAuthHeaders(),m={headers:{...u,...i.headers},...i};console.log(` Making request to: ${o}`),console.log(" Auth headers:",Object.keys(u));const x=await fetch(o,m);if(console.log(` Response status: ${x.status} ${x.statusText}`),!x.ok){const g=await x.text();console.log(" Error response:",g);let w;try{w=JSON.parse(g)}catch{w={message:g||"Request failed"}}throw new Error(w.message||`HTTP ${x.status}: ${x.statusText}`)}const f=await x.json();return console.log(" Success response:",Array.isArray(f)?`Array with ${f.length} items`:"Object"),f}async getUserTripPlans(){try{return await this.request("/users/trip-plans")}catch(l){return console.error("Error fetching trip plans:",l),[]}}async saveTripPlan(l){try{return await this.request("/users/trip-plans",{method:"POST",body:JSON.stringify(l)})}catch(i){return console.error("Error saving trip plan:",i),null}}async updateTripPlan(l){try{return await this.request(`/users/trip-plans/${l.id}`,{method:"PUT",body:JSON.stringify(l)}),!0}catch(i){return console.error("Error updating trip plan:",i),!1}}async updateActivityStatus(l,i,o,u){try{const m=localStorage.getItem("auth_token");return await this.request(`/users/trip-plans/${l}/activities`,{method:"PATCH",headers:{Authorization:`Bearer ${m}`},body:JSON.stringify({dayIndex:i,activityIndex:o,isVisited:u,visitedDate:u?new Date().toISOString():null})}),!0}catch(m){return console.error("Error updating activity status:",m),!1}}async shareTripPlan(l){try{const i=localStorage.getItem("auth_token");return(await this.request(`/users/trip-plans/${l}/share`,{method:"POST",headers:{Authorization:`Bearer ${i}`}})).shareUrl}catch(i){return console.error("Error sharing trip plan:",i),null}}async getSharedTripPlan(l){try{return await this.request(`/shared/trip-plans/${l}`)}catch(i){return console.error("Error fetching shared trip plan:",i),null}}async generateTripPlan(l){try{const i=await this.getAuthHeaders();return await this.request("/ai/trip-generator",{method:"POST",headers:i,body:JSON.stringify(l)})}catch(i){return console.error("Error generating trip plan:",i),null}}async syncLocalPlans(l){try{const i=await this.getAuthHeaders();return await this.request("/users/trip-plans/sync",{method:"POST",headers:i,body:JSON.stringify({tripPlans:l})}),!0}catch(i){return console.error("Error syncing local plans:",i),!1}}async createTrip(l){try{const i=await this.getAuthHeaders();return await this.request("/users/trip-plans",{method:"POST",headers:i,body:JSON.stringify(l)})}catch(i){return console.error("Error creating trip plan:",i),null}}async deleteTrip(l){try{const i=await this.getAuthHeaders(),o=await this.request(`/users/trip-plans/${l}`,{method:"DELETE",headers:i});return Object.keys(localStorage).forEach(m=>{m.includes(l)&&localStorage.removeItem(m)}),o.success||!0}catch(i){return console.error("Error deleting trip plan:",i),!1}}async testConnection(){try{const l=await this.request("/users/test");return console.log(" Backend connection test successful:",l),!0}catch(l){return console.error(" Backend connection test failed:",l),!1}}async getTripById(l){try{const i=await this.getAuthHeaders();return await this.request(`/users/trip-plans/${l}`,{headers:i})}catch(i){return console.error("Error fetching trip:",i),null}}async getTrips(l){return this.getUserTripPlans()}}const ur=new H1,V1=({onTripGenerated:n,onClose:l,selectedPlaces:i=[]})=>{const{config:o}=Un(),{user:u}=Ct(),[m,x]=j.useState({destination:i.length>0?i[0].location.city+", "+i[0].location.country:"",duration:"",travelers:"1",budget:"medium",travelStyle:"balanced",interests:[],currency:"USD",startDate:"",endDate:""}),[f,g]=j.useState(!1),w=async()=>{if(!m.destination||!m.duration){alert("Please fill in destination and duration");return}g(!0);try{const b=o?.apiBaseUrl||"https://travelbuddy-b2c6hgbbgeh4esdh.eastus2-01.azurewebsites.net",U={"Content-Type":"application/json"},A=localStorage.getItem("demo_token");A&&(U.Authorization=`Bearer ${A}`),u?.id&&(U["x-user-id"]=u.id);const N=await fetch(`${b}/api/ai-trips/generate`,{method:"POST",headers:U,body:JSON.stringify({destination:m.destination,duration:m.duration,travelers:m.travelers,budget:m.budget,travelStyle:m.travelStyle,interests:m.interests,currency:m.currency,startDate:m.startDate,selectedPlaces:i})});if(!N.ok){const E=await N.json().catch(()=>({error:"Unknown error"}));if(N.status===429&&E.upgradeRequired){alert(`Upgrade required: ${E.error}. Please upgrade to ${E.nextTier} plan to continue.`);return}if(N.status===401&&E.upgradeRequired){alert("Please log in or upgrade your account to use AI trip generation.");return}throw new Error(E.error||`HTTP error! status: ${N.status}`)}const M=await N.json();n(M)}catch(b){console.error("Failed to generate trip:",b);const U=b instanceof Error?b.message:"Failed to generate trip";U.includes("not configured")?alert("Service temporarily unavailable. Please try again later or contact support."):U.includes("Network")?alert("Network error. Please check your connection and try again."):alert(`Failed to generate trip: ${U}`)}finally{g(!1)}},v=[{id:"culture",label:"Culture & Museums",icon:rv},{id:"food",label:"Food & Dining",icon:nv},{id:"nature",label:"Nature & Outdoors",icon:iv},{id:"adventure",label:"Adventure Sports",icon:gu},{id:"photography",label:"Photography",icon:Ha},{id:"beaches",label:"Beaches & Coast",icon:ov},{id:"nightlife",label:"Nightlife & Entertainment",icon:tt},{id:"wellness",label:"Wellness & Relaxation",icon:dt}],y=b=>{x(U=>({...U,interests:U.interests.includes(b)?U.interests.filter(A=>A!==b):[...U.interests,b]}))};return e.jsxs(re,{className:"w-full max-w-3xl mx-auto bg-white rounded-2xl shadow-2xl overflow-hidden",children:[e.jsxs(st,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(at,{className:"flex items-center text-2xl font-bold",children:[e.jsx(tt,{className:"w-6 h-6 mr-3"}),"AI Trip Generator"]}),e.jsx(B,{variant:"outline",size:"sm",onClick:l,className:"bg-white/20 border-white/30 text-white hover:bg-white/30 rounded-full w-8 h-8 p-0",children:e.jsx(ht,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-blue-100 mt-2",children:"Let AI create your perfect personalized itinerary"})]}),e.jsxs(ne,{className:"p-8 space-y-6",children:[i.length>0&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Selected Places from Explore"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((b,U)=>e.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm",children:b.name},U))}),e.jsx("p",{className:"text-sm text-blue-700 mt-2",children:"These places will be included in your trip itinerary"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(de,{className:"w-4 h-4 inline mr-1"}),"Destination"]}),e.jsx("input",{type:"text",value:m.destination,onChange:b=>x({...m,destination:b.target.value}),placeholder:"e.g., Paris, Tokyo, New York",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(lt,{className:"w-4 h-4 inline mr-1"}),"Duration"]}),e.jsxs("select",{value:m.duration,onChange:b=>x({...m,duration:b.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[e.jsx("option",{value:"",children:"Select duration"}),e.jsx("option",{value:"1 day",children:"1 Day"}),e.jsx("option",{value:"2 days",children:"2 Days"}),e.jsx("option",{value:"3 days",children:"3 Days"}),e.jsx("option",{value:"4 days",children:"4 Days"}),e.jsx("option",{value:"5 days",children:"5 Days"}),e.jsx("option",{value:"1 week",children:"1 Week"}),e.jsx("option",{value:"10 days",children:"10 Days"}),e.jsx("option",{value:"2 weeks",children:"2 Weeks"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(St,{className:"w-4 h-4 inline mr-1"}),"Number of Travelers"]}),e.jsxs("select",{value:m.travelers,onChange:b=>x({...m,travelers:b.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[e.jsx("option",{value:"1",children:"Solo (1 person)"}),e.jsx("option",{value:"2",children:"Couple (2 people)"}),e.jsx("option",{value:"3-4",children:"Small Group (3-4 people)"}),e.jsx("option",{value:"5+",children:"Large Group (5+ people)"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(lv,{className:"w-4 h-4 inline mr-1"}),"Currency"]}),e.jsxs("select",{value:m.currency,onChange:b=>x({...m,currency:b.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[e.jsx("option",{value:"USD",children:"USD ($)"}),e.jsx("option",{value:"EUR",children:"EUR ()"}),e.jsx("option",{value:"GBP",children:"GBP ()"}),e.jsx("option",{value:"JPY",children:"JPY ()"}),e.jsx("option",{value:"AUD",children:"AUD (A$)"}),e.jsx("option",{value:"CAD",children:"CAD (C$)"}),e.jsx("option",{value:"CHF",children:"CHF (Fr)"}),e.jsx("option",{value:"CNY",children:"CNY ()"}),e.jsx("option",{value:"INR",children:"INR ()"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(js,{className:"w-4 h-4 inline mr-1"}),"Budget Range"]}),e.jsxs("select",{value:m.budget,onChange:b=>x({...m,budget:b.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[e.jsx("option",{value:"low",children:"Budget ($300-600)"}),e.jsx("option",{value:"medium",children:"Medium ($600-1200)"}),e.jsx("option",{value:"high",children:"Luxury ($1200+)"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(kt,{className:"w-4 h-4 inline mr-1"}),"Start Date"]}),e.jsx("input",{type:"date",value:m.startDate,onChange:b=>x({...m,startDate:b.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Travel Style"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[{id:"relaxed",label:"Relaxed",desc:"Slow pace, plenty of rest"},{id:"balanced",label:"Balanced",desc:"Mix of activities and downtime"},{id:"packed",label:"Action-Packed",desc:"Maximum activities and sights"}].map(b=>e.jsxs("button",{type:"button",onClick:()=>x({...m,travelStyle:b.id}),className:`p-4 rounded-xl border-2 text-left transition-all ${m.travelStyle===b.id?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:[e.jsx("div",{className:"font-medium",children:b.label}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:b.desc})]},b.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Interests & Activities"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:v.map(b=>{const U=b.icon,A=m.interests.includes(b.id);return e.jsxs("button",{type:"button",onClick:()=>y(b.id),className:`p-3 rounded-xl border-2 text-center transition-all ${A?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:[e.jsx(U,{className:"w-5 h-5 mx-auto mb-2"}),e.jsx("div",{className:"text-xs font-medium",children:b.label})]},b.id)})})]}),e.jsxs("div",{className:"flex gap-4 pt-6",children:[e.jsx(B,{type:"button",onClick:l,variant:"outline",className:"flex-1 py-3 rounded-xl border-2",children:"Cancel"}),e.jsxs(B,{onClick:w,disabled:f||!m.destination||!m.duration,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white py-3 rounded-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[e.jsx(tt,{className:"w-5 h-5 mr-2"}),f?"Creating Your Perfect Trip...":"Generate AI Trip"]})]})]})]})},$1=({onSubmit:n,onClose:l})=>{const[i,o]=j.useState({tripTitle:"",destination:"",duration:"",dailyPlans:[{day:1,activities:[""]}]}),u=()=>{o(v=>({...v,dailyPlans:[...v.dailyPlans,{day:v.dailyPlans.length+1,activities:[""]}]}))},m=v=>{i.dailyPlans.length>1&&o(y=>({...y,dailyPlans:y.dailyPlans.filter((b,U)=>U!==v).map((b,U)=>({...b,day:U+1}))}))},x=v=>{o(y=>({...y,dailyPlans:y.dailyPlans.map((b,U)=>U===v?{...b,activities:[...b.activities,""]}:b)}))},f=(v,y)=>{o(b=>({...b,dailyPlans:b.dailyPlans.map((U,A)=>A===v?{...U,activities:U.activities.filter((N,M)=>M!==y)}:U)}))},g=(v,y,b)=>{o(U=>({...U,dailyPlans:U.dailyPlans.map((A,N)=>N===v?{...A,activities:A.activities.map((M,E)=>E===y?b:M)}:A)}))},w=v=>{if(v.preventDefault(),i.tripTitle&&i.destination&&i.duration){const y={...i,dailyPlans:i.dailyPlans.map(b=>({...b,activities:b.activities.filter(U=>U.trim()!=="")})).filter(b=>b.activities.length>0)};n(y)}};return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs(re,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto bg-white rounded-2xl shadow-2xl",children:[e.jsx(st,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-t-2xl",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(at,{className:"text-2xl font-bold",children:"Create New Trip"}),e.jsx(B,{variant:"outline",size:"sm",onClick:l,className:"bg-white/20 border-white/30 text-white hover:bg-white/30 rounded-full w-8 h-8 p-0",children:e.jsx(ht,{className:"w-4 h-4"})})]})}),e.jsx(ne,{className:"p-6",children:e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Title"}),e.jsx("input",{type:"text",value:i.tripTitle,onChange:v=>o(y=>({...y,tripTitle:v.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter trip title",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(de,{className:"w-4 h-4 inline mr-1"}),"Destination"]}),e.jsx("input",{type:"text",value:i.destination,onChange:v=>o(y=>({...y,destination:v.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter destination",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(lt,{className:"w-4 h-4 inline mr-1"}),"Duration"]}),e.jsx("input",{type:"text",value:i.duration,onChange:v=>o(y=>({...y,duration:v.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., 5 days, 1 week",required:!0})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[e.jsx(kt,{className:"w-5 h-5 inline mr-2"}),"Daily Plans"]}),e.jsxs(B,{type:"button",onClick:u,className:"bg-blue-100 text-blue-600 hover:bg-blue-200 rounded-full px-4 py-2 text-sm",children:[e.jsx(br,{className:"w-4 h-4 mr-1"}),"Add Day"]})]}),e.jsx("div",{className:"space-y-4",children:i.dailyPlans.map((v,y)=>e.jsxs("div",{className:"border border-gray-200 rounded-xl p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs("h4",{className:"font-medium text-gray-900",children:["Day ",v.day]}),i.dailyPlans.length>1&&e.jsx(B,{type:"button",onClick:()=>m(y),className:"text-red-500 hover:text-red-700 p-1",variant:"outline",size:"sm",children:e.jsx(Do,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-2",children:[v.activities.map((b,U)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:b,onChange:A=>g(y,U,A.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Enter activity"}),v.activities.length>1&&e.jsx(B,{type:"button",onClick:()=>f(y,U),className:"text-red-500 hover:text-red-700 p-2",variant:"outline",size:"sm",children:e.jsx(ht,{className:"w-4 h-4"})})]},U)),e.jsxs(B,{type:"button",onClick:()=>x(y),className:"text-blue-600 hover:text-blue-700 text-sm p-2",variant:"outline",children:[e.jsx(br,{className:"w-4 h-4 mr-1"}),"Add Activity"]})]})]},y))})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(B,{type:"button",onClick:l,variant:"outline",className:"flex-1 py-3 rounded-xl",children:"Cancel"}),e.jsx(B,{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white py-3 rounded-xl font-medium",children:"Create Trip"})]})]})})]})})},G1=()=>{const{user:n}=Ct(),[l,i]=j.useState([]),[o,u]=j.useState(!1),[m,x]=j.useState(!1),[f,g]=j.useState(!0),[w,v]=j.useState([]),[y,b]=j.useState("list"),[U,A]=j.useState(null),N=At();j.useEffect(()=>{M();const D=sessionStorage.getItem("selectedPlaces");if(D){const K=JSON.parse(D);v(K),u(!0),sessionStorage.removeItem("selectedPlaces")}},[]);const M=async()=>{try{if(g(!0),!n?.id){console.log("No user ID available"),i([]);return}const D=await ur.getTrips(n.id);i(Array.isArray(D)?D:[]),console.log(` Loaded ${D.length} trips from backend`)}catch(D){console.error("Failed to fetch trips:",D),i([])}finally{g(!1)}},E=async D=>{if(confirm("Delete this trip?"))try{console.log(" Deleting trip:",D),i(q=>q.filter(ee=>ee._id!==D));const K=await ur.deleteTrip(D);console.log(" Delete result:",K),K?console.log(" Trip deleted successfully"):(console.error(" Delete failed, reverting"),M(),alert("Failed to delete trip"))}catch(K){console.error("Failed to delete trip:",K),M(),alert("Error deleting trip: "+K.message)}},$=D=>{if(!D.dailyPlans||D.dailyPlans.length===0)return 0;const K=D.dailyPlans.reduce((ee,Y)=>ee+(Y.activities?.length||0),0),q=D.dailyPlans.reduce((ee,Y)=>ee+(Y.activities?.filter(T=>T.isVisited)?.length||0),0);return K>0?Math.round(q/K*100):0};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-blue-600 to-purple-700 text-white",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=1920&h=1080&fit=crop)"}}),e.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 py-16 sm:py-24",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"p-3 bg-white/20 rounded-full backdrop-blur-sm",children:e.jsx(Fa,{className:"w-12 h-12"})})}),e.jsx("h1",{className:"text-4xl sm:text-6xl font-bold mb-6 bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:"Your Travel Adventures"}),e.jsx("p",{className:"text-xl sm:text-2xl text-blue-100 mb-8 max-w-3xl mx-auto",children:"Create personalized itineraries with AI-powered trip planning. Drag & drop to organize, visualize on maps."}),e.jsxs("div",{className:"flex justify-center space-x-2 mb-8",children:[e.jsxs(B,{variant:y==="list"?"default":"outline",onClick:()=>b("list"),className:"flex items-center bg-white/20 backdrop-blur-sm border-white/30 text-white hover:bg-white/30",children:[e.jsx(zn,{className:"w-4 h-4 mr-2"}),"List View"]}),e.jsxs(B,{variant:y==="map"?"default":"outline",onClick:()=>b("map"),className:"flex items-center bg-white/20 backdrop-blur-sm border-white/30 text-white hover:bg-white/30",children:[e.jsx(yr,{className:"w-4 h-4 mr-2"}),"Map View"]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs(B,{onClick:()=>u(!0),className:"bg-white text-blue-600 hover:bg-blue-50 text-lg px-8 py-4 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[e.jsx(tt,{className:"w-5 h-5 mr-2"}),"Create Trip Plan"]})})]})})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 -mt-8 relative z-10",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 text-center border border-gray-100",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(de,{className:"w-6 h-6 text-blue-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:l.length}),e.jsx("p",{className:"text-gray-600",children:"Total Trips"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 text-center border border-gray-100",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(_e,{className:"w-6 h-6 text-green-600"})}),e.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:[Math.round(l.reduce((D,K)=>D+$(K),0)/(l.length||1)),"%"]}),e.jsx("p",{className:"text-gray-600",children:"Avg Progress"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 text-center border border-gray-100",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(St,{className:"w-6 h-6 text-purple-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"AI"}),e.jsx("p",{className:"text-gray-600",children:"Powered"})]})]})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx(V1,{selectedPlaces:w,onTripGenerated:async D=>{try{if(!n?.id){console.error("No user ID available"),alert("Please log in to save trips");return}await ur.createTrip({...D,userId:n.id})?(u(!1),v([]),M()):(console.error("Failed to save trip - no response"),alert("Failed to save trip. Please try again."))}catch(K){console.error("Failed to save AI trip:",K),alert("Failed to save trip. Please try again.")}},onClose:()=>{u(!1),v([])}})}),m&&e.jsx($1,{onSubmit:async D=>{try{await ur.createTrip({...D,userId:n?.id}),x(!1),M()}catch(K){console.error("Failed to save trip:",K)}},onClose:()=>x(!1)}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 pb-16",children:f?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[1,2,3].map(D=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded"})]},D))}):l.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:l.map(D=>{const K=$(D);return e.jsxs(re,{className:"group hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 bg-white rounded-2xl border-0 shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-4 right-4 z-10",children:e.jsx(B,{variant:"outline",size:"sm",onClick:q=>{q.stopPropagation(),E(D._id)},className:"bg-white/90 backdrop-blur-sm border-0 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-full w-8 h-8 p-0",children:e.jsx(Do,{className:"w-4 h-4"})})}),e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-32 flex items-center justify-center",children:e.jsx(de,{className:"w-8 h-8 text-white"})})]}),e.jsxs(ne,{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:D.tripTitle}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(de,{className:"w-4 h-4 mr-3 text-blue-500"}),e.jsx("span",{className:"font-medium",children:D.destination})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(lt,{className:"w-4 h-4 mr-3 text-green-500"}),e.jsx("span",{children:D.duration})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(kt,{className:"w-4 h-4 mr-3 text-purple-500"}),e.jsx("span",{children:new Date(D.createdAt).toLocaleDateString()})]}),D.totalEstimatedCost&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(js,{className:"w-4 h-4 mr-3 text-yellow-500"}),e.jsx("span",{children:D.totalEstimatedCost})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progress"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[K,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${K}%`}})})]}),e.jsxs(B,{onClick:()=>N(`/trips/${D._id}`),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-xl py-3 font-medium transition-all duration-300 transform hover:scale-105",children:[e.jsx(Ya,{className:"w-4 h-4 mr-2"}),"View Trip Details"]})]})]},D._id)})}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-blue-100 to-purple-100 rounded-full flex items-center justify-center mx-auto mb-8",children:e.jsx(Fa,{className:"w-12 h-12 text-blue-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Ready for Your Next Adventure?"}),e.jsx("p",{className:"text-gray-600 mb-8 text-lg max-w-md mx-auto",children:"Let AI create the perfect itinerary tailored to your preferences and budget."}),e.jsx("div",{className:"flex justify-center",children:e.jsxs(B,{onClick:()=>u(!0),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-4 rounded-full text-lg font-medium shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[e.jsx(tt,{className:"w-5 h-5 mr-2"}),"Create Trip Plan"]})})]})})]})},w0=()=>{const{id:n}=Ru(),l=At(),{toggleActivityStatus:i,getActivityStatus:o}=d0(),[u,m]=j.useState(null),[x,f]=j.useState(!0),[g,w]=j.useState("list"),[v,y]=j.useState(!1),[b,U]=j.useState(""),[A,N]=j.useState(!1),[M,E]=j.useState(!1),[,$]=j.useState({}),[D,K]=j.useState(null),[q,ee]=j.useState(!1),[Y,T]=j.useState(null);j.useEffect(()=>{if(n){pe(n);const S=localStorage.getItem(`trip-notes-${n}`);S&&U(S)}},[n]),j.useEffect(()=>{u&&(ze(),ae(),T(J()))},[u,n]),j.useEffect(()=>{u&&n&&T(J())},[$]);const ae=async()=>{u&&(K(u.introduction),ee(!1))},pe=async S=>{try{const H=await ur.getTripById(S);m(H)}catch(H){console.error("Failed to fetch trip:",H)}finally{f(!1)}},ze=async()=>{if(!u)return;const S={...u};for(const H of S.dailyPlans)for(const z of H.activities)if(!z.imageUrl){const R=z.activityTitle.toLowerCase();let se="1506905925346-21bda4d32df4";R.includes("temple")||R.includes("church")||R.includes("mosque")?(se="1548013146-72479768c5bd",z.category="Religious Site"):R.includes("museum")||R.includes("gallery")?(se="1554072675-66db59dba46f",z.category="Museum"):R.includes("market")||R.includes("bazaar")?(se="1555396273-e9f2df6178d7",z.category="Market"):R.includes("fort")||R.includes("palace")||R.includes("castle")?(se="1520637836862-4d197d17c93a",z.category="Historical Site"):R.includes("park")||R.includes("garden")?(se="1441974231531-c6227db76b6e",z.category="Park"):R.includes("restaurant")||R.includes("food")?(se="1414235077428-338989a2e8c0",z.category="Restaurant"):(se="1488646953014-e1824e62c96c",z.category="Attraction"),z.imageUrl=`https://images.unsplash.com/photo-${se}?w=400&h=300&fit=crop&q=80`,z.rating=Math.round((4+Math.random()*1)*10)/10}m(S)},k=(S,H)=>{n&&(i(n,S,H),$({}))},J=()=>{if(!u||!n)return null;let S=0,H=0,z=0,R=0,se=0,De=0;return u.dailyPlans.forEach((Se,me)=>{Se.activities.forEach((be,$e)=>{S++;const Ge=o(n,me,$e);Ge&&H++;const Ne=be.duration.toLowerCase();let Tt=60;if(Ne.includes("hr")||Ne.includes("h")){const rt=Ne.match(/(\d+\.?\d*)/);rt&&(Tt=parseFloat(rt[1])*60)}else if(Ne.includes("min")){const rt=Ne.match(/(\d+)/);rt&&(Tt=parseInt(rt[1]))}z+=Tt,Ge||(R+=Tt);const gt=be.estimatedCost.replace(/[^0-9.]/g,""),Et=parseFloat(gt)||0;se+=Et,Ge||(De+=Et)})}),{totalActivities:S,visitedActivities:H,pendingActivities:S-H,completionRate:Math.round(H/S*100),totalHours:Math.ceil(z/60),pendingHours:Math.ceil(R/60),totalCost:se.toFixed(0),pendingCost:De.toFixed(0)}},te=()=>{if(!u)return;const S=u.dailyPlans.flatMap(z=>z.activities).map(z=>z.activityTitle).join("|"),H=`https://www.google.com/maps/dir/?api=1&waypoints=${encodeURIComponent(S)}`;window.open(H,"_blank")},G=async()=>{if(!(!u||!n))try{await ur.updateTrip(n,u),localStorage.setItem(`trip-notes-${n}`,b),alert("Trip saved successfully!")}catch(S){console.error("Failed to save trip:",S),alert("Failed to save trip")}};return x?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):u?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[e.jsx("div",{className:"relative overflow-hidden bg-gradient-to-r from-teal-600 to-blue-700 text-white",children:e.jsxs("div",{className:"relative max-w-6xl mx-auto px-4 py-12",children:[e.jsxs(B,{variant:"outline",onClick:()=>l(-1),className:"mb-6 bg-white/20 border-white/30 text-white hover:bg-white/30",children:[e.jsx(vo,{className:"w-4 h-4 mr-2"}),"Back to Trips"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-center",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("h1",{className:"text-4xl lg:text-5xl font-bold mb-4",children:u.tripTitle}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center bg-white/20 rounded-lg px-3 py-2",children:[e.jsx(de,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:u.destination})]}),e.jsxs("div",{className:"flex items-center bg-white/20 rounded-lg px-3 py-2",children:[e.jsx(lt,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:u.duration})]}),e.jsxs("div",{className:"flex items-center bg-white/20 rounded-lg px-3 py-2",children:[e.jsx(js,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:u.totalEstimatedCost})]}),e.jsxs("div",{className:"flex items-center bg-white/20 rounded-lg px-3 py-2",children:[e.jsx(aa,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:u.estimatedWalkingDistance})]})]})]}),e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Trip Progress"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{children:[Y?.totalActivities," Activities"]}),e.jsxs("span",{children:[Y?.visitedActivities," Completed"]})]}),e.jsx("div",{className:"w-full bg-white/30 rounded-full h-3",children:e.jsx("div",{className:"bg-gradient-to-r from-green-400 to-emerald-500 h-3 rounded-full transition-all duration-500",style:{width:`${Y?.completionRate||0}%`}})}),e.jsxs("div",{className:"text-xs opacity-90",children:[Y?.completionRate||0,"% Complete"]})]})]})]})]})}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[e.jsx(re,{className:"mb-8 bg-gradient-to-r from-blue-50 to-purple-50 border-purple-200 shadow-lg",children:e.jsxs(ne,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center mr-3",children:e.jsx(_e,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"AI Trip Overview"}),e.jsx("p",{className:"text-xs text-purple-600 font-medium",children:"Powered by Azure OpenAI"})]}),q&&e.jsx("div",{className:"ml-auto",children:e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-purple-600"})})]}),e.jsx("div",{className:"bg-white rounded-lg p-4",children:q?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 italic",children:"Generating personalized overview..."})]})}):e.jsx("p",{className:"text-gray-700 whitespace-pre-line leading-relaxed",children:D||u.introduction})})]})}),Y&&e.jsx(re,{className:"mb-8",children:e.jsxs(ne,{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:" Trip Progress"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:Y.totalActivities}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Places"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:Y.visitedActivities}),e.jsx("div",{className:"text-sm text-gray-600",children:"Visited"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-600",children:Y.pendingActivities}),e.jsx("div",{className:"text-sm text-gray-600",children:"Pending"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:[Y.completionRate,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Complete"})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Total / Pending Time"}),e.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[Y.totalHours,"h / ",Y.pendingHours,"h"]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Total / Pending Cost"}),e.jsxs("div",{className:"text-lg font-bold text-green-600",children:["$",Y.totalCost," / $",Y.pendingCost]})]})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-8",children:e.jsx("div",{className:"flex flex-wrap justify-between items-center gap-4",children:e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(B,{onClick:G,variant:"outline",className:"flex items-center",children:[e.jsx(pr,{className:"w-4 h-4 mr-2"}),"Save Trip"]}),e.jsxs(B,{onClick:te,className:"flex items-center",children:[e.jsx(aa,{className:"w-4 h-4 mr-2"}),"Open in Google Maps"]}),e.jsxs(B,{onClick:()=>y(!v),variant:v?"default":"outline",className:"flex items-center",children:[e.jsx(bu,{className:"w-4 h-4 mr-2"}),"Trip Notes"]})]})})}),v&&e.jsx(re,{className:"mb-8 bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:e.jsxs(ne,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(fu,{className:"w-5 h-5 text-blue-600 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Trip Journal & Notes"})]}),e.jsx("textarea",{value:b,onChange:S=>U(S.target.value),placeholder:"Write your travel thoughts, experiences, reminders, or tips here...",className:"w-full h-32 p-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:" Your notes are automatically saved when you save the trip"})]})}),e.jsx("div",{className:"space-y-8",children:u.dailyPlans.map((S,H)=>e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-teal-500 to-blue-600 rounded-full flex items-center justify-center text-white font-bold text-lg mr-4",children:S.day}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Day ",S.day]}),e.jsx("p",{className:"text-gray-600",dangerouslySetInnerHTML:{__html:S.title}})]})]})}),e.jsxs("div",{className:"relative ml-6",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-0.5 bg-gradient-to-b from-teal-400 to-blue-500"}),e.jsx("div",{className:"space-y-6",children:S.activities.map((z,R)=>e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`absolute -left-2 w-4 h-4 rounded-full border-2 border-white ${o(n,H,R)?"bg-green-500":"bg-blue-500"}`}),e.jsx(re,{className:`ml-8 transition-all duration-300 hover:shadow-lg ${o(n,H,R)?"bg-green-50 border-green-200":"bg-blue-50 border-blue-200"}`,children:e.jsx(ne,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{className:"w-32 h-24 rounded-lg overflow-hidden mr-6 flex-shrink-0",children:e.jsx("img",{src:z.imageUrl||"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",alt:z.activityTitle,className:"w-full h-full object-cover",onError:se=>{se.currentTarget.src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop"}})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("span",{className:"bg-teal-100 text-teal-700 px-3 py-1 rounded-full text-sm font-medium",children:z.timeOfDay}),z.rating&&e.jsxs("div",{className:"flex items-center bg-yellow-100 px-2 py-1 rounded-full",children:[e.jsx(_e,{className:"w-4 h-4 text-yellow-500 fill-current mr-1"}),e.jsx("span",{className:"text-sm font-medium text-yellow-700",children:z.rating})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:z.activityTitle}),z.address&&e.jsxs("div",{className:"flex items-start text-sm text-gray-600 mb-2",children:[e.jsx(de,{className:"w-4 h-4 mr-2 mt-0.5 text-blue-500"}),e.jsx("span",{children:z.address})]}),z.category&&e.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full mb-2",children:z.category}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:z.description})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(lt,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:z.duration})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(js,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:z.estimatedCost})]})]})]}),e.jsx("div",{className:"ml-6",children:e.jsx(B,{variant:"default",size:"sm",onClick:()=>k(H,R),className:o(n,H,R)?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700",children:o(n,H,R)?e.jsxs(e.Fragment,{children:[e.jsx(Ze,{className:"w-4 h-4 mr-2"}),"Visited"]}):e.jsxs(e.Fragment,{children:[e.jsx(cv,{className:"w-4 h-4 mr-2"}),"Pending"]})})})]})})})]},R))})]})]},S.day))})]})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trip Not Found"}),e.jsx(B,{onClick:()=>l(-1),children:"Back to Trips"})]})})},tp=[{id:"1",name:"Sarah Johnson",agency:"Adventure Lanka Tours",photo:"https://images.unsplash.com/photo-1494790108755-2616b612b47c?w=150&h=150&fit=crop&crop=face",location:"Colombo, Sri Lanka",specializations:["Adventure & Hiking","Cultural Tours","Wildlife & Safari"],rating:4.8,reviewCount:127,languages:["English","Sinhala"],verified:!0,experience:8,description:"Specialized in authentic Sri Lankan experiences with focus on adventure and cultural immersion.",phone:"+94 77 123 4567",email:"sarah@adventurelanka.com",priceRange:"$50-150/day",responseTime:"< 1 hour",totalTrips:340,trustBadges:["Top 1% Agent","Highly rated by couples"],profileCompletion:95},{id:"2",name:"Rajesh Patel",agency:"Island Paradise Travel",photo:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",location:"Kandy, Sri Lanka",specializations:["Honeymoon & Romance","Luxury & VIP","Beach & Coastal"],rating:4.9,reviewCount:89,languages:["English","Hindi","Tamil"],verified:!0,experience:12,description:"Luxury travel specialist creating unforgettable honeymoon and beach experiences.",phone:"+94 81 234 5678",email:"rajesh@islandparadise.lk",priceRange:"$100-300/day",responseTime:"< 2 hours",totalTrips:520,trustBadges:["Award Winner","Great for luxury trips"],profileCompletion:88},{id:"3",name:"Emma Thompson",agency:"Family Adventures LK",photo:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",location:"Galle, Sri Lanka",specializations:["Family Travel","Educational Tours","Wildlife & Safari"],rating:4.7,reviewCount:156,languages:["English","German"],verified:!0,experience:6,description:"Family travel expert specializing in educational and wildlife experiences for all ages.",phone:"+94 91 345 6789",email:"emma@familyadventures.lk",priceRange:"$75-200/day",responseTime:"< 3 hours",totalTrips:280,trustBadges:["Great for family trips","Popular this month"],profileCompletion:92}],F1=["Adventure & Hiking","Cultural Tours","Family Travel","Honeymoon & Romance","Luxury & VIP","Wildlife & Safari","Beach & Coastal","Photography Tours","Budget Backpacking","Pilgrimage Tours","Eco-Tourism","Road Trip Specialists","Digital Nomad Support","Educational Tours","Solo Travel","Business Travel","Food & Culinary","Scuba & Diving","Shopping Tours","Skiing & Snow","Historical Tours","Religious Tours","LGBTQ+ Friendly","Accessible Travel"],Y1=["Colombo","Kandy","Galle","Negombo","Ella","Sigiriya","Anuradhapura","Mirissa","Bentota","Nuwara Eliya"],Q1=["Western Province","Central Province","Southern Province","Hill Country","Cultural Triangle"],K1=["1-3 years","3-7 years","7-10 years","10+ years"],J1=["TravelBuddy Verified","Government Licensed","Tour Guide License","Insurance Covered","Award Winner","Tourism Board Approved","First Aid Certified","Background Checked","National Park License"],S0=()=>{const[n,l]=j.useState(""),[i,o]=j.useState([]),[u,m]=j.useState([]),[x,f]=j.useState(""),[g,w]=j.useState(""),[v,y]=j.useState(""),[b,U]=j.useState([]),[A,N]=j.useState(0),[M,E]=j.useState([]),[$,D]=j.useState(""),[K,q]=j.useState([]),[ee,Y]=j.useState(!1),[T,ae]=j.useState("grid"),[pe,ze]=j.useState(!1),[k,J]=j.useState(null),[te,G]=j.useState(!0);j.useEffect(()=>{ds.getConfig().then(R=>l(R.apiBaseUrl))},[]),j.useEffect(()=>{n&&S()},[n]),j.useEffect(()=>{H()},[i,x,g,v,b,A,M,$,K,ee]);const S=async()=>{try{G(!0);const R=await fetch(`${n}/api/travel-agents`);if(R.ok){const se=await R.json();o(se)}else o(tp)}catch(R){console.error("Failed to fetch agents:",R),o(tp)}finally{G(!1)}},H=()=>{let R=i.filter(se=>{const De=se.name.toLowerCase().includes(x.toLowerCase())||se.agency.toLowerCase().includes(x.toLowerCase()),Se=!g||se.location.includes(g),me=b.length===0||b.some(Ne=>se.specializations.includes(Ne)),be=se.rating>=A,$e=M.length===0||M.some(Ne=>se.languages.includes(Ne)),Ge=!ee||se.verified;return De&&Se&&me&&be&&$e&&Ge});m(R)},z=R=>{U(se=>se.includes(R)?se.filter(De=>De!==R):[...se,R])};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-teal-50 pt-20",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-700 to-purple-800 text-white py-20 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 border-2 border-white/20 rounded-full"}),e.jsx("div",{className:"absolute top-32 right-20 w-24 h-24 border-2 border-white/20 rounded-full"}),e.jsx("div",{className:"absolute bottom-20 left-1/4 w-16 h-16 border-2 border-white/20 rounded-full"})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-5xl lg:text-6xl font-bold mb-6 bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:"Find Expert Travel Agents Worldwide"}),e.jsx("p",{className:"text-xl text-blue-100 max-w-3xl mx-auto mb-6",children:"Trusted by travelers in 42+ countries  Connect with verified local experts globally"}),e.jsxs("div",{className:"flex justify-center space-x-8 mb-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:"42+"}),e.jsx("div",{className:"text-sm text-blue-200",children:"Countries"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:"500+"}),e.jsx("div",{className:"text-sm text-blue-200",children:"Verified Agents"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:"10,000+"}),e.jsx("div",{className:"text-sm text-blue-200",children:"Successful Trips"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:"4.8"}),e.jsx("div",{className:"text-sm text-blue-200",children:"Average Rating"})]})]})]}),e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(wt,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/70"}),e.jsx("input",{type:"text",placeholder:"Try 'Tokyo guide', 'Paris food tour', 'Dubai luxury', or agent names...",value:x,onChange:R=>f(R.target.value),className:"w-full pl-12 pr-4 py-4 bg-white/20 border border-white/30 rounded-xl text-white placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-white/50 text-lg"}),x&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl z-10 max-h-60 overflow-y-auto",children:["Honeymoon planners","Safari experts","Budget-friendly agents","Luxury travel specialists"].filter(R=>R.toLowerCase().includes(x.toLowerCase())).map(R=>e.jsx("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer text-gray-700 border-b last:border-b-0",onClick:()=>f(R),children:R},R))})]}),e.jsxs(B,{onClick:()=>ze(!pe),className:"bg-white/20 hover:bg-white/30 border border-white/30 text-white px-8 py-4 rounded-xl text-lg font-medium",children:[e.jsx(Mn,{className:"w-5 h-5 mr-2"}),"Smart Filters"]})]}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[e.jsx("span",{className:"text-white/70 text-sm mr-2",children:" Trending:"}),["Tokyo guides","Paris food tours","Dubai luxury","Bali adventures","Safari experts"].map(R=>e.jsx("button",{onClick:()=>f(R),className:"px-3 py-1 bg-white/20 hover:bg-white/30 rounded-full text-sm text-white/90 transition-colors",children:R},R))]})]})})]})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[pe&&e.jsx(re,{className:"mb-8 border-0 shadow-lg",children:e.jsxs(ne,{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),e.jsxs("select",{value:g,onChange:R=>w(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Cities"}),Y1.map(R=>e.jsx("option",{value:R,children:R},R))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Region"}),e.jsxs("select",{value:v,onChange:R=>y(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Regions"}),Q1.map(R=>e.jsx("option",{value:R,children:R},R))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Experience"}),e.jsxs("select",{value:$,onChange:R=>D(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Any Experience"}),K1.map(R=>e.jsx("option",{value:R,children:R},R))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),e.jsxs("select",{value:A,onChange:R=>N(Number(R.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[e.jsx("option",{value:0,children:"Any Rating"}),e.jsx("option",{value:4,children:"4+ Stars"}),e.jsx("option",{value:4.5,children:"4.5+ Stars"}),e.jsx("option",{value:4.8,children:"Top Rated (4.8+)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"View"}),e.jsxs("div",{className:"flex rounded-lg border border-gray-300 overflow-hidden",children:[e.jsx("button",{onClick:()=>ae("grid"),className:`flex-1 px-2 py-2 text-xs ${T==="grid"?"bg-indigo-600 text-white":"bg-white text-gray-700"}`,children:e.jsx(Iu,{className:"w-4 h-4 mx-auto"})}),e.jsx("button",{onClick:()=>ae("list"),className:`flex-1 px-2 py-2 text-xs ${T==="list"?"bg-indigo-600 text-white":"bg-white text-gray-700"}`,children:e.jsx(zn,{className:"w-4 h-4 mx-auto"})}),e.jsx("button",{onClick:()=>ae("map"),className:`flex-1 px-2 py-2 text-xs ${T==="map"?"bg-indigo-600 text-white":"bg-white text-gray-700"}`,children:e.jsx(yr,{className:"w-4 h-4 mx-auto"})})]})]})]}),e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsx(B,{className:"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white px-6 py-2 rounded-lg",children:" Show AI-Recommended Agents"})}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Specializations"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-2",children:F1.map(R=>e.jsx("button",{onClick:()=>z(R),className:`px-3 py-2 rounded-lg text-sm transition-colors text-center ${b.includes(R)?"bg-indigo-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:R},R))})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Verification & Credentials"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:J1.map(R=>e.jsx("button",{onClick:()=>{q(se=>se.includes(R)?se.filter(De=>De!==R):[...se,R])},className:`px-3 py-2 rounded-lg text-sm transition-colors ${K.includes(R)?"bg-green-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:R},R))})]})]})}),e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[u.length," Travel Agents Found"]})}),T==="map"&&e.jsx("div",{className:"mb-8",children:e.jsx(re,{className:"border-0 shadow-lg",children:e.jsx(ne,{className:"p-6",children:e.jsxs("div",{className:"bg-gradient-to-r from-blue-100 to-indigo-100 rounded-lg p-8 text-center",children:[e.jsx(yr,{className:"w-16 h-16 mx-auto mb-4 text-indigo-600"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Interactive Map View"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"See agents on an interactive map with location pins"}),e.jsx(B,{className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:"Coming Soon - Map Integration"})]})})})}),T!=="map"&&(te?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):e.jsx("div",{className:T==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:u.map(R=>e.jsx(re,{className:"group hover:shadow-xl transition-all duration-300 cursor-pointer border-0 shadow-lg overflow-hidden",children:e.jsx(ne,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:R.photo,alt:R.name,className:"w-16 h-16 rounded-full object-cover border-2 border-white shadow-md",onError:se=>{se.currentTarget.src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face"}}),R.verified&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center border-2 border-white",children:e.jsx(vl,{className:"w-3 h-3 text-white"})}),R.profileCompletion&&R.profileCompletion>90&&e.jsx("div",{className:"absolute -top-1 -left-1 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center border-2 border-white",children:e.jsx("span",{className:"text-xs text-white font-bold",children:""})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h3",{className:"font-bold text-gray-900 group-hover:text-indigo-600 transition-colors",children:R.name}),e.jsxs("span",{className:"text-xs text-gray-500",children:[R.experience," years exp"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:R.agency}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-500 mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(de,{className:"w-3 h-3 mr-1"}),R.location.split(",")[0]]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(_e,{className:"w-3 h-3 mr-1 text-yellow-500 fill-current"}),R.rating," (",R.reviewCount,")"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(lt,{className:"w-3 h-3 mr-1"}),R.responseTime]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(St,{className:"w-3 h-3 mr-1"}),R.totalTrips,"+ trips"]})]})]})]}),R.trustBadges&&R.trustBadges.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1",children:R.trustBadges.map(se=>e.jsxs("span",{className:"px-2 py-1 bg-gradient-to-r from-purple-100 to-indigo-100 text-purple-700 text-xs rounded-full font-medium",children:[" ",se]},se))}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[R.specializations.slice(0,3).map(se=>e.jsx("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-700 text-xs rounded-lg",children:se},se)),R.specializations.length>3&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-lg",children:["+",R.specializations.length-3," more"]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[e.jsx(dv,{className:"w-3 h-3"}),e.jsx("span",{children:R.languages.slice(0,2).join(", ")}),R.languages.length>2&&e.jsxs("span",{children:["+",R.languages.length-2]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(B,{size:"sm",variant:"outline",className:"text-xs px-3 py-1",children:[e.jsx(jl,{className:"w-3 h-3 mr-1"}),"Chat"]}),e.jsx(B,{size:"sm",className:"text-xs px-3 py-1 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700",onClick:()=>J(R),children:"View Profile"})]})]})]})})},R.id))})),e.jsx("div",{className:"mt-16 text-center bg-gradient-to-r from-indigo-50 via-purple-50 to-blue-50 rounded-2xl p-12 border border-indigo-100",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Join Our Elite Agent Network"}),e.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Become part of Sri Lanka's premier travel agent community. Connect with 1000+ travelers monthly and grow your business with verified leads."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-6",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(vl,{className:"w-5 h-5 mr-2 text-indigo-600"}),"Verified Professional Status"]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(St,{className:"w-5 h-5 mr-2 text-indigo-600"}),"Direct Customer Connections"]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(js,{className:"w-5 h-5 mr-2 text-indigo-600"}),"Increase Your Revenue"]})]}),e.jsx(fe,{to:"/travel-agent-registration",children:e.jsx(B,{className:"bg-gradient-to-r from-indigo-600 via-purple-600 to-blue-600 hover:from-indigo-700 hover:via-purple-700 hover:to-blue-700 text-white px-10 py-4 rounded-xl text-lg font-semibold shadow-lg hover:shadow-xl transition-all",children:" Register as Travel Agent"})})]})}),k&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"relative bg-gradient-to-r from-teal-600 to-blue-700 text-white p-6 rounded-t-2xl",children:[e.jsx("button",{onClick:()=>J(null),className:"absolute top-4 right-4 w-8 h-8 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center transition-colors",children:e.jsx(ht,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex items-start space-x-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:k.photo,alt:k.name,className:"w-24 h-24 rounded-full object-cover border-4 border-white/20",onError:R=>{R.currentTarget.src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face"}}),k.verified&&e.jsx("div",{className:"absolute -bottom-2 -right-2 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center border-2 border-white",children:e.jsx(vl,{className:"w-4 h-4 text-white"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-3xl font-bold mb-2",children:k.name}),e.jsx("p",{className:"text-xl text-blue-100 mb-3",children:k.agency}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center bg-white/20 rounded-lg px-3 py-1",children:[e.jsx(de,{className:"w-4 h-4 mr-2"}),k.location]}),e.jsxs("div",{className:"flex items-center bg-white/20 rounded-lg px-3 py-1",children:[e.jsx(_e,{className:"w-4 h-4 mr-2 text-yellow-300 fill-current"}),k.rating," (",k.reviewCount," reviews)"]}),e.jsxs("div",{className:"flex items-center bg-white/20 rounded-lg px-3 py-1",children:[e.jsx(lt,{className:"w-4 h-4 mr-2"}),k.experience," years experience"]})]})]})]})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"About"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:k.description})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Specializations"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:k.specializations.map(R=>e.jsx("span",{className:"px-3 py-2 bg-teal-100 text-teal-700 rounded-lg font-medium",children:R},R))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Languages"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:k.languages.map(R=>e.jsx("span",{className:"px-3 py-2 bg-blue-100 text-blue-700 rounded-lg font-medium",children:R},R))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Recent Reviews"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"flex text-yellow-500",children:[...Array(5)].map((R,se)=>e.jsx(_e,{className:"w-4 h-4 fill-current"},se))}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"John D.  2 weeks ago"})]}),e.jsxs("p",{className:"text-gray-700",children:['"Excellent service! ',k.name,' planned our perfect Sri Lankan adventure. Highly recommended!"']})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"flex text-yellow-500",children:[...Array(5)].map((R,se)=>e.jsx(_e,{className:"w-4 h-4 fill-current"},se))}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Sarah M.  1 month ago"})]}),e.jsx("p",{className:"text-gray-700",children:'"Professional and knowledgeable. Made our honeymoon unforgettable!"'})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(re,{className:"border-0 shadow-lg",children:e.jsxs(ne,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Contact Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(vs,{className:"w-5 h-5 mr-3 text-teal-600"}),e.jsx("span",{children:k.phone})]}),e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(ys,{className:"w-5 h-5 mr-3 text-teal-600"}),e.jsx("span",{className:"break-all",children:k.email})]}),e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(js,{className:"w-5 h-5 mr-3 text-teal-600"}),e.jsx("span",{children:k.priceRange})]})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(B,{className:"w-full bg-teal-600 hover:bg-teal-700 text-white py-3 rounded-xl",children:[e.jsx(jl,{className:"w-5 h-5 mr-2"}),"Send Message"]}),e.jsxs(B,{variant:"outline",className:"w-full py-3 rounded-xl",children:[e.jsx(vs,{className:"w-5 h-5 mr-2"}),"Call Now"]}),e.jsxs(B,{variant:"outline",className:"w-full py-3 rounded-xl",children:[e.jsx(kt,{className:"w-5 h-5 mr-2"}),"Book Consultation"]}),e.jsxs(B,{variant:"outline",className:"w-full py-3 rounded-xl",children:[e.jsx(dt,{className:"w-5 h-5 mr-2"}),"Save Agent"]})]}),e.jsx(re,{className:"border-0 shadow-lg",children:e.jsxs(ne,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Quick Stats"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Response Time"}),e.jsx("span",{className:"font-medium",children:"< 2 hours"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Trips Completed"}),e.jsx("span",{className:"font-medium",children:"150+"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Repeat Clients"}),e.jsx("span",{className:"font-medium",children:"85%"})]})]})]})})]})]})})]})})]})]})},sp=[{id:"1",providerId:"tp1",companyName:"Lanka Express Transport",vehicleType:"Bus",route:"Colombo - Kandy",fromLocation:"Colombo",toLocation:"Kandy",price:500,duration:"3 hours",departure:"08:00 AM",arrival:"11:00 AM",availableSeats:25,totalSeats:45,amenities:["AC","WiFi","Charging Ports","Refreshments"],rating:4.5,reviewCount:89,image:"https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=400&h=250&fit=crop",description:"Comfortable air-conditioned bus service with modern amenities",phone:"+94 11 234 5678",email:"info@lankaexpress.lk",isVerified:!0,isLive:!0,aiRecommended:!0,popularRoute:!0,passengerCapacity:45,luggageCapacity:"Large",instantBooking:!0,refundable:!0,ecoFriendly:!1,driverLanguages:["English","Sinhala"],insuranceIncluded:!0,lastUpdated:"2 minutes ago",coordinates:[{lat:6.9271,lng:79.8612},{lat:7.2906,lng:80.6337}]},{id:"2",providerId:"tp2",companyName:"Island Taxi Service",vehicleType:"Car",route:"Airport - Colombo City",fromLocation:"Bandaranaike Airport",toLocation:"Colombo City",price:2500,duration:"45 minutes",departure:"On Demand",arrival:"On Demand",availableSeats:3,totalSeats:4,amenities:["AC","English Speaking Driver","Child Seats Available"],rating:4.8,reviewCount:156,image:"https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=400&h=250&fit=crop",description:"Professional airport transfer service with experienced drivers",phone:"+94 77 987 6543",email:"bookings@islandtaxi.lk"},{id:"3",providerId:"tp3",companyName:"Coastal Ferry Services",vehicleType:"Ferry",route:"Colombo - Galle",fromLocation:"Colombo Port",toLocation:"Galle Harbor",price:1200,duration:"2.5 hours",departure:"09:30 AM",arrival:"12:00 PM",availableSeats:80,totalSeats:120,amenities:["Sea Views","Onboard Cafe","Deck Access","Life Jackets"],rating:4.3,reviewCount:67,image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=250&fit=crop",description:"Scenic coastal ferry with beautiful ocean views",phone:"+94 91 456 7890",email:"ferry@coastal.lk"}],X1=["All","Car","Bus","Ferry","Train","Plane","Bike Rental","Helicopter"],Z1=["All Countries","Sri Lanka","Thailand","India","Japan","USA","UK","France","Spain","Italy","Greece"],ap={AC:e.jsx(bs,{className:"w-4 h-4"}),WiFi:e.jsx(hv,{className:"w-4 h-4"}),"Charging Ports":e.jsx(bs,{className:"w-4 h-4"}),Refreshments:e.jsx(pu,{className:"w-4 h-4"}),"English Speaking Driver":e.jsx(St,{className:"w-4 h-4"}),"Child Seats Available":e.jsx(sa,{className:"w-4 h-4"}),"Sea Views":e.jsx(de,{className:"w-4 h-4"}),"Onboard Cafe":e.jsx(pu,{className:"w-4 h-4"}),"Deck Access":e.jsx(de,{className:"w-4 h-4"}),"Life Jackets":e.jsx(sa,{className:"w-4 h-4"})},C0=()=>{const[n,l]=j.useState(""),[i,o]=j.useState([]),[u,m]=j.useState([]),[x,f]=j.useState(""),[g,w]=j.useState("All"),[v,y]=j.useState(""),[b,U]=j.useState(""),[A,N]=j.useState(""),[M,E]=j.useState(5e3),[$,D]=j.useState(0),[K,q]=j.useState("grid"),[ee,Y]=j.useState(!1),[T,ae]=j.useState(null),[pe,ze]=j.useState(""),[k,J]=j.useState(!1),[te,G]=j.useState([]),[S,H]=j.useState(!1),[z,R]=j.useState(!1),[se,De]=j.useState(!1),[Se,me]=j.useState(!1),[be,$e]=j.useState(!0),[Ge,Ne]=j.useState("ai"),[Tt,gt]=j.useState("All Countries"),[Et,rt]=j.useState("");j.useEffect(()=>{ds.getConfig().then(Z=>{l(Z.apiBaseUrl)})},[]),j.useEffect(()=>{n&&Ot()},[n]),j.useEffect(()=>{ia()},[i,x,g,v,b,M,$,z,se,Se]);const Ot=async()=>{try{$e(!0);const Z=await fetch(`${n}/api/transport-providers/services`);if(Z.ok){const le=await Z.json();console.log("API Response:",le),console.log("First service:",le[0]),console.log("First service keys:",Object.keys(le[0]||{})),console.log("First service image:",le[0]?.image),o(le)}else console.log("API failed, using mock data"),o(sp)}catch(Z){console.error("Failed to fetch services:",Z),console.log("Using mock data due to error"),o(sp)}finally{$e(!1)}},ia=()=>{let Z=i.filter(le=>{const Re=le.companyName.toLowerCase().includes(x.toLowerCase())||le.route.toLowerCase().includes(x.toLowerCase()),Xt=g==="All"||le.vehicleType===g,oa=!v||le.fromLocation.toLowerCase().includes(v.toLowerCase()),Xa=!b||le.toLocation.toLowerCase().includes(b.toLowerCase()),Uo=le.price<=M,_t=le.rating>=$,Lo=!z||le.isVerified,$n=!se||le.instantBooking,Gn=!Se||le.ecoFriendly;return Re&&Xt&&oa&&Xa&&Uo&&_t&&Lo&&$n&&Gn&&!A});Z.sort((le,Re)=>le.aiRecommended&&!Re.aiRecommended?-1:!le.aiRecommended&&Re.aiRecommended?1:le.popularRoute&&!Re.popularRoute?-1:!le.popularRoute&&Re.popularRoute?1:Re.rating-le.rating),m(Z)},Jt=async()=>{pe.trim()&&(J(!0),setTimeout(()=>{pe.toLowerCase().includes("kandy")&&U("Kandy"),pe.toLowerCase().includes("comfortable")&&D(4),pe.toLowerCase().includes("cheap")&&E(1e3),J(!1)},1500))},F=Z=>{G(le=>le.includes(Z)?le.filter(Re=>Re!==Z):le.length<3?[...le,Z]:le)},je=Z=>{switch(Z.toLowerCase()){case"car":return e.jsx(yl,{className:"w-5 h-5"});case"bus":return e.jsx(mv,{className:"w-5 h-5"});case"ferry":return e.jsx(uv,{className:"w-5 h-5"});case"plane":return e.jsx(Fa,{className:"w-5 h-5"});default:return e.jsx(yl,{className:"w-5 h-5"})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 pt-20",children:[e.jsxs("div",{className:"relative bg-gradient-to-r from-blue-600 to-green-600 text-white py-16 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:'url("https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=1920&h=400&fit=crop&q=80")',backgroundSize:"cover",backgroundPosition:"center"}})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative z-10",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl lg:text-5xl font-bold mb-4",children:"Find Transport Anywhere in the World"}),e.jsx("p",{className:"text-xl text-blue-100 max-w-2xl mx-auto",children:"Discover reliable transportation for your next adventure - from local taxis to international trains"})]}),e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl overflow-hidden shadow-2xl",children:[e.jsxs("div",{className:"flex border-b border-white/20",children:[e.jsx("button",{onClick:()=>Ne("ai"),className:`flex-1 px-6 py-4 font-semibold transition-all duration-300 ${Ge==="ai"?"bg-white/20 text-white border-b-2 border-white":"text-white/70 hover:text-white hover:bg-white/5"}`,children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(co,{className:"w-5 h-5 mr-2"}),"Ask AI Assistant"]})}),e.jsx("button",{onClick:()=>Ne("manual"),className:`flex-1 px-6 py-4 font-semibold transition-all duration-300 ${Ge==="manual"?"bg-white/20 text-white border-b-2 border-white":"text-white/70 hover:text-white hover:bg-white/5"}`,children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(de,{className:"w-5 h-5 mr-2"}),"Manual Search"]})})]}),Ge==="ai"&&e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(co,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Try: 'Fast train from Tokyo to Osaka' or 'Ferry from Athens to Santorini' or 'Van for 7 to Kandy'",value:pe,onChange:Z=>ze(Z.target.value),onKeyPress:Z=>Z.key==="Enter"&&Jt(),className:"w-full pl-12 pr-4 py-4 bg-white border-2 border-transparent rounded-xl text-gray-900 placeholder-gray-400 focus:outline-none focus:border-purple-400 shadow-lg"})]}),e.jsx(B,{onClick:Jt,className:"bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 px-8 py-4 rounded-xl font-semibold shadow-lg border-2 border-white/30",disabled:k,children:k?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(co,{className:"w-5 h-5 mr-2"}),"Search"]})})]}),e.jsx("p",{className:"text-white/80 text-sm mt-3 text-center",children:" Works worldwide: ParisLondon, BangkokPhuket, NYCBoston, ColomboKandy"})]}),Ge==="manual"&&e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("svg",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10 0C6.14 0 3 3.14 3 7c0 5.25 7 13 7 13s7-7.75 7-13c0-3.86-3.14-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})}),e.jsx("select",{value:Tt,onChange:Z=>gt(Z.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-transparent rounded-xl text-gray-900 focus:outline-none focus:border-blue-400 shadow-lg appearance-none cursor-pointer",children:Z1.map(Z=>e.jsx("option",{value:Z,children:Z},Z))})]}),e.jsxs("div",{className:"relative",children:[e.jsx(de,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"City or region...",value:Et,onChange:Z=>rt(Z.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-transparent rounded-xl text-gray-900 placeholder-gray-400 focus:outline-none focus:border-blue-400 shadow-lg"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(de,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"From location...",value:v,onChange:Z=>y(Z.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-transparent rounded-xl text-gray-900 placeholder-gray-400 focus:outline-none focus:border-blue-400 shadow-lg"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(aa,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"To location...",value:b,onChange:Z=>U(Z.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-transparent rounded-xl text-gray-900 placeholder-gray-400 focus:outline-none focus:border-blue-400 shadow-lg"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(kt,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"date",value:A,onChange:Z=>N(Z.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-transparent rounded-xl text-gray-900 focus:outline-none focus:border-blue-400 shadow-lg"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-white/90 text-sm mb-2 font-medium",children:" Transport Type:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:X1.map(Z=>{const le={All:"",Car:"",Bus:"",Ferry:"",Train:"",Plane:"","Bike Rental":"",Helicopter:""};return e.jsxs("button",{onClick:()=>w(Z),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${g===Z?"bg-white text-blue-600 shadow-lg scale-105":"bg-white/20 text-white hover:bg-white/30"}`,children:[e.jsx("span",{className:"mr-1",children:le[Z]}),Z]},Z)})})]}),e.jsxs(B,{onClick:ia,className:"w-full bg-white text-blue-600 hover:bg-blue-50 py-4 rounded-xl font-semibold shadow-lg",children:[e.jsx(wt,{className:"w-5 h-5 mr-2"}),"Search Transportation"]})]})]})})]})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[u.length," Services Found"]}),e.jsx("p",{className:"text-gray-600",children:"Choose from available transportation options"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[te.length>0&&e.jsxs(B,{onClick:()=>H(!0),className:"bg-purple-600 hover:bg-purple-700 text-white",children:[e.jsx(lg,{className:"w-4 h-4 mr-2"}),"Compare (",te.length,")"]}),e.jsxs(B,{variant:"outline",onClick:()=>Y(!ee),className:"flex items-center",children:[e.jsx(Mn,{className:"w-4 h-4 mr-2"}),"Filters"]}),e.jsxs("div",{className:"flex rounded-lg border border-gray-300 overflow-hidden",children:[e.jsx("button",{onClick:()=>q("grid"),className:`px-3 py-2 ${K==="grid"?"bg-blue-600 text-white":"bg-white text-gray-700"}`,children:e.jsx(Iu,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>q("list"),className:`px-3 py-2 ${K==="list"?"bg-blue-600 text-white":"bg-white text-gray-700"}`,children:e.jsx(zn,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>q("map"),className:`px-3 py-2 ${K==="map"?"bg-blue-600 text-white":"bg-white text-gray-700"}`,children:e.jsx(yr,{className:"w-4 h-4"})})]})]})]}),ee&&e.jsx(re,{className:"mb-8 border-0 shadow-lg",children:e.jsx(ne,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Price (LKR)"}),e.jsx("input",{type:"range",min:"0",max:"10000",step:"100",value:M,onChange:Z=>E(Number(Z.target.value)),className:"w-full"}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["Up to LKR ",M]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Rating"}),e.jsxs("select",{value:$,onChange:Z=>D(Number(Z.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:0,children:"Any Rating"}),e.jsx("option",{value:3,children:"3+ Stars"}),e.jsx("option",{value:4,children:"4+ Stars"}),e.jsx("option",{value:4.5,children:"4.5+ Stars"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Services"}),e.jsxs("div",{className:"relative",children:[e.jsx(wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by company or route...",value:x,onChange:Z=>f(Z.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quick Filters"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2",checked:z,onChange:Z=>R(Z.target.checked)}),e.jsx("span",{className:"text-sm",children:"Verified Only"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2",checked:se,onChange:Z=>De(Z.target.checked)}),e.jsx("span",{className:"text-sm",children:"Instant Booking"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2",checked:Se,onChange:Z=>me(Z.target.checked)}),e.jsx("span",{className:"text-sm",children:"Eco-Friendly"})]})]})]})]})})}),K==="map"&&e.jsx(re,{className:"mb-8 border-0 shadow-lg",children:e.jsx(ne,{className:"p-6",children:e.jsx("div",{className:"bg-gray-100 rounded-lg h-96 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(yr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Interactive Map View"}),e.jsx("p",{className:"text-gray-500",children:"Map integration with Google Maps API coming soon"}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Will show routes, pickup points, and real-time locations"})]})})})}),be?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsx("div",{className:K==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":K==="list"?"space-y-4":"hidden",children:u.length===0?e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(yl,{className:"w-16 h-16 mx-auto mb-4"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No services found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your search criteria or filters"}),e.jsx(B,{onClick:()=>{f(""),w("All"),y(""),U(""),E(5e3),D(0),R(!1),De(!1),me(!1)},className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Clear All Filters"})]}):u.map(Z=>e.jsx(re,{className:"group hover:shadow-xl transition-all duration-300 cursor-pointer border-0 shadow-lg",children:e.jsxs(ne,{className:"p-0",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:Z.image?.replace(/&amp;/g,"&"),alt:Z.companyName,className:"w-full h-48 object-cover rounded-t-lg",onError:le=>{console.log("Image failed to load:",Z.image),le.currentTarget.src="https://via.placeholder.com/400x250/3B82F6/FFFFFF?text=Transport+Service"}}),e.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[e.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg px-3 py-1 flex items-center",children:[je(Z.vehicleType),e.jsx("span",{className:"ml-2 text-sm font-medium",children:Z.vehicleType})]}),Z.aiRecommended&&e.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-lg px-2 py-1 flex items-center",children:[e.jsx(co,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"text-xs font-medium",children:"AI Pick"})]}),Z.popularRoute&&e.jsxs("div",{className:"bg-orange-500 text-white rounded-lg px-2 py-1 flex items-center",children:[e.jsx(cs,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"text-xs font-medium",children:"Popular"})]})]}),e.jsxs("div",{className:"absolute top-4 right-4 flex flex-col gap-2",children:[e.jsxs("div",{className:"bg-green-500 text-white rounded-lg px-3 py-1",children:[e.jsx("span",{className:"text-xs text-green-100",children:"LKR"}),e.jsx("span",{className:"text-sm font-bold ml-1",children:Z.price})]}),Z.isLive&&e.jsxs("div",{className:"bg-red-500 text-white rounded-lg px-2 py-1 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full mr-1 animate-pulse"}),e.jsx("span",{className:"text-xs",children:"Live"})]})]}),e.jsx("div",{className:"absolute bottom-4 right-4",children:e.jsx("button",{onClick:le=>{le.stopPropagation(),F(Z.id)},className:`p-2 rounded-full transition-colors ${te.includes(Z.id)?"bg-purple-500 text-white":"bg-white/80 text-gray-700 hover:bg-white"}`,children:e.jsx(lg,{className:"w-4 h-4"})})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-bold text-gray-900 group-hover:text-blue-600 transition-colors",children:Z.companyName}),Z.isVerified&&e.jsx(Ze,{className:"w-4 h-4 text-blue-500",title:"Verified Provider"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:Z.route}),Z.lastUpdated&&e.jsxs("p",{className:"text-xs text-green-600",children:["Updated ",Z.lastUpdated]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(_e,{className:"w-4 h-4 text-yellow-500 fill-current mr-1"}),e.jsx("span",{className:"text-sm font-medium",children:Z.rating.toFixed(1)}),e.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",Z.reviewCount,")"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(lt,{className:"w-4 h-4 mr-2"}),Z.duration]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(St,{className:"w-4 h-4 mr-2"}),Z.availableSeats," seats"]}),e.jsxs("div",{className:"text-gray-600",children:["Depart: ",Z.departure]}),e.jsxs("div",{className:"text-gray-600",children:["Arrive: ",Z.arrival]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[Z.amenities.slice(0,3).map(le=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:[ap[le],e.jsx("span",{className:"ml-1",children:le})]},le)),Z.amenities.length>3&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",Z.amenities.length-3," more"]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(B,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>ae(Z),children:"View Details"}),e.jsx(B,{size:"sm",className:"flex-1 bg-blue-600 hover:bg-blue-700",children:Z.instantBooking?"Book Instantly":"Request Booking"}),e.jsx(B,{variant:"outline",size:"sm",className:"px-3",children:e.jsx(rg,{className:"w-4 h-4"})})]})]})]})},Z.id))}),e.jsxs("div",{className:"mt-16 text-center bg-gradient-to-r from-blue-50 to-green-50 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Are you a Transport Provider?"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-2xl mx-auto",children:"Join our global network of transport providers from 50+ countries. Connect with travelers worldwide looking for reliable transportation."}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(fe,{to:"/transport-registration",children:e.jsx(B,{className:"bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-700 hover:to-green-700 text-white px-8 py-3 rounded-xl",children:"Register as Transport Provider"})}),e.jsxs(B,{variant:"outline",className:"px-8 py-3 rounded-xl",children:[e.jsx(aa,{className:"w-5 h-5 mr-2"}),"View Provider Dashboard"]})]})]}),S&&te.length>0&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Compare Services"}),e.jsx("button",{onClick:()=>H(!1),className:"w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx(ht,{className:"w-5 h-5"})})]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:te.map(Z=>{const le=i.find(Re=>Re.id===Z);return le?e.jsx(re,{className:"border-2",children:e.jsxs(ne,{className:"p-4",children:[e.jsx("img",{src:le.image,alt:le.companyName,className:"w-full h-32 object-cover rounded-lg mb-4"}),e.jsx("h3",{className:"font-bold text-lg mb-2",children:le.companyName}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Price:"}),e.jsxs("span",{className:"font-semibold text-green-600",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"LKR"})," ",le.price]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Rating:"}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(_e,{className:"w-3 h-3 text-yellow-500 fill-current mr-1"}),le.rating.toFixed(1)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Duration:"}),e.jsx("span",{children:le.duration})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Seats:"}),e.jsxs("span",{children:[le.availableSeats," available"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Booking:"}),e.jsx("span",{children:le.instantBooking?"Instant":"Request"})]})]}),e.jsx(B,{className:"w-full mt-4 bg-blue-600 hover:bg-blue-700",children:"Select This"})]})},le.id):null})})})]})}),T&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:T.image,alt:T.companyName,className:"w-full h-64 object-cover rounded-t-2xl"}),e.jsx("button",{onClick:()=>ae(null),className:"absolute top-4 right-4 w-8 h-8 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center transition-colors",children:e.jsx(ht,{className:"w-5 h-5 text-white"})})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:T.companyName}),e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:T.route}),e.jsx("p",{className:"text-gray-700 mb-6",children:T.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Schedule"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Departure: ",T.departure]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Arrival: ",T.arrival]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Duration: ",T.duration]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Capacity"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Available: ",T.availableSeats," seats"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Total: ",T.totalSeats," seats"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Amenities"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:T.amenities.map(Z=>e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[ap[Z],e.jsx("span",{className:"ml-2",children:Z})]},Z))})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(re,{className:"border-0 shadow-lg",children:e.jsxs(ne,{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:[e.jsx("span",{className:"text-lg text-gray-500",children:"LKR"})," ",T.price]}),e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(_e,{className:"w-5 h-5 text-yellow-500 fill-current mr-1"}),e.jsx("span",{className:"font-medium",children:T.rating.toFixed(1)}),e.jsxs("span",{className:"text-gray-500 ml-1",children:["(",T.reviewCount," reviews)"]})]}),T.isVerified&&e.jsxs("div",{className:"flex items-center justify-center text-blue-600 text-sm",children:[e.jsx(Ze,{className:"w-4 h-4 mr-1"}),"Verified Provider"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(B,{className:"w-full bg-blue-600 hover:bg-blue-700 py-3",children:T.instantBooking?"Book Instantly":"Request Booking"}),e.jsxs(B,{variant:"outline",className:"w-full py-3",children:[e.jsx(rg,{className:"w-4 h-4 mr-2"}),"Add to Trip Plan"]}),e.jsxs(B,{variant:"outline",className:"w-full py-3",children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),"Call Provider"]}),e.jsxs(B,{variant:"outline",className:"w-full py-3",children:[e.jsx(yu,{className:"w-4 h-4 mr-2"}),"Chat with Provider"]})]})]})}),e.jsx(re,{className:"border-0 shadow-lg",children:e.jsxs(ne,{className:"p-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Provider Info"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),T.phone]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(ys,{className:"w-4 h-4 mr-2"}),T.email]}),T.lastUpdated&&e.jsxs("div",{className:"text-green-600",children:["Last updated: ",T.lastUpdated]}),T.insuranceIncluded&&e.jsxs("div",{className:"flex items-center text-blue-600",children:[e.jsx(sa,{className:"w-4 h-4 mr-2"}),"Insurance Included"]})]})]})}),e.jsx(re,{className:"border-0 shadow-lg",children:e.jsxs(ne,{className:"p-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Community Insights"}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsx("p",{children:" 45 travelers used this route last month"}),e.jsx("p",{children:" Highly rated for punctuality"}),e.jsx("p",{children:" Popular among solo travelers"}),e.jsxs(B,{variant:"outline",size:"sm",className:"w-full mt-3",children:[e.jsx(yu,{className:"w-4 h-4 mr-2"}),"View Community Stories"]})]})]})})]})]})})]})})]})]})},W1=()=>{const{user:n}=Ct(),[l,i]=j.useState({currency:"USD",language:"en",travelStyle:"balanced",budgetRange:"medium",interests:["culture","food"],groupSize:"couple"}),[o,u]=j.useState(!1),m=async()=>{u(!0),setTimeout(()=>u(!1),1e3)};return n?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Travel Preferences"}),e.jsx("p",{className:"text-gray-600",children:"Customize your travel experience"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(re,{children:[e.jsx(st,{children:e.jsxs(at,{className:"flex items-center",children:[e.jsx(gs,{className:"w-5 h-5 mr-2"}),"Regional Settings"]})}),e.jsxs(ne,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),e.jsxs("select",{value:l.currency,onChange:x=>i({...l,currency:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"USD",children:"USD ($)"}),e.jsx("option",{value:"EUR",children:"EUR ()"}),e.jsx("option",{value:"GBP",children:"GBP ()"}),e.jsx("option",{value:"LKR",children:"LKR (Rs)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),e.jsxs("select",{value:l.language,onChange:x=>i({...l,language:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"si",children:""}),e.jsx("option",{value:"ta",children:""})]})]})]})]}),e.jsxs(re,{children:[e.jsx(st,{children:e.jsxs(at,{className:"flex items-center",children:[e.jsx(de,{className:"w-5 h-5 mr-2"}),"Travel Style"]})}),e.jsx(ne,{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Pace"}),e.jsx("div",{className:"space-y-2",children:["relaxed","balanced","packed"].map(x=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"travelStyle",value:x,checked:l.travelStyle===x,onChange:f=>i({...l,travelStyle:f.target.value}),className:"mr-2"}),e.jsx("span",{className:"capitalize",children:x})]},x))})]})})]}),e.jsxs(re,{children:[e.jsx(st,{children:e.jsxs(at,{className:"flex items-center",children:[e.jsx(js,{className:"w-5 h-5 mr-2"}),"Budget & Group"]})}),e.jsxs(ne,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget Range"}),e.jsxs("select",{value:l.budgetRange,onChange:x=>i({...l,budgetRange:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"low",children:"Budget ($300-600)"}),e.jsx("option",{value:"medium",children:"Medium ($600-1200)"}),e.jsx("option",{value:"high",children:"Luxury ($1200+)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Group Size"}),e.jsxs("select",{value:l.groupSize,onChange:x=>i({...l,groupSize:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"solo",children:"Solo"}),e.jsx("option",{value:"couple",children:"Couple"}),e.jsx("option",{value:"family",children:"Family"}),e.jsx("option",{value:"group",children:"Group"})]})]})]})]}),e.jsxs(re,{children:[e.jsx(st,{children:e.jsx(at,{children:"Travel Interests"})}),e.jsx(ne,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:["culture","food","nature","adventure","photography","nightlife"].map(x=>e.jsx(ea,{variant:l.interests.includes(x)?"primary":"secondary",className:"cursor-pointer",onClick:()=>{const f=l.interests.includes(x)?l.interests.filter(g=>g!==x):[...l.interests,x];i({...l,interests:f})},children:x},x))})})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs(B,{onClick:m,disabled:o,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2",children:[e.jsx(pr,{className:"w-4 h-4 mr-2"}),o?"Saving...":"Save Preferences"]})})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Not Logged In"}),e.jsx("p",{className:"text-gray-600",children:"Please log in to manage your travel preferences"})]})})},e4=()=>{const{user:n}=Ct(),[l,i]=j.useState({email:{tripUpdates:!0,deals:!1,newsletter:!0,reminders:!0},push:{tripUpdates:!0,deals:!0,messages:!0,location:!1},frequency:"daily"}),[o,u]=j.useState(!1),m=async()=>{u(!0),setTimeout(()=>u(!1),1e3)},x=(f,g)=>{i(w=>({...w,[f]:{...w[f],[g]:!w[f][g]}}))};return n?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Notifications"}),e.jsx("p",{className:"text-gray-600",children:"Manage how you receive updates"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(re,{children:[e.jsx(st,{children:e.jsxs(at,{className:"flex items-center",children:[e.jsx(ys,{className:"w-5 h-5 mr-2"}),"Email Notifications"]})}),e.jsx(ne,{className:"space-y-4",children:[{key:"tripUpdates",label:"Trip Updates",desc:"Get notified about your trip plans and changes",icon:de},{key:"deals",label:"Deals & Offers",desc:"Special offers and discounts on travel",icon:mr},{key:"newsletter",label:"Newsletter",desc:"Weekly travel tips and destination guides",icon:ys},{key:"reminders",label:"Trip Reminders",desc:"Reminders about upcoming trips",icon:kt}].map(({key:f,label:g,desc:w,icon:v})=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v,{className:"w-5 h-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:g}),e.jsx("p",{className:"text-sm text-gray-500",children:w})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.email[f],onChange:()=>x("email",f),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},f))})]}),e.jsxs(re,{children:[e.jsx(st,{children:e.jsxs(at,{className:"flex items-center",children:[e.jsx(mr,{className:"w-5 h-5 mr-2"}),"Push Notifications"]})}),e.jsx(ne,{className:"space-y-4",children:[{key:"tripUpdates",label:"Trip Updates",desc:"Real-time updates about your trips",icon:de},{key:"deals",label:"Flash Deals",desc:"Time-sensitive travel deals",icon:mr},{key:"messages",label:"Messages",desc:"Messages from travel agents and support",icon:yu},{key:"location",label:"Location-based",desc:"Suggestions based on your current location",icon:de}].map(({key:f,label:g,desc:w,icon:v})=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v,{className:"w-5 h-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:g}),e.jsx("p",{className:"text-sm text-gray-500",children:w})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.push[f],onChange:()=>x("push",f),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},f))})]}),e.jsxs(re,{children:[e.jsx(st,{children:e.jsx(at,{children:"Notification Frequency"})}),e.jsx(ne,{children:e.jsx("div",{className:"space-y-2",children:[{value:"instant",label:"Instant",desc:"Get notified immediately"},{value:"daily",label:"Daily Digest",desc:"Once per day summary"},{value:"weekly",label:"Weekly Summary",desc:"Weekly roundup of updates"}].map(({value:f,label:g,desc:w})=>e.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"radio",name:"frequency",value:f,checked:l.frequency===f,onChange:v=>i({...l,frequency:v.target.value}),className:"mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:g}),e.jsx("p",{className:"text-sm text-gray-500",children:w})]})]},f))})})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs(B,{onClick:m,disabled:o,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2",children:[e.jsx(pr,{className:"w-4 h-4 mr-2"}),o?"Saving...":"Save Settings"]})})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Not Logged In"}),e.jsx("p",{className:"text-gray-600",children:"Please log in to manage your notifications"})]})})},t4=()=>{const{user:n,logout:l}=Ct(),[i,o]=j.useState(!1),u=async()=>{window.confirm("Are you sure you want to delete your account? This action cannot be undone.")&&(o(!0),setTimeout(()=>o(!1),1e3))},m=async()=>{o(!0),setTimeout(()=>o(!1),1e3)};return n?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings & Privacy"}),e.jsx("p",{className:"text-gray-600",children:"Manage your account security and privacy"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(re,{children:[e.jsx(st,{children:e.jsxs(at,{className:"flex items-center",children:[e.jsx(sa,{className:"w-5 h-5 mr-2"}),"Account Security"]})}),e.jsxs(ne,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(No,{className:"w-5 h-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Change Password"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Update your account password"})]})]}),e.jsx(B,{variant:"outline",size:"sm",children:"Change"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(sa,{className:"w-5 h-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Add an extra layer of security"})]})]}),e.jsx(B,{variant:"outline",size:"sm",children:"Enable"})]})]})]}),e.jsxs(re,{children:[e.jsx(st,{children:e.jsxs(at,{className:"flex items-center",children:[e.jsx(Ya,{className:"w-5 h-5 mr-2"}),"Privacy Settings"]})}),e.jsxs(ne,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Profile Visibility"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Control who can see your profile"})]}),e.jsxs("select",{className:"px-3 py-1 border border-gray-300 rounded-lg text-sm",children:[e.jsx("option",{children:"Public"}),e.jsx("option",{children:"Friends Only"}),e.jsx("option",{children:"Private"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Trip Sharing"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Allow others to see your trips"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Location Tracking"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Allow location-based recommendations"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),e.jsxs(re,{children:[e.jsx(st,{children:e.jsxs(at,{className:"flex items-center",children:[e.jsx(ng,{className:"w-5 h-5 mr-2"}),"Data Management"]})}),e.jsx(ne,{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ng,{className:"w-5 h-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Export Data"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Download a copy of your data"})]})]}),e.jsx(B,{variant:"outline",size:"sm",onClick:m,disabled:i,children:i?"Exporting...":"Export"})]})})]}),e.jsxs(re,{className:"border-red-200",children:[e.jsx(st,{children:e.jsxs(at,{className:"flex items-center text-red-600",children:[e.jsx(xv,{className:"w-5 h-5 mr-2"}),"Danger Zone"]})}),e.jsx(ne,{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between p-3 border border-red-200 rounded-lg bg-red-50",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Do,{className:"w-5 h-5 text-red-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-red-900",children:"Delete Account"}),e.jsx("p",{className:"text-sm text-red-600",children:"Permanently delete your account and all data"})]})]}),e.jsx(B,{variant:"outline",size:"sm",onClick:u,disabled:i,className:"border-red-300 text-red-600 hover:bg-red-100",children:i?"Deleting...":"Delete"})]})})]})]})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Not Logged In"}),e.jsx("p",{className:"text-gray-600",children:"Please log in to access settings"})]})})},lp=({deal:n,onView:l,onClaim:i,onDelete:o,isRecommended:u=!1,distance:m,showDelete:x=!1})=>{const[f,g]=j.useState(!1),[w,v]=j.useState(!1),[y,b]=j.useState(!1),U=()=>{l(n._id),console.log("Deal data:",n),console.log("Contact info:",n.contactInfo),b(!0)},A=()=>{g(!f)},N=async()=>{v(!0);try{await navigator.share({title:n.title,text:`${n.discount} off at ${n.businessName}!`,url:window.location.href})}catch{navigator.clipboard.writeText(window.location.href)}v(!1)},M=ee=>{switch(ee){case"restaurant":return"bg-orange-100 text-orange-800";case"hotel":return"bg-blue-100 text-blue-800";case"cafe":return"bg-amber-100 text-amber-800";case"attraction":return"bg-purple-100 text-purple-800";case"transport":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},E=ee=>{switch(ee){case"restaurant":return"";case"hotel":return"";case"cafe":return"";case"attraction":return"";case"transport":return"";default:return""}},$=ee=>{if(ee.includes("Expired"))return"text-red-600 bg-red-50";const Y=parseInt(ee);return Y<=2?"text-red-600 bg-red-50":Y<=7?"text-orange-600 bg-orange-50":"text-green-600 bg-green-50"},K=(ee=>{if(!ee)return null;const Y=new Date,ae=new Date(ee).getTime()-Y.getTime(),pe=Math.ceil(ae/(1e3*60*60*24));return pe>0?`${pe} days left`:"Expired"})(n.validUntil),q=parseFloat(n.originalPrice)-parseFloat(n.discountedPrice);return e.jsxs("div",{className:`bg-white rounded-xl shadow-sm hover:shadow-xl transition-all duration-500 overflow-hidden border group hover:-translate-y-1 ${u?"border-transparent bg-gradient-to-br from-blue-50 to-purple-50 ring-2 ring-gradient-to-r ring-blue-200":"border-gray-100"}`,children:[e.jsxs("div",{className:"relative",children:[n.images&&n.images.length>0&&n.images[0]?e.jsx("img",{src:n.images[0],alt:n.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300",onError:ee=>{ee.currentTarget.src="https://images.unsplash.com/photo-1555881400-74d7acaacd8b?w=400&h=300&fit=crop&auto=format&q=80"}}):e.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-blue-100 to-purple-100 flex items-center justify-center",children:e.jsx(_e,{className:"w-12 h-12 text-gray-400"})}),n.aiRank&&e.jsx("div",{className:`absolute top-3 right-3 text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg ${n.aiRank==="best-value"?"bg-green-500":n.aiRank==="trending"?"bg-orange-500":"bg-red-500 animate-pulse"}`,children:n.aiRank==="best-value"?" Best Value":n.aiRank==="trending"?" Trending":" Limited Time"}),e.jsx("div",{className:"absolute top-12 right-3 bg-red-500 text-white text-sm font-bold px-3 py-1 rounded-full shadow-lg",children:n.discount}),e.jsxs("div",{className:"absolute top-3 left-3 flex flex-col gap-2",children:[e.jsxs("div",{className:`text-xs font-medium px-3 py-1 rounded-full flex items-center space-x-1 ${M(n.businessType)}`,children:[e.jsx("span",{children:E(n.businessType)}),e.jsx("span",{children:n.businessType.charAt(0).toUpperCase()+n.businessType.slice(1)})]}),n.userCategory&&e.jsx("div",{className:"bg-purple-500 text-white text-xs font-medium px-3 py-1 rounded-full",children:n.userCategory==="foodie"?" Foodie":n.userCategory==="adventure"?" Adventure":" Budget"})]}),n.claims>10&&e.jsxs("div",{className:"absolute top-3 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-orange-500 to-red-500 text-white text-xs font-bold px-2 py-1 rounded-full flex items-center space-x-1 animate-pulse",children:[e.jsx(bs,{className:"w-3 h-3"}),e.jsx("span",{children:"Trending"})]}),u&&e.jsxs("div",{className:"absolute bottom-3 left-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white text-xs font-bold px-2 py-1 rounded-full flex items-center space-x-1",children:[e.jsx(_e,{className:"w-3 h-3 fill-current"}),e.jsx("span",{children:"AI Pick"})]})]}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-1 line-clamp-1 group-hover:text-blue-600 transition-colors",children:n.title}),e.jsx("div",{className:"flex items-center justify-between text-gray-600 text-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(de,{className:"w-4 h-4 mr-1 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:n.businessName})]})}),m&&e.jsxs("div",{className:"mt-1 flex items-center text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded-full w-fit",children:[e.jsx(de,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"font-medium",children:m})]})]}),n.description&&e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:n.description}),e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-gray-500 line-through text-sm",children:["$",n.originalPrice]}),e.jsxs("span",{className:"text-green-600 font-bold text-lg",children:["$",n.discountedPrice]}),q>0&&e.jsxs("span",{className:"text-green-600 text-sm font-medium",children:["Save $",q.toFixed(0)]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center text-gray-500",children:[e.jsx(Ya,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:n.views})]}),e.jsxs("div",{className:"flex items-center text-gray-500",children:[e.jsx(St,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:n.claims})]})]}),K&&e.jsxs("div",{className:`flex items-center font-medium px-2 py-1 rounded-full text-xs ${$(K)}`,children:[e.jsx(lt,{className:"w-3 h-3 mr-1"}),e.jsx("span",{children:K})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:U,className:"flex-1 flex items-center justify-center space-x-2 bg-gray-100 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:[e.jsx(fv,{className:"w-4 h-4"}),e.jsx("span",{children:"View"})]}),e.jsxs("button",{onClick:A,className:`flex-1 py-3 px-4 rounded-lg transition-all duration-200 font-medium shadow-sm hover:shadow-md ${f?"bg-red-500 text-white hover:bg-red-600":"bg-gradient-to-r from-pink-500 to-red-500 text-white hover:from-pink-600 hover:to-red-600"}`,children:[e.jsx(dt,{className:`w-4 h-4 mr-2 inline ${f?"fill-current":""}`}),f?"Favorited":"Add to Favorite"]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[e.jsxs("button",{onClick:N,disabled:w,className:"flex items-center space-x-1 text-sm text-gray-500 hover:text-blue-500 transition-colors",children:[e.jsx(jo,{className:"w-4 h-4"}),e.jsx("span",{children:"Share"})]}),x&&o&&e.jsxs("button",{onClick:()=>o(n._id),className:"flex items-center space-x-1 text-sm text-red-500 hover:text-red-700 transition-colors",children:[e.jsx(Do,{className:"w-4 h-4"}),e.jsx("span",{children:"Delete"})]})]})]})]}),y&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:ee=>{ee.target===ee.currentTarget&&b(!1)},children:e.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:n.title}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-gray-600 mb-2",children:n.description}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-gray-500 line-through",children:["$",n.originalPrice]}),e.jsxs("span",{className:"text-green-600 font-bold text-lg",children:["$",n.discountedPrice]})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[" ",n.location.address]})]}),(n.contactInfo&&Object.values(n.contactInfo).some(ee=>ee)||!n.contactInfo)&&e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("h4",{className:"font-semibold",children:["Contact ",n.businessName]}),(!n.contactInfo||!Object.values(n.contactInfo).some(ee=>ee))&&e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:"https://example.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"Visit Website"})]}),e.jsxs("a",{href:"tel:+1234567890",className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"Call +1 (234) 567-890"})]}),e.jsxs("a",{href:"https://wa.me/1234567890",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"WhatsApp"})]}),e.jsxs("a",{href:"mailto:contact@business.com",className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"Email"})]})]}),n.contactInfo?.website&&e.jsxs("a",{href:n.contactInfo.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"Visit Website"})]}),n.contactInfo?.phone&&e.jsxs("a",{href:`tel:${n.contactInfo.phone}`,className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx("span",{children:""}),e.jsxs("span",{children:["Call ",n.contactInfo.phone]})]}),n.contactInfo?.whatsapp&&e.jsxs("a",{href:`https://wa.me/${n.contactInfo.whatsapp.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"WhatsApp"})]}),n.contactInfo?.email&&e.jsxs("a",{href:`mailto:${n.contactInfo.email}`,className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"Email"})]}),n.contactInfo?.facebook&&e.jsxs("a",{href:n.contactInfo.facebook,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"Facebook"})]}),n.contactInfo?.instagram&&e.jsxs("a",{href:n.contactInfo.instagram,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 bg-pink-50 rounded-lg hover:bg-pink-100 transition-colors",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"Instagram"})]})]}),e.jsx("button",{onClick:()=>b(!1),className:"w-full bg-gray-200 text-gray-800 py-2 rounded-lg hover:bg-gray-300 transition-colors",children:"Close"})]})})]})},Js="http://localhost:3001",Tn={async getDeals(n,l,i){const o=new URLSearchParams;o.append("isActive","true"),o.append("_t",Date.now().toString()),n&&n!=="all"&&o.append("businessType",n),l&&o.append("sort",l),i&&(o.append("lat",i.lat.toString()),o.append("lng",i.lng.toString()));const u=localStorage.getItem("lastDealsVisit");u&&o.append("lastVisit",u),localStorage.setItem("lastDealsVisit",Date.now().toString());const m=`${Js}/api/deals?${o}`,x=await fetch(m,{credentials:"include",headers:{Accept:"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"}});if(!x.ok)throw new Error(`Failed to fetch deals: ${x.status}`);return x.json()},async getTrendingDeals(){const n=await fetch(`${Js}/api/deals/trending`);if(!n.ok)throw new Error("Failed to fetch trending deals");return n.json()},async getNearbyDeals(n,l,i=10){const o=new URLSearchParams;o.append("lat",n.toString()),o.append("lng",l.toString()),o.append("radius",i.toString());const u=await fetch(`${Js}/api/deals/nearby?${o}`);if(!u.ok)throw new Error("Failed to fetch nearby deals");return u.json()},async getRecommendedDeals(n){const l=new URLSearchParams;n&&l.append("userId",n);const i=await fetch(`${Js}/api/deals/recommended?${l}`);if(!i.ok)throw new Error("Failed to fetch recommended deals");return i.json()},async viewDeal(n){await fetch(`${Js}/api/deals/${n}/view`,{method:"POST"})},async claimDeal(n,l){await fetch(`${Js}/api/deals/${n}/claim`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:l})})},async getDealAnalytics(n){const l=await fetch(`${Js}/api/deals/${n}/analytics`);if(!l.ok)throw new Error("Failed to fetch deal analytics");return l.json()},async createDeal(n){const l=await fetch(`${Js}/api/deals`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Origin:window.location.origin},credentials:"include",body:JSON.stringify({...n,views:0,claims:0,isActive:!0})});if(!l.ok){const i=await l.text();throw new Error(`Failed to create deal: ${l.status} - ${i}`)}return l.json()},async deleteDeal(n){if(!(await fetch(`${Js}/api/deals/${n}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete deal")}},s4=[{value:"all",label:"All Categories",icon:fs},{value:"restaurant",label:"Restaurants",icon:fs},{value:"hotel",label:"Hotels",icon:fs},{value:"cafe",label:"Cafes",icon:fs},{value:"attraction",label:"Attractions",icon:fs},{value:"transport",label:"Transport",icon:fs}],a4=[{value:"trending",label:"Trending"},{value:"discount",label:"Best Discount"},{value:"newest",label:"Newest"},{value:"expiring",label:"Expiring Soon"}],l4=()=>{const n=At(),{location:l}=j0(),[i,o]=j.useState([]),[u,m]=j.useState([]),[x,f]=j.useState(null),[g,w]=j.useState(!0),[v,y]=j.useState("all"),[b,U]=j.useState(""),[A,N]=j.useState("trending"),[M,E]=j.useState(!1),[$,D]=j.useState(0),[K,q]=j.useState("all");j.useEffect(()=>{ee()},[v]),j.useEffect(()=>{Y()},[i,b,A]);const ee=async(k=!1)=>{try{w(!0);const J=l?.latitude&&l?.longitude?{lat:l.latitude,lng:l.longitude}:void 0,{deals:te,newDealsCount:G}=await Tn.getDeals(v,A,J);o(te),D(G)}catch(J){console.error(" Error loading deals:",J),o([])}finally{w(!1)}},Y=()=>{let k=i;b&&(k=k.filter(J=>J.title.toLowerCase().includes(b.toLowerCase())||J.businessName.toLowerCase().includes(b.toLowerCase())||J.description.toLowerCase().includes(b.toLowerCase()))),K!=="all"&&(k=k.filter(J=>J.userCategory===K)),k=k.sort((J,te)=>{if(A==="distance"&&J.distance&&te.distance)return J.distance-te.distance;switch(A){case"trending":return te.views+te.claims*2-(J.views+J.claims*2);case"discount":const G=parseFloat(J.discount.replace("%",""));return parseFloat(te.discount.replace("%",""))-G;case"newest":const H=new Date(J.createdAt||J._id).getTime();return new Date(te.createdAt||te._id).getTime()-H;case"expiring":return!J.validUntil&&!te.validUntil?0:J.validUntil?te.validUntil?new Date(J.validUntil).getTime()-new Date(te.validUntil).getTime():-1:1;default:return 0}}),m(k),k.length>0&&!x&&f(k[0])},T=async k=>{try{await Tn.viewDeal(k),o(i.map(J=>J._id===k?{...J,views:J.views+1}:J))}catch(J){console.error("Failed to track view:",J)}},ae=async k=>{try{await Tn.claimDeal(k),o(i.map(J=>J._id===k?{...J,claims:J.claims+1}:J))}catch(J){console.error("Failed to claim deal:",J)}},pe=async k=>{if(confirm("Are you sure you want to delete this deal?"))try{await Tn.deleteDeal(k),o(i.filter(J=>J._id!==k))}catch(J){console.error("Failed to delete deal:",J),alert("Failed to delete deal")}},ze=u.reduce((k,J)=>{const te=parseFloat(J.originalPrice)||0,G=parseFloat(J.discountedPrice)||0;return k+(te-G)},0);return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-emerald-600 via-teal-600 to-cyan-600 text-white py-16",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4",children:e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-5xl font-bold mb-4",children:" Dynamic Deal Radar"}),e.jsx("p",{className:"text-xl text-blue-100 mb-6",children:"AI-curated deals personalized for you!"}),$>0&&e.jsxs("div",{className:"inline-flex items-center bg-orange-500 text-white px-4 py-2 rounded-full animate-pulse",children:[e.jsx(bs,{className:"w-4 h-4 mr-2"}),$," new deals added since your last visit!"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(B,{onClick:()=>ee(!0),className:"bg-white/20 text-white hover:bg-white/30 font-semibold px-4 py-3",children:"Refresh"}),e.jsxs(B,{onClick:()=>n("/deals/create"),className:"bg-white text-blue-600 hover:bg-gray-100 font-semibold px-6 py-3",children:[e.jsx(br,{className:"h-5 w-5 mr-2"}),"Create Deal"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(cs,{className:"w-6 h-6 mr-2"}),e.jsx("span",{className:"text-2xl font-bold",children:u.length})]}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Active Deals"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(de,{className:"w-6 h-6 mr-2"}),e.jsx("span",{className:"text-2xl font-bold",children:l?.city||"Global"})]}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Your Location"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(_e,{className:"w-6 h-6 mr-2"}),e.jsx("span",{className:"text-2xl font-bold",children:"Up to 50%"})]}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Max Savings"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(lt,{className:"w-6 h-6 mr-2"}),e.jsx("span",{className:"text-2xl font-bold",children:i.filter(k=>k.validUntil).length})]}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Expiring Soon"})]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8 border border-gray-100",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search deals by name, business, or description...",value:b,onChange:k=>U(k.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Mn,{className:"w-5 h-5 text-gray-500"}),e.jsx("select",{value:v,onChange:k=>y(k.target.value),className:"border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 min-w-[140px]",children:s4.map(k=>e.jsx("option",{value:k.value,children:k.label},k.value))})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(cs,{className:"w-5 h-5 text-gray-500"}),e.jsxs("select",{value:A,onChange:k=>N(k.target.value),className:"border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 min-w-[140px]",children:[a4.map(k=>e.jsx("option",{value:k.value,children:k.label},k.value)),e.jsx("option",{value:"distance",children:"Nearest First"})]})]})]})]}),e.jsx("div",{className:"mt-4 flex gap-2",children:["all","foodie","adventure","budget"].map(k=>e.jsx("button",{onClick:()=>q(k),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${K===k?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:k==="all"?" All":k==="foodie"?" Foodie":k==="adventure"?" Adventure":" Budget"},k))}),b&&e.jsx("div",{className:"mt-4 text-sm text-gray-600",children:e.jsxs("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full",children:[u.length,' deals found for "',b,'"']})})]}),u.length>0&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 text-center shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(fs,{className:"w-6 h-6 text-blue-600"})}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:u.length}),e.jsx("div",{className:"text-gray-600 text-sm",children:"Available Deals"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 text-center shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(vl,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",ze.toFixed(0)]}),e.jsx("div",{className:"text-gray-600 text-sm",children:"Total Savings"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 text-center shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(cs,{className:"w-6 h-6 text-purple-600"})}),e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:u.reduce((k,J)=>k+J.claims,0)}),e.jsx("div",{className:"text-gray-600 text-sm",children:"Deals Claimed"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 text-center shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(lt,{className:"w-6 h-6 text-orange-600"})}),e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:Math.round(u.reduce((k,J)=>k+J.views,0)/u.length)}),e.jsx("div",{className:"text-gray-600 text-sm",children:"Avg Views"})]})]}),x&&e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-xl p-6 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(bs,{className:"w-6 h-6"}),e.jsx("h2",{className:"text-2xl font-bold",children:"Deal of the Day"})]}),e.jsx("div",{className:"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full",children:e.jsx("span",{className:"text-sm font-medium",children:" Trending #1"})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-2",children:x.title}),e.jsx("p",{className:"text-orange-100 mb-4",children:x.description}),e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsxs("span",{className:"text-2xl font-bold",children:[x.discount," OFF"]}),e.jsxs("span",{className:"text-orange-100",children:["at ",x.businessName]})]}),e.jsxs(B,{onClick:()=>ae(x._id),className:"bg-white text-orange-600 hover:bg-orange-50 font-semibold",children:[e.jsx(yo,{className:"w-4 h-4 mr-2"}),"Claim Featured Deal"]})]}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6",children:[e.jsxs("div",{className:"text-3xl font-bold mb-2",children:["$",x.discountedPrice]}),e.jsxs("div",{className:"text-orange-100 line-through mb-2",children:["$",x.originalPrice]}),e.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm",children:[e.jsxs("span",{children:[" ",x.views," views"]}),e.jsxs("span",{children:[" ",x.claims," claimed"]})]})]})})]})]})}),g?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):u.length===0?e.jsxs("div",{className:"text-center py-20 bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(wt,{className:"w-10 h-10 text-gray-400"})}),e.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"No deals found"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Try adjusting your search or filter criteria."}),e.jsx(B,{onClick:()=>{U(""),y("all"),N("trending")},className:"bg-blue-600 text-white hover:bg-blue-700",children:"Clear Filters"})]}):e.jsxs("div",{children:[u.length>3&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:e.jsx(_e,{className:"w-4 h-4 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Recommended for You"}),e.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-purple-100 text-blue-700 px-3 py-1 rounded-full text-sm font-medium",children:"AI Curated"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:u.slice(0,3).map(k=>e.jsx(lp,{deal:k,onView:T,onClaim:ae,onDelete:pe,isRecommended:!0,showDelete:!0,distance:k.distance?`${k.distance.toFixed(1)} km away`:void 0},`rec-${k._id}`))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:["All Deals (",u.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(k=>e.jsx(lp,{deal:k,onView:T,onClaim:ae,onDelete:pe,showDelete:!0,distance:k.distance?`${k.distance.toFixed(1)} km away`:void 0},k._id))})]})]})]})]})},em=({value:n,onChange:l,required:i=!1})=>{const[o,u]=j.useState(!1),[m,x]=j.useState(""),[f,g]=j.useState([]),w=()=>{u(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(async N=>{const M=N.coords.latitude,E=N.coords.longitude;try{const $=await v(M,E);l({address:$,coordinates:{lat:M,lng:E},city:U($),country:A($)})}catch{l({address:`${M.toFixed(6)}, ${E.toFixed(6)}`,coordinates:{lat:M,lng:E}})}u(!1)},N=>{alert("Unable to get your location. Please enter manually."),u(!1)}):(alert("Geolocation is not supported by your browser"),u(!1))},v=async(N,M)=>(await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${N}&lon=${M}&zoom=18&addressdetails=1`)).json()).display_name||`${N.toFixed(6)}, ${M.toFixed(6)}`,y=async N=>{if(N.length<3){g([]);return}try{const E=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(N)}&limit=5`)).json();g(E)}catch(M){console.error("Search failed:",M)}};j.useEffect(()=>{const N=setTimeout(()=>{m&&y(m)},500);return()=>clearTimeout(N)},[m]);const b=N=>{l({address:N.display_name,coordinates:{lat:parseFloat(N.lat),lng:parseFloat(N.lon)},city:N.address?.city||N.address?.town||N.address?.village,country:N.address?.country}),x(""),g([])},U=N=>{const M=N.split(",");return M[1]?.trim()||M[0]?.trim()||""},A=N=>{const M=N.split(",");return M[M.length-1]?.trim()||""};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Search Location ",i&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",value:m,onChange:N=>x(N.target.value),placeholder:"Search for address, city, or place...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),f.length>0&&e.jsx("div",{className:"mt-2 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:f.map((N,M)=>e.jsx("button",{type:"button",onClick:()=>b(N),className:"w-full text-left px-4 py-3 hover:bg-blue-50 border-b border-gray-100 last:border-b-0 transition-colors",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(de,{className:"h-4 w-4 text-blue-600 mt-1 mr-2 flex-shrink-0"}),e.jsx("div",{className:"text-sm text-gray-900",children:N.display_name})]})},M))})]}),e.jsx("button",{type:"button",onClick:w,disabled:o,className:"w-full flex items-center justify-center space-x-2 px-4 py-3 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors disabled:opacity-50",children:o?e.jsxs(e.Fragment,{children:[e.jsx(gv,{className:"h-5 w-5 animate-spin"}),e.jsx("span",{children:"Getting location..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(aa,{className:"h-5 w-5"}),e.jsx("span",{children:"Use My Current Location"})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Latitude ",i&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"any",value:n.coordinates.lat||"",onChange:N=>l({...n,coordinates:{...n.coordinates,lat:parseFloat(N.target.value)||0}}),placeholder:"e.g., 6.9271",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:i})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Longitude ",i&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"any",value:n.coordinates.lng||"",onChange:N=>l({...n,coordinates:{...n.coordinates,lng:parseFloat(N.target.value)||0}}),placeholder:"e.g., 79.8612",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:i})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Full Address ",i&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:n.address,onChange:N=>l({...n,address:N.target.value}),rows:2,placeholder:"Enter or edit the full address",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:i})]}),n.coordinates.lat!==0&&n.coordinates.lng!==0&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(de,{className:"h-5 w-5 text-green-600 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-green-900",children:"Location Set Successfully"}),e.jsxs("p",{className:"text-xs text-green-700 mt-1",children:["Coordinates: ",n.coordinates.lat.toFixed(6),", ",n.coordinates.lng.toFixed(6)]}),e.jsx("a",{href:`https://www.openstreetmap.org/?mlat=${n.coordinates.lat}&mlon=${n.coordinates.lng}&zoom=15`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-800 underline mt-2 inline-block",children:"View on Map "})]})]})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-xs text-blue-800",children:[" ",e.jsx("strong",{children:"Tip:"}),` Accurate GPS coordinates help travelers find you on the mobile app's "Near Me" feature.`]})})]})},r4=()=>{const n=At(),[l,i]=j.useState(!1),[o,u]=j.useState(1),[m,x]=j.useState(!1),[f,g]=j.useState({title:"",description:"",businessName:"",businessType:"restaurant",originalPrice:"",discountedPrice:"",discount:"",discountPercent:0,location:{address:"",coordinates:{lat:0,lng:0}},validFrom:"",validUntil:"",images:[],videos:[],promoCode:"",maxClaims:"",showCountdown:!0,trackAnalytics:!0,destinationFocus:"",travelerType:"",visibilityScope:"global",tags:[],contactInfo:{website:"",phone:"",whatsapp:"",facebook:"",instagram:"",email:""}}),w=[{value:"restaurant",label:" Restaurant",color:"text-orange-600"},{value:"hotel",label:" Hotel",color:"text-blue-600"},{value:"cafe",label:" Caf",color:"text-amber-600"},{value:"attraction",label:" Attraction",color:"text-purple-600"},{value:"transport",label:" Transport",color:"text-green-600"},{value:"tour",label:" Tour",color:"text-indigo-600"},{value:"spa",label:" Spa & Wellness",color:"text-pink-600"},{value:"shopping",label:" Shopping",color:"text-red-600"}],v=[{value:"family",label:" Family"},{value:"backpacker",label:" Backpacker"},{value:"luxury",label:" Luxury"},{value:"adventure",label:" Adventure"},{value:"business",label:" Business"},{value:"romantic",label:" Romantic"}],y=[{id:1,title:"Deal Information",icon:fs},{id:2,title:"Pricing & Media",icon:js},{id:3,title:"Location & Validity",icon:de},{id:4,title:"Targeting & Analytics",icon:yo},{id:5,title:"Preview & Submit",icon:Ya}],b=(k,J)=>{switch(k){case"website":case"facebook":case"instagram":return!J||/^https?:\/\/.+/.test(J);case"phone":case"whatsapp":return!J||/^\+?[1-9]\d{1,14}$/.test(J.replace(/\s/g,""));case"email":return!J||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(J);default:return!0}},U=()=>JSON.parse(localStorage.getItem("localDeals")||"[]").some(J=>J.title.toLowerCase()===f.title.toLowerCase()&&J.businessName.toLowerCase()===f.businessName.toLowerCase()),A=(k,J)=>{if(g(k==="address"?te=>({...te,location:{...te.location,address:J}}):k==="contactInfo"?te=>({...te,[k]:J}):te=>({...te,[k]:J})),k==="originalPrice"||k==="discountedPrice"){const te=parseFloat(k==="originalPrice"?J:f.originalPrice),G=parseFloat(k==="discountedPrice"?J:f.discountedPrice);if(te>0&&G>0&&G<te){const S=Math.round((te-G)/te*100);g(H=>({...H,discount:`${S}% OFF`,discountPercent:S}))}}},N=async k=>{x(!0);try{const J=k==="title"?`Generate 3 catchy deal titles for a ${f.businessType} business named "${f.businessName}" with ${f.discountPercent}% off`:k==="description"?`Write engaging marketing copy for a ${f.businessType} deal: "${f.title}" at ${f.businessName}`:`Generate relevant tags for a ${f.businessType} travel deal`;if(k==="title"){const te=[`${f.discountPercent}% Off at ${f.businessName}`,`Special ${f.businessType} Deal - Save Big!`,`Limited Time: ${f.businessName} Discount`];g(G=>({...G,title:te[0]}))}else if(k==="description"){const te=`Enjoy an exclusive ${f.discountPercent}% discount at ${f.businessName}. Perfect for travelers looking for quality ${f.businessType} experiences. Limited time offer - book now!`;g(G=>({...G,description:te}))}else if(k==="tags"){const te=["travel","discount","limited-time",f.businessType,"exclusive"];g(G=>({...G,tags:te}))}}catch(J){console.error("AI generation failed:",J)}finally{x(!1)}},M=k=>new Promise(J=>{const te=document.createElement("canvas"),G=te.getContext("2d"),S=document.createElement("img");S.onload=()=>{let{width:R,height:se}=S;R>se?R>800&&(se=se*800/R,R=800):se>600&&(R=R*600/se,se=600),te.width=R,te.height=se,G.drawImage(S,0,0,R,se),J(te.toDataURL("image/jpeg",.8))},S.src=URL.createObjectURL(k)}),E=async(k,J)=>{for(const te of Array.from(J))if(k==="image")try{const G=await M(te);g(S=>({...S,images:[...S.images,G]}))}catch(G){console.error("Image compression failed:",G);const S=new FileReader;S.onload=H=>{const z=H.target?.result;g(R=>({...R,images:[...R.images,z]}))},S.readAsDataURL(te)}else{const G=new FileReader;G.onload=S=>{const H=S.target?.result;g(z=>({...z,videos:[...z.videos,H]}))},G.readAsDataURL(te)}},$=(k,J)=>{g(k==="image"?te=>({...te,images:te.images.filter((G,S)=>S!==J)}):te=>({...te,videos:te.videos.filter((G,S)=>S!==J)}))},D=async k=>{k.preventDefault();const J=[];if(Object.entries(f.contactInfo).forEach(([te,G])=>{b(te,G)||J.push(te)}),J.length>0){alert(`Invalid ${J.join(", ")} format(s). Please check and try again.`);return}if(!(U()&&!confirm("A similar deal already exists. Do you want to create it anyway?"))){i(!0);try{const te={...f,isActive:!0,views:0,claims:0,validFrom:f.validFrom?new Date(f.validFrom):new Date,validUntil:f.validUntil?new Date(f.validUntil):void 0,maxClaims:f.maxClaims?parseInt(f.maxClaims):void 0};await Tn.createDeal(te),n("/deals",{replace:!0}),window.location.reload()}catch(te){console.error("Error creating deal:",te),alert("Failed to create deal. Please try again.")}finally{i(!1)}}},K=()=>u(k=>Math.min(k+1,5)),q=()=>u(k=>Math.max(k-1,1)),ee=()=>{switch(o){case 1:return Y();case 2:return T();case 3:return ae();case 4:return pe();case 5:return ze();default:return Y()}},Y=()=>e.jsx(re,{children:e.jsxs(ne,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[e.jsx(fs,{className:"h-5 w-5 mr-2"}),"Deal Information"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Deal Title"}),e.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:()=>N("title"),disabled:m||!f.businessName,className:"text-xs",children:[e.jsx(ig,{className:"h-3 w-3 mr-1"}),"AI Suggest"]})]}),e.jsx("input",{type:"text",required:!0,value:f.title,onChange:k=>A("title",k.target.value),placeholder:"e.g., 30% Off All Main Courses",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),e.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:()=>N("description"),disabled:m||!f.title,className:"text-xs",children:[e.jsx(tt,{className:"h-3 w-3 mr-1"}),"Generate Copy"]})]}),e.jsx("textarea",{rows:3,value:f.description,onChange:k=>A("description",k.target.value),placeholder:"Describe your deal and any terms & conditions",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Name"}),e.jsx("input",{type:"text",required:!0,value:f.businessName,onChange:k=>A("businessName",k.target.value),placeholder:"Your business name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Type"}),e.jsx("select",{value:f.businessType,onChange:k=>A("businessType",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:w.map(k=>e.jsx("option",{value:k.value,children:k.label},k.value))})]})]})]})]})}),T=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx(re,{children:e.jsxs(ne,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[e.jsx(js,{className:"h-5 w-5 mr-2"}),"Pricing & Offer Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Original Price ($)"}),e.jsx("input",{type:"number",step:"0.01",required:!0,value:f.originalPrice,onChange:k=>A("originalPrice",k.target.value),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discounted Price ($)"}),e.jsx("input",{type:"number",step:"0.01",required:!0,value:f.discountedPrice,onChange:k=>A("discountedPrice",k.target.value),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount"}),e.jsx("input",{type:"text",value:f.discount,placeholder:"Auto-calculated",className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50",readOnly:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Promo Code"}),e.jsx("input",{type:"text",value:f.promoCode,onChange:k=>A("promoCode",k.target.value),placeholder:"Optional",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]})}),e.jsx(re,{children:e.jsxs(ne,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(ip,{className:"h-5 w-5 mr-2"}),"Media Upload"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Images"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:k=>k.target.files&&E("image",k.target.files),className:"hidden",id:"image-upload"}),e.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[e.jsx(Bu,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload images"})]})]}),f.images.length>0&&e.jsx("div",{className:"grid grid-cols-2 gap-2 mt-4",children:f.images.map((k,J)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:k,alt:`Deal ${J+1}`,className:"w-full h-20 object-cover rounded"}),e.jsx("button",{type:"button",onClick:()=>$("image",J),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 text-xs",children:""})]},J))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Videos"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[e.jsx("input",{type:"file",multiple:!0,accept:"video/*",onChange:k=>k.target.files&&E("video",k.target.files),className:"hidden",id:"video-upload"}),e.jsxs("label",{htmlFor:"video-upload",className:"cursor-pointer",children:[e.jsx(pv,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload videos"})]})]}),f.videos.length>0&&e.jsx("div",{className:"space-y-2 mt-4",children:f.videos.map((k,J)=>e.jsxs("div",{className:"relative bg-gray-100 p-2 rounded flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm truncate",children:["Video ",J+1]}),e.jsx("button",{type:"button",onClick:()=>$("video",J),className:"bg-red-500 text-white rounded-full w-5 h-5 text-xs",children:""})]},J))})]})]})]})})]}),ae=()=>e.jsx(re,{children:e.jsxs(ne,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[e.jsx(de,{className:"h-5 w-5 mr-2"}),"Location & Validity"]}),e.jsx("div",{className:"mb-6",children:e.jsx(em,{value:f.location,onChange:k=>g(J=>({...J,location:k})),required:!0})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Claims"}),e.jsx("input",{type:"number",value:f.maxClaims,onChange:k=>A("maxClaims",k.target.value),placeholder:"Unlimited",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valid From"}),e.jsx("input",{type:"date",value:f.validFrom,onChange:k=>A("validFrom",k.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valid Until"}),e.jsx("input",{type:"date",value:f.validUntil,onChange:k=>A("validUntil",k.target.value),min:f.validFrom||new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website URL"}),e.jsx("input",{type:"url",value:f.contactInfo.website,onChange:k=>A("contactInfo",{...f.contactInfo,website:k.target.value}),placeholder:"https://yourstore.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",value:f.contactInfo.phone,onChange:k=>A("contactInfo",{...f.contactInfo,phone:k.target.value}),placeholder:"+94 77 123 4567",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Number"}),e.jsx("input",{type:"tel",value:f.contactInfo.whatsapp,onChange:k=>A("contactInfo",{...f.contactInfo,whatsapp:k.target.value}),placeholder:"+94 77 123 4567",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",value:f.contactInfo.email,onChange:k=>A("contactInfo",{...f.contactInfo,email:k.target.value}),placeholder:"contact@business.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Facebook Page"}),e.jsx("input",{type:"url",value:f.contactInfo.facebook,onChange:k=>A("contactInfo",{...f.contactInfo,facebook:k.target.value}),placeholder:"https://facebook.com/yourpage",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instagram Profile"}),e.jsx("input",{type:"url",value:f.contactInfo.instagram,onChange:k=>A("contactInfo",{...f.contactInfo,instagram:k.target.value}),placeholder:"https://instagram.com/yourprofile",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]})]})}),pe=()=>e.jsx(re,{children:e.jsxs(ne,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[e.jsx(yo,{className:"h-5 w-5 mr-2"}),"Audience Targeting & Analytics"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ideal Traveler Type"}),e.jsxs("select",{value:f.travelerType,onChange:k=>A("travelerType",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Any Traveler"}),v.map(k=>e.jsx("option",{value:k.value,children:k.label},k.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Visibility Scope"}),e.jsxs("select",{value:f.visibilityScope,onChange:k=>A("visibilityScope",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"global",children:" Global"}),e.jsx("option",{value:"local",children:" Local Only"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Track Views & Claims"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Monitor engagement analytics"})]}),e.jsx("input",{type:"checkbox",checked:f.trackAnalytics,onChange:k=>A("trackAnalytics",k.target.checked),className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Show Countdown Timer"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Creates urgency in deal card"})]}),e.jsx("input",{type:"checkbox",checked:f.showCountdown,onChange:k=>A("showCountdown",k.target.checked),className:"rounded"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tags"}),e.jsxs(B,{type:"button",variant:"outline",size:"sm",onClick:()=>N("tags"),disabled:m,className:"text-xs",children:[e.jsx(ig,{className:"h-3 w-3 mr-1"}),"Auto-fill Tags"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:f.tags.map((k,J)=>e.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs flex items-center",children:[k,e.jsx("button",{type:"button",onClick:()=>{const te=f.tags.filter((G,S)=>S!==J);A("tags",te)},className:"ml-1 text-blue-600 hover:text-blue-800",children:""})]},J))})]})]})}),ze=()=>e.jsx(re,{children:e.jsxs(ne,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[e.jsx(Ya,{className:"h-5 w-5 mr-2"}),"Live Preview"]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden max-w-sm mx-auto",children:[e.jsxs("div",{className:"relative",children:[f.images[0]?e.jsx("img",{src:f.images[0],alt:"Deal preview",className:"w-full h-48 object-cover"}):e.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center",children:e.jsx(fs,{className:"w-12 h-12 text-gray-400"})}),f.discount&&e.jsx("div",{className:"absolute top-3 right-3 bg-red-500 text-white text-sm font-bold px-3 py-1 rounded-full",children:f.discount}),e.jsx("div",{className:"absolute top-3 left-3 bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded-full",children:w.find(k=>k.value===f.businessType)?.label||f.businessType})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-1",children:f.title||"Deal Title"}),e.jsxs("div",{className:"flex items-center text-gray-600 text-sm mb-2",children:[e.jsx(de,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:f.businessName||"Business Name"})]}),f.description&&e.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:f.description}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-gray-500 line-through text-sm",children:["$",f.originalPrice||"0.00"]}),e.jsxs("span",{className:"text-green-600 font-bold text-lg",children:["$",f.discountedPrice||"0.00"]})]}),f.showCountdown&&f.validUntil&&e.jsxs("div",{className:"flex items-center text-orange-600 text-sm",children:[e.jsx(lt,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"Limited time"})]})]}),e.jsx("button",{className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-2 px-4 rounded-lg font-medium",children:"Claim Deal"})]})]})]})});return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Create a New Deal"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Boost your visibility by publishing a verified travel deal"})]}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex items-center justify-center space-x-4",children:y.map((k,J)=>{const te=k.icon,G=o===k.id,S=o>k.id;return e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${G?"bg-blue-600 text-white":S?"bg-green-600 text-white":"bg-gray-200 text-gray-600"}`,children:e.jsx(te,{className:"h-5 w-5"})}),e.jsx("div",{className:"ml-2 hidden md:block",children:e.jsx("div",{className:`text-sm font-medium ${G?"text-blue-600":S?"text-green-600":"text-gray-500"}`,children:k.title})}),J<y.length-1&&e.jsx("div",{className:`w-8 h-0.5 mx-4 ${S?"bg-green-600":"bg-gray-200"}`})]},k.id)})})}),e.jsx("form",{onSubmit:D,children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-3",children:ee()}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(re,{children:e.jsxs(ne,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold mb-3 text-sm",children:"Quick Preview"}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[e.jsx("div",{className:"font-medium text-sm truncate",children:f.title||"Deal Title"}),e.jsx("div",{className:"text-xs text-gray-600 truncate",children:f.businessName||"Business Name"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-gray-500 line-through text-xs",children:["$",f.originalPrice||"0.00"]}),e.jsxs("span",{className:"text-green-600 font-bold text-sm",children:["$",f.discountedPrice||"0.00"]})]}),f.discount&&e.jsx("div",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full inline-block",children:f.discount})]})]})}),e.jsx(re,{children:e.jsx(ne,{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[o<5?e.jsxs(e.Fragment,{children:[e.jsx(B,{type:"button",onClick:K,className:"w-full bg-blue-600 hover:bg-blue-700",disabled:o===1&&(!f.title||!f.businessName),children:"Next Step"}),o>1&&e.jsx(B,{type:"button",variant:"outline",onClick:q,className:"w-full",children:"Previous"})]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{type:"submit",disabled:l,className:"w-full bg-green-600 hover:bg-green-700",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(pr,{className:"h-4 w-4 mr-2"}),"Create Deal"]})}),e.jsx(B,{type:"button",variant:"outline",onClick:q,className:"w-full",children:"Previous"})]}),e.jsx(B,{type:"button",variant:"outline",onClick:()=>n("/deals"),className:"w-full text-gray-600",children:"Cancel"})]})})}),m&&e.jsx(re,{children:e.jsx(ne,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2 text-blue-600",children:[e.jsx(tt,{className:"h-4 w-4 animate-pulse"}),e.jsx("span",{className:"text-sm",children:"AI is working..."})]})})})]})]})})]})})},n4=({story:n,onLike:l})=>{const[i,o]=j.useState(!1),u=At(),m=x=>{const f=new Date(x),w=Math.abs(new Date().getTime()-f.getTime()),v=Math.ceil(w/(1e3*60*60*24));return v===1?"Yesterday":v<7?`${v} days ago`:f.toLocaleDateString()};return e.jsxs("div",{className:"story-card bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[e.jsxs("div",{className:"p-6 flex items-center justify-between bg-gradient-to-r from-white to-gray-50",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center ring-2 ring-purple-100 hover:ring-purple-200 transition-all duration-200",children:n.author.profilePicture?e.jsx("img",{src:n.author.profilePicture,alt:n.author.username,className:"w-full h-full rounded-full object-cover"}):e.jsx("span",{className:"text-white font-medium text-sm",children:n.author.username[0]})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-400 border-2 border-white rounded-full"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:n.author.username}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[e.jsx(de,{className:"w-3 h-3"}),e.jsx("span",{children:n.location}),e.jsx("span",{children:""}),e.jsx(kt,{className:"w-3 h-3"}),e.jsx("span",{children:m(n.createdAt)})]})]})]}),e.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(bv,{className:"w-4 h-4 text-gray-500"})})]}),e.jsxs("div",{className:"px-6 pb-4",children:[e.jsx("h3",{onClick:()=>u(`/community/story/${n._id}`),className:"font-bold text-xl text-gray-900 mb-3 hover:text-purple-600 transition-colors cursor-pointer",children:n.title}),e.jsx("p",{className:"text-gray-700 mb-4 line-clamp-3 leading-relaxed",children:n.content}),n.tags&&n.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:n.tags.map((x,f)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-purple-100 text-purple-700 font-medium",children:["#",x]},f))}),n.place&&e.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(de,{className:"w-4 h-4 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:n.place.name}),e.jsx("p",{className:"text-xs text-gray-500",children:n.place.address})]})]})})]}),n.images.length>0&&e.jsx("div",{className:"px-6 pb-6",children:n.images.length===1?e.jsx("img",{src:n.images[0],alt:n.title,className:"w-full h-64 object-cover rounded-lg"}):e.jsx("div",{className:"grid grid-cols-2 gap-2",children:n.images.slice(0,4).map((x,f)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:x,alt:`${n.title} ${f+1}`,className:"w-full h-32 object-cover rounded-lg"}),f===3&&n.images.length>4&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-lg flex items-center justify-center",children:e.jsxs("span",{className:"text-white font-bold text-lg",children:["+",n.images.length-4]})})]},f))})}),e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-8",children:[e.jsxs("button",{onClick:()=>l(n._id),className:`group flex items-center space-x-2 transition-all duration-200 transform hover:scale-105 ${n.isLiked?"text-red-500":"text-gray-500 hover:text-red-500"}`,children:[e.jsx(dt,{className:`w-6 h-6 transition-all duration-200 ${n.isLiked?"fill-current animate-pulse":"group-hover:scale-110"}`}),e.jsx("span",{className:"font-semibold text-lg",children:n.likes})]}),e.jsxs("button",{onClick:()=>o(!i),className:"group flex items-center space-x-2 text-gray-500 hover:text-blue-500 transition-all duration-200 transform hover:scale-105",children:[e.jsx(jl,{className:"w-6 h-6 group-hover:scale-110 transition-transform duration-200"}),e.jsx("span",{className:"font-semibold text-lg",children:n.comments})]})]}),e.jsx("div",{className:"text-sm text-gray-400",children:m(n.createdAt)})]})}),i&&e.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gradient-to-r from-gray-50 to-blue-50 animate-fade-in-up",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex-shrink-0"}),e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",placeholder:"Write a comment...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})})]}),e.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Comments coming soon..."})]})})]})},Ua="https://travelbuddylk.com/api",uu=n=>({_id:n._id,title:n.content?.title||n.title||"Untitled Story",content:n.content?.text||n.content||"",images:n.content?.images||n.images||[],author:{username:n.username||n.author?.username||"Anonymous",profilePicture:n.profilePicture||n.author?.profilePicture},location:n.location||n.content?.location||"Unknown Location",place:n.place,likes:n.engagement?.likes||n.likes||0,comments:n.engagement?.comments||n.comments||0,createdAt:n.createdAt||new Date().toISOString(),isLiked:!1,tags:n.tags||[]}),ta={async getStories(n="recent"){try{console.log(" Fetching stories from:",`${Ua}/posts/community`);const l=await fetch(`${Ua}/posts/community?limit=20`);if(console.log(" Response status:",l.status),!l.ok)throw new Error("Failed to fetch stories");const i=await l.json();console.log(" Fetched posts:",i.length);let o=i.map(uu);return n==="popular"?o.sort((u,m)=>m.likes-u.likes):n==="trending"&&o.sort((u,m)=>m.likes+m.comments-(u.likes+u.comments)),o}catch(l){return console.error("Error fetching stories:",l),[]}},async getStory(n){try{const l=await fetch(`${Ua}/posts/community`);if(!l.ok)throw new Error("Failed to fetch story");const o=(await l.json()).find(u=>u._id===n);return o?uu(o):null}catch(l){return console.error("Error fetching story:",l),null}},async getTopTravelers(){try{const n=await fetch(`${Ua}/posts/community`);if(!n.ok)throw new Error("Failed to fetch travelers");const l=await n.json(),i={};return l.forEach(o=>{const u=o.username||o.author?.username||"Anonymous";i[u]||(i[u]={username:u,profilePicture:o.profilePicture||o.author?.profilePicture,storiesCount:0,totalLikes:0}),i[u].storiesCount++,i[u].totalLikes+=o.engagement?.likes||o.likes||0}),Object.values(i).sort((o,u)=>u.totalLikes-o.totalLikes).slice(0,5)}catch(n){return console.error("Error fetching top travelers:",n),[]}},async createStory(n){const l={userId:"507f1f77bcf86cd799439011",content:{title:n.title,text:n.content,images:n.images},location:n.location,place:n.place,tags:n.tags||[],username:"You",moderationStatus:"approved",engagement:{likes:0,comments:0}},i=await fetch(`${Ua}/posts/community`,{method:"POST",headers:{"Content-Type":"application/json","x-user-id":"507f1f77bcf86cd799439011"},body:JSON.stringify(l)});if(!i.ok){const u=await i.text();throw console.error("Create story error:",u),new Error(`Failed to create story: ${i.status}`)}const o=await i.json();return uu(o)},async likeStory(n){if(!(await fetch(`${Ua}/posts/${n}/like`,{method:"POST",headers:{"Content-Type":"application/json","x-user-id":"507f1f77bcf86cd799439011"},body:JSON.stringify({userId:"current-user"})})).ok)throw new Error("Failed to like story")},async getComments(n){try{const l=await fetch(`${Ua}/posts/${n}/comments`);if(!l.ok)throw new Error("Failed to fetch comments");return(await l.json()).comments||[]}catch(l){return console.error("Error fetching comments:",l),[]}},async addComment(n,l){const i=await fetch(`${Ua}/posts/${n}/comments`,{method:"POST",headers:{"Content-Type":"application/json","x-user-id":"507f1f77bcf86cd799439011"},body:JSON.stringify({text:l,username:"You",userId:"current-user"})});if(!i.ok)throw new Error("Failed to add comment");return i.json()},async generateAITags(n,l){return this.getFallbackTags(n,l)},getFallbackTags(n,l){const i=["Adventure","Food","Culture","Nature","Photography","Beach","Mountain","City","Nightlife","Shopping","History","Art","Wildlife","Festival","Local","Budget","Luxury","Solo","Family","Couple"],o=(n+" "+l).toLowerCase(),u=i.filter(m=>o.includes(m.toLowerCase())||o.includes(m.toLowerCase().slice(0,-1)));return u.length===0?["Travel","Adventure","Culture"]:u.slice(0,4)}},i4=({onClose:n,onPlaceSelect:l})=>{const[i,o]=j.useState(""),[u,m]=j.useState([]),[x,f]=j.useState(!1),g=async w=>{if(!w.trim()){m([]);return}f(!0);try{const v=await fetch(`/api/places/search?query=${encodeURIComponent(w)}&lat=6.9271&lng=79.8612&radius=50000`);if(v.ok){const b=(await v.json()).map(U=>({placeId:U.place_id,name:U.name,coordinates:{lat:U.geometry?.location?.lat||0,lng:U.geometry?.location?.lng||0},address:U.formatted_address||U.vicinity||""}));m(b)}}catch(v){console.error("Place search failed:",v)}finally{f(!1)}};return j.useEffect(()=>{const w=setTimeout(()=>{g(i)},300);return()=>clearTimeout(w)},[i]),e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[80vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Select Place"}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:e.jsx(ht,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(wt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search for a place...",value:i,onChange:w=>o(w.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",autoFocus:!0})]}),e.jsx("div",{className:"max-h-64 overflow-y-auto",children:x?e.jsx("div",{className:"text-center py-4",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600 mx-auto"})}):u.length>0?e.jsx("div",{className:"space-y-2",children:u.map(w=>e.jsx("button",{onClick:()=>l(w),className:"w-full text-left p-3 hover:bg-gray-50 rounded-lg border border-gray-100 transition-colors",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(de,{className:"w-4 h-4 text-purple-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:w.name}),e.jsx("p",{className:"text-sm text-gray-500",children:w.address})]})]})},w.placeId))}):i?e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No places found"}):e.jsx("p",{className:"text-gray-500 text-center py-4",children:"Start typing to search places"})})]})]})})},o4=({onClose:n,onStoryCreated:l})=>{const[i,o]=j.useState(""),[u,m]=j.useState(""),[x,f]=j.useState(""),[g,w]=j.useState(null),[v,y]=j.useState([]),[b,U]=j.useState([]),[A,N]=j.useState(!1),[M,E]=j.useState(!1),$=Y=>{const T=Y.target.files;T&&Array.from(T).forEach(ae=>{const pe=new FileReader;pe.onload=ze=>{ze.target?.result&&y(k=>[...k,ze.target.result])},pe.readAsDataURL(ae)})},D=Y=>{y(v.filter((T,ae)=>ae!==Y))},K=async Y=>{if(Y.preventDefault(),!(!i.trim()||!u.trim()||!x.trim()&&!g))try{N(!0);let T=b;if(b.length===0)try{T=await ta.generateAITags(i.trim(),u.trim())}catch{console.log("AI tagging failed, using manual tags")}const ae=await ta.createStory({title:i.trim(),content:u.trim(),location:g?.name||x.trim(),place:g,images:v,tags:T});l(ae)}catch(T){console.error("Failed to create story:",T)}finally{N(!1)}},q=Y=>{Y&&!b.includes(Y)&&U([...b,Y])},ee=Y=>{U(b.filter(T=>T!==Y))};return e.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[e.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Share Your Travel Story"}),e.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(ht,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("form",{onSubmit:K,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Story Title"}),e.jsx("input",{type:"text",value:i,onChange:Y=>o(Y.target.value),placeholder:"Give your story a catchy title...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),g?e.jsx("div",{className:"border border-gray-300 rounded-lg p-3 bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(de,{className:"w-4 h-4 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:g.name}),e.jsx("p",{className:"text-sm text-gray-500",children:g.address})]})]}),e.jsx("button",{type:"button",onClick:()=>w(null),className:"text-gray-400 hover:text-gray-600",children:e.jsx(ht,{className:"w-4 h-4"})})]})}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(de,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",value:x,onChange:Y=>f(Y.target.value),placeholder:"Where did this happen?",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!g}),e.jsx("button",{type:"button",onClick:()=>E(!0),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-purple-600",children:e.jsx(wt,{className:"w-5 h-5"})})]}),e.jsxs("button",{type:"button",onClick:()=>E(!0),className:"text-sm text-purple-600 hover:text-purple-700 flex items-center space-x-1",children:[e.jsx(wt,{className:"w-4 h-4"}),e.jsx("span",{children:"Search for a place"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Story"}),e.jsx("textarea",{value:u,onChange:Y=>m(Y.target.value),placeholder:"Tell us about your amazing travel experience...",rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:b.map((Y,T)=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-purple-100 text-purple-800",children:[Y,e.jsx("button",{type:"button",onClick:()=>ee(Y),className:"ml-2 text-purple-600 hover:text-purple-800",children:e.jsx(ht,{className:"w-3 h-3"})})]},T))}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[["Adventure","Food","Culture","Nature","Photography","Beach","Mountain","City"].map(Y=>!b.includes(Y)&&e.jsxs("button",{type:"button",onClick:()=>q(Y),className:"px-3 py-1 text-sm border border-gray-300 rounded-full hover:bg-gray-50 text-gray-600",children:["+ ",Y]},Y)),i.trim()&&u.trim()&&b.length===0&&e.jsx("button",{type:"button",onClick:async()=>{try{const Y=await ta.generateAITags(i.trim(),u.trim());U(Y)}catch(Y){console.error("AI tagging failed:",Y)}},className:"px-3 py-1 text-sm bg-purple-100 text-purple-700 rounded-full hover:bg-purple-200 font-medium",children:" AI Suggest Tags"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photos"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-purple-400 transition-colors",children:[e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:$,className:"hidden",id:"image-upload"}),e.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[e.jsx(Ha,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"Click to upload photos"}),e.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG up to 10MB each"})]})]}),v.length>0&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-4",children:v.map((Y,T)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:Y,alt:`Upload ${T+1}`,className:"w-full h-24 object-cover rounded-lg"}),e.jsx("button",{type:"button",onClick:()=>D(T),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600 transition-colors",children:e.jsx(ht,{className:"w-4 h-4"})})]},T))})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"button",onClick:n,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:A||!i.trim()||!u.trim()||!x.trim()&&!g,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:A?e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):e.jsxs(e.Fragment,{children:[e.jsx(Bu,{className:"w-5 h-5"}),e.jsx("span",{children:"Share Story"})]})})]})]})]}),M&&e.jsx(i4,{onClose:()=>E(!1),onPlaceSelect:Y=>{w(Y),f(Y.name),E(!1)}})]})},c4=({stories:n,onStoryClick:l})=>{const i=n.filter(u=>u.place),o=(u,m)=>{const x=(u+90)/180*100;return{x:(m+180)/360*100,y:100-x}};return e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-green-50 rounded-xl p-6 min-h-96 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[e.jsx("path",{d:"M10,30 Q20,25 30,30 L40,35 Q50,30 60,35 L70,30 Q80,35 90,30",stroke:"currentColor",strokeWidth:"0.5",fill:"none"}),e.jsx("path",{d:"M15,50 Q25,45 35,50 L45,55 Q55,50 65,55 L75,50 Q85,55 95,50",stroke:"currentColor",strokeWidth:"0.5",fill:"none"})]})}),i.map(u=>{const m=o(u.place.coordinates.lat,u.place.coordinates.lng);return e.jsx("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 cursor-pointer group",style:{left:`${Math.max(5,Math.min(95,m.x))}%`,top:`${Math.max(5,Math.min(95,m.y))}%`},onClick:()=>l(u),children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded-full flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:e.jsx(de,{className:"w-4 h-4 text-white"})}),e.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-3 min-w-48 border",children:[e.jsx("h4",{className:"font-semibold text-sm text-gray-900 mb-1",children:u.title}),e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:u.place.name}),e.jsxs("div",{className:"flex items-center space-x-3 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(dt,{className:"w-3 h-3"}),e.jsx("span",{children:u.likes})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(jl,{className:"w-3 h-3"}),e.jsx("span",{children:u.comments})]})]}),e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-white"})]})})]})},u._id)}),e.jsxs("div",{className:"absolute bottom-4 left-4 bg-white rounded-lg shadow-lg p-3",children:[e.jsx("h4",{className:"font-semibold text-sm text-gray-900 mb-2",children:"Story Locations"}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx("div",{className:"w-4 h-4 bg-purple-600 rounded-full flex items-center justify-center",children:e.jsx(de,{className:"w-2 h-2 text-white"})}),e.jsxs("span",{children:[i.length," stories"]})]})]}),i.length===0&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(de,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600",children:"No stories with locations yet"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Stories with tagged places will appear here"})]})})]})},d4=()=>{const[n,l]=j.useState([]),[i,o]=j.useState([]),[u,m]=j.useState(!0),[x,f]=j.useState(null),[g,w]=j.useState(!1),[v,y]=j.useState("recent"),[b,U]=j.useState(null),[A,N]=j.useState(""),[M,E]=j.useState("feed");j.useEffect(()=>{$()},[v]);const $=async()=>{try{m(!0),f(null);const[T,ae]=await Promise.all([ta.getStories(v),ta.getTopTravelers()]);l(T),o(ae)}catch(T){console.error("Failed to load community data:",T),f("Unable to load stories. Please check your connection and try again.")}finally{m(!1)}},D=n.filter(T=>{const ae=!b||T.tags&&T.tags.includes(b);if(!A)return ae;const pe=A.toLowerCase(),ze=T.title.toLowerCase().includes(pe)||T.content.toLowerCase().includes(pe)||T.location.toLowerCase().includes(pe)||T.place?.name.toLowerCase().includes(pe)||T.tags&&T.tags.some(te=>te.toLowerCase().includes(pe)),J=Object.entries({food:["restaurant","cuisine","dish","meal","eat","taste"],adventure:["hiking","climbing","extreme","thrill","exciting"],culture:["museum","temple","traditional","heritage","history"],nature:["park","wildlife","forest","mountain","beach","ocean"],city:["urban","downtown","street","building","shopping"]}).some(([te,G])=>pe.includes(te)?G.some(S=>T.title.toLowerCase().includes(S)||T.content.toLowerCase().includes(S)):!1);return ae&&(ze||J)}),K=Array.from(new Set(n.flatMap(T=>T.tags||[]))),q=async T=>{try{await ta.likeStory(T),l(n.map(ae=>ae._id===T?{...ae,likes:ae.likes+(ae.isLiked?-1:1),isLiked:!ae.isLiked}:ae))}catch(ae){console.error("Failed to like story:",ae)}},ee=async T=>{if(confirm("Delete this story?"))try{await ta.deleteStory(T),l(n.filter(ae=>ae._id!==T))}catch(ae){console.error("Failed to delete story:",ae),alert("Failed to delete story")}},Y=T=>{l([T,...n]),w(!1)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("div",{className:"relative bg-gradient-to-br from-purple-600 via-pink-600 to-red-600 text-white py-16 overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-10 left-10 w-20 h-20 border-2 border-white rounded-full animate-pulse"}),e.jsx("div",{className:"absolute top-32 right-20 w-16 h-16 border-2 border-white rounded-full animate-pulse delay-1000"}),e.jsx("div",{className:"absolute bottom-20 left-1/4 w-12 h-12 border-2 border-white rounded-full animate-pulse delay-500"})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 relative",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"inline-flex items-center space-x-2 bg-white/20 backdrop-blur-sm rounded-full px-4 py-2 mb-6",children:[e.jsx(Ha,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Travel Stories & Adventures"})]}),e.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-white to-purple-100 bg-clip-text text-transparent",children:"Travel Community"}),e.jsx("p",{className:"text-xl md:text-2xl text-purple-100 mb-8 max-w-2xl mx-auto",children:"Share your adventures, inspire others, and discover amazing travel stories from around the world"}),e.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-6 md:gap-8",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-lg px-4 py-2",children:[e.jsx(Ha,{className:"w-5 h-5 text-yellow-300"}),e.jsx("span",{className:"font-semibold",children:M==="map"?D.filter(T=>T.place).length:D.length}),e.jsx("span",{className:"text-purple-100",children:M==="map"?"Places":"Stories"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-lg px-4 py-2",children:[e.jsx(St,{className:"w-5 h-5 text-green-300"}),e.jsx("span",{className:"font-semibold",children:i.length}),e.jsx("span",{className:"text-purple-100",children:"Travelers"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-lg px-4 py-2",children:[e.jsx(dt,{className:"w-5 h-5 text-red-300"}),e.jsx("span",{className:"font-semibold",children:n.reduce((T,ae)=>T+ae.likes,0)}),e.jsx("span",{className:"text-purple-100",children:"Likes"})]})]})]})})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"lg:col-span-3",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-8 backdrop-blur-sm",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex space-x-2 bg-gray-100 rounded-lg p-1",children:[e.jsxs("button",{onClick:()=>y("recent"),className:`px-4 py-2 rounded-md font-medium transition-all duration-200 ${v==="recent"?"bg-white text-purple-700 shadow-sm transform scale-105":"text-gray-600 hover:text-purple-600"}`,children:[e.jsx(cs,{className:"w-4 h-4 inline mr-2"}),"Recent"]}),e.jsxs("button",{onClick:()=>y("popular"),className:`px-4 py-2 rounded-md font-medium transition-all duration-200 ${v==="popular"?"bg-white text-purple-700 shadow-sm transform scale-105":"text-gray-600 hover:text-purple-600"}`,children:[e.jsx(dt,{className:"w-4 h-4 inline mr-2"}),"Popular"]}),e.jsxs("button",{onClick:()=>y("trending"),className:`px-4 py-2 rounded-md font-medium transition-all duration-200 ${v==="trending"?"bg-white text-purple-700 shadow-sm transform scale-105":"text-gray-600 hover:text-purple-600"}`,children:[e.jsx(vl,{className:"w-4 h-4 inline mr-2"}),"Trending"]})]}),e.jsxs("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>E("feed"),className:`px-3 py-2 rounded-md font-medium transition-all duration-200 ${M==="feed"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:e.jsx(zn,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>E("map"),className:`px-3 py-2 rounded-md font-medium transition-all duration-200 ${M==="map"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:e.jsx(yr,{className:"w-4 h-4"})})]})]}),e.jsxs("button",{onClick:()=>w(!0),className:"group flex items-center space-x-2 bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 text-white px-8 py-3 rounded-xl hover:from-purple-700 hover:via-pink-700 hover:to-red-700 transition-all duration-300 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105",children:[e.jsx(br,{className:"w-5 h-5 group-hover:rotate-90 transition-transform duration-300"}),e.jsx("span",{children:"Share Your Story"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search stories... (try 'food', 'adventure', 'culture')",value:A,onChange:T=>N(T.target.value),className:"w-full px-4 py-2 pl-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),e.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),A&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full",children:" Smart Search"})})]}),K.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>U(null),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${b?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-purple-600 text-white"}`,children:"All"}),K.slice(0,8).map(T=>e.jsxs("button",{onClick:()=>U(b===T?null:T),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${b===T?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["#",T]},T))]})]})}),x?e.jsxs("div",{className:"text-center py-20 bg-white rounded-xl shadow-lg border border-red-100",children:[e.jsx("div",{className:"text-red-500 mb-4",children:e.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Oops! Something went wrong"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:x}),e.jsx("button",{onClick:$,className:"bg-purple-600 text-white px-6 py-3 rounded-xl hover:bg-purple-700 transition-all duration-200 font-semibold shadow-lg",children:"Try Again"})]}):u?e.jsx("div",{className:"space-y-6",children:[1,2,3].map(T=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 animate-pulse",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/6"})]})]}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-4"}),e.jsx("div",{className:"h-48 bg-gray-200 rounded-lg mb-4"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-20"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-20"})]})]},T))}):n.length===0?e.jsxs("div",{className:"text-center py-20 bg-gradient-to-br from-white to-purple-50 rounded-xl shadow-lg border border-purple-100",children:[e.jsxs("div",{className:"relative inline-block mb-6",children:[e.jsx(Ha,{className:"w-20 h-20 text-purple-300 mx-auto animate-bounce"}),e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-purple-500 rounded-full flex items-center justify-center",children:e.jsx(br,{className:"w-4 h-4 text-white"})})]}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"No stories yet"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Be the first to share your amazing travel experience and inspire others!"}),e.jsx("button",{onClick:()=>w(!0),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-4 rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105",children:"Share Your First Story"})]}):M==="map"?e.jsxs("div",{className:"space-y-6",children:[e.jsx(c4,{stories:D,onStoryClick:T=>{console.log("Story clicked:",T.title)}}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Stories on Map"}),e.jsx("button",{onClick:()=>E("feed"),className:"text-purple-600 hover:text-purple-700 font-medium text-sm",children:" Back to Feed"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:D.filter(T=>T.place).slice(0,6).map(T=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 hover:bg-gray-100 cursor-pointer transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(de,{className:"w-3 h-3 text-purple-600"}),e.jsx("span",{className:"font-medium text-xs",children:T.place?.name})]}),e.jsx("p",{className:"text-sm text-gray-700 font-medium",children:T.title}),e.jsxs("p",{className:"text-xs text-gray-500",children:["by ",T.author.username]})]},T._id))})]})]}):e.jsx("div",{className:"space-y-8",children:D.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-500 text-lg",children:"No stories found matching your filters."}),e.jsx("button",{onClick:()=>{U(null),N("")},className:"mt-4 text-purple-600 hover:text-purple-700 font-medium",children:"Clear filters"})]}):D.map((T,ae)=>e.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:`${ae*100}ms`},children:e.jsx(n4,{story:T,onLike:q,onDelete:ee})},T._id))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-white to-yellow-50 rounded-xl shadow-lg border border-yellow-100 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(vl,{className:"w-5 h-5 text-yellow-600"})}),e.jsx("h3",{className:"font-bold text-lg text-gray-900",children:"Top Travelers"}),e.jsx("div",{className:"flex-1"}),e.jsx("span",{className:"text-xs bg-yellow-200 text-yellow-800 px-2 py-1 rounded-full font-medium",children:"This Month"})]}),e.jsx("div",{className:"space-y-4",children:i.map((T,ae)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:T.profilePicture?e.jsx("img",{src:T.profilePicture,alt:T.username,className:"w-full h-full rounded-full object-cover"}):e.jsx("span",{className:"text-white font-medium text-sm",children:T.username[0]})}),ae<3&&e.jsx("div",{className:`absolute -top-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold ${ae===0?"bg-yellow-500 text-white":ae===1?"bg-gray-400 text-white":"bg-orange-500 text-white"}`,children:ae+1})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:T.username}),e.jsxs("p",{className:"text-sm text-gray-500",children:[T.storiesCount," stories  ",T.totalLikes," likes"]})]})]},T.username))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-white to-green-50 rounded-xl shadow-lg border border-green-100 p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(de,{className:"w-5 h-5 text-green-600"})}),e.jsx("h3",{className:"font-bold text-lg text-gray-900",children:"Trending Places"})]}),e.jsxs("div",{className:"space-y-3",children:[Array.from(new Set(n.filter(T=>T.place).map(T=>T.place.name))).slice(0,5).map((T,ae)=>{const pe=n.filter(ze=>ze.place?.name===T);return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${ae===0?"bg-green-500":ae===1?"bg-green-400":"bg-green-300"}`}),e.jsx("span",{className:"text-gray-700 text-sm font-medium",children:T})]}),e.jsxs("span",{className:"text-xs text-gray-500",children:[pe.length," stories"]})]},T)}),n.filter(T=>T.place).length===0&&e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No places tagged yet"})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-white to-purple-50 rounded-xl shadow-lg border border-purple-100 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(cs,{className:"w-5 h-5 text-purple-600"})}),e.jsx("h3",{className:"font-bold text-lg text-gray-900",children:"Community Stats"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Total Stories"}),e.jsx("span",{className:"font-bold text-purple-600",children:n.length})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Active Members"}),e.jsx("span",{className:"font-bold text-purple-600",children:i.length})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Total Likes"}),e.jsx("span",{className:"font-bold text-purple-600",children:n.reduce((T,ae)=>T+ae.likes,0)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Tagged Places"}),e.jsx("span",{className:"font-bold text-purple-600",children:new Set(n.filter(T=>T.place).map(T=>T.place.name)).size})]})]})]})]})]})}),g&&e.jsx(o4,{onClose:()=>w(!1),onStoryCreated:Y})]})},u4=[{id:"all",label:"All Events",icon:""},{id:"music",label:"Music",icon:""},{id:"cultural",label:"Cultural",icon:""},{id:"sports",label:"Sports",icon:""},{id:"nightlife",label:"Nightlife",icon:""},{id:"tech",label:"Tech",icon:""},{id:"food",label:"Food & Drink",icon:""},{id:"festivals",label:"Festivals",icon:""}],m4=()=>{const[n,l]=j.useState(""),[i,o]=j.useState("all"),[u,m]=j.useState("grid"),[x,f]=j.useState(!1),[g,w]=j.useState([]),[v,y]=j.useState(null),[b,U]=j.useState({priceRange:[0,1e3],dateRange:"all",rating:0,location:""});j.useEffect(()=>{w([{id:"1",name:"Summer Music Festival 2024",description:"The biggest music festival of the year featuring top artists",category:"music",location:{city:"Barcelona",country:"Spain"},date:"2024-07-15",endDate:"2024-07-17",time:"18:00",price:150,currency:"EUR",image:"https://images.unsplash.com/photo-1533174072545-7a4b6ad7a6c3?w=800",rating:4.8,attendees:5e3,organizer:"Global Events Co.",isTrending:!0,isVerified:!0},{id:"2",name:"Tokyo Food Festival",description:"Experience authentic Japanese cuisine from top chefs",category:"food",location:{city:"Tokyo",country:"Japan"},date:"2024-06-20",time:"12:00",price:0,currency:"JPY",image:"https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800",rating:4.9,attendees:3e3,organizer:"Tokyo Tourism Board",isFree:!0,isVerified:!0},{id:"3",name:"Tech Innovation Summit",description:"Leading tech conference with industry experts",category:"tech",location:{city:"San Francisco",country:"USA"},date:"2024-08-10",time:"09:00",price:500,currency:"USD",image:"https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=800",rating:4.7,attendees:2e3,organizer:"Tech Leaders Inc.",isTrending:!0,isVerified:!0}])},[]);const A=g.filter(N=>!(i!=="all"&&N.category!==i||n&&!N.name.toLowerCase().includes(n.toLowerCase())&&!N.location.city.toLowerCase().includes(n.toLowerCase())||b.rating>0&&N.rating<b.rating));return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-16",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-5xl font-bold mb-4",children:"Discover Amazing Events"}),e.jsx("p",{className:"text-xl text-white/90",children:"Find concerts, festivals, workshops, and experiences worldwide"})]}),e.jsx("div",{className:"max-w-4xl mx-auto mb-8",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-2 flex items-center",children:[e.jsx(wt,{className:"w-6 h-6 text-gray-400 ml-4"}),e.jsx("input",{type:"text",placeholder:"Search events, locations, or dates...",value:n,onChange:N=>l(N.target.value),className:"flex-1 px-4 py-4 text-gray-900 text-lg focus:outline-none"}),e.jsx("button",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-4 rounded-xl font-semibold hover:shadow-lg transition-all",children:"Search"})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-6 max-w-3xl mx-auto",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold",children:[g.length,"+"]}),e.jsx("div",{className:"text-white/80",children:"Events This Month"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold",children:"50+"}),e.jsx("div",{className:"text-white/80",children:"Cities Covered"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold",children:"8"}),e.jsx("div",{className:"text-white/80",children:"Categories"})]})]})]})}),e.jsx("div",{className:"bg-white border-b sticky top-0 z-40 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"flex items-center space-x-4 overflow-x-auto",children:u4.map(N=>e.jsxs("button",{onClick:()=>o(N.id),className:`flex items-center space-x-2 px-4 py-2 rounded-full whitespace-nowrap transition-all ${i===N.id?"bg-purple-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx("span",{children:N.icon}),e.jsx("span",{className:"font-medium",children:N.label})]},N.id))}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>f(!x),className:"flex items-center space-x-2 px-4 py-2 border-2 border-gray-300 rounded-lg hover:border-purple-600 transition-all",children:[e.jsx(Mn,{className:"w-5 h-5"}),e.jsx("span",{children:"Filters"})]}),e.jsxs("div",{className:"flex border-2 border-gray-300 rounded-lg overflow-hidden",children:[e.jsx("button",{onClick:()=>m("grid"),className:`p-2 ${u==="grid"?"bg-purple-600 text-white":"bg-white text-gray-600"}`,children:e.jsx(Iu,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>m("list"),className:`p-2 ${u==="list"?"bg-purple-600 text-white":"bg-white text-gray-600"}`,children:e.jsx(zn,{className:"w-5 h-5"})})]})]})]})})}),x&&e.jsx("div",{className:"bg-white border-b shadow-lg",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:e.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date Range"}),e.jsxs("select",{className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-purple-600 focus:outline-none",children:[e.jsx("option",{children:"All Dates"}),e.jsx("option",{children:"This Weekend"}),e.jsx("option",{children:"Next 7 Days"}),e.jsx("option",{children:"Next Month"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Price"}),e.jsxs("select",{className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-purple-600 focus:outline-none",children:[e.jsx("option",{children:"All Prices"}),e.jsx("option",{children:"Free"}),e.jsx("option",{children:"Under $50"}),e.jsx("option",{children:"$50 - $200"}),e.jsx("option",{children:"$200+"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Rating"}),e.jsxs("select",{className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-purple-600 focus:outline-none",value:b.rating,onChange:N=>U({...b,rating:Number(N.target.value)}),children:[e.jsx("option",{value:0,children:"All Ratings"}),e.jsx("option",{value:4,children:"4.0+ Stars"}),e.jsx("option",{value:4.5,children:"4.5+ Stars"}),e.jsx("option",{value:4.8,children:"4.8+ Stars"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Location"}),e.jsx("input",{type:"text",placeholder:"City or Country",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-purple-600 focus:outline-none",value:b.location,onChange:N=>U({...b,location:N.target.value})})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[A.length," Events Found"]}),e.jsxs("select",{className:"px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-purple-600 focus:outline-none",children:[e.jsx("option",{children:"Sort by: Recommended"}),e.jsx("option",{children:"Date: Soonest First"}),e.jsx("option",{children:"Price: Low to High"}),e.jsx("option",{children:"Rating: Highest First"}),e.jsx("option",{children:"Most Popular"})]})]}),e.jsx("div",{className:"mb-6",children:e.jsx("button",{onClick:()=>window.location.href="/events/create",className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-6 py-3 rounded-xl font-semibold hover:shadow-lg transition-all flex items-center space-x-2",children:e.jsx("span",{children:"+ Create New Event"})})}),e.jsx("div",{className:u==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:A.map(N=>e.jsxs(re,{className:"overflow-hidden hover:shadow-2xl transition-all duration-300 hover:-translate-y-1",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:N.image,alt:N.name,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"absolute top-3 left-3 flex flex-wrap gap-2",children:[N.isTrending&&e.jsxs("span",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-xs font-semibold flex items-center",children:[e.jsx(cs,{className:"w-3 h-3 mr-1"})," Trending"]}),N.isFree&&e.jsx("span",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-xs font-semibold",children:"Free Entry"}),N.isVerified&&e.jsx("span",{className:"bg-blue-500 text-white px-3 py-1 rounded-full text-xs font-semibold",children:" Verified"})]}),e.jsx("button",{className:"absolute top-3 right-3 bg-white/90 backdrop-blur-sm p-2 rounded-full hover:bg-white transition-all",children:e.jsx(dt,{className:"w-5 h-5 text-gray-700"})})]}),e.jsxs(ne,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs font-semibold text-purple-600 uppercase",children:N.category}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(_e,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),e.jsx("span",{className:"text-sm font-semibold",children:N.rating})]})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-2",children:N.name}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(de,{className:"w-4 h-4 mr-2 text-gray-400"}),N.location.city,", ",N.location.country]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(kt,{className:"w-4 h-4 mr-2 text-gray-400"}),new Date(N.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(St,{className:"w-4 h-4 mr-2 text-gray-400"}),N.attendees.toLocaleString()," attendees"]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[e.jsx("div",{children:N.isFree?e.jsx("span",{className:"text-2xl font-bold text-green-600",children:"Free"}):e.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[N.currency==="USD"?"$":N.currency==="EUR"?"":"",N.price]})}),e.jsxs("button",{onClick:()=>y(N),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-2 rounded-lg font-semibold hover:shadow-lg transition-all flex items-center space-x-2",children:[e.jsx(yv,{className:"w-4 h-4"}),e.jsx("span",{children:"View Details"})]})]})]})]},N.id))})]}),v&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>y(null),children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:N=>N.stopPropagation(),children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:v.image,alt:v.name,className:"w-full h-64 object-cover rounded-t-2xl"}),e.jsx("button",{onClick:()=>y(null),className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm p-2 rounded-full hover:bg-white transition-all",children:e.jsx(jo,{className:"w-5 h-5 text-gray-700"})})]}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-semibold text-purple-600 uppercase",children:v.category}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mt-2",children:v.name})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(_e,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),e.jsx("span",{className:"text-xl font-bold",children:v.rating})]})]}),e.jsx("p",{className:"text-gray-600 mb-6",children:v.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-xl",children:[e.jsx(de,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Location"}),e.jsxs("p",{className:"font-semibold",children:[v.location.city,", ",v.location.country]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-xl",children:[e.jsx(kt,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Date"}),e.jsx("p",{className:"font-semibold",children:new Date(v.date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-xl",children:[e.jsx(lt,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Time"}),e.jsx("p",{className:"font-semibold",children:v.time})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-xl",children:[e.jsx(St,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Attendees"}),e.jsx("p",{className:"font-semibold",children:v.attendees.toLocaleString()})]})]})]}),e.jsx("div",{className:"border-t pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Organized by"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:v.organizer})]}),e.jsx("div",{className:"text-right",children:v.isFree?e.jsx("span",{className:"text-3xl font-bold text-green-600",children:"Free"}):e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Price"}),e.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:[v.currency==="USD"?"$":v.currency==="EUR"?"":"",v.price]})]})})]})}),e.jsxs("div",{className:"flex space-x-4 mt-6",children:[e.jsx("button",{className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-4 rounded-xl font-bold text-lg hover:shadow-xl transition-all",children:"Book Now"}),e.jsx("button",{className:"px-6 py-4 border-2 border-gray-300 rounded-xl hover:border-purple-600 transition-all",children:e.jsx(dt,{className:"w-6 h-6 text-gray-600"})}),e.jsx("button",{className:"px-6 py-4 border-2 border-gray-300 rounded-xl hover:border-purple-600 transition-all",children:e.jsx(jo,{className:"w-6 h-6 text-gray-600"})})]})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-purple-900 to-pink-900 text-white py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[e.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Are You an Event Organizer?"}),e.jsx("p",{className:"text-xl text-white/90 mb-8",children:"Join TravelBuddy and reach millions of travelers worldwide"}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx("button",{onClick:()=>window.location.href="/event-organizer-registration",className:"bg-white text-purple-900 px-8 py-4 rounded-xl font-bold text-lg hover:shadow-2xl transition-all",children:"Register as Organizer"}),e.jsx("button",{className:"border-2 border-white text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-white/10 transition-all",children:"Learn More"})]})]})})]})},h4=()=>e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 text-white py-20",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[e.jsx("h1",{className:"text-5xl font-bold mb-6",children:"About TravelBuddy"}),e.jsx("p",{className:"text-xl text-white/90",children:"Your AI-powered travel companion for discovering, planning, and experiencing the world"})]})}),e.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-16",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-12 mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:"Our Mission"}),e.jsx("p",{className:"text-lg text-gray-700 leading-relaxed text-center max-w-3xl mx-auto",children:"We believe travel should be accessible, personalized, and stress-free. TravelBuddy combines cutting-edge AI technology with real-world travel data to help you plan unforgettable journeys tailored to your preferences, budget, and style."})]}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8 mb-16",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center hover:shadow-2xl transition-shadow",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(gs,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Global Coverage"}),e.jsx("p",{className:"text-gray-600",children:"Discover destinations worldwide with local insights"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center hover:shadow-2xl transition-shadow",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(bs,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"AI-Powered"}),e.jsx("p",{className:"text-gray-600",children:"Smart recommendations based on your preferences"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center hover:shadow-2xl transition-shadow",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(St,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Community"}),e.jsx("p",{className:"text-gray-600",children:"Connect with travelers and share experiences"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center hover:shadow-2xl transition-shadow",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-pink-500 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(dt,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Personalized"}),e.jsx("p",{className:"text-gray-600",children:"Trips tailored to your style and budget"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Our Story"}),e.jsxs("div",{className:"space-y-4 text-gray-700 leading-relaxed",children:[e.jsx("p",{children:"TravelBuddy was born from a simple idea: travel planning shouldn't be overwhelming. Our founders, passionate travelers themselves, experienced firsthand the challenges of researching destinations, finding hidden gems, and creating the perfect itinerary."}),e.jsx("p",{children:"By combining artificial intelligence with real traveler insights, we've created a platform that makes trip planning intuitive, efficient, and enjoyable. Whether you're a solo backpacker, a family on vacation, or a luxury traveler, TravelBuddy adapts to your needs."}),e.jsx("p",{children:"Today, we're proud to serve thousands of travelers worldwide, helping them discover new places, save time and money, and create memories that last a lifetime."})]})]})]})]}),x4=()=>{const[n,l]=j.useState({name:"",email:"",subject:"",message:""}),[i,o]=j.useState(!1),u=m=>{m.preventDefault(),console.log("Contact form submitted:",n),o(!0),setTimeout(()=>{o(!1),l({name:"",email:"",subject:"",message:""})},3e3)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 text-white py-20",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[e.jsx("h1",{className:"text-5xl font-bold mb-6",children:"Contact Us"}),e.jsx("p",{className:"text-xl text-white/90",children:"Have questions? We'd love to hear from you. Send us a message and we'll respond as soon as possible."})]})}),e.jsx("div",{className:"max-w-6xl mx-auto px-6 py-16",children:e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx(re,{className:"bg-white shadow-xl border-0",children:e.jsx(ne,{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(ys,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Email"}),e.jsx("p",{className:"text-gray-600",children:"support@travelbuddy.com"}),e.jsx("p",{className:"text-gray-600",children:"info@travelbuddy.com"})]})]})})}),e.jsx(re,{className:"bg-white shadow-xl border-0",children:e.jsx(ne,{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(vs,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Phone"}),e.jsx("p",{className:"text-gray-600",children:"+1 (555) 123-4567"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Mon-Fri 9am-6pm EST"})]})]})})}),e.jsx(re,{className:"bg-white shadow-xl border-0",children:e.jsx(ne,{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(de,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Office"}),e.jsx("p",{className:"text-gray-600",children:"123 Travel Street"}),e.jsx("p",{className:"text-gray-600",children:"New York, NY 10001"})]})]})})})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsx(re,{className:"bg-white shadow-xl border-0",children:e.jsxs(ne,{className:"p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Send us a Message"}),i?e.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(og,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-green-900 mb-2",children:"Message Sent!"}),e.jsx("p",{className:"text-green-700",children:"Thank you for contacting us. We'll get back to you soon."})]}):e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Name"}),e.jsx("input",{type:"text",required:!0,value:n.name,onChange:m=>l({...n,name:m.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Your name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",required:!0,value:n.email,onChange:m=>l({...n,email:m.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"your@email.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Subject"}),e.jsx("input",{type:"text",required:!0,value:n.subject,onChange:m=>l({...n,subject:m.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"How can we help?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Message"}),e.jsx("textarea",{required:!0,value:n.message,onChange:m=>l({...n,message:m.target.value}),rows:6,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",placeholder:"Tell us more about your inquiry..."})]}),e.jsxs(B,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white py-4 text-lg font-semibold",children:[e.jsx(og,{className:"w-5 h-5 mr-2"}),"Send Message"]})]})]})})})]})})]})},f4=()=>{const l=_o().pathname.split("/").filter(o=>o);if(l.length===0)return null;const i=o=>o.split("-").map(u=>u.charAt(0).toUpperCase()+u.slice(1)).join(" ");return e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-600 py-4 px-4 max-w-7xl mx-auto","aria-label":"Breadcrumb",children:[e.jsxs(fe,{to:"/",className:"hover:text-blue-600 flex items-center gap-1",children:[e.jsx(zu,{className:"w-4 h-4"}),e.jsx("span",{children:"Home"})]}),l.map((o,u)=>{const m=`/${l.slice(0,u+1).join("/")}`,x=u===l.length-1;return e.jsxs(Ou.Fragment,{children:[e.jsx(Lu,{className:"w-4 h-4"}),x?e.jsx("span",{className:"font-semibold text-gray-900",children:i(o)}):e.jsx(fe,{to:m,className:"hover:text-blue-600",children:i(o)})]},m)})]})},g4=()=>{const{currentPage:n}=d0(),{user:l,isLoading:i,logout:o}=Ct(),u=_o();if(i)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})});if(l&&(u.pathname==="/login"||u.pathname==="/register"))return e.jsx(Wf,{to:"/",replace:!0});if(!l&&!["/login","/register","/role-selection","/"].includes(u.pathname))return e.jsx(Wf,{to:"/",replace:!0});const x=()=>{if(u.pathname.startsWith("/places/"))return e.jsx(N0,{});if(u.pathname.startsWith("/trips/")&&u.pathname!=="/trips")return e.jsx(w0,{});switch(u.pathname){case"/":case"/home":return e.jsx(E1,{});case"/discovery":return e.jsx(ep,{});case"/trips":return e.jsx(G1,{});case"/services":case"/agents":return e.jsx(S0,{});case"/transport":return e.jsx(C0,{});case"/deals":return e.jsx(l4,{});case"/deals/create":return e.jsx(r4,{});case"/community":return e.jsx(d4,{});case"/events":return e.jsx(m4,{});case"/about":return e.jsx(h4,{});case"/contact":return e.jsx(x4,{});case"/profile":return e.jsx(O1,{});case"/preferences":return e.jsx(W1,{});case"/notifications":return e.jsx(e4,{});case"/settings":return e.jsx(t4,{});default:return e.jsx(ep,{})}};return u.pathname.startsWith("/places/")||u.pathname.startsWith("/trips/")&&u.pathname!=="/trips"?e.jsx("div",{className:"min-h-screen bg-gray-50",children:x()}):e.jsxs("div",{className:"min-h-screen",children:[e.jsx(p1,{}),e.jsx(f4,{}),e.jsx("main",{className:"pt-16 lg:pt-20",children:x()}),e.jsx(b1,{})]})},p4=()=>{const[n,l]=j.useState("Checking...");return j.useEffect(()=>{(async()=>{try{console.log(" Checking for redirect result...");const o=await l0(Ws);o?(console.log(" Redirect result found:",o),l(`Success! User: ${o.user.email}`)):(console.log(" No redirect result"),l("No redirect result (normal page load)"))}catch(o){console.error(" Redirect error:",o),l(`Error: ${o.message}`)}})()},[]),e.jsxs("div",{style:{position:"fixed",bottom:10,right:10,background:"#000",color:"#0f0",padding:"10px",fontSize:"12px",zIndex:9999,fontFamily:"monospace"},children:["Google Redirect: ",n]})},b4=()=>{const[n,l]=j.useState(!0),[i,o]=j.useState(""),[u,m]=j.useState(""),[x,f]=j.useState(""),[g,w]=j.useState(!1),[v,y]=j.useState(!1),[b,U]=j.useState(""),{login:A,register:N,loginWithGoogle:M,loginDemo:E,user:$,isLoading:D}=Ct(),K=At();j.useEffect(()=>{console.log(" LoginPage: User state changed",{hasUser:!!$,userId:$?.id,email:$?.email,authLoading:D}),$?(console.log(" LoginPage: User authenticated, navigating to home"),K("/")):console.log(" LoginPage: No user, staying on login page")},[$,K,D]);const q=async ee=>{ee.preventDefault(),y(!0),U("");try{n?await A(i,u):await N(x,i,u),K("/")}catch(Y){U(Y.message||"Authentication failed")}finally{y(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:[e.jsx(p4,{}),e.jsx("div",{className:"max-w-md w-full",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(Ga,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n?"Welcome Back":"Create Account"}),e.jsx("p",{className:"text-gray-600 mt-2",children:n?"Sign in to your account":"Join TravelBuddy today"})]}),b&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:b}),e.jsxs("form",{onSubmit:q,className:"space-y-6",children:[!n&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",value:x,onChange:ee=>f(ee.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your username",autoComplete:"username",required:!n})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(ys,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"email",value:i,onChange:ee=>o(ee.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email",autoComplete:"email",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(No,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:g?"text":"password",value:u,onChange:ee=>m(ee.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password",autoComplete:"current-password",required:!0}),e.jsx("button",{type:"button",onClick:()=>w(!g),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:g?e.jsx(op,{className:"w-5 h-5"}):e.jsx(Ya,{className:"w-5 h-5"})})]})]}),e.jsx(B,{type:"submit",disabled:v,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white py-3 rounded-lg font-medium",children:v?"Please wait...":n?"Sign In":"Create Account"})]}),e.jsxs("div",{className:"my-6 flex items-center",children:[e.jsx("div",{className:"flex-1 border-t border-gray-300"}),e.jsx("span",{className:"px-4 text-sm text-gray-500",children:"or continue with"}),e.jsx("div",{className:"flex-1 border-t border-gray-300"})]}),e.jsxs(B,{onClick:async()=>{y(!0),U("");try{await M()}catch(ee){U(ee.message),y(!1)}},disabled:v,className:"w-full py-3 mb-3 bg-white hover:bg-gray-50 text-gray-900 border-2 border-gray-300 flex items-center justify-center gap-3",children:[e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),e.jsx(B,{onClick:async()=>{y(!0);try{await E(),K("/")}catch(ee){U(ee.message)}finally{y(!1)}},disabled:v,className:"w-full py-3 mb-3 bg-orange-600 hover:bg-orange-700 text-white",children:" Demo Admin Login"}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600",children:[n?"Don't have an account?":"Already have an account?",e.jsx("button",{type:"button",onClick:()=>l(!n),className:"ml-2 text-blue-600 hover:text-blue-700 font-medium",children:n?"Sign up":"Sign in"})]})})]})})]})},y4=()=>{const[n,l]=j.useState({username:"",email:"",password:"",confirmPassword:""}),[i,o]=j.useState(!1),[u,m]=j.useState(!1),[x,f]=j.useState(""),{register:g,loginWithGoogle:w}=Ct(),v=At(),y=async b=>{if(b.preventDefault(),m(!0),f(""),n.password!==n.confirmPassword){f("Passwords do not match"),m(!1);return}try{await g(n.username,n.email,n.password),v("/discovery")}catch(U){f(U.message||"Registration failed. Please try again.")}finally{m(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsxs(fe,{to:"/",className:"inline-flex items-center space-x-2",children:[e.jsx(de,{className:"h-10 w-10 text-primary-600"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"TravelBuddy"})]})}),e.jsxs(re,{children:[e.jsxs(st,{className:"text-center",children:[e.jsx(at,{className:"text-2xl",children:"Create Account"}),e.jsx(j1,{children:"Join TravelBuddy and start your adventure"})]}),e.jsxs(ne,{children:[e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[x&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md text-sm",children:x}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"username",type:"text",value:n.username,onChange:b=>l({...n,username:b.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Choose a username",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(ys,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"email",type:"email",value:n.email,onChange:b=>l({...n,email:b.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your email",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(No,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"password",type:i?"text":"password",value:n.password,onChange:b=>l({...n,password:b.target.value}),className:"w-full pl-10 pr-12 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Create a password",required:!0}),e.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?e.jsx(op,{className:"h-5 w-5"}):e.jsx(Ya,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(No,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"confirmPassword",type:"password",value:n.confirmPassword,onChange:b=>l({...n,confirmPassword:b.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Confirm your password",required:!0})]})]}),e.jsx(B,{type:"submit",className:"w-full",disabled:u,children:u?"Creating Account...":"Create Account"})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]})}),e.jsx("div",{className:"mt-6",children:e.jsxs(B,{type:"button",variant:"outline",className:"w-full bg-gray-100 text-gray-400 cursor-not-allowed",disabled:!0,children:[e.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"#9CA3AF",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"})}),"Google Sign-In (Setup Required)"]})}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",e.jsx(fe,{to:"/login",className:"text-primary-600 hover:text-primary-500 font-medium",children:"Sign in"})]})})]})]})]})})},v4=()=>{const{id:n}=Ru(),l=At(),[i,o]=j.useState(null),[u,m]=j.useState(!0),[x,f]=j.useState(!1),[g,w]=j.useState(0);j.useEffect(()=>{v()},[n]);const v=async()=>{try{m(!0);const M=await ta.getStory(n);o(M)}catch(M){console.error("Failed to load story:",M)}finally{m(!1)}},y=async()=>{if(i)try{await ta.likeStory(i._id),o({...i,likes:i.likes+(i.isLiked?-1:1),isLiked:!i.isLiked})}catch(M){console.error("Failed to like story:",M)}},b=M=>{w(M),f(!0)},U=()=>{i&&g<i.images.length-1&&w(g+1)},A=()=>{g>0&&w(g-1)},N=M=>new Date(M).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return u?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):i?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:e.jsxs("button",{onClick:()=>l("/community"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(vo,{className:"w-5 h-5"}),e.jsx("span",{children:"Back to Community"})]})})}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:i.author.profilePicture?e.jsx("img",{src:i.author.profilePicture,alt:i.author.username,className:"w-full h-full rounded-full object-cover"}):e.jsx("span",{className:"text-white font-bold text-xl",children:i.author.username[0]})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-green-400 border-2 border-white rounded-full"})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:i.author.username}),e.jsxs("div",{className:"flex items-center space-x-3 text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(de,{className:"w-4 h-4"}),e.jsx("span",{children:i.location})]}),e.jsx("span",{children:""}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(kt,{className:"w-4 h-4"}),e.jsx("span",{children:N(i.createdAt)})]})]})]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:i.title}),e.jsx("div",{className:"prose prose-lg max-w-none",children:e.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:i.content})})]}),i.images.length>0&&e.jsx("div",{className:"px-6 pb-6",children:i.images.length===1?e.jsx("img",{src:i.images[0],alt:i.title,className:"w-full max-h-96 object-cover rounded-lg cursor-pointer hover:opacity-95 transition-opacity",onClick:()=>b(0)}):e.jsx("div",{className:"grid grid-cols-2 gap-2",children:i.images.map((M,E)=>e.jsx("img",{src:M,alt:`${i.title} ${E+1}`,className:"w-full h-48 object-cover rounded-lg cursor-pointer hover:opacity-95 transition-opacity",onClick:()=>b(E)},E))})}),e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-8",children:[e.jsxs("button",{onClick:y,className:`group flex items-center space-x-3 transition-all duration-200 transform hover:scale-105 ${i.isLiked?"text-red-500":"text-gray-500 hover:text-red-500"}`,children:[e.jsx(dt,{className:`w-7 h-7 transition-all duration-200 ${i.isLiked?"fill-current animate-pulse":"group-hover:scale-110"}`}),e.jsx("span",{className:"font-semibold text-xl",children:i.likes})]}),e.jsxs("div",{className:"flex items-center space-x-3 text-gray-500",children:[e.jsx(jl,{className:"w-7 h-7"}),e.jsx("span",{className:"font-semibold text-xl",children:i.comments})]})]})})}),e.jsxs("div",{className:"px-6 py-6 border-t border-gray-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Comments"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("textarea",{placeholder:"Write a comment...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none"}),e.jsx("button",{className:"mt-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:"Post Comment"})]})]}),e.jsxs("div",{className:"text-center text-gray-500 py-8",children:[e.jsx(jl,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),e.jsx("p",{children:"No comments yet. Be the first to comment!"})]})]})]})]})}),x&&i.images.length>0&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",children:e.jsxs("div",{className:"relative max-w-4xl max-h-full p-4",children:[e.jsx("button",{onClick:()=>f(!1),className:"absolute top-4 right-4 text-white hover:text-gray-300 z-10",children:e.jsx(ht,{className:"w-8 h-8"})}),e.jsx("img",{src:i.images[g],alt:`${i.title} ${g+1}`,className:"max-w-full max-h-full object-contain"}),i.images.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:A,disabled:g===0,className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white hover:text-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(np,{className:"w-8 h-8"})}),e.jsx("button",{onClick:U,disabled:g===i.images.length-1,className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white hover:text-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Lu,{className:"w-8 h-8"})}),e.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 text-white text-sm",children:[g+1," / ",i.images.length]})]})]})})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Story not found"}),e.jsx("button",{onClick:()=>l("/community"),className:"text-purple-600 hover:text-purple-700",children:"Back to Community"})]})})},j4=()=>e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading configuration..."})]})}),N4=()=>{const n=At(),[l,i]=j.useState(""),[o,u]=j.useState("user"),[m,x]=j.useState(!1),f=[{id:"user",name:"Regular User",description:"Browse and book travel services, share experiences",permissions:["Search places","Create posts","Book services","Write reviews"],requiresVerification:!1,icon:e.jsx(Ga,{className:"w-8 h-8"}),color:"bg-blue-500",benefits:["Access to all travel content","Book services and experiences","Share travel stories","Connect with other travelers"]},{id:"merchant",name:"Merchant",description:"Create and manage deals for your business",permissions:["Create deals","Manage business profile","View analytics","Customer management"],requiresVerification:!0,icon:e.jsx(vv,{className:"w-8 h-8"}),color:"bg-green-500",benefits:["Create promotional deals","Reach thousands of travelers","Business analytics dashboard","Customer engagement tools"]},{id:"transport_provider",name:"Transport Provider",description:"Offer transportation services to travelers",permissions:["Manage fleet","Accept bookings","Route management","Service listings"],requiresVerification:!0,icon:e.jsx(jv,{className:"w-8 h-8"}),color:"bg-orange-500",benefits:["List transport services","Manage vehicle fleet","Accept online bookings","Route optimization tools"]},{id:"travel_agent",name:"Travel Agent",description:"Provide professional travel planning services",permissions:["Create packages","Client management","Agent tools","Itinerary builder"],requiresVerification:!0,icon:e.jsx(de,{className:"w-8 h-8"}),color:"bg-purple-500",benefits:["Professional agent profile","Create travel packages","Client booking system","Advanced planning tools"]}],g=v=>{i(v)},w=()=>{if(!l)return;const v=f.find(y=>y.id===l);if(v)if(v.requiresVerification)switch(l){case"merchant":n("/merchant-registration");break;case"transport_provider":n("/transport-registration");break;case"travel_agent":n("/agent-registration");break}else x(!0),setTimeout(()=>{u(l),x(!1),n("/")},1e3)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Choose Your Role"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Select the role that best describes how you want to use TravelBuddy. You can always change this later in your profile settings."})]}),o&&e.jsx("div",{className:"mb-8 text-center",children:e.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-blue-100 text-blue-800 rounded-full",children:[e.jsx(Ze,{className:"w-4 h-4 mr-2"}),"Current Role: ",f.find(v=>v.id===o)?.name]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:f.map(v=>e.jsx(re,{className:`cursor-pointer transition-all duration-300 hover:shadow-xl border-2 ${l===v.id?"border-blue-500 shadow-lg transform scale-105":"border-gray-200 hover:border-gray-300"}`,onClick:()=>g(v.id),children:e.jsxs(ne,{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 ${v.color} text-white rounded-full mb-3`,children:v.icon}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:v.name}),e.jsx("p",{className:"text-sm text-gray-600",children:v.description})]}),e.jsx("div",{className:"mb-4",children:v.requiresVerification?e.jsxs("div",{className:"flex items-center justify-center text-orange-600 bg-orange-50 rounded-lg py-2 px-3",children:[e.jsx(sa,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-sm font-medium",children:"Requires Verification"})]}):e.jsxs("div",{className:"flex items-center justify-center text-green-600 bg-green-50 rounded-lg py-2 px-3",children:[e.jsx(Ze,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-sm font-medium",children:"Instant Access"})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Key Benefits:"}),e.jsx("ul",{className:"space-y-1",children:v.benefits.slice(0,3).map((y,b)=>e.jsxs("li",{className:"flex items-start text-xs text-gray-600",children:[e.jsx(_e,{className:"w-3 h-3 mr-2 mt-0.5 text-yellow-500 flex-shrink-0"}),y]},b))})]}),l===v.id&&e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("div",{className:"inline-flex items-center text-blue-600 font-medium",children:[e.jsx(Ze,{className:"w-4 h-4 mr-2"}),"Selected"]})})]})},v.id))}),l&&e.jsx(re,{className:"mb-8 border-blue-200 bg-blue-50",children:e.jsx(ne,{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:`flex-shrink-0 w-12 h-12 ${f.find(v=>v.id===l)?.color} text-white rounded-lg flex items-center justify-center`,children:f.find(v=>v.id===l)?.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:f.find(v=>v.id===l)?.name}),e.jsx("p",{className:"text-gray-700 mb-4",children:f.find(v=>v.id===l)?.description}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Permissions:"}),e.jsx("ul",{className:"space-y-1",children:f.find(v=>v.id===l)?.permissions.map((v,y)=>e.jsxs("li",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Ze,{className:"w-4 h-4 mr-2 text-green-500"}),v]},y))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Benefits:"}),e.jsx("ul",{className:"space-y-1",children:f.find(v=>v.id===l)?.benefits.map((v,y)=>e.jsxs("li",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(_e,{className:"w-4 h-4 mr-2 text-yellow-500"}),v]},y))})]})]}),f.find(v=>v.id===l)?.requiresVerification&&e.jsx("div",{className:"mt-4 p-4 bg-orange-50 border border-orange-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(wn,{className:"w-5 h-5 text-orange-600 mr-3 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-orange-900",children:"Verification Required"}),e.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"This role requires verification of your business credentials. You'll need to provide documentation and wait for approval (typically 3-5 business days)."})]})]})})]})]})})}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx(B,{variant:"outline",onClick:()=>n("/"),className:"px-8 py-3",children:"Skip for Now"}),e.jsx(B,{onClick:w,disabled:!l||m,className:"px-8 py-3 bg-blue-600 hover:bg-blue-700",children:m?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):e.jsxs("div",{className:"flex items-center",children:["Continue",e.jsx(La,{className:"w-4 h-4 ml-2"})]})})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsxs("p",{className:"text-sm text-gray-500",children:["Need help choosing? ",e.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"Contact our support team"})]})})]})})},w4=()=>{const n=At(),[l,i]=j.useState(""),[o,u]=j.useState({companyName:"",businessType:"",country:"",city:"",address:"",location:{address:"",coordinates:{lat:0,lng:0}},ownerName:"",email:"",phone:"",website:"",fleetSize:"1",vehicleTypes:[],operatingCountry:"",serviceCities:[],instantBooking:!1,requestBooking:!0,availability247:!1,agreed:!1}),[m,x]=j.useState(!1),[f,g]=j.useState(!1),[w,v]=j.useState("");j.useEffect(()=>{ds.getConfig().then(q=>i(q.apiBaseUrl))},[]);const y=["Individual Driver","Transport Company","Car Rental Agency","Shuttle/Bus Operator","Ferry/Boat Operator","Train Operator","Airline/Air Charter"],b=["Sri Lanka","Thailand","India","Japan","USA","UK","France","Spain","Italy","Greece","UAE","Singapore","Malaysia"],U=["Car","Van","Minibus","Bus","SUV","Motorbike","Tuk-tuk","Rickshaw","Electric Vehicle","Ferry/Boat","Yacht","Train/Railcar","Helicopter","Small Aircraft"],A=["1 vehicle","2-5 vehicles","6-20 vehicles","21-50 vehicles","50+ vehicles"],N=async q=>{if(q.preventDefault(),v(""),!o.agreed){v("Please accept the terms and conditions");return}if(o.vehicleTypes.length===0){v("Please select at least one vehicle type");return}if(o.serviceCities.length===0){v("Please add at least one service city");return}x(!0);try{const ee={companyName:o.companyName,ownerName:o.ownerName,email:o.email,phone:o.phone,address:o.address,licenseNumber:"GLOBAL-"+Date.now(),vehicleTypes:o.vehicleTypes,serviceAreas:o.serviceCities,fleetSize:o.fleetSize,country:o.country,description:`${o.businessType} operating in ${o.city}, ${o.country}`},Y=await fetch(`${l}/api/transport-providers/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ee)}),T=await Y.json();Y.ok?g(!0):v(T.details||T.error||"Registration failed")}catch{v("Network error. Please try again.")}finally{x(!1)}},M=q=>{u(ee=>({...ee,vehicleTypes:ee.vehicleTypes.includes(q)?ee.vehicleTypes.filter(Y=>Y!==q):[...ee.vehicleTypes,q]}))},[E,$]=j.useState(""),D=()=>{E.trim()&&!o.serviceCities.includes(E.trim())&&(u(q=>({...q,serviceCities:[...q.serviceCities,E.trim()]})),$(""))},K=q=>{u(ee=>({...ee,serviceCities:ee.serviceCities.filter(Y=>Y!==q)}))};return f?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center py-12 px-4",children:e.jsxs("div",{className:"max-w-lg w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[e.jsx("div",{className:"mx-auto w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mb-6",children:e.jsx(On,{className:"w-10 h-10 text-green-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Registration Successful!"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Welcome to TravelBuddy's transport network! Your account is now active."}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:" You're All Set!"}),e.jsx("p",{className:"text-sm text-green-700",children:"You can now access your provider dashboard and start managing your transport services."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>n("/transport-provider-dashboard"),className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Go to Provider Dashboard"}),e.jsx("button",{onClick:()=>n("/"),className:"w-full border border-gray-300 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-50 transition-colors",children:"Back to Home"})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 py-8 px-4",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:" Global Transport Provider Registration"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Join TravelBuddy's Worldwide Transport Network"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Serving travelers in 50+ countries"})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[w&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:w}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:" Section 1: Business Information"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Tell us about your transport business"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name *"}),e.jsx("input",{type:"text",value:o.companyName,onChange:q=>u({...o,companyName:q.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Type *"}),e.jsxs("select",{value:o.businessType,onChange:q=>u({...o,businessType:q.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select business type..."}),y.map(q=>e.jsx("option",{value:q,children:q},q))]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country *"}),e.jsxs("select",{value:o.country,onChange:q=>u({...o,country:q.target.value,operatingCountry:q.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select country..."}),b.map(q=>e.jsx("option",{value:q,children:q},q))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City / Region *"}),e.jsx("input",{type:"text",value:o.city,onChange:q=>u({...o,city:q.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Colombo, Bangkok, Tokyo",required:!0})]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:" Business Location (GPS)"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Accurate location helps travelers find your services nearby"})]}),e.jsx(em,{value:o.location,onChange:q=>u({...o,location:q,address:q.address}),required:!0}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:" Section 2: Contact Details"}),e.jsx("p",{className:"text-sm text-gray-600",children:"How can travelers reach you?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Owner / Manager Name *"}),e.jsx("input",{type:"text",value:o.ownerName,onChange:q=>u({...o,ownerName:q.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),e.jsx("input",{type:"email",value:o.email,onChange:q=>u({...o,email:q.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone *"}),e.jsx("input",{type:"tel",value:o.phone,onChange:q=>u({...o,phone:q.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"+94 77 123 4567",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website (Optional)"}),e.jsx("input",{type:"url",value:o.website,onChange:q=>u({...o,website:q.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://yourwebsite.com"})]})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:" Section 3: Verification Documents"}),e.jsx("p",{className:"text-sm text-gray-600",children:'Upload documents to earn "Verified Provider" badge'})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Driver License"}),e.jsx("input",{type:"file",accept:"image/*,.pdf",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Registration"}),e.jsx("input",{type:"file",accept:"image/*,.pdf",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Insurance Certificate"}),e.jsx("input",{type:"file",accept:"image/*,.pdf",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"National ID / Passport"}),e.jsx("input",{type:"file",accept:"image/*,.pdf",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:" Accepted formats: JPG, PNG, PDF (Max 5MB each)"}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:" Section 4: Fleet & Service Details"}),e.jsx("p",{className:"text-sm text-gray-600",children:"What vehicles do you operate?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fleet Size *"}),e.jsxs("select",{value:o.fleetSize,onChange:q=>u({...o,fleetSize:q.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select fleet size..."}),A.map(q=>e.jsx("option",{value:q,children:q},q))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Vehicle Types * (Select all that apply)"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:U.map(q=>e.jsxs("label",{className:`flex items-center space-x-2 p-3 border-2 rounded-lg cursor-pointer transition-all ${o.vehicleTypes.includes(q)?"border-blue-500 bg-blue-50":"border-gray-200 hover:bg-gray-50"}`,children:[e.jsx("input",{type:"checkbox",checked:o.vehicleTypes.includes(q),onChange:()=>M(q),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm font-medium",children:q})]},q))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Photos *"}),e.jsx("input",{type:"file",accept:"image/*",multiple:!0,className:"w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 cursor-pointer"}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:" Upload multiple photos of your vehicles (exterior, interior, features)"})]}),e.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:" Section 5: Operating Areas & Routes"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Where do you provide services?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Service Cities *"}),e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx("input",{type:"text",value:E,onChange:q=>$(q.target.value),onKeyPress:q=>q.key==="Enter"&&(q.preventDefault(),D()),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Type city name and press Enter (e.g., Paris, Tokyo, Colombo)"}),e.jsx("button",{type:"button",onClick:D,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Add"})]}),o.serviceCities.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:o.serviceCities.map(q=>e.jsxs("span",{className:"inline-flex items-center bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm",children:[q,e.jsx("button",{type:"button",onClick:()=>K(q),className:"ml-2 text-blue-600 hover:text-blue-800",children:""})]},q))}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Add all cities where you operate"})]}),e.jsxs("div",{className:"bg-teal-50 p-4 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:" Section 6: Booking Options"}),e.jsx("p",{className:"text-sm text-gray-600",children:"How do you accept bookings?"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center space-x-3 p-4 border-2 rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",checked:o.instantBooking,onChange:q=>u({...o,instantBooking:q.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:" Instant Booking"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Travelers can book immediately without approval"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 p-4 border-2 rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",checked:o.requestBooking,onChange:q=>u({...o,requestBooking:q.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:" Request to Book"}),e.jsx("p",{className:"text-sm text-gray-600",children:"You review and approve each booking request"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 p-4 border-2 rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",checked:o.availability247,onChange:q=>u({...o,availability247:q.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:" 24/7 Availability"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Available for bookings anytime, day or night"})]})]})]}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o.agreed,onChange:q=>u({...o,agreed:q.target.checked}),className:"mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500",required:!0}),e.jsx("span",{className:"text-sm text-gray-700",children:"I confirm that all information is accurate and agree to TravelBuddy's Terms & Conditions"})]})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>n("/"),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:m,className:"flex-1 px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-semibold",children:m?"Submitting...":"Register"})]})]})})]})})},S4=["English","Sinhala","Tamil","Hindi","Japanese","Chinese","French","Spanish","German","Italian","Arabic","Thai","Korean","Portuguese"],C4=["Adventure & Hiking","Cultural Tours","Family Travel","Honeymoon & Romance","Luxury & VIP","Wildlife & Safari","Beach & Coastal","Photography Tours","Budget Backpacking","Pilgrimage Tours","Eco-Tourism","Road Trip Specialists","Digital Nomad Support","Educational Tours","Solo Travel","Business Travel","Food & Culinary","Scuba & Diving","Shopping Tours","Skiing & Snow","Historical Tours","Religious Tours","LGBTQ+ Friendly","Accessible Travel"],T4=["Independent Guide","Travel Agency","Tour Operator","Concierge Specialist","Freelance Consultant"],k4=["1-3 years","3-7 years","7-10 years","10+ years"],A4=()=>{const n=At(),[l,i]=j.useState(""),[o,u]=j.useState({fullName:"",email:"",phone:"",country:"",city:"",location:{address:"",coordinates:{lat:0,lng:0}},languages:[],experience:"",specializations:[],agencyName:"",agencyType:"",licenseNumber:"",consultationFee:"0",dayRate:"",description:"",agreed:!1}),[m,x]=j.useState(!1),[f,g]=j.useState(!1),[w,v]=j.useState("");j.useEffect(()=>{ds.getConfig().then(A=>i(A.apiBaseUrl))},[]);const y=async A=>{if(A.preventDefault(),v(""),!o.agreed){v("Please accept the terms and conditions");return}if(o.languages.length===0){v("Please select at least one language");return}if(o.specializations.length===0){v("Please select at least one specialization");return}x(!0);try{const N=await fetch(`${l}/api/travel-agents/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),M=await N.json();N.ok?g(!0):v(M.details||M.error||"Registration failed")}catch{v("Network error. Please try again.")}finally{x(!1)}},b=A=>{u(N=>({...N,languages:N.languages.includes(A)?N.languages.filter(M=>M!==A):[...N.languages,A]}))},U=A=>{u(N=>({...N,specializations:N.specializations.includes(A)?N.specializations.filter(M=>M!==A):[...N.specializations,A]}))};return f?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center py-12 px-4",children:e.jsxs("div",{className:"max-w-lg w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[e.jsx("div",{className:"mx-auto w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mb-6",children:e.jsx(On,{className:"w-10 h-10 text-green-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Registration Successful!"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Welcome to TravelBuddy's global agent network! Your profile is now active."}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:" You're All Set!"}),e.jsx("p",{className:"text-sm text-green-700",children:"You can now access your agent dashboard and start connecting with travelers worldwide."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>n("/travel-agent-dashboard"),className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Go to Agent Dashboard"}),e.jsx("button",{onClick:()=>n("/"),className:"w-full border border-gray-300 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-50 transition-colors",children:"Back to Home"})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 py-8 px-4",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:" Global Travel Agent Registration"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Join TravelBuddy's Worldwide Agent Network"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Connect with travelers from 100+ countries"})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[w&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:w}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:" Personal Information"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Tell us about yourself"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),e.jsx("input",{type:"text",value:o.fullName,onChange:A=>u({...o,fullName:A.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),e.jsx("input",{type:"email",value:o.email,onChange:A=>u({...o,email:A.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone *"}),e.jsx("input",{type:"tel",value:o.phone,onChange:A=>u({...o,phone:A.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"+1 234 567 8900",required:!0})]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:" Your Business Location"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Help travelers find you with accurate GPS coordinates"})]}),e.jsx(em,{value:o.location,onChange:A=>u({...o,location:A}),required:!0}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Languages Spoken * (Select all that apply)"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:S4.map(A=>e.jsxs("label",{className:`flex items-center space-x-2 p-3 border-2 rounded-lg cursor-pointer transition-all ${o.languages.includes(A)?"border-blue-500 bg-blue-50":"border-gray-200 hover:bg-gray-50"}`,children:[e.jsx("input",{type:"checkbox",checked:o.languages.includes(A),onChange:()=>b(A),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm font-medium",children:A})]},A))})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:" Professional Details"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Your experience and credentials"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Agency/Business Name"}),e.jsx("input",{type:"text",value:o.agencyName,onChange:A=>u({...o,agencyName:A.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Leave blank if independent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Agency Type *"}),e.jsxs("select",{value:o.agencyType,onChange:A=>u({...o,agencyType:A.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select type..."}),T4.map(A=>e.jsx("option",{value:A,children:A},A))]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Experience *"}),e.jsxs("select",{value:o.experience,onChange:A=>u({...o,experience:A.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select experience..."}),k4.map(A=>e.jsx("option",{value:A,children:A},A))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"License Number"}),e.jsx("input",{type:"text",value:o.licenseNumber,onChange:A=>u({...o,licenseNumber:A.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Tourism board license (optional)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Specializations * (Select all that apply)"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 max-h-64 overflow-y-auto p-2 border border-gray-200 rounded-lg",children:C4.map(A=>e.jsxs("label",{className:`flex items-center space-x-2 p-2 border-2 rounded-lg cursor-pointer transition-all ${o.specializations.includes(A)?"border-purple-500 bg-purple-50":"border-gray-200 hover:bg-gray-50"}`,children:[e.jsx("input",{type:"checkbox",checked:o.specializations.includes(A),onChange:()=>U(A),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),e.jsx("span",{className:"text-sm",children:A})]},A))})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:" Pricing"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Your service rates"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Consultation Fee (USD)"}),e.jsx("input",{type:"number",value:o.consultationFee,onChange:A=>u({...o,consultationFee:A.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"0 for free",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Day Rate (USD) *"}),e.jsx("input",{type:"number",value:o.dayRate,onChange:A=>u({...o,dayRate:A.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 150",min:"0",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"About You *"}),e.jsx("textarea",{value:o.description,onChange:A=>u({...o,description:A.target.value}),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Tell travelers about your expertise, experience, and what makes you unique...",required:!0})]}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o.agreed,onChange:A=>u({...o,agreed:A.target.checked}),className:"mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500",required:!0}),e.jsx("span",{className:"text-sm text-gray-700",children:"I confirm that all information is accurate and agree to TravelBuddy's Terms & Conditions, Privacy Policy, and Agent Code of Conduct"})]})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>n("/"),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:m,className:"flex-1 px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-semibold",children:m?"Submitting...":"Register as Agent"})]})]})})]})})},E4=[{id:"explorer",name:"Explorer",price:0,icon:_e,features:["1 trip/month","Basic discovery (10 results)","View-only community","Basic weather","5 place searches/day"],restrictions:["No AI trip generation","No community posting","No premium deals"]},{id:"globetrotter",name:"Globetrotter",price:9.99,icon:bs,popular:!0,features:["Unlimited trips","20 AI trips/month","Community posting","Advanced filters","Basic offline mode","Booking support"],restrictions:["No live AI assistant","No business dashboards"]},{id:"wanderpro",name:"WanderPro+",price:19.99,icon:qa,features:["Unlimited AI trips","Live AI assistant","PDF export","Smart packing list","Full offline mode","Early deals access"],restrictions:[]}],_4=[{id:"travelagent",name:"TravelAgent Pro",price:49.99,icon:qa,features:["Agent dashboard","Transport dashboard","Add services","Booking requests","Route planner","Customer chat","Analytics"],restrictions:[]}],D4=[{id:"partner",name:"Business + Deals",price:29.99,icon:qa,features:["Create deals","Premium placement","Business page","AI marketing content","Analytics","Customer inbox"],restrictions:[]}],R4=()=>{const{user:n}=Ct(),l=n?.tier||"explorer",i=u=>{console.log("Upgrading to:",u)},o=(u,m,x)=>e.jsxs("div",{className:"mb-16",children:[e.jsx("h2",{className:`text-2xl font-bold text-center mb-8 ${x}`,children:u}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(f=>{const g=f.icon,w=l===f.id;return e.jsxs(re,{className:`relative ${f.popular?"ring-2 ring-blue-500":""}`,children:[f.popular&&e.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:e.jsx(ea,{variant:"primary",children:"Most Popular"})}),e.jsxs(st,{className:"text-center pb-4",children:[e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx(g,{className:`w-8 h-8 ${f.id==="explorer"?"text-gray-500":"text-blue-500"}`})}),e.jsx(at,{className:"text-xl",children:f.name}),e.jsxs("div",{className:"text-3xl font-bold",children:["$",f.price,e.jsx("span",{className:"text-sm font-normal text-gray-600",children:"/month"})]})]}),e.jsxs(ne,{className:"space-y-4",children:[e.jsx("div",{className:"space-y-2",children:f.features.map((v,y)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(On,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:v})]},y))}),f.restrictions.length>0&&e.jsxs("div",{className:"pt-2 border-t",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Restrictions:"}),f.restrictions.map((v,y)=>e.jsxs("p",{className:"text-xs text-gray-400",children:[" ",v]},y))]}),e.jsx("div",{className:"pt-4",children:w?e.jsx(ea,{variant:"outline",className:"w-full justify-center py-2",children:"Current Plan"}):e.jsxs(B,{className:"w-full",variant:f.popular?"default":"outline",onClick:()=>i(f.id),children:["Upgrade to ",f.name]})})]})]},f.id)})})]});return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Choose Your Plan"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Three categories designed for different user types"})]}),o(" For Travelers",E4,"text-blue-600"),o(" For Travel Agents & Transport",_4,"text-orange-600"),o(" For Partner Businesses",D4,"text-green-600"),e.jsx("div",{className:"mt-12 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Need help choosing? ",e.jsx("a",{href:"/contact",className:"text-blue-600 hover:underline",children:"Contact our team"})]})})]})})},O4=()=>{const n=At(),[l,i]=j.useState(1),[o,u]=j.useState({organizationName:"",organizationType:"company",email:"",phone:"",website:"",address:"",city:"",country:"",description:"",experience:"",socialMedia:{facebook:"",instagram:"",twitter:""}}),[m,x]=j.useState(!1),[f,g]=j.useState(!1),w=async b=>{b.preventDefault(),x(!0),setTimeout(()=>{x(!1),g(!0),setTimeout(()=>n("/events"),2e3)},1500)},v=()=>i(l+1),y=()=>i(l-1);return f?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 flex items-center justify-center p-6",children:e.jsx(re,{className:"max-w-md w-full text-center",children:e.jsxs(ne,{className:"p-8",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Ze,{className:"w-12 h-12 text-green-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Registration Successful!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Your application has been submitted. We'll review it and get back to you within 24-48 hours."}),e.jsx("button",{onClick:()=>n("/events"),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-3 rounded-xl font-semibold hover:shadow-lg transition-all",children:"Back to Events"})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 py-12 px-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Become an Event Organizer"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Join TravelBuddy and reach millions of travelers worldwide"})]}),e.jsx("div",{className:"flex items-center justify-center mb-12",children:e.jsx("div",{className:"flex items-center space-x-4",children:[1,2,3].map(b=>e.jsxs(Ou.Fragment,{children:[e.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-full font-bold ${l>=b?"bg-purple-600 text-white":"bg-gray-200 text-gray-500"}`,children:b}),b<3&&e.jsx("div",{className:`w-16 h-1 ${l>b?"bg-purple-600":"bg-gray-200"}`})]},b))})}),e.jsx(re,{className:"bg-white shadow-xl",children:e.jsx(ne,{className:"p-8",children:e.jsxs("form",{onSubmit:w,children:[l===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Basic Information"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Organization Name *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Nv,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",required:!0,value:o.organizationName,onChange:b=>u({...o,organizationName:b.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"Your Organization Name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Organization Type *"}),e.jsxs("select",{required:!0,value:o.organizationType,onChange:b=>u({...o,organizationType:b.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",children:[e.jsx("option",{value:"company",children:"Company"}),e.jsx("option",{value:"nonprofit",children:"Non-Profit"}),e.jsx("option",{value:"individual",children:"Individual"}),e.jsx("option",{value:"government",children:"Government"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email *"}),e.jsxs("div",{className:"relative",children:[e.jsx(ys,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"email",required:!0,value:o.email,onChange:b=>u({...o,email:b.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"contact@example.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone *"}),e.jsxs("div",{className:"relative",children:[e.jsx(vs,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"tel",required:!0,value:o.phone,onChange:b=>u({...o,phone:b.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"+1 (555) 123-4567"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Website"}),e.jsxs("div",{className:"relative",children:[e.jsx(gs,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"url",value:o.website,onChange:b=>u({...o,website:b.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"https://yourwebsite.com"})]})]})]}),l===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Location & Details"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Address *"}),e.jsxs("div",{className:"relative",children:[e.jsx(de,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",required:!0,value:o.address,onChange:b=>u({...o,address:b.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"Street Address"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"City *"}),e.jsx("input",{type:"text",required:!0,value:o.city,onChange:b=>u({...o,city:b.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"City"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Country *"}),e.jsx("input",{type:"text",required:!0,value:o.country,onChange:b=>u({...o,country:b.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"Country"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Organization Description *"}),e.jsx("textarea",{required:!0,value:o.description,onChange:b=>u({...o,description:b.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none h-32 resize-none",placeholder:"Tell us about your organization and the types of events you organize..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Years of Experience *"}),e.jsxs("select",{required:!0,value:o.experience,onChange:b=>u({...o,experience:b.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select experience"}),e.jsx("option",{value:"0-1",children:"Less than 1 year"}),e.jsx("option",{value:"1-3",children:"1-3 years"}),e.jsx("option",{value:"3-5",children:"3-5 years"}),e.jsx("option",{value:"5+",children:"5+ years"})]})]})]}),l===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Social Media & Documents"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Connect your social media (optional)"}),e.jsx("input",{type:"url",value:o.socialMedia.facebook,onChange:b=>u({...o,socialMedia:{...o.socialMedia,facebook:b.target.value}}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"Facebook URL"}),e.jsx("input",{type:"url",value:o.socialMedia.instagram,onChange:b=>u({...o,socialMedia:{...o.socialMedia,instagram:b.target.value}}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"Instagram URL"}),e.jsx("input",{type:"url",value:o.socialMedia.twitter,onChange:b=>u({...o,socialMedia:{...o.socialMedia,twitter:b.target.value}}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"Twitter URL"})]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-8 text-center",children:[e.jsx(Bu,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Upload Business Documents"}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Business license, tax ID, or registration certificate"}),e.jsx("button",{type:"button",className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all",children:"Choose Files"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Note:"})," Your application will be reviewed within 24-48 hours. You'll receive an email once approved."]})})]}),e.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t",children:[l>1&&e.jsx("button",{type:"button",onClick:y,className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl font-semibold hover:border-gray-400 transition-all",children:"Previous"}),l<3?e.jsxs("button",{type:"button",onClick:v,className:"ml-auto px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all flex items-center space-x-2",children:[e.jsx("span",{children:"Next"}),e.jsx(La,{className:"w-5 h-5"})]}):e.jsx("button",{type:"submit",disabled:m,className:"ml-auto px-8 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all disabled:opacity-50",children:m?"Submitting...":"Submit Application"})]})]})})})]})})},M4=()=>{const n=At(),{config:l}=Un(),{user:i}=Ct(),[o,u]=j.useState({name:"",category:"music",description:"",date:"",endDate:"",time:"",city:"",country:"",venue:"",price:"",currency:"USD",capacity:"",isFree:!1}),[m,x]=j.useState(null),[f,g]=j.useState(""),[w,v]=j.useState(!1),[y,b]=j.useState(!1),U=N=>{const M=N.target.files?.[0];if(M){x(M);const E=new FileReader;E.onloadend=()=>g(E.result),E.readAsDataURL(M)}},A=async N=>{N.preventDefault(),v(!0);try{const M=l?.apiBaseUrl||"http://localhost:3001",E={name:o.name,category:o.category,description:o.description,location:{city:o.city,country:o.country,address:o.venue},date:o.date,endDate:o.endDate||o.date,time:o.time,price:o.isFree?0:Number(o.price),currency:o.currency,capacity:o.capacity?Number(o.capacity):void 0,image:f||"https://images.unsplash.com/photo-1492684223066-81342ee5ff30?w=800",isFree:o.isFree},$=await fetch(`${M}/api/events`,{method:"POST",headers:{"Content-Type":"application/json","x-user-id":i?.id||"anonymous"},body:JSON.stringify(E)});if(!$.ok){const D=await $.json().catch(()=>({error:"Unknown error"}));throw console.error("Backend error:",D),new Error(D.error||"Failed to create event")}b(!0),setTimeout(()=>n("/events"),2e3)}catch(M){console.error("Error creating event:",M),alert("Failed to create event. Please try again.")}finally{v(!1)}};return y?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 flex items-center justify-center p-6",children:e.jsx(re,{className:"max-w-md w-full text-center",children:e.jsxs(ne,{className:"p-8",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Ze,{className:"w-12 h-12 text-green-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Event Created!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Your event has been published successfully and is now visible to travelers worldwide."}),e.jsx("button",{onClick:()=>n("/events"),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-3 rounded-xl font-semibold hover:shadow-lg transition-all",children:"View All Events"})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 py-12 px-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Create New Event"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Share your event with millions of travelers"})]}),e.jsx(re,{className:"bg-white shadow-xl",children:e.jsx(ne,{className:"p-8",children:e.jsxs("form",{onSubmit:A,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Event Image *"}),e.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-purple-600 transition-all",children:f?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:f,alt:"Preview",className:"max-h-64 mx-auto rounded-lg mb-4"}),e.jsx("button",{type:"button",onClick:()=>{x(null),g("")},className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-all",children:"Remove Image"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ip,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Upload Event Banner"}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"JPG, PNG or WebP (Max 5MB)"}),e.jsx("input",{type:"file",accept:"image/*",onChange:U,className:"hidden",id:"image-upload"}),e.jsx("label",{htmlFor:"image-upload",className:"inline-block px-6 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-all cursor-pointer",children:"Choose Image"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Event Name *"}),e.jsx("input",{type:"text",required:!0,value:o.name,onChange:N=>u({...o,name:N.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"Summer Music Festival 2024"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Category *"}),e.jsxs("select",{required:!0,value:o.category,onChange:N=>u({...o,category:N.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",children:[e.jsx("option",{value:"music",children:" Music"}),e.jsx("option",{value:"cultural",children:" Cultural"}),e.jsx("option",{value:"sports",children:" Sports"}),e.jsx("option",{value:"nightlife",children:" Nightlife"}),e.jsx("option",{value:"tech",children:" Tech"}),e.jsx("option",{value:"food",children:" Food & Drink"}),e.jsx("option",{value:"festivals",children:" Festivals"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description *"}),e.jsx("textarea",{required:!0,value:o.description,onChange:N=>u({...o,description:N.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none h-32 resize-none",placeholder:"Describe your event, what attendees can expect, highlights, etc."})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Start Date *"}),e.jsxs("div",{className:"relative",children:[e.jsx(kt,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"date",required:!0,value:o.date,onChange:N=>u({...o,date:N.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"End Date"}),e.jsx("input",{type:"date",value:o.endDate,onChange:N=>u({...o,endDate:N.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Time *"}),e.jsxs("div",{className:"relative",children:[e.jsx(lt,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"time",required:!0,value:o.time,onChange:N=>u({...o,time:N.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"City *"}),e.jsxs("div",{className:"relative",children:[e.jsx(de,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",required:!0,value:o.city,onChange:N=>u({...o,city:N.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"Barcelona"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Country *"}),e.jsx("input",{type:"text",required:!0,value:o.country,onChange:N=>u({...o,country:N.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"Spain"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Venue *"}),e.jsx("input",{type:"text",required:!0,value:o.venue,onChange:N=>u({...o,venue:N.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"Stadium Name"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("input",{type:"checkbox",id:"isFree",checked:o.isFree,onChange:N=>u({...o,isFree:N.target.checked,price:N.target.checked?"0":o.price}),className:"w-5 h-5 text-purple-600 rounded"}),e.jsx("label",{htmlFor:"isFree",className:"text-sm font-semibold text-gray-700",children:"This is a free event"})]}),!o.isFree&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Price *"}),e.jsxs("div",{className:"relative",children:[e.jsx(js,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"number",required:!o.isFree,value:o.price,onChange:N=>u({...o,price:N.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"150"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Currency *"}),e.jsxs("select",{required:!o.isFree,value:o.currency,onChange:N=>u({...o,currency:N.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",children:[e.jsx("option",{value:"USD",children:"USD ($)"}),e.jsx("option",{value:"EUR",children:"EUR ()"}),e.jsx("option",{value:"GBP",children:"GBP ()"}),e.jsx("option",{value:"JPY",children:"JPY ()"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Expected Attendees"}),e.jsxs("div",{className:"relative",children:[e.jsx(St,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"number",value:o.capacity,onChange:N=>u({...o,capacity:N.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"5000"})]})]}),e.jsxs("div",{className:"flex space-x-4 pt-6 border-t",children:[e.jsx("button",{type:"button",onClick:()=>n("/events"),className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl font-semibold hover:border-gray-400 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:w,className:"flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all disabled:opacity-50",children:w?"Creating...":"Create Event"})]})]})})})]})})},z4=()=>{console.log(" Firebase Authentication Status Check:"),console.log("====================================="),console.log(" Firebase Auth Instance:",!!Ws),console.log(" Current User:",Ws?.currentUser?.email||"Not signed in"),console.log(`
 Environment Configuration:`),console.log(" API Key:","Set"),console.log(" Auth Domain:","travelbuddy-2d1c5.firebaseapp.com"),console.log(" Project ID:","travelbuddy-2d1c5"),console.log(`
 Google Sign-In Provider:`);try{const n=new Ts;console.log(" Google Provider:",!!n),console.log(" Provider ID:",n.providerId)}catch(n){console.log(" Google Provider Error:",n)}return console.log(`
 Network Status:`),console.log(" Online:",navigator.onLine),{auth:!!Ws,currentUser:Ws?.currentUser,hasConfig:!0,online:navigator.onLine}},U4=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-md p-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Privacy Policy"}),e.jsx("p",{className:"text-sm text-gray-600 mb-8",children:"Last Updated: January 2025"}),e.jsxs("div",{className:"space-y-6 text-gray-700",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"1. Introduction"}),e.jsx("p",{children:'Welcome to TravelBuddy ("we," "our," or "us"). We respect your privacy and are committed to protecting your personal data. This privacy policy explains how we collect, use, and safeguard your information when you use our mobile application and website at travelbuddylk.com.'})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"2. Information We Collect"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"2.1 Personal Information"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Account Information:"})," Name, email address, password (encrypted)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Profile Information:"})," Profile picture, bio, travel preferences"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Contact Information:"})," Phone number (optional)"]})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"2.2 Location Data"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsx("li",{children:"GPS location for nearby places and recommendations"}),e.jsx("li",{children:"Location history for personalized travel suggestions"}),e.jsx("li",{children:"You can disable location access in device settings"})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"2.3 User Content"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsx("li",{children:"Photos and videos you upload to community posts"}),e.jsx("li",{children:"Reviews, ratings, and comments"}),e.jsx("li",{children:"Saved places and trip plans"}),e.jsx("li",{children:"Messages and interactions with other users"})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"2.4 Device Information"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsx("li",{children:"Device type, operating system, app version"}),e.jsx("li",{children:"IP address, browser type"}),e.jsx("li",{children:"Usage data and analytics"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"3. How We Use Your Information"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Provide Services:"})," Enable core features like trip planning, community posts, and place discovery"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Personalization:"})," Recommend destinations, deals, and content based on your preferences"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Communication:"})," Send notifications, updates, and respond to inquiries"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Safety:"})," Provide emergency services and location-based safety features"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Improvement:"})," Analyze usage to improve app performance and features"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Legal Compliance:"})," Comply with legal obligations and enforce our terms"]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"4. Data Sharing"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"We DO NOT sell your personal data."}),e.jsx("p",{className:"mb-2",children:"We may share data with:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Service Providers:"})," Firebase (authentication), Google Maps (location services), Azure (hosting)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Other Users:"})," Public profile info, posts, and reviews you choose to share"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Legal Requirements:"})," When required by law or to protect rights and safety"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Business Transfers:"})," In case of merger, acquisition, or asset sale"]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"5. Data Security"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsx("li",{children:"All data transmitted is encrypted using SSL/TLS"}),e.jsx("li",{children:"Passwords are hashed and never stored in plain text"}),e.jsx("li",{children:"Secure Azure cloud infrastructure with regular backups"}),e.jsx("li",{children:"Regular security audits and updates"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"6. Your Rights"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Access:"})," Request a copy of your personal data"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Correction:"})," Update or correct inaccurate information"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Deletion:"})," Request deletion of your account and data"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Opt-Out:"})," Disable location services, notifications, or marketing emails"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Data Portability:"})," Export your data in a machine-readable format"]})]}),e.jsxs("p",{className:"mt-3",children:["To exercise these rights, contact us at ",e.jsx("a",{href:"mailto:privacy@travelbuddylk.com",className:"text-blue-600 hover:underline",children:"privacy@travelbuddylk.com"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"7. Data Retention"}),e.jsx("p",{children:"We retain your data as long as your account is active or as needed to provide services. After account deletion, we may retain certain data for legal compliance (typically 30-90 days), then permanently delete it from our systems."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"8. Children's Privacy"}),e.jsx("p",{children:"TravelBuddy is not intended for users under 13 years old. We do not knowingly collect data from children. If you believe a child has provided us with personal information, please contact us immediately."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"9. Third-Party Services"}),e.jsx("p",{className:"mb-2",children:"We use the following third-party services:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Firebase Authentication:"})," Secure user authentication"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Google Maps API:"})," Location services and place information"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Microsoft Azure:"})," Cloud hosting and database"]})]}),e.jsx("p",{className:"mt-3",children:"These services have their own privacy policies. We recommend reviewing them."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"10. International Data Transfers"}),e.jsx("p",{children:"Your data may be transferred to and processed in countries outside Sri Lanka, including the United States (Azure servers). We ensure appropriate safeguards are in place to protect your data."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"11. Changes to This Policy"}),e.jsx("p",{children:"We may update this privacy policy from time to time. We will notify you of significant changes via email or in-app notification. Continued use of TravelBuddy after changes constitutes acceptance."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"12. Contact Us"}),e.jsx("p",{children:"For privacy-related questions or concerns:"}),e.jsxs("ul",{className:"list-none space-y-2 mt-3",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Email:"})," ",e.jsx("a",{href:"mailto:privacy@travelbuddylk.com",className:"text-blue-600 hover:underline",children:"privacy@travelbuddylk.com"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Website:"})," ",e.jsx("a",{href:"https://travelbuddylk.com/contact",className:"text-blue-600 hover:underline",children:"travelbuddylk.com/contact"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Address:"})," TravelBuddy, Colombo, Sri Lanka"]})]})]})]}),e.jsx("div",{className:"mt-12 pt-6 border-t border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-600 text-center",children:["By using TravelBuddy, you agree to this Privacy Policy and our"," ",e.jsx("a",{href:"/terms-of-service",className:"text-blue-600 hover:underline",children:"Terms of Service"}),"."]})})]})}),L4=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-md p-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Terms of Service"}),e.jsx("p",{className:"text-sm text-gray-600 mb-8",children:"Last Updated: January 2025"}),e.jsxs("div",{className:"space-y-6 text-gray-700",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"1. Acceptance of Terms"}),e.jsx("p",{children:'By accessing or using TravelBuddy (the "Service"), you agree to be bound by these Terms of Service ("Terms"). If you do not agree to these Terms, please do not use the Service. These Terms apply to all users, including travelers, merchants, travel agents, and transport providers.'})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"2. Description of Service"}),e.jsx("p",{children:"TravelBuddy is an AI-powered travel planning platform that provides:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 mt-2",children:[e.jsx("li",{children:"Trip planning and itinerary creation"}),e.jsx("li",{children:"Place discovery and recommendations"}),e.jsx("li",{children:"Community features for sharing travel experiences"}),e.jsx("li",{children:"Deals and offers from merchants and travel agents"}),e.jsx("li",{children:"Transportation booking and coordination"}),e.jsx("li",{children:"Emergency services and safety features"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"3. User Accounts"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"3.1 Registration"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsx("li",{children:"You must be at least 13 years old to create an account"}),e.jsx("li",{children:"You must provide accurate and complete information"}),e.jsx("li",{children:"You are responsible for maintaining account security"}),e.jsx("li",{children:"One person may not maintain multiple accounts"})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"3.2 Account Types"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Traveler:"})," Standard user account for trip planning"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Merchant:"})," Business account for offering deals"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Travel Agent:"})," Professional account for travel services"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Transport Provider:"})," Account for transportation services"]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"4. User Conduct"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"You agree NOT to:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsx("li",{children:"Post false, misleading, or fraudulent content"}),e.jsx("li",{children:"Harass, abuse, or harm other users"}),e.jsx("li",{children:"Upload malicious code or viruses"}),e.jsx("li",{children:"Violate intellectual property rights"}),e.jsx("li",{children:"Scrape or collect user data without permission"}),e.jsx("li",{children:"Impersonate others or misrepresent affiliations"}),e.jsx("li",{children:"Post spam, advertisements, or promotional content (except authorized merchants)"}),e.jsx("li",{children:"Use the Service for illegal activities"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"5. Content"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"5.1 Your Content"}),e.jsx("p",{children:"You retain ownership of content you post (photos, reviews, posts). By posting, you grant TravelBuddy a worldwide, non-exclusive, royalty-free license to use, display, and distribute your content within the Service."}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"5.2 Content Standards"}),e.jsx("p",{children:"All content must:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 mt-2",children:[e.jsx("li",{children:"Be accurate and not misleading"}),e.jsx("li",{children:"Not contain hate speech, violence, or explicit material"}),e.jsx("li",{children:"Not infringe on others' rights"}),e.jsx("li",{children:"Comply with local laws and regulations"})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"5.3 Content Removal"}),e.jsx("p",{children:"We reserve the right to remove content that violates these Terms without notice. Repeated violations may result in account suspension or termination."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"6. Merchant & Service Provider Terms"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"6.1 Deals & Offers"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsx("li",{children:"Merchants are responsible for honoring posted deals and offers"}),e.jsx("li",{children:"All pricing must be accurate and clearly stated"}),e.jsx("li",{children:"Deals must comply with consumer protection laws"})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"6.2 Service Quality"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsx("li",{children:"Travel agents and transport providers must maintain professional standards"}),e.jsx("li",{children:"Services must be delivered as described"}),e.jsx("li",{children:"Proper licensing and insurance required where applicable"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"7. Payments & Subscriptions"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsx("li",{children:"Some features may require paid subscriptions"}),e.jsx("li",{children:"Subscription fees are non-refundable unless required by law"}),e.jsx("li",{children:"We may change pricing with 30 days notice"}),e.jsx("li",{children:"You can cancel subscriptions at any time"}),e.jsx("li",{children:"Transactions between users and merchants are independent of TravelBuddy"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"8. Intellectual Property"}),e.jsx("p",{children:"TravelBuddy and its original content, features, and functionality are owned by TravelBuddy and protected by international copyright, trademark, and other intellectual property laws. You may not copy, modify, or distribute our content without permission."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"9. Third-Party Services"}),e.jsx("p",{children:"TravelBuddy integrates with third-party services (Google Maps, Firebase, payment processors). We are not responsible for third-party services or their content. Your use of third-party services is subject to their terms and policies."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"10. Disclaimers"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:'10.1 Service "As Is"'}),e.jsx("p",{children:'TravelBuddy is provided "as is" without warranties of any kind. We do not guarantee uninterrupted, secure, or error-free service.'}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"10.2 Travel Risks"}),e.jsx("p",{children:"Travel involves inherent risks. We are not responsible for:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 mt-2",children:[e.jsx("li",{children:"Accuracy of place information or reviews"}),e.jsx("li",{children:"Quality of services provided by merchants or agents"}),e.jsx("li",{children:"Travel delays, cancellations, or disruptions"}),e.jsx("li",{children:"Personal injury, property damage, or loss during travel"}),e.jsx("li",{children:"Political instability, natural disasters, or health emergencies"})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"10.3 User Content"}),e.jsx("p",{children:"We do not verify user-generated content. Reviews, ratings, and recommendations reflect individual opinions and may not be accurate."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"11. Limitation of Liability"}),e.jsx("p",{children:"To the maximum extent permitted by law, TravelBuddy shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including loss of profits, data, or goodwill, arising from your use of the Service."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"12. Indemnification"}),e.jsx("p",{children:"You agree to indemnify and hold TravelBuddy harmless from any claims, damages, or expenses arising from your use of the Service, violation of these Terms, or infringement of any rights of another."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"13. Termination"}),e.jsx("p",{children:"We may suspend or terminate your account at any time for:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 mt-2",children:[e.jsx("li",{children:"Violation of these Terms"}),e.jsx("li",{children:"Fraudulent or illegal activity"}),e.jsx("li",{children:"Prolonged inactivity"}),e.jsx("li",{children:"Request from law enforcement"})]}),e.jsx("p",{className:"mt-3",children:"You may delete your account at any time through app settings. Upon termination, your right to use the Service ceases immediately."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"14. Dispute Resolution"}),e.jsx("p",{children:"Any disputes arising from these Terms shall be resolved through:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 mt-2",children:[e.jsx("li",{children:"Good faith negotiation between parties"}),e.jsx("li",{children:"Mediation if negotiation fails"}),e.jsx("li",{children:"Arbitration or courts of Sri Lanka as final resort"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"15. Changes to Terms"}),e.jsx("p",{children:"We reserve the right to modify these Terms at any time. We will notify users of material changes via email or in-app notification. Continued use after changes constitutes acceptance of new Terms."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"16. Governing Law"}),e.jsx("p",{children:"These Terms are governed by the laws of Sri Lanka, without regard to conflict of law principles."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"17. Contact Information"}),e.jsx("p",{children:"For questions about these Terms:"}),e.jsxs("ul",{className:"list-none space-y-2 mt-3",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Email:"})," ",e.jsx("a",{href:"mailto:legal@travelbuddylk.com",className:"text-blue-600 hover:underline",children:"legal@travelbuddylk.com"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Website:"})," ",e.jsx("a",{href:"https://travelbuddylk.com/contact",className:"text-blue-600 hover:underline",children:"travelbuddylk.com/contact"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Address:"})," TravelBuddy, Colombo, Sri Lanka"]})]})]})]}),e.jsx("div",{className:"mt-12 pt-6 border-t border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-600 text-center",children:["By using TravelBuddy, you agree to these Terms of Service and our"," ",e.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:underline",children:"Privacy Policy"}),"."]})})]})}),I4=()=>e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center px-4",children:e.jsxs("div",{className:"max-w-2xl text-center",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-9xl font-black text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600",children:"404"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mt-4 mb-2",children:"Oops! Page Not Found"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Looks like you've wandered off the map. Let's get you back on track!"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[e.jsx(fe,{to:"/",children:e.jsxs(B,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 text-lg",children:[e.jsx(zu,{className:"w-5 h-5 mr-2"}),"Go Home"]})}),e.jsx(fe,{to:"/discovery",children:e.jsxs(B,{className:"bg-white text-gray-900 border-2 border-gray-300 px-8 py-4 text-lg hover:bg-gray-50",children:[e.jsx(wt,{className:"w-5 h-5 mr-2"}),"Explore Destinations"]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Popular Pages"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(fe,{to:"/discovery",className:"text-blue-600 hover:text-blue-700 flex items-center gap-2",children:[e.jsx(de,{className:"w-4 h-4"}),"Discovery"]}),e.jsx(fe,{to:"/deals",className:"text-blue-600 hover:text-blue-700",children:"Deals"}),e.jsx(fe,{to:"/community",className:"text-blue-600 hover:text-blue-700",children:"Community"}),e.jsx(fe,{to:"/about",className:"text-blue-600 hover:text-blue-700",children:"About Us"})]})]})]})}),B4=()=>{const{config:n,loading:l,error:i}=Un();return Ou.useEffect(()=>{!l&&n&&z4()},[l,n]),l?e.jsx(j4,{}):i?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load configuration"}),e.jsx("p",{className:"text-gray-600",children:i}),e.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Retry"})]})}):e.jsx(z2,{children:e.jsx(U2,{children:e.jsx(Yy,{children:e.jsxs(Qy,{children:[e.jsx(Nt,{path:"/login",element:e.jsx(b4,{})}),e.jsx(Nt,{path:"/register",element:e.jsx(y4,{})}),e.jsx(Nt,{path:"/privacy-policy",element:e.jsx(U4,{})}),e.jsx(Nt,{path:"/terms-of-service",element:e.jsx(L4,{})}),e.jsx(Nt,{path:"/role-selection",element:e.jsx(N4,{})}),e.jsx(Nt,{path:"/travel-agent-registration",element:e.jsx(A4,{})}),e.jsx(Nt,{path:"/travel-agents",element:e.jsx(S0,{})}),e.jsx(Nt,{path:"/event-organizer-registration",element:e.jsx(O4,{})}),e.jsx(Nt,{path:"/events/create",element:e.jsx(M4,{})}),e.jsx(Nt,{path:"/transport-registration",element:e.jsx(w4,{})}),e.jsx(Nt,{path:"/transportation",element:e.jsx(C0,{})}),e.jsx(Nt,{path:"/subscription",element:e.jsx(R4,{})}),e.jsx(Nt,{path:"/trips/:id",element:e.jsx(w0,{})}),e.jsx(Nt,{path:"/places/:id",element:e.jsx(N0,{})}),e.jsx(Nt,{path:"/community/story/:id",element:e.jsx(v4,{})}),e.jsx(Nt,{path:"/*",element:e.jsx(g4,{})}),e.jsx(Nt,{path:"*",element:e.jsx(I4,{})})]})})})})};function P4(){return e.jsx(Dv,{children:e.jsx(B4,{})})}Ev.createRoot(document.getElementById("root")).render(e.jsx(j.StrictMode,{children:e.jsx(P4,{})}));export{B,Tn as d,e as j};
