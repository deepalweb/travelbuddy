(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const m of c)if(m.type==="childList")for(const h of m.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function n(c){const m={};return c.integrity&&(m.integrity=c.integrity),c.referrerPolicy&&(m.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?m.credentials="include":c.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function o(c){if(c.ep)return;c.ep=!0;const m=n(c);fetch(c.href,m)}})();function aj(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var bu={exports:{}},Mn={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp;function rj(){if(Rp)return Mn;Rp=1;var l=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function n(o,c,m){var h=null;if(m!==void 0&&(h=""+m),c.key!==void 0&&(h=""+c.key),"key"in c){m={};for(var x in c)x!=="key"&&(m[x]=c[x])}else m=c;return c=m.ref,{$$typeof:l,type:o,key:h,ref:c!==void 0?c:null,props:m}}return Mn.Fragment=r,Mn.jsx=n,Mn.jsxs=n,Mn}var Mp;function lj(){return Mp||(Mp=1,bu.exports=rj()),bu.exports}var e=lj();if(typeof window<"u"&&window.trustedTypes){try{window.trustedTypes.createPolicy("default",{createScriptURL:r=>r,createHTML:r=>r,createScript:r=>r})}catch{}["firebase-js-sdk#jsl","firebase-js-sdk#load_esm","gapi#gapi","goog#html"].forEach(r=>{try{window.trustedTypes.createPolicy(r,{createScriptURL:n=>n,createHTML:n=>n,createScript:n=>n})}catch{}})}var yu={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function nj(){if(Lp)return ke;Lp=1;var l=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),h=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),v=Symbol.iterator;function k(M){return M===null||typeof M!="object"?null:(M=v&&M[v]||M["@@iterator"],typeof M=="function"?M:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,w={};function T(M,Q,ie){this.props=M,this.context=Q,this.refs=w,this.updater=ie||S}T.prototype.isReactComponent={},T.prototype.setState=function(M,Q){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Q,"setState")},T.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function O(){}O.prototype=T.prototype;function R(M,Q,ie){this.props=M,this.context=Q,this.refs=w,this.updater=ie||S}var W=R.prototype=new O;W.constructor=R,C(W,T.prototype),W.isPureReactComponent=!0;var B=Array.isArray;function X(){}var V={H:null,A:null,T:null,S:null},_=Object.prototype.hasOwnProperty;function ne(M,Q,ie){var de=ie.ref;return{$$typeof:l,type:M,key:Q,ref:de!==void 0?de:null,props:ie}}function ye(M,Q){return ne(M.type,Q,M.props)}function Me(M){return typeof M=="object"&&M!==null&&M.$$typeof===l}function D(M){var Q={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ie){return Q[ie]})}var Z=/\/+/g;function oe(M,Q){return typeof M=="object"&&M!==null&&M.key!=null?D(""+M.key):Q.toString(36)}function Y(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(X,X):(M.status="pending",M.then(function(Q){M.status==="pending"&&(M.status="fulfilled",M.value=Q)},function(Q){M.status==="pending"&&(M.status="rejected",M.reason=Q)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function A(M,Q,ie,de,be){var Ne=typeof M;(Ne==="undefined"||Ne==="boolean")&&(M=null);var me=!1;if(M===null)me=!0;else switch(Ne){case"bigint":case"string":case"number":me=!0;break;case"object":switch(M.$$typeof){case l:case r:me=!0;break;case y:return me=M._init,A(me(M._payload),Q,ie,de,be)}}if(me)return be=be(M),me=de===""?"."+oe(M,0):de,B(be)?(ie="",me!=null&&(ie=me.replace(Z,"$&/")+"/"),A(be,Q,ie,"",function(kt){return kt})):be!=null&&(Me(be)&&(be=ye(be,ie+(be.key==null||M&&M.key===be.key?"":(""+be.key).replace(Z,"$&/")+"/")+me)),Q.push(be)),1;me=0;var Qe=de===""?".":de+":";if(B(M))for(var $e=0;$e<M.length;$e++)de=M[$e],Ne=Qe+oe(de,$e),me+=A(de,Q,ie,Ne,be);else if($e=k(M),typeof $e=="function")for(M=$e.call(M),$e=0;!(de=M.next()).done;)de=de.value,Ne=Qe+oe(de,$e++),me+=A(de,Q,ie,Ne,be);else if(Ne==="object"){if(typeof M.then=="function")return A(Y(M),Q,ie,de,be);throw Q=String(M),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return me}function F(M,Q,ie){if(M==null)return M;var de=[],be=0;return A(M,de,"","",function(Ne){return Q.call(ie,Ne,be++)}),de}function P(M){if(M._status===-1){var Q=M._result;Q=Q(),Q.then(function(ie){(M._status===0||M._status===-1)&&(M._status=1,M._result=ie)},function(ie){(M._status===0||M._status===-1)&&(M._status=2,M._result=ie)}),M._status===-1&&(M._status=0,M._result=Q)}if(M._status===1)return M._result.default;throw M._result}var z=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},ce={map:F,forEach:function(M,Q,ie){F(M,function(){Q.apply(this,arguments)},ie)},count:function(M){var Q=0;return F(M,function(){Q++}),Q},toArray:function(M){return F(M,function(Q){return Q})||[]},only:function(M){if(!Me(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return ke.Activity=b,ke.Children=ce,ke.Component=T,ke.Fragment=n,ke.Profiler=c,ke.PureComponent=R,ke.StrictMode=o,ke.Suspense=f,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,ke.__COMPILER_RUNTIME={__proto__:null,c:function(M){return V.H.useMemoCache(M)}},ke.cache=function(M){return function(){return M.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(M,Q,ie){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var de=C({},M.props),be=M.key;if(Q!=null)for(Ne in Q.key!==void 0&&(be=""+Q.key),Q)!_.call(Q,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&Q.ref===void 0||(de[Ne]=Q[Ne]);var Ne=arguments.length-2;if(Ne===1)de.children=ie;else if(1<Ne){for(var me=Array(Ne),Qe=0;Qe<Ne;Qe++)me[Qe]=arguments[Qe+2];de.children=me}return ne(M.type,be,de)},ke.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:m,_context:M},M},ke.createElement=function(M,Q,ie){var de,be={},Ne=null;if(Q!=null)for(de in Q.key!==void 0&&(Ne=""+Q.key),Q)_.call(Q,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(be[de]=Q[de]);var me=arguments.length-2;if(me===1)be.children=ie;else if(1<me){for(var Qe=Array(me),$e=0;$e<me;$e++)Qe[$e]=arguments[$e+2];be.children=Qe}if(M&&M.defaultProps)for(de in me=M.defaultProps,me)be[de]===void 0&&(be[de]=me[de]);return ne(M,Ne,be)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(M){return{$$typeof:x,render:M}},ke.isValidElement=Me,ke.lazy=function(M){return{$$typeof:y,_payload:{_status:-1,_result:M},_init:P}},ke.memo=function(M,Q){return{$$typeof:p,type:M,compare:Q===void 0?null:Q}},ke.startTransition=function(M){var Q=V.T,ie={};V.T=ie;try{var de=M(),be=V.S;be!==null&&be(ie,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(X,z)}catch(Ne){z(Ne)}finally{Q!==null&&ie.types!==null&&(Q.types=ie.types),V.T=Q}},ke.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},ke.use=function(M){return V.H.use(M)},ke.useActionState=function(M,Q,ie){return V.H.useActionState(M,Q,ie)},ke.useCallback=function(M,Q){return V.H.useCallback(M,Q)},ke.useContext=function(M){return V.H.useContext(M)},ke.useDebugValue=function(){},ke.useDeferredValue=function(M,Q){return V.H.useDeferredValue(M,Q)},ke.useEffect=function(M,Q){return V.H.useEffect(M,Q)},ke.useEffectEvent=function(M){return V.H.useEffectEvent(M)},ke.useId=function(){return V.H.useId()},ke.useImperativeHandle=function(M,Q,ie){return V.H.useImperativeHandle(M,Q,ie)},ke.useInsertionEffect=function(M,Q){return V.H.useInsertionEffect(M,Q)},ke.useLayoutEffect=function(M,Q){return V.H.useLayoutEffect(M,Q)},ke.useMemo=function(M,Q){return V.H.useMemo(M,Q)},ke.useOptimistic=function(M,Q){return V.H.useOptimistic(M,Q)},ke.useReducer=function(M,Q,ie){return V.H.useReducer(M,Q,ie)},ke.useRef=function(M){return V.H.useRef(M)},ke.useState=function(M){return V.H.useState(M)},ke.useSyncExternalStore=function(M,Q,ie){return V.H.useSyncExternalStore(M,Q,ie)},ke.useTransition=function(){return V.H.useTransition()},ke.version="19.2.0",ke}var Op;function im(){return Op||(Op=1,yu.exports=nj()),yu.exports}var j=im();const X0=aj(j);var vu={exports:{}},Ln={},ju={exports:{}},Nu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp;function ij(){return zp||(zp=1,(function(l){function r(A,F){var P=A.length;A.push(F);e:for(;0<P;){var z=P-1>>>1,ce=A[z];if(0<c(ce,F))A[z]=F,A[P]=ce,P=z;else break e}}function n(A){return A.length===0?null:A[0]}function o(A){if(A.length===0)return null;var F=A[0],P=A.pop();if(P!==F){A[0]=P;e:for(var z=0,ce=A.length,M=ce>>>1;z<M;){var Q=2*(z+1)-1,ie=A[Q],de=Q+1,be=A[de];if(0>c(ie,P))de<ce&&0>c(be,ie)?(A[z]=be,A[de]=P,z=de):(A[z]=ie,A[Q]=P,z=Q);else if(de<ce&&0>c(be,P))A[z]=be,A[de]=P,z=de;else break e}}return F}function c(A,F){var P=A.sortIndex-F.sortIndex;return P!==0?P:A.id-F.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;l.unstable_now=function(){return m.now()}}else{var h=Date,x=h.now();l.unstable_now=function(){return h.now()-x}}var f=[],p=[],y=1,b=null,v=3,k=!1,S=!1,C=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function W(A){for(var F=n(p);F!==null;){if(F.callback===null)o(p);else if(F.startTime<=A)o(p),F.sortIndex=F.expirationTime,r(f,F);else break;F=n(p)}}function B(A){if(C=!1,W(A),!S)if(n(f)!==null)S=!0,X||(X=!0,D());else{var F=n(p);F!==null&&Y(B,F.startTime-A)}}var X=!1,V=-1,_=5,ne=-1;function ye(){return w?!0:!(l.unstable_now()-ne<_)}function Me(){if(w=!1,X){var A=l.unstable_now();ne=A;var F=!0;try{e:{S=!1,C&&(C=!1,O(V),V=-1),k=!0;var P=v;try{t:{for(W(A),b=n(f);b!==null&&!(b.expirationTime>A&&ye());){var z=b.callback;if(typeof z=="function"){b.callback=null,v=b.priorityLevel;var ce=z(b.expirationTime<=A);if(A=l.unstable_now(),typeof ce=="function"){b.callback=ce,W(A),F=!0;break t}b===n(f)&&o(f),W(A)}else o(f);b=n(f)}if(b!==null)F=!0;else{var M=n(p);M!==null&&Y(B,M.startTime-A),F=!1}}break e}finally{b=null,v=P,k=!1}F=void 0}}finally{F?D():X=!1}}}var D;if(typeof R=="function")D=function(){R(Me)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,oe=Z.port2;Z.port1.onmessage=Me,D=function(){oe.postMessage(null)}}else D=function(){T(Me,0)};function Y(A,F){V=T(function(){A(l.unstable_now())},F)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(A){A.callback=null},l.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<A?Math.floor(1e3/A):5},l.unstable_getCurrentPriorityLevel=function(){return v},l.unstable_next=function(A){switch(v){case 1:case 2:case 3:var F=3;break;default:F=v}var P=v;v=F;try{return A()}finally{v=P}},l.unstable_requestPaint=function(){w=!0},l.unstable_runWithPriority=function(A,F){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var P=v;v=A;try{return F()}finally{v=P}},l.unstable_scheduleCallback=function(A,F,P){var z=l.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?z+P:z):P=z,A){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=P+ce,A={id:y++,callback:F,priorityLevel:A,startTime:P,expirationTime:ce,sortIndex:-1},P>z?(A.sortIndex=P,r(p,A),n(f)===null&&A===n(p)&&(C?(O(V),V=-1):C=!0,Y(B,P-z))):(A.sortIndex=ce,r(f,A),S||k||(S=!0,X||(X=!0,D()))),A},l.unstable_shouldYield=ye,l.unstable_wrapCallback=function(A){var F=v;return function(){var P=v;v=F;try{return A.apply(this,arguments)}finally{v=P}}}})(Nu)),Nu}var Up;function oj(){return Up||(Up=1,ju.exports=ij()),ju.exports}var wu={exports:{}},Mt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function cj(){if(Ip)return Mt;Ip=1;var l=im();function r(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var o={d:{f:n,r:function(){throw Error(r(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},c=Symbol.for("react.portal");function m(f,p,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:f,containerInfo:p,implementation:y}}var h=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Mt.createPortal=function(f,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(r(299));return m(f,p,null,y)},Mt.flushSync=function(f){var p=h.T,y=o.p;try{if(h.T=null,o.p=2,f)return f()}finally{h.T=p,o.p=y,o.d.f()}},Mt.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(f,p))},Mt.prefetchDNS=function(f){typeof f=="string"&&o.d.D(f)},Mt.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var y=p.as,b=x(y,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,k=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?o.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:k}):y==="script"&&o.d.X(f,{crossOrigin:b,integrity:v,fetchPriority:k,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Mt.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=x(p.as,p.crossOrigin);o.d.M(f,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(f)},Mt.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,b=x(y,p.crossOrigin);o.d.L(f,y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Mt.preloadModule=function(f,p){if(typeof f=="string")if(p){var y=x(p.as,p.crossOrigin);o.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(f)},Mt.requestFormReset=function(f){o.d.r(f)},Mt.unstable_batchedUpdates=function(f,p){return f(p)},Mt.useFormState=function(f,p,y){return h.H.useFormState(f,p,y)},Mt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Mt.version="19.2.0",Mt}var Pp;function dj(){if(Pp)return wu.exports;Pp=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(r){console.error(r)}}return l(),wu.exports=cj(),wu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bp;function uj(){if(Bp)return Ln;Bp=1;var l=oj(),r=im(),n=dj();function o(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function m(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function h(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function x(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function f(t){if(m(t)!==t)throw Error(o(188))}function p(t){var s=t.alternate;if(!s){if(s=m(t),s===null)throw Error(o(188));return s!==t?null:t}for(var a=t,i=s;;){var d=a.return;if(d===null)break;var u=d.alternate;if(u===null){if(i=d.return,i!==null){a=i;continue}break}if(d.child===u.child){for(u=d.child;u;){if(u===a)return f(d),t;if(u===i)return f(d),s;u=u.sibling}throw Error(o(188))}if(a.return!==i.return)a=d,i=u;else{for(var g=!1,N=d.child;N;){if(N===a){g=!0,a=d,i=u;break}if(N===i){g=!0,i=d,a=u;break}N=N.sibling}if(!g){for(N=u.child;N;){if(N===a){g=!0,a=u,i=d;break}if(N===i){g=!0,i=u,a=d;break}N=N.sibling}if(!g)throw Error(o(189))}}if(a.alternate!==i)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?t:s}function y(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=y(t),s!==null)return s;t=t.sibling}return null}var b=Object.assign,v=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),R=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),ye=Symbol.for("react.memo_cache_sentinel"),Me=Symbol.iterator;function D(t){return t===null||typeof t!="object"?null:(t=Me&&t[Me]||t["@@iterator"],typeof t=="function"?t:null)}var Z=Symbol.for("react.client.reference");function oe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Z?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case C:return"Fragment";case T:return"Profiler";case w:return"StrictMode";case B:return"Suspense";case X:return"SuspenseList";case ne:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case S:return"Portal";case R:return t.displayName||"Context";case O:return(t._context.displayName||"Context")+".Consumer";case W:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return s=t.displayName||null,s!==null?s:oe(t.type)||"Memo";case _:s=t._payload,t=t._init;try{return oe(t(s))}catch{}}return null}var Y=Array.isArray,A=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P={pending:!1,data:null,method:null,action:null},z=[],ce=-1;function M(t){return{current:t}}function Q(t){0>ce||(t.current=z[ce],z[ce]=null,ce--)}function ie(t,s){ce++,z[ce]=t.current,t.current=s}var de=M(null),be=M(null),Ne=M(null),me=M(null);function Qe(t,s){switch(ie(Ne,s),ie(be,t),ie(de,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?tp(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=tp(s),t=sp(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(de),ie(de,t)}function $e(){Q(de),Q(be),Q(Ne)}function kt(t){t.memoizedState!==null&&ie(me,t);var s=de.current,a=sp(s,t.type);s!==a&&(ie(be,t),ie(de,a))}function mt(t){be.current===t&&(Q(de),Q(be)),me.current===t&&(Q(me),En._currentValue=P)}var Bt,ga;function ls(t){if(Bt===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Bt=s&&s[1]||"",ga=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bt+t+ga}var K=!1;function _e(t,s){if(!t||K)return"";K=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(s){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(G){var q=G}Reflect.construct(t,[],se)}else{try{se.call()}catch(G){q=G}t.call(se.prototype)}}else{try{throw Error()}catch(G){q=G}(se=t())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=i.DetermineComponentFrameRoot(),g=u[0],N=u[1];if(g&&N){var E=g.split(`
`),H=N.split(`
`);for(d=i=0;i<E.length&&!E[i].includes("DetermineComponentFrameRoot");)i++;for(;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;if(i===E.length||d===H.length)for(i=E.length-1,d=H.length-1;1<=i&&0<=d&&E[i]!==H[d];)d--;for(;1<=i&&0<=d;i--,d--)if(E[i]!==H[d]){if(i!==1||d!==1)do if(i--,d--,0>d||E[i]!==H[d]){var J=`
`+E[i].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=i&&0<=d);break}}}finally{K=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ls(a):""}function te(t,s){switch(t.tag){case 26:case 27:case 5:return ls(t.type);case 16:return ls("Lazy");case 13:return t.child!==s&&s!==null?ls("Suspense Fallback"):ls("Suspense");case 19:return ls("SuspenseList");case 0:case 15:return _e(t.type,!1);case 11:return _e(t.type.render,!1);case 1:return _e(t.type,!0);case 31:return ls("Activity");default:return""}}function ue(t){try{var s="",a=null;do s+=te(t,a),a=t,t=t.return;while(t);return s}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Be=Object.prototype.hasOwnProperty,ns=l.unstable_scheduleCallback,ba=l.unstable_cancelCallback,or=l.unstable_shouldYield,rc=l.unstable_requestPaint,Ut=l.unstable_now,lc=l.unstable_getCurrentPriorityLevel,ii=l.unstable_ImmediatePriority,oi=l.unstable_UserBlockingPriority,Pl=l.unstable_NormalPriority,Ib=l.unstable_LowPriority,Lm=l.unstable_IdlePriority,Pb=l.log,Bb=l.unstable_setDisableYieldValue,Bl=null,Jt=null;function ya(t){if(typeof Pb=="function"&&Bb(t),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(Bl,t)}catch{}}var Qt=Math.clz32?Math.clz32:qb,$b=Math.log,Hb=Math.LN2;function qb(t){return t>>>=0,t===0?32:31-($b(t)/Hb|0)|0}var ci=256,di=262144,ui=4194304;function cr(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mi(t,s,a){var i=t.pendingLanes;if(i===0)return 0;var d=0,u=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var N=i&134217727;return N!==0?(i=N&~u,i!==0?d=cr(i):(g&=N,g!==0?d=cr(g):a||(a=N&~t,a!==0&&(d=cr(a))))):(N=i&~u,N!==0?d=cr(N):g!==0?d=cr(g):a||(a=i&~t,a!==0&&(d=cr(a)))),d===0?0:s!==0&&s!==d&&(s&u)===0&&(u=d&-d,a=s&-s,u>=a||u===32&&(a&4194048)!==0)?s:d}function $l(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Vb(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Om(){var t=ui;return ui<<=1,(ui&62914560)===0&&(ui=4194304),t}function nc(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Hl(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Fb(t,s,a,i,d,u){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var N=t.entanglements,E=t.expirationTimes,H=t.hiddenUpdates;for(a=g&~a;0<a;){var J=31-Qt(a),se=1<<J;N[J]=0,E[J]=-1;var q=H[J];if(q!==null)for(H[J]=null,J=0;J<q.length;J++){var G=q[J];G!==null&&(G.lane&=-536870913)}a&=~se}i!==0&&zm(t,i,0),u!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=u&~(g&~s))}function zm(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var i=31-Qt(s);t.entangledLanes|=s,t.entanglements[i]=t.entanglements[i]|1073741824|a&261930}function Um(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var i=31-Qt(a),d=1<<i;d&s|t[i]&s&&(t[i]|=s),a&=~d}}function Im(t,s){var a=s&-s;return a=(a&42)!==0?1:ic(a),(a&(t.suspendedLanes|s))!==0?0:a}function ic(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function oc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Pm(){var t=F.p;return t!==0?t:(t=window.event,t===void 0?32:Cp(t.type))}function Bm(t,s){var a=F.p;try{return F.p=t,s()}finally{F.p=a}}var va=Math.random().toString(36).slice(2),Tt="__reactFiber$"+va,$t="__reactProps$"+va,zr="__reactContainer$"+va,cc="__reactEvents$"+va,Gb="__reactListeners$"+va,Yb="__reactHandles$"+va,$m="__reactResources$"+va,ql="__reactMarker$"+va;function dc(t){delete t[Tt],delete t[$t],delete t[cc],delete t[Gb],delete t[Yb]}function Ur(t){var s=t[Tt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[zr]||a[Tt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=cp(t);t!==null;){if(a=t[Tt])return a;t=cp(t)}return s}t=a,a=t.parentNode}return null}function Ir(t){if(t=t[Tt]||t[zr]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function Vl(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(o(33))}function Pr(t){var s=t[$m];return s||(s=t[$m]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function St(t){t[ql]=!0}var Hm=new Set,qm={};function dr(t,s){Br(t,s),Br(t+"Capture",s)}function Br(t,s){for(qm[t]=s,t=0;t<s.length;t++)Hm.add(s[t])}var Kb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vm={},Fm={};function Jb(t){return Be.call(Fm,t)?!0:Be.call(Vm,t)?!1:Kb.test(t)?Fm[t]=!0:(Vm[t]=!0,!1)}function hi(t,s,a){if(Jb(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var i=s.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function xi(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Hs(t,s,a,i){if(i===null)t.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+i)}}function is(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gm(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Qb(t,s,a){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,u=i.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return d.call(this)},set:function(g){a=""+g,u.call(this,g)}}),Object.defineProperty(t,s,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function uc(t){if(!t._valueTracker){var s=Gm(t)?"checked":"value";t._valueTracker=Qb(t,s,""+t[s])}}function Ym(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),i="";return t&&(i=Gm(t)?t.checked?"true":"false":t.value),t=i,t!==a?(s.setValue(t),!0):!1}function fi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Xb=/[\n"\\]/g;function os(t){return t.replace(Xb,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function mc(t,s,a,i,d,u,g,N){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),s!=null?g==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+is(s)):t.value!==""+is(s)&&(t.value=""+is(s)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),s!=null?hc(t,g,is(s)):a!=null?hc(t,g,is(a)):i!=null&&t.removeAttribute("value"),d==null&&u!=null&&(t.defaultChecked=!!u),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.name=""+is(N):t.removeAttribute("name")}function Km(t,s,a,i,d,u,g,N){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(t.type=u),s!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||s!=null)){uc(t);return}a=a!=null?""+is(a):"",s=s!=null?""+is(s):a,N||s===t.value||(t.value=s),t.defaultValue=s}i=i??d,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=N?t.checked:!!i,t.defaultChecked=!!i,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),uc(t)}function hc(t,s,a){s==="number"&&fi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function $r(t,s,a,i){if(t=t.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=s.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&i&&(t[a].defaultSelected=!0)}else{for(a=""+is(a),s=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,i&&(t[d].defaultSelected=!0);return}s!==null||t[d].disabled||(s=t[d])}s!==null&&(s.selected=!0)}}function Jm(t,s,a){if(s!=null&&(s=""+is(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+is(a):""}function Qm(t,s,a,i){if(s==null){if(i!=null){if(a!=null)throw Error(o(92));if(Y(i)){if(1<i.length)throw Error(o(93));i=i[0]}a=i}a==null&&(a=""),s=a}a=is(s),t.defaultValue=a,i=t.textContent,i===a&&i!==""&&i!==null&&(t.value=i),uc(t)}function Hr(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var Zb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xm(t,s,a){var i=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?i?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":i?t.setProperty(s,a):typeof a!="number"||a===0||Zb.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function Zm(t,s,a){if(s!=null&&typeof s!="object")throw Error(o(62));if(t=t.style,a!=null){for(var i in a)!a.hasOwnProperty(i)||s!=null&&s.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var d in s)i=s[d],s.hasOwnProperty(d)&&a[d]!==i&&Xm(t,d,i)}else for(var u in s)s.hasOwnProperty(u)&&Xm(t,u,s[u])}function xc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ey=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pi(t){return ey.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function qs(){}var fc=null;function pc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qr=null,Vr=null;function Wm(t){var s=Ir(t);if(s&&(t=s.stateNode)){var a=t[$t]||null;e:switch(t=s.stateNode,s.type){case"input":if(mc(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+os(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var i=a[s];if(i!==t&&i.form===t.form){var d=i[$t]||null;if(!d)throw Error(o(90));mc(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<a.length;s++)i=a[s],i.form===t.form&&Ym(i)}break e;case"textarea":Jm(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&$r(t,!!a.multiple,s,!1)}}}var gc=!1;function eh(t,s,a){if(gc)return t(s,a);gc=!0;try{var i=t(s);return i}finally{if(gc=!1,(qr!==null||Vr!==null)&&(ao(),qr&&(s=qr,t=Vr,Vr=qr=null,Wm(s),t)))for(s=0;s<t.length;s++)Wm(t[s])}}function Fl(t,s){var a=t.stateNode;if(a===null)return null;var i=a[$t]||null;if(i===null)return null;a=i[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(o(231,s,typeof a));return a}var Vs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bc=!1;if(Vs)try{var Gl={};Object.defineProperty(Gl,"passive",{get:function(){bc=!0}}),window.addEventListener("test",Gl,Gl),window.removeEventListener("test",Gl,Gl)}catch{bc=!1}var ja=null,yc=null,gi=null;function th(){if(gi)return gi;var t,s=yc,a=s.length,i,d="value"in ja?ja.value:ja.textContent,u=d.length;for(t=0;t<a&&s[t]===d[t];t++);var g=a-t;for(i=1;i<=g&&s[a-i]===d[u-i];i++);return gi=d.slice(t,1<i?1-i:void 0)}function bi(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function yi(){return!0}function sh(){return!1}function Ht(t){function s(a,i,d,u,g){this._reactName=a,this._targetInst=d,this.type=i,this.nativeEvent=u,this.target=g,this.currentTarget=null;for(var N in t)t.hasOwnProperty(N)&&(a=t[N],this[N]=a?a(u):u[N]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?yi:sh,this.isPropagationStopped=sh,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=yi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=yi)},persist:function(){},isPersistent:yi}),s}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=Ht(ur),Yl=b({},ur,{view:0,detail:0}),ty=Ht(Yl),vc,jc,Kl,ji=b({},Yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kl&&(Kl&&t.type==="mousemove"?(vc=t.screenX-Kl.screenX,jc=t.screenY-Kl.screenY):jc=vc=0,Kl=t),vc)},movementY:function(t){return"movementY"in t?t.movementY:jc}}),ah=Ht(ji),sy=b({},ji,{dataTransfer:0}),ay=Ht(sy),ry=b({},Yl,{relatedTarget:0}),Nc=Ht(ry),ly=b({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),ny=Ht(ly),iy=b({},ur,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),oy=Ht(iy),cy=b({},ur,{data:0}),rh=Ht(cy),dy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},my={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hy(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=my[t])?!!s[t]:!1}function wc(){return hy}var xy=b({},Yl,{key:function(t){if(t.key){var s=dy[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=bi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wc,charCode:function(t){return t.type==="keypress"?bi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fy=Ht(xy),py=b({},ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lh=Ht(py),gy=b({},Yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wc}),by=Ht(gy),yy=b({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),vy=Ht(yy),jy=b({},ji,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ny=Ht(jy),wy=b({},ur,{newState:0,oldState:0}),Sy=Ht(wy),Cy=[9,13,27,32],Sc=Vs&&"CompositionEvent"in window,Jl=null;Vs&&"documentMode"in document&&(Jl=document.documentMode);var ky=Vs&&"TextEvent"in window&&!Jl,nh=Vs&&(!Sc||Jl&&8<Jl&&11>=Jl),ih=" ",oh=!1;function ch(t,s){switch(t){case"keyup":return Cy.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fr=!1;function Ty(t,s){switch(t){case"compositionend":return dh(s);case"keypress":return s.which!==32?null:(oh=!0,ih);case"textInput":return t=s.data,t===ih&&oh?null:t;default:return null}}function Ay(t,s){if(Fr)return t==="compositionend"||!Sc&&ch(t,s)?(t=th(),gi=yc=ja=null,Fr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return nh&&s.locale!=="ko"?null:s.data;default:return null}}var Ey={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uh(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Ey[t.type]:s==="textarea"}function mh(t,s,a,i){qr?Vr?Vr.push(i):Vr=[i]:qr=i,s=uo(s,"onChange"),0<s.length&&(a=new vi("onChange","change",null,a,i),t.push({event:a,listeners:s}))}var Ql=null,Xl=null;function _y(t){Jf(t,0)}function Ni(t){var s=Vl(t);if(Ym(s))return t}function hh(t,s){if(t==="change")return s}var xh=!1;if(Vs){var Cc;if(Vs){var kc="oninput"in document;if(!kc){var fh=document.createElement("div");fh.setAttribute("oninput","return;"),kc=typeof fh.oninput=="function"}Cc=kc}else Cc=!1;xh=Cc&&(!document.documentMode||9<document.documentMode)}function ph(){Ql&&(Ql.detachEvent("onpropertychange",gh),Xl=Ql=null)}function gh(t){if(t.propertyName==="value"&&Ni(Xl)){var s=[];mh(s,Xl,t,pc(t)),eh(_y,s)}}function Dy(t,s,a){t==="focusin"?(ph(),Ql=s,Xl=a,Ql.attachEvent("onpropertychange",gh)):t==="focusout"&&ph()}function Ry(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ni(Xl)}function My(t,s){if(t==="click")return Ni(s)}function Ly(t,s){if(t==="input"||t==="change")return Ni(s)}function Oy(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Xt=typeof Object.is=="function"?Object.is:Oy;function Zl(t,s){if(Xt(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),i=Object.keys(s);if(a.length!==i.length)return!1;for(i=0;i<a.length;i++){var d=a[i];if(!Be.call(s,d)||!Xt(t[d],s[d]))return!1}return!0}function bh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yh(t,s){var a=bh(t);t=0;for(var i;a;){if(a.nodeType===3){if(i=t+a.textContent.length,t<=s&&i>=s)return{node:a,offset:s-t};t=i}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=bh(a)}}function vh(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?vh(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function jh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=fi(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=fi(t.document)}return s}function Tc(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var zy=Vs&&"documentMode"in document&&11>=document.documentMode,Gr=null,Ac=null,Wl=null,Ec=!1;function Nh(t,s,a){var i=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ec||Gr==null||Gr!==fi(i)||(i=Gr,"selectionStart"in i&&Tc(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Wl&&Zl(Wl,i)||(Wl=i,i=uo(Ac,"onSelect"),0<i.length&&(s=new vi("onSelect","select",null,s,a),t.push({event:s,listeners:i}),s.target=Gr)))}function mr(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Yr={animationend:mr("Animation","AnimationEnd"),animationiteration:mr("Animation","AnimationIteration"),animationstart:mr("Animation","AnimationStart"),transitionrun:mr("Transition","TransitionRun"),transitionstart:mr("Transition","TransitionStart"),transitioncancel:mr("Transition","TransitionCancel"),transitionend:mr("Transition","TransitionEnd")},_c={},wh={};Vs&&(wh=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function hr(t){if(_c[t])return _c[t];if(!Yr[t])return t;var s=Yr[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in wh)return _c[t]=s[a];return t}var Sh=hr("animationend"),Ch=hr("animationiteration"),kh=hr("animationstart"),Uy=hr("transitionrun"),Iy=hr("transitionstart"),Py=hr("transitioncancel"),Th=hr("transitionend"),Ah=new Map,Dc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dc.push("scrollEnd");function ys(t,s){Ah.set(t,s),dr(s,[t])}var wi=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},cs=[],Kr=0,Rc=0;function Si(){for(var t=Kr,s=Rc=Kr=0;s<t;){var a=cs[s];cs[s++]=null;var i=cs[s];cs[s++]=null;var d=cs[s];cs[s++]=null;var u=cs[s];if(cs[s++]=null,i!==null&&d!==null){var g=i.pending;g===null?d.next=d:(d.next=g.next,g.next=d),i.pending=d}u!==0&&Eh(a,d,u)}}function Ci(t,s,a,i){cs[Kr++]=t,cs[Kr++]=s,cs[Kr++]=a,cs[Kr++]=i,Rc|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Mc(t,s,a,i){return Ci(t,s,a,i),ki(t)}function xr(t,s){return Ci(t,null,null,s),ki(t)}function Eh(t,s,a){t.lanes|=a;var i=t.alternate;i!==null&&(i.lanes|=a);for(var d=!1,u=t.return;u!==null;)u.childLanes|=a,i=u.alternate,i!==null&&(i.childLanes|=a),u.tag===22&&(t=u.stateNode,t===null||t._visibility&1||(d=!0)),t=u,u=u.return;return t.tag===3?(u=t.stateNode,d&&s!==null&&(d=31-Qt(a),t=u.hiddenUpdates,i=t[d],i===null?t[d]=[s]:i.push(s),s.lane=a|536870912),u):null}function ki(t){if(50<Nn)throw Nn=0,Hd=null,Error(o(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Jr={};function By(t,s,a,i){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(t,s,a,i){return new By(t,s,a,i)}function Lc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fs(t,s){var a=t.alternate;return a===null?(a=Zt(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function _h(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Ti(t,s,a,i,d,u){var g=0;if(i=t,typeof t=="function")Lc(t)&&(g=1);else if(typeof t=="string")g=Fv(t,a,de.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ne:return t=Zt(31,a,s,d),t.elementType=ne,t.lanes=u,t;case C:return fr(a.children,d,u,s);case w:g=8,d|=24;break;case T:return t=Zt(12,a,s,d|2),t.elementType=T,t.lanes=u,t;case B:return t=Zt(13,a,s,d),t.elementType=B,t.lanes=u,t;case X:return t=Zt(19,a,s,d),t.elementType=X,t.lanes=u,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case R:g=10;break e;case O:g=9;break e;case W:g=11;break e;case V:g=14;break e;case _:g=16,i=null;break e}g=29,a=Error(o(130,t===null?"null":typeof t,"")),i=null}return s=Zt(g,a,s,d),s.elementType=t,s.type=i,s.lanes=u,s}function fr(t,s,a,i){return t=Zt(7,t,i,s),t.lanes=a,t}function Oc(t,s,a){return t=Zt(6,t,null,s),t.lanes=a,t}function Dh(t){var s=Zt(18,null,null,0);return s.stateNode=t,s}function zc(t,s,a){return s=Zt(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Rh=new WeakMap;function ds(t,s){if(typeof t=="object"&&t!==null){var a=Rh.get(t);return a!==void 0?a:(s={value:t,source:s,stack:ue(s)},Rh.set(t,s),s)}return{value:t,source:s,stack:ue(s)}}var Qr=[],Xr=0,Ai=null,en=0,us=[],ms=0,Na=null,Ms=1,Ls="";function Gs(t,s){Qr[Xr++]=en,Qr[Xr++]=Ai,Ai=t,en=s}function Mh(t,s,a){us[ms++]=Ms,us[ms++]=Ls,us[ms++]=Na,Na=t;var i=Ms;t=Ls;var d=32-Qt(i)-1;i&=~(1<<d),a+=1;var u=32-Qt(s)+d;if(30<u){var g=d-d%5;u=(i&(1<<g)-1).toString(32),i>>=g,d-=g,Ms=1<<32-Qt(s)+d|a<<d|i,Ls=u+t}else Ms=1<<u|a<<d|i,Ls=t}function Uc(t){t.return!==null&&(Gs(t,1),Mh(t,1,0))}function Ic(t){for(;t===Ai;)Ai=Qr[--Xr],Qr[Xr]=null,en=Qr[--Xr],Qr[Xr]=null;for(;t===Na;)Na=us[--ms],us[ms]=null,Ls=us[--ms],us[ms]=null,Ms=us[--ms],us[ms]=null}function Lh(t,s){us[ms++]=Ms,us[ms++]=Ls,us[ms++]=Na,Ms=s.id,Ls=s.overflow,Na=t}var At=null,We=null,Ie=!1,wa=null,hs=!1,Pc=Error(o(519));function Sa(t){var s=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tn(ds(s,t)),Pc}function Oh(t){var s=t.stateNode,a=t.type,i=t.memoizedProps;switch(s[Tt]=t,s[$t]=i,a){case"dialog":Oe("cancel",s),Oe("close",s);break;case"iframe":case"object":case"embed":Oe("load",s);break;case"video":case"audio":for(a=0;a<Sn.length;a++)Oe(Sn[a],s);break;case"source":Oe("error",s);break;case"img":case"image":case"link":Oe("error",s),Oe("load",s);break;case"details":Oe("toggle",s);break;case"input":Oe("invalid",s),Km(s,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":Oe("invalid",s);break;case"textarea":Oe("invalid",s),Qm(s,i.value,i.defaultValue,i.children)}a=i.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||i.suppressHydrationWarning===!0||Wf(s.textContent,a)?(i.popover!=null&&(Oe("beforetoggle",s),Oe("toggle",s)),i.onScroll!=null&&Oe("scroll",s),i.onScrollEnd!=null&&Oe("scrollend",s),i.onClick!=null&&(s.onclick=qs),s=!0):s=!1,s||Sa(t,!0)}function zh(t){for(At=t.return;At;)switch(At.tag){case 5:case 31:case 13:hs=!1;return;case 27:case 3:hs=!0;return;default:At=At.return}}function Zr(t){if(t!==At)return!1;if(!Ie)return zh(t),Ie=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||au(t.type,t.memoizedProps)),a=!a),a&&We&&Sa(t),zh(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));We=op(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));We=op(t)}else s===27?(s=We,Ia(t.type)?(t=ou,ou=null,We=t):We=s):We=At?fs(t.stateNode.nextSibling):null;return!0}function pr(){We=At=null,Ie=!1}function Bc(){var t=wa;return t!==null&&(Gt===null?Gt=t:Gt.push.apply(Gt,t),wa=null),t}function tn(t){wa===null?wa=[t]:wa.push(t)}var $c=M(null),gr=null,Ys=null;function Ca(t,s,a){ie($c,s._currentValue),s._currentValue=a}function Ks(t){t._currentValue=$c.current,Q($c)}function Hc(t,s,a){for(;t!==null;){var i=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,i!==null&&(i.childLanes|=s)):i!==null&&(i.childLanes&s)!==s&&(i.childLanes|=s),t===a)break;t=t.return}}function qc(t,s,a,i){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var u=d.dependencies;if(u!==null){var g=d.child;u=u.firstContext;e:for(;u!==null;){var N=u;u=d;for(var E=0;E<s.length;E++)if(N.context===s[E]){u.lanes|=a,N=u.alternate,N!==null&&(N.lanes|=a),Hc(u.return,a,t),i||(g=null);break e}u=N.next}}else if(d.tag===18){if(g=d.return,g===null)throw Error(o(341));g.lanes|=a,u=g.alternate,u!==null&&(u.lanes|=a),Hc(g,a,t),g=null}else g=d.child;if(g!==null)g.return=d;else for(g=d;g!==null;){if(g===t){g=null;break}if(d=g.sibling,d!==null){d.return=g.return,g=d;break}g=g.return}d=g}}function Wr(t,s,a,i){t=null;for(var d=s,u=!1;d!==null;){if(!u){if((d.flags&524288)!==0)u=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var g=d.alternate;if(g===null)throw Error(o(387));if(g=g.memoizedProps,g!==null){var N=d.type;Xt(d.pendingProps.value,g.value)||(t!==null?t.push(N):t=[N])}}else if(d===me.current){if(g=d.alternate,g===null)throw Error(o(387));g.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(En):t=[En])}d=d.return}t!==null&&qc(s,t,a,i),s.flags|=262144}function Ei(t){for(t=t.firstContext;t!==null;){if(!Xt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function br(t){gr=t,Ys=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Et(t){return Uh(gr,t)}function _i(t,s){return gr===null&&br(t),Uh(t,s)}function Uh(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Ys===null){if(t===null)throw Error(o(308));Ys=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Ys=Ys.next=s;return a}var $y=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,i){t.push(i)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},Hy=l.unstable_scheduleCallback,qy=l.unstable_NormalPriority,ht={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vc(){return{controller:new $y,data:new Map,refCount:0}}function sn(t){t.refCount--,t.refCount===0&&Hy(qy,function(){t.controller.abort()})}var an=null,Fc=0,el=0,tl=null;function Vy(t,s){if(an===null){var a=an=[];Fc=0,el=Kd(),tl={status:"pending",value:void 0,then:function(i){a.push(i)}}}return Fc++,s.then(Ih,Ih),s}function Ih(){if(--Fc===0&&an!==null){tl!==null&&(tl.status="fulfilled");var t=an;an=null,el=0,tl=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function Fy(t,s){var a=[],i={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){i.status="fulfilled",i.value=s;for(var d=0;d<a.length;d++)(0,a[d])(s)},function(d){for(i.status="rejected",i.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),i}var Ph=A.S;A.S=function(t,s){wf=Ut(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Vy(t,s),Ph!==null&&Ph(t,s)};var yr=M(null);function Gc(){var t=yr.current;return t!==null?t:Xe.pooledCache}function Di(t,s){s===null?ie(yr,yr.current):ie(yr,s.pool)}function Bh(){var t=Gc();return t===null?null:{parent:ht._currentValue,pool:t}}var sl=Error(o(460)),Yc=Error(o(474)),Ri=Error(o(542)),Mi={then:function(){}};function $h(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Hh(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(qs,qs),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Vh(t),t;default:if(typeof s.status=="string")s.then(qs,qs);else{if(t=Xe,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=s,t.status="pending",t.then(function(i){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=i}},function(i){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=i}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Vh(t),t}throw jr=s,sl}}function vr(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(jr=a,sl):a}}var jr=null;function qh(){if(jr===null)throw Error(o(459));var t=jr;return jr=null,t}function Vh(t){if(t===sl||t===Ri)throw Error(o(483))}var al=null,rn=0;function Li(t){var s=rn;return rn+=1,al===null&&(al=[]),Hh(al,t,s)}function ln(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Oi(t,s){throw s.$$typeof===v?Error(o(525)):(t=Object.prototype.toString.call(s),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Fh(t){function s(U,L){if(t){var $=U.deletions;$===null?(U.deletions=[L],U.flags|=16):$.push(L)}}function a(U,L){if(!t)return null;for(;L!==null;)s(U,L),L=L.sibling;return null}function i(U){for(var L=new Map;U!==null;)U.key!==null?L.set(U.key,U):L.set(U.index,U),U=U.sibling;return L}function d(U,L){return U=Fs(U,L),U.index=0,U.sibling=null,U}function u(U,L,$){return U.index=$,t?($=U.alternate,$!==null?($=$.index,$<L?(U.flags|=67108866,L):$):(U.flags|=67108866,L)):(U.flags|=1048576,L)}function g(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function N(U,L,$,ee){return L===null||L.tag!==6?(L=Oc($,U.mode,ee),L.return=U,L):(L=d(L,$),L.return=U,L)}function E(U,L,$,ee){var ve=$.type;return ve===C?J(U,L,$.props.children,ee,$.key):L!==null&&(L.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===_&&vr(ve)===L.type)?(L=d(L,$.props),ln(L,$),L.return=U,L):(L=Ti($.type,$.key,$.props,null,U.mode,ee),ln(L,$),L.return=U,L)}function H(U,L,$,ee){return L===null||L.tag!==4||L.stateNode.containerInfo!==$.containerInfo||L.stateNode.implementation!==$.implementation?(L=zc($,U.mode,ee),L.return=U,L):(L=d(L,$.children||[]),L.return=U,L)}function J(U,L,$,ee,ve){return L===null||L.tag!==7?(L=fr($,U.mode,ee,ve),L.return=U,L):(L=d(L,$),L.return=U,L)}function se(U,L,$){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Oc(""+L,U.mode,$),L.return=U,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case k:return $=Ti(L.type,L.key,L.props,null,U.mode,$),ln($,L),$.return=U,$;case S:return L=zc(L,U.mode,$),L.return=U,L;case _:return L=vr(L),se(U,L,$)}if(Y(L)||D(L))return L=fr(L,U.mode,$,null),L.return=U,L;if(typeof L.then=="function")return se(U,Li(L),$);if(L.$$typeof===R)return se(U,_i(U,L),$);Oi(U,L)}return null}function q(U,L,$,ee){var ve=L!==null?L.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return ve!==null?null:N(U,L,""+$,ee);if(typeof $=="object"&&$!==null){switch($.$$typeof){case k:return $.key===ve?E(U,L,$,ee):null;case S:return $.key===ve?H(U,L,$,ee):null;case _:return $=vr($),q(U,L,$,ee)}if(Y($)||D($))return ve!==null?null:J(U,L,$,ee,null);if(typeof $.then=="function")return q(U,L,Li($),ee);if($.$$typeof===R)return q(U,L,_i(U,$),ee);Oi(U,$)}return null}function G(U,L,$,ee,ve){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return U=U.get($)||null,N(L,U,""+ee,ve);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case k:return U=U.get(ee.key===null?$:ee.key)||null,E(L,U,ee,ve);case S:return U=U.get(ee.key===null?$:ee.key)||null,H(L,U,ee,ve);case _:return ee=vr(ee),G(U,L,$,ee,ve)}if(Y(ee)||D(ee))return U=U.get($)||null,J(L,U,ee,ve,null);if(typeof ee.then=="function")return G(U,L,$,Li(ee),ve);if(ee.$$typeof===R)return G(U,L,$,_i(L,ee),ve);Oi(L,ee)}return null}function he(U,L,$,ee){for(var ve=null,He=null,ge=L,Ee=L=0,Ue=null;ge!==null&&Ee<$.length;Ee++){ge.index>Ee?(Ue=ge,ge=null):Ue=ge.sibling;var qe=q(U,ge,$[Ee],ee);if(qe===null){ge===null&&(ge=Ue);break}t&&ge&&qe.alternate===null&&s(U,ge),L=u(qe,L,Ee),He===null?ve=qe:He.sibling=qe,He=qe,ge=Ue}if(Ee===$.length)return a(U,ge),Ie&&Gs(U,Ee),ve;if(ge===null){for(;Ee<$.length;Ee++)ge=se(U,$[Ee],ee),ge!==null&&(L=u(ge,L,Ee),He===null?ve=ge:He.sibling=ge,He=ge);return Ie&&Gs(U,Ee),ve}for(ge=i(ge);Ee<$.length;Ee++)Ue=G(ge,U,Ee,$[Ee],ee),Ue!==null&&(t&&Ue.alternate!==null&&ge.delete(Ue.key===null?Ee:Ue.key),L=u(Ue,L,Ee),He===null?ve=Ue:He.sibling=Ue,He=Ue);return t&&ge.forEach(function(qa){return s(U,qa)}),Ie&&Gs(U,Ee),ve}function Se(U,L,$,ee){if($==null)throw Error(o(151));for(var ve=null,He=null,ge=L,Ee=L=0,Ue=null,qe=$.next();ge!==null&&!qe.done;Ee++,qe=$.next()){ge.index>Ee?(Ue=ge,ge=null):Ue=ge.sibling;var qa=q(U,ge,qe.value,ee);if(qa===null){ge===null&&(ge=Ue);break}t&&ge&&qa.alternate===null&&s(U,ge),L=u(qa,L,Ee),He===null?ve=qa:He.sibling=qa,He=qa,ge=Ue}if(qe.done)return a(U,ge),Ie&&Gs(U,Ee),ve;if(ge===null){for(;!qe.done;Ee++,qe=$.next())qe=se(U,qe.value,ee),qe!==null&&(L=u(qe,L,Ee),He===null?ve=qe:He.sibling=qe,He=qe);return Ie&&Gs(U,Ee),ve}for(ge=i(ge);!qe.done;Ee++,qe=$.next())qe=G(ge,U,Ee,qe.value,ee),qe!==null&&(t&&qe.alternate!==null&&ge.delete(qe.key===null?Ee:qe.key),L=u(qe,L,Ee),He===null?ve=qe:He.sibling=qe,He=qe);return t&&ge.forEach(function(sj){return s(U,sj)}),Ie&&Gs(U,Ee),ve}function Je(U,L,$,ee){if(typeof $=="object"&&$!==null&&$.type===C&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case k:e:{for(var ve=$.key;L!==null;){if(L.key===ve){if(ve=$.type,ve===C){if(L.tag===7){a(U,L.sibling),ee=d(L,$.props.children),ee.return=U,U=ee;break e}}else if(L.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===_&&vr(ve)===L.type){a(U,L.sibling),ee=d(L,$.props),ln(ee,$),ee.return=U,U=ee;break e}a(U,L);break}else s(U,L);L=L.sibling}$.type===C?(ee=fr($.props.children,U.mode,ee,$.key),ee.return=U,U=ee):(ee=Ti($.type,$.key,$.props,null,U.mode,ee),ln(ee,$),ee.return=U,U=ee)}return g(U);case S:e:{for(ve=$.key;L!==null;){if(L.key===ve)if(L.tag===4&&L.stateNode.containerInfo===$.containerInfo&&L.stateNode.implementation===$.implementation){a(U,L.sibling),ee=d(L,$.children||[]),ee.return=U,U=ee;break e}else{a(U,L);break}else s(U,L);L=L.sibling}ee=zc($,U.mode,ee),ee.return=U,U=ee}return g(U);case _:return $=vr($),Je(U,L,$,ee)}if(Y($))return he(U,L,$,ee);if(D($)){if(ve=D($),typeof ve!="function")throw Error(o(150));return $=ve.call($),Se(U,L,$,ee)}if(typeof $.then=="function")return Je(U,L,Li($),ee);if($.$$typeof===R)return Je(U,L,_i(U,$),ee);Oi(U,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,L!==null&&L.tag===6?(a(U,L.sibling),ee=d(L,$),ee.return=U,U=ee):(a(U,L),ee=Oc($,U.mode,ee),ee.return=U,U=ee),g(U)):a(U,L)}return function(U,L,$,ee){try{rn=0;var ve=Je(U,L,$,ee);return al=null,ve}catch(ge){if(ge===sl||ge===Ri)throw ge;var He=Zt(29,ge,null,U.mode);return He.lanes=ee,He.return=U,He}finally{}}}var Nr=Fh(!0),Gh=Fh(!1),ka=!1;function Kc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jc(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ta(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Aa(t,s,a){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,(Ve&2)!==0){var d=i.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),i.pending=s,s=ki(t),Eh(t,null,a),s}return Ci(t,i,s,a),ki(t)}function nn(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var i=s.lanes;i&=t.pendingLanes,a|=i,s.lanes=a,Um(t,a)}}function Qc(t,s){var a=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,a===i)){var d=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?d=u=g:u=u.next=g,a=a.next}while(a!==null);u===null?d=u=s:u=u.next=s}else d=u=s;a={baseState:i.baseState,firstBaseUpdate:d,lastBaseUpdate:u,shared:i.shared,callbacks:i.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var Xc=!1;function on(){if(Xc){var t=tl;if(t!==null)throw t}}function cn(t,s,a,i){Xc=!1;var d=t.updateQueue;ka=!1;var u=d.firstBaseUpdate,g=d.lastBaseUpdate,N=d.shared.pending;if(N!==null){d.shared.pending=null;var E=N,H=E.next;E.next=null,g===null?u=H:g.next=H,g=E;var J=t.alternate;J!==null&&(J=J.updateQueue,N=J.lastBaseUpdate,N!==g&&(N===null?J.firstBaseUpdate=H:N.next=H,J.lastBaseUpdate=E))}if(u!==null){var se=d.baseState;g=0,J=H=E=null,N=u;do{var q=N.lane&-536870913,G=q!==N.lane;if(G?(ze&q)===q:(i&q)===q){q!==0&&q===el&&(Xc=!0),J!==null&&(J=J.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var he=t,Se=N;q=s;var Je=a;switch(Se.tag){case 1:if(he=Se.payload,typeof he=="function"){se=he.call(Je,se,q);break e}se=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Se.payload,q=typeof he=="function"?he.call(Je,se,q):he,q==null)break e;se=b({},se,q);break e;case 2:ka=!0}}q=N.callback,q!==null&&(t.flags|=64,G&&(t.flags|=8192),G=d.callbacks,G===null?d.callbacks=[q]:G.push(q))}else G={lane:q,tag:N.tag,payload:N.payload,callback:N.callback,next:null},J===null?(H=J=G,E=se):J=J.next=G,g|=q;if(N=N.next,N===null){if(N=d.shared.pending,N===null)break;G=N,N=G.next,G.next=null,d.lastBaseUpdate=G,d.shared.pending=null}}while(!0);J===null&&(E=se),d.baseState=E,d.firstBaseUpdate=H,d.lastBaseUpdate=J,u===null&&(d.shared.lanes=0),Ma|=g,t.lanes=g,t.memoizedState=se}}function Yh(t,s){if(typeof t!="function")throw Error(o(191,t));t.call(s)}function Kh(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Yh(a[t],s)}var rl=M(null),zi=M(0);function Jh(t,s){t=aa,ie(zi,t),ie(rl,s),aa=t|s.baseLanes}function Zc(){ie(zi,aa),ie(rl,rl.current)}function Wc(){aa=zi.current,Q(rl),Q(zi)}var Wt=M(null),xs=null;function Ea(t){var s=t.alternate;ie(ot,ot.current&1),ie(Wt,t),xs===null&&(s===null||rl.current!==null||s.memoizedState!==null)&&(xs=t)}function ed(t){ie(ot,ot.current),ie(Wt,t),xs===null&&(xs=t)}function Qh(t){t.tag===22?(ie(ot,ot.current),ie(Wt,t),xs===null&&(xs=t)):_a()}function _a(){ie(ot,ot.current),ie(Wt,Wt.current)}function es(t){Q(Wt),xs===t&&(xs=null),Q(ot)}var ot=M(0);function Ui(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||nu(a)||iu(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Js=0,Ae=null,Ye=null,xt=null,Ii=!1,ll=!1,wr=!1,Pi=0,dn=0,nl=null,Gy=0;function rt(){throw Error(o(321))}function td(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!Xt(t[a],s[a]))return!1;return!0}function sd(t,s,a,i,d,u){return Js=u,Ae=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,A.H=t===null||t.memoizedState===null?Mx:gd,wr=!1,u=a(i,d),wr=!1,ll&&(u=Zh(s,a,i,d)),Xh(t),u}function Xh(t){A.H=hn;var s=Ye!==null&&Ye.next!==null;if(Js=0,xt=Ye=Ae=null,Ii=!1,dn=0,nl=null,s)throw Error(o(300));t===null||ft||(t=t.dependencies,t!==null&&Ei(t)&&(ft=!0))}function Zh(t,s,a,i){Ae=t;var d=0;do{if(ll&&(nl=null),dn=0,ll=!1,25<=d)throw Error(o(301));if(d+=1,xt=Ye=null,t.updateQueue!=null){var u=t.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}A.H=Lx,u=s(a,i)}while(ll);return u}function Yy(){var t=A.H,s=t.useState()[0];return s=typeof s.then=="function"?un(s):s,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(Ae.flags|=1024),s}function ad(){var t=Pi!==0;return Pi=0,t}function rd(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function ld(t){if(Ii){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Ii=!1}Js=0,xt=Ye=Ae=null,ll=!1,dn=Pi=0,nl=null}function It(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ae.memoizedState=xt=t:xt=xt.next=t,xt}function ct(){if(Ye===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var s=xt===null?Ae.memoizedState:xt.next;if(s!==null)xt=s,Ye=t;else{if(t===null)throw Ae.alternate===null?Error(o(467)):Error(o(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},xt===null?Ae.memoizedState=xt=t:xt=xt.next=t}return xt}function Bi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function un(t){var s=dn;return dn+=1,nl===null&&(nl=[]),t=Hh(nl,t,s),s=Ae,(xt===null?s.memoizedState:xt.next)===null&&(s=s.alternate,A.H=s===null||s.memoizedState===null?Mx:gd),t}function $i(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return un(t);if(t.$$typeof===R)return Et(t)}throw Error(o(438,String(t)))}function nd(t){var s=null,a=Ae.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var i=Ae.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(s={data:i.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Bi(),Ae.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),i=0;i<t;i++)a[i]=ye;return s.index++,a}function Qs(t,s){return typeof s=="function"?s(t):s}function Hi(t){var s=ct();return id(s,Ye,t)}function id(t,s,a){var i=t.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=a;var d=t.baseQueue,u=i.pending;if(u!==null){if(d!==null){var g=d.next;d.next=u.next,u.next=g}s.baseQueue=d=u,i.pending=null}if(u=t.baseState,d===null)t.memoizedState=u;else{s=d.next;var N=g=null,E=null,H=s,J=!1;do{var se=H.lane&-536870913;if(se!==H.lane?(ze&se)===se:(Js&se)===se){var q=H.revertLane;if(q===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),se===el&&(J=!0);else if((Js&q)===q){H=H.next,q===el&&(J=!0);continue}else se={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},E===null?(N=E=se,g=u):E=E.next=se,Ae.lanes|=q,Ma|=q;se=H.action,wr&&a(u,se),u=H.hasEagerState?H.eagerState:a(u,se)}else q={lane:se,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},E===null?(N=E=q,g=u):E=E.next=q,Ae.lanes|=se,Ma|=se;H=H.next}while(H!==null&&H!==s);if(E===null?g=u:E.next=N,!Xt(u,t.memoizedState)&&(ft=!0,J&&(a=tl,a!==null)))throw a;t.memoizedState=u,t.baseState=g,t.baseQueue=E,i.lastRenderedState=u}return d===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function od(t){var s=ct(),a=s.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=t;var i=a.dispatch,d=a.pending,u=s.memoizedState;if(d!==null){a.pending=null;var g=d=d.next;do u=t(u,g.action),g=g.next;while(g!==d);Xt(u,s.memoizedState)||(ft=!0),s.memoizedState=u,s.baseQueue===null&&(s.baseState=u),a.lastRenderedState=u}return[u,i]}function Wh(t,s,a){var i=Ae,d=ct(),u=Ie;if(u){if(a===void 0)throw Error(o(407));a=a()}else a=s();var g=!Xt((Ye||d).memoizedState,a);if(g&&(d.memoizedState=a,ft=!0),d=d.queue,ud(sx.bind(null,i,d,t),[t]),d.getSnapshot!==s||g||xt!==null&&xt.memoizedState.tag&1){if(i.flags|=2048,il(9,{destroy:void 0},tx.bind(null,i,d,a,s),null),Xe===null)throw Error(o(349));u||(Js&127)!==0||ex(i,s,a)}return a}function ex(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Ae.updateQueue,s===null?(s=Bi(),Ae.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function tx(t,s,a,i){s.value=a,s.getSnapshot=i,ax(s)&&rx(t)}function sx(t,s,a){return a(function(){ax(s)&&rx(t)})}function ax(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!Xt(t,a)}catch{return!0}}function rx(t){var s=xr(t,2);s!==null&&Yt(s,t,2)}function cd(t){var s=It();if(typeof t=="function"){var a=t;if(t=a(),wr){ya(!0);try{a()}finally{ya(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:t},s}function lx(t,s,a,i){return t.baseState=a,id(t,Ye,typeof i=="function"?i:Qs)}function Ky(t,s,a,i,d){if(Fi(t))throw Error(o(485));if(t=s.action,t!==null){var u={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){u.listeners.push(g)}};A.T!==null?a(!0):u.isTransition=!1,i(u),a=s.pending,a===null?(u.next=s.pending=u,nx(s,u)):(u.next=a.next,s.pending=a.next=u)}}function nx(t,s){var a=s.action,i=s.payload,d=t.state;if(s.isTransition){var u=A.T,g={};A.T=g;try{var N=a(d,i),E=A.S;E!==null&&E(g,N),ix(t,s,N)}catch(H){dd(t,s,H)}finally{u!==null&&g.types!==null&&(u.types=g.types),A.T=u}}else try{u=a(d,i),ix(t,s,u)}catch(H){dd(t,s,H)}}function ix(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(i){ox(t,s,i)},function(i){return dd(t,s,i)}):ox(t,s,a)}function ox(t,s,a){s.status="fulfilled",s.value=a,cx(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,nx(t,a)))}function dd(t,s,a){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do s.status="rejected",s.reason=a,cx(s),s=s.next;while(s!==i)}t.action=null}function cx(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function dx(t,s){return s}function ux(t,s){if(Ie){var a=Xe.formState;if(a!==null){e:{var i=Ae;if(Ie){if(We){t:{for(var d=We,u=hs;d.nodeType!==8;){if(!u){d=null;break t}if(d=fs(d.nextSibling),d===null){d=null;break t}}u=d.data,d=u==="F!"||u==="F"?d:null}if(d){We=fs(d.nextSibling),i=d.data==="F!";break e}}Sa(i)}i=!1}i&&(s=a[0])}}return a=It(),a.memoizedState=a.baseState=s,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dx,lastRenderedState:s},a.queue=i,a=_x.bind(null,Ae,i),i.dispatch=a,i=cd(!1),u=pd.bind(null,Ae,!1,i.queue),i=It(),d={state:s,dispatch:null,action:t,pending:null},i.queue=d,a=Ky.bind(null,Ae,d,u,a),d.dispatch=a,i.memoizedState=t,[s,a,!1]}function mx(t){var s=ct();return hx(s,Ye,t)}function hx(t,s,a){if(s=id(t,s,dx)[0],t=Hi(Qs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var i=un(s)}catch(g){throw g===sl?Ri:g}else i=s;s=ct();var d=s.queue,u=d.dispatch;return a!==s.memoizedState&&(Ae.flags|=2048,il(9,{destroy:void 0},Jy.bind(null,d,a),null)),[i,u,t]}function Jy(t,s){t.action=s}function xx(t){var s=ct(),a=Ye;if(a!==null)return hx(s,a,t);ct(),s=s.memoizedState,a=ct();var i=a.queue.dispatch;return a.memoizedState=t,[s,i,!1]}function il(t,s,a,i){return t={tag:t,create:a,deps:i,inst:s,next:null},s=Ae.updateQueue,s===null&&(s=Bi(),Ae.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(i=a.next,a.next=t,t.next=i,s.lastEffect=t),t}function fx(){return ct().memoizedState}function qi(t,s,a,i){var d=It();Ae.flags|=t,d.memoizedState=il(1|s,{destroy:void 0},a,i===void 0?null:i)}function Vi(t,s,a,i){var d=ct();i=i===void 0?null:i;var u=d.memoizedState.inst;Ye!==null&&i!==null&&td(i,Ye.memoizedState.deps)?d.memoizedState=il(s,u,a,i):(Ae.flags|=t,d.memoizedState=il(1|s,u,a,i))}function px(t,s){qi(8390656,8,t,s)}function ud(t,s){Vi(2048,8,t,s)}function Qy(t){Ae.flags|=4;var s=Ae.updateQueue;if(s===null)s=Bi(),Ae.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function gx(t){var s=ct().memoizedState;return Qy({ref:s,nextImpl:t}),function(){if((Ve&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}function bx(t,s){return Vi(4,2,t,s)}function yx(t,s){return Vi(4,4,t,s)}function vx(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function jx(t,s,a){a=a!=null?a.concat([t]):null,Vi(4,4,vx.bind(null,s,t),a)}function md(){}function Nx(t,s){var a=ct();s=s===void 0?null:s;var i=a.memoizedState;return s!==null&&td(s,i[1])?i[0]:(a.memoizedState=[t,s],t)}function wx(t,s){var a=ct();s=s===void 0?null:s;var i=a.memoizedState;if(s!==null&&td(s,i[1]))return i[0];if(i=t(),wr){ya(!0);try{t()}finally{ya(!1)}}return a.memoizedState=[i,s],i}function hd(t,s,a){return a===void 0||(Js&1073741824)!==0&&(ze&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=Cf(),Ae.lanes|=t,Ma|=t,a)}function Sx(t,s,a,i){return Xt(a,s)?a:rl.current!==null?(t=hd(t,a,i),Xt(t,s)||(ft=!0),t):(Js&42)===0||(Js&1073741824)!==0&&(ze&261930)===0?(ft=!0,t.memoizedState=a):(t=Cf(),Ae.lanes|=t,Ma|=t,s)}function Cx(t,s,a,i,d){var u=F.p;F.p=u!==0&&8>u?u:8;var g=A.T,N={};A.T=N,pd(t,!1,s,a);try{var E=d(),H=A.S;if(H!==null&&H(N,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var J=Fy(E,i);mn(t,s,J,as(t))}else mn(t,s,i,as(t))}catch(se){mn(t,s,{then:function(){},status:"rejected",reason:se},as())}finally{F.p=u,g!==null&&N.types!==null&&(g.types=N.types),A.T=g}}function Xy(){}function xd(t,s,a,i){if(t.tag!==5)throw Error(o(476));var d=kx(t).queue;Cx(t,d,s,P,a===null?Xy:function(){return Tx(t),a(i)})}function kx(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:P,baseState:P,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:P},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Tx(t){var s=kx(t);s.next===null&&(s=t.alternate.memoizedState),mn(t,s.next.queue,{},as())}function fd(){return Et(En)}function Ax(){return ct().memoizedState}function Ex(){return ct().memoizedState}function Zy(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=as();t=Ta(a);var i=Aa(s,t,a);i!==null&&(Yt(i,s,a),nn(i,s,a)),s={cache:Vc()},t.payload=s;return}s=s.return}}function Wy(t,s,a){var i=as();a={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Fi(t)?Dx(s,a):(a=Mc(t,s,a,i),a!==null&&(Yt(a,t,i),Rx(a,s,i)))}function _x(t,s,a){var i=as();mn(t,s,a,i)}function mn(t,s,a,i){var d={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Fi(t))Dx(s,d);else{var u=t.alternate;if(t.lanes===0&&(u===null||u.lanes===0)&&(u=s.lastRenderedReducer,u!==null))try{var g=s.lastRenderedState,N=u(g,a);if(d.hasEagerState=!0,d.eagerState=N,Xt(N,g))return Ci(t,s,d,0),Xe===null&&Si(),!1}catch{}finally{}if(a=Mc(t,s,d,i),a!==null)return Yt(a,t,i),Rx(a,s,i),!0}return!1}function pd(t,s,a,i){if(i={lane:2,revertLane:Kd(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Fi(t)){if(s)throw Error(o(479))}else s=Mc(t,a,i,2),s!==null&&Yt(s,t,2)}function Fi(t){var s=t.alternate;return t===Ae||s!==null&&s===Ae}function Dx(t,s){ll=Ii=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function Rx(t,s,a){if((a&4194048)!==0){var i=s.lanes;i&=t.pendingLanes,a|=i,s.lanes=a,Um(t,a)}}var hn={readContext:Et,use:$i,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useLayoutEffect:rt,useInsertionEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useSyncExternalStore:rt,useId:rt,useHostTransitionStatus:rt,useFormState:rt,useActionState:rt,useOptimistic:rt,useMemoCache:rt,useCacheRefresh:rt};hn.useEffectEvent=rt;var Mx={readContext:Et,use:$i,useCallback:function(t,s){return It().memoizedState=[t,s===void 0?null:s],t},useContext:Et,useEffect:px,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,qi(4194308,4,vx.bind(null,s,t),a)},useLayoutEffect:function(t,s){return qi(4194308,4,t,s)},useInsertionEffect:function(t,s){qi(4,2,t,s)},useMemo:function(t,s){var a=It();s=s===void 0?null:s;var i=t();if(wr){ya(!0);try{t()}finally{ya(!1)}}return a.memoizedState=[i,s],i},useReducer:function(t,s,a){var i=It();if(a!==void 0){var d=a(s);if(wr){ya(!0);try{a(s)}finally{ya(!1)}}}else d=s;return i.memoizedState=i.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},i.queue=t,t=t.dispatch=Wy.bind(null,Ae,t),[i.memoizedState,t]},useRef:function(t){var s=It();return t={current:t},s.memoizedState=t},useState:function(t){t=cd(t);var s=t.queue,a=_x.bind(null,Ae,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:md,useDeferredValue:function(t,s){var a=It();return hd(a,t,s)},useTransition:function(){var t=cd(!1);return t=Cx.bind(null,Ae,t.queue,!0,!1),It().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var i=Ae,d=It();if(Ie){if(a===void 0)throw Error(o(407));a=a()}else{if(a=s(),Xe===null)throw Error(o(349));(ze&127)!==0||ex(i,s,a)}d.memoizedState=a;var u={value:a,getSnapshot:s};return d.queue=u,px(sx.bind(null,i,u,t),[t]),i.flags|=2048,il(9,{destroy:void 0},tx.bind(null,i,u,a,s),null),a},useId:function(){var t=It(),s=Xe.identifierPrefix;if(Ie){var a=Ls,i=Ms;a=(i&~(1<<32-Qt(i)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Pi++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Gy++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:fd,useFormState:ux,useActionState:ux,useOptimistic:function(t){var s=It();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=pd.bind(null,Ae,!0,a),a.dispatch=s,[t,s]},useMemoCache:nd,useCacheRefresh:function(){return It().memoizedState=Zy.bind(null,Ae)},useEffectEvent:function(t){var s=It(),a={impl:t};return s.memoizedState=a,function(){if((Ve&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},gd={readContext:Et,use:$i,useCallback:Nx,useContext:Et,useEffect:ud,useImperativeHandle:jx,useInsertionEffect:bx,useLayoutEffect:yx,useMemo:wx,useReducer:Hi,useRef:fx,useState:function(){return Hi(Qs)},useDebugValue:md,useDeferredValue:function(t,s){var a=ct();return Sx(a,Ye.memoizedState,t,s)},useTransition:function(){var t=Hi(Qs)[0],s=ct().memoizedState;return[typeof t=="boolean"?t:un(t),s]},useSyncExternalStore:Wh,useId:Ax,useHostTransitionStatus:fd,useFormState:mx,useActionState:mx,useOptimistic:function(t,s){var a=ct();return lx(a,Ye,t,s)},useMemoCache:nd,useCacheRefresh:Ex};gd.useEffectEvent=gx;var Lx={readContext:Et,use:$i,useCallback:Nx,useContext:Et,useEffect:ud,useImperativeHandle:jx,useInsertionEffect:bx,useLayoutEffect:yx,useMemo:wx,useReducer:od,useRef:fx,useState:function(){return od(Qs)},useDebugValue:md,useDeferredValue:function(t,s){var a=ct();return Ye===null?hd(a,t,s):Sx(a,Ye.memoizedState,t,s)},useTransition:function(){var t=od(Qs)[0],s=ct().memoizedState;return[typeof t=="boolean"?t:un(t),s]},useSyncExternalStore:Wh,useId:Ax,useHostTransitionStatus:fd,useFormState:xx,useActionState:xx,useOptimistic:function(t,s){var a=ct();return Ye!==null?lx(a,Ye,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:nd,useCacheRefresh:Ex};Lx.useEffectEvent=gx;function bd(t,s,a,i){s=t.memoizedState,a=a(i,s),a=a==null?s:b({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var yd={enqueueSetState:function(t,s,a){t=t._reactInternals;var i=as(),d=Ta(i);d.payload=s,a!=null&&(d.callback=a),s=Aa(t,d,i),s!==null&&(Yt(s,t,i),nn(s,t,i))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var i=as(),d=Ta(i);d.tag=1,d.payload=s,a!=null&&(d.callback=a),s=Aa(t,d,i),s!==null&&(Yt(s,t,i),nn(s,t,i))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=as(),i=Ta(a);i.tag=2,s!=null&&(i.callback=s),s=Aa(t,i,a),s!==null&&(Yt(s,t,a),nn(s,t,a))}};function Ox(t,s,a,i,d,u,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,u,g):s.prototype&&s.prototype.isPureReactComponent?!Zl(a,i)||!Zl(d,u):!0}function zx(t,s,a,i){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,i),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,i),s.state!==t&&yd.enqueueReplaceState(s,s.state,null)}function Sr(t,s){var a=s;if("ref"in s){a={};for(var i in s)i!=="ref"&&(a[i]=s[i])}if(t=t.defaultProps){a===s&&(a=b({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function Ux(t){wi(t)}function Ix(t){console.error(t)}function Px(t){wi(t)}function Gi(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(i){setTimeout(function(){throw i})}}function Bx(t,s,a){try{var i=t.onCaughtError;i(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function vd(t,s,a){return a=Ta(a),a.tag=3,a.payload={element:null},a.callback=function(){Gi(t,s)},a}function $x(t){return t=Ta(t),t.tag=3,t}function Hx(t,s,a,i){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var u=i.value;t.payload=function(){return d(u)},t.callback=function(){Bx(s,a,i)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Bx(s,a,i),typeof d!="function"&&(La===null?La=new Set([this]):La.add(this));var N=i.stack;this.componentDidCatch(i.value,{componentStack:N!==null?N:""})})}function ev(t,s,a,i,d){if(a.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(s=a.alternate,s!==null&&Wr(s,a,d,!0),a=Wt.current,a!==null){switch(a.tag){case 31:case 13:return xs===null?ro():a.alternate===null&&lt===0&&(lt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,i===Mi?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([i]):s.add(i),Fd(t,i,d)),!1;case 22:return a.flags|=65536,i===Mi?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([i])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([i]):a.add(i)),Fd(t,i,d)),!1}throw Error(o(435,a.tag))}return Fd(t,i,d),ro(),!1}if(Ie)return s=Wt.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,i!==Pc&&(t=Error(o(422),{cause:i}),tn(ds(t,a)))):(i!==Pc&&(s=Error(o(423),{cause:i}),tn(ds(s,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,i=ds(i,a),d=vd(t.stateNode,i,d),Qc(t,d),lt!==4&&(lt=2)),!1;var u=Error(o(520),{cause:i});if(u=ds(u,a),jn===null?jn=[u]:jn.push(u),lt!==4&&(lt=2),s===null)return!0;i=ds(i,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=vd(a.stateNode,i,t),Qc(a,t),!1;case 1:if(s=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(La===null||!La.has(u))))return a.flags|=65536,d&=-d,a.lanes|=d,d=$x(d),Hx(d,t,a,i),Qc(a,d),!1}a=a.return}while(a!==null);return!1}var jd=Error(o(461)),ft=!1;function _t(t,s,a,i){s.child=t===null?Gh(s,null,a,i):Nr(s,t.child,a,i)}function qx(t,s,a,i,d){a=a.render;var u=s.ref;if("ref"in i){var g={};for(var N in i)N!=="ref"&&(g[N]=i[N])}else g=i;return br(s),i=sd(t,s,a,g,u,d),N=ad(),t!==null&&!ft?(rd(t,s,d),Xs(t,s,d)):(Ie&&N&&Uc(s),s.flags|=1,_t(t,s,i,d),s.child)}function Vx(t,s,a,i,d){if(t===null){var u=a.type;return typeof u=="function"&&!Lc(u)&&u.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=u,Fx(t,s,u,i,d)):(t=Ti(a.type,null,i,s,s.mode,d),t.ref=s.ref,t.return=s,s.child=t)}if(u=t.child,!Ed(t,d)){var g=u.memoizedProps;if(a=a.compare,a=a!==null?a:Zl,a(g,i)&&t.ref===s.ref)return Xs(t,s,d)}return s.flags|=1,t=Fs(u,i),t.ref=s.ref,t.return=s,s.child=t}function Fx(t,s,a,i,d){if(t!==null){var u=t.memoizedProps;if(Zl(u,i)&&t.ref===s.ref)if(ft=!1,s.pendingProps=i=u,Ed(t,d))(t.flags&131072)!==0&&(ft=!0);else return s.lanes=t.lanes,Xs(t,s,d)}return Nd(t,s,a,i,d)}function Gx(t,s,a,i){var d=i.children,u=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((s.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,t!==null){for(i=s.child=t.child,d=0;i!==null;)d=d|i.lanes|i.childLanes,i=i.sibling;i=d&~u}else i=0,s.child=null;return Yx(t,s,u,a,i)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Di(s,u!==null?u.cachePool:null),u!==null?Jh(s,u):Zc(),Qh(s);else return i=s.lanes=536870912,Yx(t,s,u!==null?u.baseLanes|a:a,a,i)}else u!==null?(Di(s,u.cachePool),Jh(s,u),_a(),s.memoizedState=null):(t!==null&&Di(s,null),Zc(),_a());return _t(t,s,d,a),s.child}function xn(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Yx(t,s,a,i,d){var u=Gc();return u=u===null?null:{parent:ht._currentValue,pool:u},s.memoizedState={baseLanes:a,cachePool:u},t!==null&&Di(s,null),Zc(),Qh(s),t!==null&&Wr(t,s,i,!0),s.childLanes=d,null}function Yi(t,s){return s=Ji({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function Kx(t,s,a){return Nr(s,t.child,null,a),t=Yi(s,s.pendingProps),t.flags|=2,es(s),s.memoizedState=null,t}function tv(t,s,a){var i=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Ie){if(i.mode==="hidden")return t=Yi(s,i),s.lanes=536870912,xn(null,t);if(ed(s),(t=We)?(t=ip(t,hs),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Na!==null?{id:Ms,overflow:Ls}:null,retryLane:536870912,hydrationErrors:null},a=Dh(t),a.return=s,s.child=a,At=s,We=null)):t=null,t===null)throw Sa(s);return s.lanes=536870912,null}return Yi(s,i)}var u=t.memoizedState;if(u!==null){var g=u.dehydrated;if(ed(s),d)if(s.flags&256)s.flags&=-257,s=Kx(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(o(558));else if(ft||Wr(t,s,a,!1),d=(a&t.childLanes)!==0,ft||d){if(i=Xe,i!==null&&(g=Im(i,a),g!==0&&g!==u.retryLane))throw u.retryLane=g,xr(t,g),Yt(i,t,g),jd;ro(),s=Kx(t,s,a)}else t=u.treeContext,We=fs(g.nextSibling),At=s,Ie=!0,wa=null,hs=!1,t!==null&&Lh(s,t),s=Yi(s,i),s.flags|=4096;return s}return t=Fs(t.child,{mode:i.mode,children:i.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Ki(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function Nd(t,s,a,i,d){return br(s),a=sd(t,s,a,i,void 0,d),i=ad(),t!==null&&!ft?(rd(t,s,d),Xs(t,s,d)):(Ie&&i&&Uc(s),s.flags|=1,_t(t,s,a,d),s.child)}function Jx(t,s,a,i,d,u){return br(s),s.updateQueue=null,a=Zh(s,i,a,d),Xh(t),i=ad(),t!==null&&!ft?(rd(t,s,u),Xs(t,s,u)):(Ie&&i&&Uc(s),s.flags|=1,_t(t,s,a,u),s.child)}function Qx(t,s,a,i,d){if(br(s),s.stateNode===null){var u=Jr,g=a.contextType;typeof g=="object"&&g!==null&&(u=Et(g)),u=new a(i,u),s.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=yd,s.stateNode=u,u._reactInternals=s,u=s.stateNode,u.props=i,u.state=s.memoizedState,u.refs={},Kc(s),g=a.contextType,u.context=typeof g=="object"&&g!==null?Et(g):Jr,u.state=s.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(bd(s,a,g,i),u.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(g=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),g!==u.state&&yd.enqueueReplaceState(u,u.state,null),cn(s,i,u,d),on(),u.state=s.memoizedState),typeof u.componentDidMount=="function"&&(s.flags|=4194308),i=!0}else if(t===null){u=s.stateNode;var N=s.memoizedProps,E=Sr(a,N);u.props=E;var H=u.context,J=a.contextType;g=Jr,typeof J=="object"&&J!==null&&(g=Et(J));var se=a.getDerivedStateFromProps;J=typeof se=="function"||typeof u.getSnapshotBeforeUpdate=="function",N=s.pendingProps!==N,J||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(N||H!==g)&&zx(s,u,i,g),ka=!1;var q=s.memoizedState;u.state=q,cn(s,i,u,d),on(),H=s.memoizedState,N||q!==H||ka?(typeof se=="function"&&(bd(s,a,se,i),H=s.memoizedState),(E=ka||Ox(s,a,E,i,q,H,g))?(J||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(s.flags|=4194308)):(typeof u.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=i,s.memoizedState=H),u.props=i,u.state=H,u.context=g,i=E):(typeof u.componentDidMount=="function"&&(s.flags|=4194308),i=!1)}else{u=s.stateNode,Jc(t,s),g=s.memoizedProps,J=Sr(a,g),u.props=J,se=s.pendingProps,q=u.context,H=a.contextType,E=Jr,typeof H=="object"&&H!==null&&(E=Et(H)),N=a.getDerivedStateFromProps,(H=typeof N=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(g!==se||q!==E)&&zx(s,u,i,E),ka=!1,q=s.memoizedState,u.state=q,cn(s,i,u,d),on();var G=s.memoizedState;g!==se||q!==G||ka||t!==null&&t.dependencies!==null&&Ei(t.dependencies)?(typeof N=="function"&&(bd(s,a,N,i),G=s.memoizedState),(J=ka||Ox(s,a,J,i,q,G,E)||t!==null&&t.dependencies!==null&&Ei(t.dependencies))?(H||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(i,G,E),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(i,G,E)),typeof u.componentDidUpdate=="function"&&(s.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof u.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(s.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(s.flags|=1024),s.memoizedProps=i,s.memoizedState=G),u.props=i,u.state=G,u.context=E,i=J):(typeof u.componentDidUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(s.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&q===t.memoizedState||(s.flags|=1024),i=!1)}return u=i,Ki(t,s),i=(s.flags&128)!==0,u||i?(u=s.stateNode,a=i&&typeof a.getDerivedStateFromError!="function"?null:u.render(),s.flags|=1,t!==null&&i?(s.child=Nr(s,t.child,null,d),s.child=Nr(s,null,a,d)):_t(t,s,a,d),s.memoizedState=u.state,t=s.child):t=Xs(t,s,d),t}function Xx(t,s,a,i){return pr(),s.flags|=256,_t(t,s,a,i),s.child}var wd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sd(t){return{baseLanes:t,cachePool:Bh()}}function Cd(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=ss),t}function Zx(t,s,a){var i=s.pendingProps,d=!1,u=(s.flags&128)!==0,g;if((g=u)||(g=t!==null&&t.memoizedState===null?!1:(ot.current&2)!==0),g&&(d=!0,s.flags&=-129),g=(s.flags&32)!==0,s.flags&=-33,t===null){if(Ie){if(d?Ea(s):_a(),(t=We)?(t=ip(t,hs),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Na!==null?{id:Ms,overflow:Ls}:null,retryLane:536870912,hydrationErrors:null},a=Dh(t),a.return=s,s.child=a,At=s,We=null)):t=null,t===null)throw Sa(s);return iu(t)?s.lanes=32:s.lanes=536870912,null}var N=i.children;return i=i.fallback,d?(_a(),d=s.mode,N=Ji({mode:"hidden",children:N},d),i=fr(i,d,a,null),N.return=s,i.return=s,N.sibling=i,s.child=N,i=s.child,i.memoizedState=Sd(a),i.childLanes=Cd(t,g,a),s.memoizedState=wd,xn(null,i)):(Ea(s),kd(s,N))}var E=t.memoizedState;if(E!==null&&(N=E.dehydrated,N!==null)){if(u)s.flags&256?(Ea(s),s.flags&=-257,s=Td(t,s,a)):s.memoizedState!==null?(_a(),s.child=t.child,s.flags|=128,s=null):(_a(),N=i.fallback,d=s.mode,i=Ji({mode:"visible",children:i.children},d),N=fr(N,d,a,null),N.flags|=2,i.return=s,N.return=s,i.sibling=N,s.child=i,Nr(s,t.child,null,a),i=s.child,i.memoizedState=Sd(a),i.childLanes=Cd(t,g,a),s.memoizedState=wd,s=xn(null,i));else if(Ea(s),iu(N)){if(g=N.nextSibling&&N.nextSibling.dataset,g)var H=g.dgst;g=H,i=Error(o(419)),i.stack="",i.digest=g,tn({value:i,source:null,stack:null}),s=Td(t,s,a)}else if(ft||Wr(t,s,a,!1),g=(a&t.childLanes)!==0,ft||g){if(g=Xe,g!==null&&(i=Im(g,a),i!==0&&i!==E.retryLane))throw E.retryLane=i,xr(t,i),Yt(g,t,i),jd;nu(N)||ro(),s=Td(t,s,a)}else nu(N)?(s.flags|=192,s.child=t.child,s=null):(t=E.treeContext,We=fs(N.nextSibling),At=s,Ie=!0,wa=null,hs=!1,t!==null&&Lh(s,t),s=kd(s,i.children),s.flags|=4096);return s}return d?(_a(),N=i.fallback,d=s.mode,E=t.child,H=E.sibling,i=Fs(E,{mode:"hidden",children:i.children}),i.subtreeFlags=E.subtreeFlags&65011712,H!==null?N=Fs(H,N):(N=fr(N,d,a,null),N.flags|=2),N.return=s,i.return=s,i.sibling=N,s.child=i,xn(null,i),i=s.child,N=t.child.memoizedState,N===null?N=Sd(a):(d=N.cachePool,d!==null?(E=ht._currentValue,d=d.parent!==E?{parent:E,pool:E}:d):d=Bh(),N={baseLanes:N.baseLanes|a,cachePool:d}),i.memoizedState=N,i.childLanes=Cd(t,g,a),s.memoizedState=wd,xn(t.child,i)):(Ea(s),a=t.child,t=a.sibling,a=Fs(a,{mode:"visible",children:i.children}),a.return=s,a.sibling=null,t!==null&&(g=s.deletions,g===null?(s.deletions=[t],s.flags|=16):g.push(t)),s.child=a,s.memoizedState=null,a)}function kd(t,s){return s=Ji({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Ji(t,s){return t=Zt(22,t,null,s),t.lanes=0,t}function Td(t,s,a){return Nr(s,t.child,null,a),t=kd(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Wx(t,s,a){t.lanes|=s;var i=t.alternate;i!==null&&(i.lanes|=s),Hc(t.return,s,a)}function Ad(t,s,a,i,d,u){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:i,tail:a,tailMode:d,treeForkCount:u}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=i,g.tail=a,g.tailMode=d,g.treeForkCount=u)}function ef(t,s,a){var i=s.pendingProps,d=i.revealOrder,u=i.tail;i=i.children;var g=ot.current,N=(g&2)!==0;if(N?(g=g&1|2,s.flags|=128):g&=1,ie(ot,g),_t(t,s,i,a),i=Ie?en:0,!N&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wx(t,a,s);else if(t.tag===19)Wx(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=s.child,d=null;a!==null;)t=a.alternate,t!==null&&Ui(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Ad(s,!1,d,a,u,i);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(t=d.alternate,t!==null&&Ui(t)===null){s.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Ad(s,!0,a,null,u,i);break;case"together":Ad(s,!1,null,null,void 0,i);break;default:s.memoizedState=null}return s.child}function Xs(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Ma|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(Wr(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(o(153));if(s.child!==null){for(t=s.child,a=Fs(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Fs(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function Ed(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Ei(t)))}function sv(t,s,a){switch(s.tag){case 3:Qe(s,s.stateNode.containerInfo),Ca(s,ht,t.memoizedState.cache),pr();break;case 27:case 5:kt(s);break;case 4:Qe(s,s.stateNode.containerInfo);break;case 10:Ca(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,ed(s),null;break;case 13:var i=s.memoizedState;if(i!==null)return i.dehydrated!==null?(Ea(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Zx(t,s,a):(Ea(s),t=Xs(t,s,a),t!==null?t.sibling:null);Ea(s);break;case 19:var d=(t.flags&128)!==0;if(i=(a&s.childLanes)!==0,i||(Wr(t,s,a,!1),i=(a&s.childLanes)!==0),d){if(i)return ef(t,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ie(ot,ot.current),i)break;return null;case 22:return s.lanes=0,Gx(t,s,a,s.pendingProps);case 24:Ca(s,ht,t.memoizedState.cache)}return Xs(t,s,a)}function tf(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)ft=!0;else{if(!Ed(t,a)&&(s.flags&128)===0)return ft=!1,sv(t,s,a);ft=(t.flags&131072)!==0}else ft=!1,Ie&&(s.flags&1048576)!==0&&Mh(s,en,s.index);switch(s.lanes=0,s.tag){case 16:e:{var i=s.pendingProps;if(t=vr(s.elementType),s.type=t,typeof t=="function")Lc(t)?(i=Sr(t,i),s.tag=1,s=Qx(null,s,t,i,a)):(s.tag=0,s=Nd(null,s,t,i,a));else{if(t!=null){var d=t.$$typeof;if(d===W){s.tag=11,s=qx(null,s,t,i,a);break e}else if(d===V){s.tag=14,s=Vx(null,s,t,i,a);break e}}throw s=oe(t)||t,Error(o(306,s,""))}}return s;case 0:return Nd(t,s,s.type,s.pendingProps,a);case 1:return i=s.type,d=Sr(i,s.pendingProps),Qx(t,s,i,d,a);case 3:e:{if(Qe(s,s.stateNode.containerInfo),t===null)throw Error(o(387));i=s.pendingProps;var u=s.memoizedState;d=u.element,Jc(t,s),cn(s,i,null,a);var g=s.memoizedState;if(i=g.cache,Ca(s,ht,i),i!==u.cache&&qc(s,[ht],a,!0),on(),i=g.element,u.isDehydrated)if(u={element:i,isDehydrated:!1,cache:g.cache},s.updateQueue.baseState=u,s.memoizedState=u,s.flags&256){s=Xx(t,s,i,a);break e}else if(i!==d){d=ds(Error(o(424)),s),tn(d),s=Xx(t,s,i,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(We=fs(t.firstChild),At=s,Ie=!0,wa=null,hs=!0,a=Gh(s,null,i,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(pr(),i===d){s=Xs(t,s,a);break e}_t(t,s,i,a)}s=s.child}return s;case 26:return Ki(t,s),t===null?(a=hp(s.type,null,s.pendingProps,null))?s.memoizedState=a:Ie||(a=s.type,t=s.pendingProps,i=mo(Ne.current).createElement(a),i[Tt]=s,i[$t]=t,Dt(i,a,t),St(i),s.stateNode=i):s.memoizedState=hp(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return kt(s),t===null&&Ie&&(i=s.stateNode=dp(s.type,s.pendingProps,Ne.current),At=s,hs=!0,d=We,Ia(s.type)?(ou=d,We=fs(i.firstChild)):We=d),_t(t,s,s.pendingProps.children,a),Ki(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Ie&&((d=i=We)&&(i=Rv(i,s.type,s.pendingProps,hs),i!==null?(s.stateNode=i,At=s,We=fs(i.firstChild),hs=!1,d=!0):d=!1),d||Sa(s)),kt(s),d=s.type,u=s.pendingProps,g=t!==null?t.memoizedProps:null,i=u.children,au(d,u)?i=null:g!==null&&au(d,g)&&(s.flags|=32),s.memoizedState!==null&&(d=sd(t,s,Yy,null,null,a),En._currentValue=d),Ki(t,s),_t(t,s,i,a),s.child;case 6:return t===null&&Ie&&((t=a=We)&&(a=Mv(a,s.pendingProps,hs),a!==null?(s.stateNode=a,At=s,We=null,t=!0):t=!1),t||Sa(s)),null;case 13:return Zx(t,s,a);case 4:return Qe(s,s.stateNode.containerInfo),i=s.pendingProps,t===null?s.child=Nr(s,null,i,a):_t(t,s,i,a),s.child;case 11:return qx(t,s,s.type,s.pendingProps,a);case 7:return _t(t,s,s.pendingProps,a),s.child;case 8:return _t(t,s,s.pendingProps.children,a),s.child;case 12:return _t(t,s,s.pendingProps.children,a),s.child;case 10:return i=s.pendingProps,Ca(s,s.type,i.value),_t(t,s,i.children,a),s.child;case 9:return d=s.type._context,i=s.pendingProps.children,br(s),d=Et(d),i=i(d),s.flags|=1,_t(t,s,i,a),s.child;case 14:return Vx(t,s,s.type,s.pendingProps,a);case 15:return Fx(t,s,s.type,s.pendingProps,a);case 19:return ef(t,s,a);case 31:return tv(t,s,a);case 22:return Gx(t,s,a,s.pendingProps);case 24:return br(s),i=Et(ht),t===null?(d=Gc(),d===null&&(d=Xe,u=Vc(),d.pooledCache=u,u.refCount++,u!==null&&(d.pooledCacheLanes|=a),d=u),s.memoizedState={parent:i,cache:d},Kc(s),Ca(s,ht,d)):((t.lanes&a)!==0&&(Jc(t,s),cn(s,null,null,a),on()),d=t.memoizedState,u=s.memoizedState,d.parent!==i?(d={parent:i,cache:i},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Ca(s,ht,i)):(i=u.cache,Ca(s,ht,i),i!==d.cache&&qc(s,[ht],a,!0))),_t(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(o(156,s.tag))}function Zs(t){t.flags|=4}function _d(t,s,a,i,d){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(Ef())t.flags|=8192;else throw jr=Mi,Yc}else t.flags&=-16777217}function sf(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!bp(s))if(Ef())t.flags|=8192;else throw jr=Mi,Yc}function Qi(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Om():536870912,t.lanes|=s,ul|=s)}function fn(t,s){if(!Ie)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function et(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,i=0;if(s)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,i|=d.subtreeFlags&65011712,i|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,i|=d.subtreeFlags,i|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=i,t.childLanes=a,s}function av(t,s,a){var i=s.pendingProps;switch(Ic(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(s),null;case 1:return et(s),null;case 3:return a=s.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),s.memoizedState.cache!==i&&(s.flags|=2048),Ks(ht),$e(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Zr(s)?Zs(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Bc())),et(s),null;case 26:var d=s.type,u=s.memoizedState;return t===null?(Zs(s),u!==null?(et(s),sf(s,u)):(et(s),_d(s,d,null,i,a))):u?u!==t.memoizedState?(Zs(s),et(s),sf(s,u)):(et(s),s.flags&=-16777217):(t=t.memoizedProps,t!==i&&Zs(s),et(s),_d(s,d,t,i,a)),null;case 27:if(mt(s),a=Ne.current,d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==i&&Zs(s);else{if(!i){if(s.stateNode===null)throw Error(o(166));return et(s),null}t=de.current,Zr(s)?Oh(s):(t=dp(d,i,a),s.stateNode=t,Zs(s))}return et(s),null;case 5:if(mt(s),d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==i&&Zs(s);else{if(!i){if(s.stateNode===null)throw Error(o(166));return et(s),null}if(u=de.current,Zr(s))Oh(s);else{var g=mo(Ne.current);switch(u){case 1:u=g.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:u=g.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":u=g.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":u=g.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":u=g.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof i.is=="string"?g.createElement("select",{is:i.is}):g.createElement("select"),i.multiple?u.multiple=!0:i.size&&(u.size=i.size);break;default:u=typeof i.is=="string"?g.createElement(d,{is:i.is}):g.createElement(d)}}u[Tt]=s,u[$t]=i;e:for(g=s.child;g!==null;){if(g.tag===5||g.tag===6)u.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===s)break e;for(;g.sibling===null;){if(g.return===null||g.return===s)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}s.stateNode=u;e:switch(Dt(u,d,i),d){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Zs(s)}}return et(s),_d(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==i&&Zs(s);else{if(typeof i!="string"&&s.stateNode===null)throw Error(o(166));if(t=Ne.current,Zr(s)){if(t=s.stateNode,a=s.memoizedProps,i=null,d=At,d!==null)switch(d.tag){case 27:case 5:i=d.memoizedProps}t[Tt]=s,t=!!(t.nodeValue===a||i!==null&&i.suppressHydrationWarning===!0||Wf(t.nodeValue,a)),t||Sa(s,!0)}else t=mo(t).createTextNode(i),t[Tt]=s,s.stateNode=t}return et(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(i=Zr(s),a!==null){if(t===null){if(!i)throw Error(o(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[Tt]=s}else pr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;et(s),t=!1}else a=Bc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(es(s),s):(es(s),null);if((s.flags&128)!==0)throw Error(o(558))}return et(s),null;case 13:if(i=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Zr(s),i!==null&&i.dehydrated!==null){if(t===null){if(!d)throw Error(o(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));d[Tt]=s}else pr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;et(s),d=!1}else d=Bc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(es(s),s):(es(s),null)}return es(s),(s.flags&128)!==0?(s.lanes=a,s):(a=i!==null,t=t!==null&&t.memoizedState!==null,a&&(i=s.child,d=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(d=i.alternate.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==d&&(i.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),Qi(s,s.updateQueue),et(s),null);case 4:return $e(),t===null&&Zd(s.stateNode.containerInfo),et(s),null;case 10:return Ks(s.type),et(s),null;case 19:if(Q(ot),i=s.memoizedState,i===null)return et(s),null;if(d=(s.flags&128)!==0,u=i.rendering,u===null)if(d)fn(i,!1);else{if(lt!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(u=Ui(t),u!==null){for(s.flags|=128,fn(i,!1),t=u.updateQueue,s.updateQueue=t,Qi(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)_h(a,t),a=a.sibling;return ie(ot,ot.current&1|2),Ie&&Gs(s,i.treeForkCount),s.child}t=t.sibling}i.tail!==null&&Ut()>to&&(s.flags|=128,d=!0,fn(i,!1),s.lanes=4194304)}else{if(!d)if(t=Ui(u),t!==null){if(s.flags|=128,d=!0,t=t.updateQueue,s.updateQueue=t,Qi(s,t),fn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!u.alternate&&!Ie)return et(s),null}else 2*Ut()-i.renderingStartTime>to&&a!==536870912&&(s.flags|=128,d=!0,fn(i,!1),s.lanes=4194304);i.isBackwards?(u.sibling=s.child,s.child=u):(t=i.last,t!==null?t.sibling=u:s.child=u,i.last=u)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ut(),t.sibling=null,a=ot.current,ie(ot,d?a&1|2:a&1),Ie&&Gs(s,i.treeForkCount),t):(et(s),null);case 22:case 23:return es(s),Wc(),i=s.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(s.flags|=8192):i&&(s.flags|=8192),i?(a&536870912)!==0&&(s.flags&128)===0&&(et(s),s.subtreeFlags&6&&(s.flags|=8192)):et(s),a=s.updateQueue,a!==null&&Qi(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==a&&(s.flags|=2048),t!==null&&Q(yr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Ks(ht),et(s),null;case 25:return null;case 30:return null}throw Error(o(156,s.tag))}function rv(t,s){switch(Ic(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Ks(ht),$e(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return mt(s),null;case 31:if(s.memoizedState!==null){if(es(s),s.alternate===null)throw Error(o(340));pr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(es(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(o(340));pr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Q(ot),null;case 4:return $e(),null;case 10:return Ks(s.type),null;case 22:case 23:return es(s),Wc(),t!==null&&Q(yr),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Ks(ht),null;case 25:return null;default:return null}}function af(t,s){switch(Ic(s),s.tag){case 3:Ks(ht),$e();break;case 26:case 27:case 5:mt(s);break;case 4:$e();break;case 31:s.memoizedState!==null&&es(s);break;case 13:es(s);break;case 19:Q(ot);break;case 10:Ks(s.type);break;case 22:case 23:es(s),Wc(),t!==null&&Q(yr);break;case 24:Ks(ht)}}function pn(t,s){try{var a=s.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var d=i.next;a=d;do{if((a.tag&t)===t){i=void 0;var u=a.create,g=a.inst;i=u(),g.destroy=i}a=a.next}while(a!==d)}}catch(N){Ge(s,s.return,N)}}function Da(t,s,a){try{var i=s.updateQueue,d=i!==null?i.lastEffect:null;if(d!==null){var u=d.next;i=u;do{if((i.tag&t)===t){var g=i.inst,N=g.destroy;if(N!==void 0){g.destroy=void 0,d=s;var E=a,H=N;try{H()}catch(J){Ge(d,E,J)}}}i=i.next}while(i!==u)}}catch(J){Ge(s,s.return,J)}}function rf(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{Kh(s,a)}catch(i){Ge(t,t.return,i)}}}function lf(t,s,a){a.props=Sr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(i){Ge(t,s,i)}}function gn(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof a=="function"?t.refCleanup=a(i):a.current=i}}catch(d){Ge(t,s,d)}}function Os(t,s){var a=t.ref,i=t.refCleanup;if(a!==null)if(typeof i=="function")try{i()}catch(d){Ge(t,s,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Ge(t,s,d)}else a.current=null}function nf(t){var s=t.type,a=t.memoizedProps,i=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&i.focus();break e;case"img":a.src?i.src=a.src:a.srcSet&&(i.srcset=a.srcSet)}}catch(d){Ge(t,t.return,d)}}function Dd(t,s,a){try{var i=t.stateNode;kv(i,t.type,a,s),i[$t]=s}catch(d){Ge(t,t.return,d)}}function of(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ia(t.type)||t.tag===4}function Rd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||of(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ia(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Md(t,s,a){var i=t.tag;if(i===5||i===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=qs));else if(i!==4&&(i===27&&Ia(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(Md(t,s,a),t=t.sibling;t!==null;)Md(t,s,a),t=t.sibling}function Xi(t,s,a){var i=t.tag;if(i===5||i===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(i!==4&&(i===27&&Ia(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Xi(t,s,a),t=t.sibling;t!==null;)Xi(t,s,a),t=t.sibling}function cf(t){var s=t.stateNode,a=t.memoizedProps;try{for(var i=t.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Dt(s,i,a),s[Tt]=t,s[$t]=a}catch(u){Ge(t,t.return,u)}}var Ws=!1,pt=!1,Ld=!1,df=typeof WeakSet=="function"?WeakSet:Set,Ct=null;function lv(t,s){if(t=t.containerInfo,tu=yo,t=jh(t),Tc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var i=a.getSelection&&a.getSelection();if(i&&i.rangeCount!==0){a=i.anchorNode;var d=i.anchorOffset,u=i.focusNode;i=i.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var g=0,N=-1,E=-1,H=0,J=0,se=t,q=null;t:for(;;){for(var G;se!==a||d!==0&&se.nodeType!==3||(N=g+d),se!==u||i!==0&&se.nodeType!==3||(E=g+i),se.nodeType===3&&(g+=se.nodeValue.length),(G=se.firstChild)!==null;)q=se,se=G;for(;;){if(se===t)break t;if(q===a&&++H===d&&(N=g),q===u&&++J===i&&(E=g),(G=se.nextSibling)!==null)break;se=q,q=se.parentNode}se=G}a=N===-1||E===-1?null:{start:N,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(su={focusedElem:t,selectionRange:a},yo=!1,Ct=s;Ct!==null;)if(s=Ct,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Ct=t;else for(;Ct!==null;){switch(s=Ct,u=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&u!==null){t=void 0,a=s,d=u.memoizedProps,u=u.memoizedState,i=a.stateNode;try{var he=Sr(a.type,d);t=i.getSnapshotBeforeUpdate(he,u),i.__reactInternalSnapshotBeforeUpdate=t}catch(Se){Ge(a,a.return,Se)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)lu(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":lu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=s.sibling,t!==null){t.return=s.return,Ct=t;break}Ct=s.return}}function uf(t,s,a){var i=a.flags;switch(a.tag){case 0:case 11:case 15:ta(t,a),i&4&&pn(5,a);break;case 1:if(ta(t,a),i&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(g){Ge(a,a.return,g)}else{var d=Sr(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(d,s,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Ge(a,a.return,g)}}i&64&&rf(a),i&512&&gn(a,a.return);break;case 3:if(ta(t,a),i&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Kh(t,s)}catch(g){Ge(a,a.return,g)}}break;case 27:s===null&&i&4&&cf(a);case 26:case 5:ta(t,a),s===null&&i&4&&nf(a),i&512&&gn(a,a.return);break;case 12:ta(t,a);break;case 31:ta(t,a),i&4&&xf(t,a);break;case 13:ta(t,a),i&4&&ff(t,a),i&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=xv.bind(null,a),Lv(t,a))));break;case 22:if(i=a.memoizedState!==null||Ws,!i){s=s!==null&&s.memoizedState!==null||pt,d=Ws;var u=pt;Ws=i,(pt=s)&&!u?sa(t,a,(a.subtreeFlags&8772)!==0):ta(t,a),Ws=d,pt=u}break;case 30:break;default:ta(t,a)}}function mf(t){var s=t.alternate;s!==null&&(t.alternate=null,mf(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&dc(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var tt=null,qt=!1;function ea(t,s,a){for(a=a.child;a!==null;)hf(t,s,a),a=a.sibling}function hf(t,s,a){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(Bl,a)}catch{}switch(a.tag){case 26:pt||Os(a,s),ea(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pt||Os(a,s);var i=tt,d=qt;Ia(a.type)&&(tt=a.stateNode,qt=!1),ea(t,s,a),kn(a.stateNode),tt=i,qt=d;break;case 5:pt||Os(a,s);case 6:if(i=tt,d=qt,tt=null,ea(t,s,a),tt=i,qt=d,tt!==null)if(qt)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(a.stateNode)}catch(u){Ge(a,s,u)}else try{tt.removeChild(a.stateNode)}catch(u){Ge(a,s,u)}break;case 18:tt!==null&&(qt?(t=tt,lp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),yl(t)):lp(tt,a.stateNode));break;case 4:i=tt,d=qt,tt=a.stateNode.containerInfo,qt=!0,ea(t,s,a),tt=i,qt=d;break;case 0:case 11:case 14:case 15:Da(2,a,s),pt||Da(4,a,s),ea(t,s,a);break;case 1:pt||(Os(a,s),i=a.stateNode,typeof i.componentWillUnmount=="function"&&lf(a,s,i)),ea(t,s,a);break;case 21:ea(t,s,a);break;case 22:pt=(i=pt)||a.memoizedState!==null,ea(t,s,a),pt=i;break;default:ea(t,s,a)}}function xf(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{yl(t)}catch(a){Ge(s,s.return,a)}}}function ff(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{yl(t)}catch(a){Ge(s,s.return,a)}}function nv(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new df),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new df),s;default:throw Error(o(435,t.tag))}}function Zi(t,s){var a=nv(t);s.forEach(function(i){if(!a.has(i)){a.add(i);var d=fv.bind(null,t,i);i.then(d,d)}})}function Vt(t,s){var a=s.deletions;if(a!==null)for(var i=0;i<a.length;i++){var d=a[i],u=t,g=s,N=g;e:for(;N!==null;){switch(N.tag){case 27:if(Ia(N.type)){tt=N.stateNode,qt=!1;break e}break;case 5:tt=N.stateNode,qt=!1;break e;case 3:case 4:tt=N.stateNode.containerInfo,qt=!0;break e}N=N.return}if(tt===null)throw Error(o(160));hf(u,g,d),tt=null,qt=!1,u=d.alternate,u!==null&&(u.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)pf(s,t),s=s.sibling}var vs=null;function pf(t,s){var a=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Vt(s,t),Ft(t),i&4&&(Da(3,t,t.return),pn(3,t),Da(5,t,t.return));break;case 1:Vt(s,t),Ft(t),i&512&&(pt||a===null||Os(a,a.return)),i&64&&Ws&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?i:a.concat(i))));break;case 26:var d=vs;if(Vt(s,t),Ft(t),i&512&&(pt||a===null||Os(a,a.return)),i&4){var u=a!==null?a.memoizedState:null;if(i=t.memoizedState,a===null)if(i===null)if(t.stateNode===null){e:{i=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(i){case"title":u=d.getElementsByTagName("title")[0],(!u||u[ql]||u[Tt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=d.createElement(i),d.head.insertBefore(u,d.querySelector("head > title"))),Dt(u,i,a),u[Tt]=t,St(u),i=u;break e;case"link":var g=pp("link","href",d).get(i+(a.href||""));if(g){for(var N=0;N<g.length;N++)if(u=g[N],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(N,1);break t}}u=d.createElement(i),Dt(u,i,a),d.head.appendChild(u);break;case"meta":if(g=pp("meta","content",d).get(i+(a.content||""))){for(N=0;N<g.length;N++)if(u=g[N],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(N,1);break t}}u=d.createElement(i),Dt(u,i,a),d.head.appendChild(u);break;default:throw Error(o(468,i))}u[Tt]=t,St(u),i=u}t.stateNode=i}else gp(d,t.type,t.stateNode);else t.stateNode=fp(d,i,t.memoizedProps);else u!==i?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,i===null?gp(d,t.type,t.stateNode):fp(d,i,t.memoizedProps)):i===null&&t.stateNode!==null&&Dd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Vt(s,t),Ft(t),i&512&&(pt||a===null||Os(a,a.return)),a!==null&&i&4&&Dd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Vt(s,t),Ft(t),i&512&&(pt||a===null||Os(a,a.return)),t.flags&32){d=t.stateNode;try{Hr(d,"")}catch(he){Ge(t,t.return,he)}}i&4&&t.stateNode!=null&&(d=t.memoizedProps,Dd(t,d,a!==null?a.memoizedProps:d)),i&1024&&(Ld=!0);break;case 6:if(Vt(s,t),Ft(t),i&4){if(t.stateNode===null)throw Error(o(162));i=t.memoizedProps,a=t.stateNode;try{a.nodeValue=i}catch(he){Ge(t,t.return,he)}}break;case 3:if(fo=null,d=vs,vs=ho(s.containerInfo),Vt(s,t),vs=d,Ft(t),i&4&&a!==null&&a.memoizedState.isDehydrated)try{yl(s.containerInfo)}catch(he){Ge(t,t.return,he)}Ld&&(Ld=!1,gf(t));break;case 4:i=vs,vs=ho(t.stateNode.containerInfo),Vt(s,t),Ft(t),vs=i;break;case 12:Vt(s,t),Ft(t);break;case 31:Vt(s,t),Ft(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Zi(t,i)));break;case 13:Vt(s,t),Ft(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(eo=Ut()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Zi(t,i)));break;case 22:d=t.memoizedState!==null;var E=a!==null&&a.memoizedState!==null,H=Ws,J=pt;if(Ws=H||d,pt=J||E,Vt(s,t),pt=J,Ws=H,Ft(t),i&8192)e:for(s=t.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(a===null||E||Ws||pt||Cr(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){E=a=s;try{if(u=E.stateNode,d)g=u.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{N=E.stateNode;var se=E.memoizedProps.style,q=se!=null&&se.hasOwnProperty("display")?se.display:null;N.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(he){Ge(E,E.return,he)}}}else if(s.tag===6){if(a===null){E=s;try{E.stateNode.nodeValue=d?"":E.memoizedProps}catch(he){Ge(E,E.return,he)}}}else if(s.tag===18){if(a===null){E=s;try{var G=E.stateNode;d?np(G,!0):np(E.stateNode,!1)}catch(he){Ge(E,E.return,he)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}i&4&&(i=t.updateQueue,i!==null&&(a=i.retryQueue,a!==null&&(i.retryQueue=null,Zi(t,a))));break;case 19:Vt(s,t),Ft(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Zi(t,i)));break;case 30:break;case 21:break;default:Vt(s,t),Ft(t)}}function Ft(t){var s=t.flags;if(s&2){try{for(var a,i=t.return;i!==null;){if(of(i)){a=i;break}i=i.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var d=a.stateNode,u=Rd(t);Xi(t,u,d);break;case 5:var g=a.stateNode;a.flags&32&&(Hr(g,""),a.flags&=-33);var N=Rd(t);Xi(t,N,g);break;case 3:case 4:var E=a.stateNode.containerInfo,H=Rd(t);Md(t,H,E);break;default:throw Error(o(161))}}catch(J){Ge(t,t.return,J)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function gf(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;gf(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function ta(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)uf(t,s.alternate,s),s=s.sibling}function Cr(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Da(4,s,s.return),Cr(s);break;case 1:Os(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&lf(s,s.return,a),Cr(s);break;case 27:kn(s.stateNode);case 26:case 5:Os(s,s.return),Cr(s);break;case 22:s.memoizedState===null&&Cr(s);break;case 30:Cr(s);break;default:Cr(s)}t=t.sibling}}function sa(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var i=s.alternate,d=t,u=s,g=u.flags;switch(u.tag){case 0:case 11:case 15:sa(d,u,a),pn(4,u);break;case 1:if(sa(d,u,a),i=u,d=i.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(H){Ge(i,i.return,H)}if(i=u,d=i.updateQueue,d!==null){var N=i.stateNode;try{var E=d.shared.hiddenCallbacks;if(E!==null)for(d.shared.hiddenCallbacks=null,d=0;d<E.length;d++)Yh(E[d],N)}catch(H){Ge(i,i.return,H)}}a&&g&64&&rf(u),gn(u,u.return);break;case 27:cf(u);case 26:case 5:sa(d,u,a),a&&i===null&&g&4&&nf(u),gn(u,u.return);break;case 12:sa(d,u,a);break;case 31:sa(d,u,a),a&&g&4&&xf(d,u);break;case 13:sa(d,u,a),a&&g&4&&ff(d,u);break;case 22:u.memoizedState===null&&sa(d,u,a),gn(u,u.return);break;case 30:break;default:sa(d,u,a)}s=s.sibling}}function Od(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&sn(a))}function zd(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&sn(t))}function js(t,s,a,i){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)bf(t,s,a,i),s=s.sibling}function bf(t,s,a,i){var d=s.flags;switch(s.tag){case 0:case 11:case 15:js(t,s,a,i),d&2048&&pn(9,s);break;case 1:js(t,s,a,i);break;case 3:js(t,s,a,i),d&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&sn(t)));break;case 12:if(d&2048){js(t,s,a,i),t=s.stateNode;try{var u=s.memoizedProps,g=u.id,N=u.onPostCommit;typeof N=="function"&&N(g,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(E){Ge(s,s.return,E)}}else js(t,s,a,i);break;case 31:js(t,s,a,i);break;case 13:js(t,s,a,i);break;case 23:break;case 22:u=s.stateNode,g=s.alternate,s.memoizedState!==null?u._visibility&2?js(t,s,a,i):bn(t,s):u._visibility&2?js(t,s,a,i):(u._visibility|=2,ol(t,s,a,i,(s.subtreeFlags&10256)!==0||!1)),d&2048&&Od(g,s);break;case 24:js(t,s,a,i),d&2048&&zd(s.alternate,s);break;default:js(t,s,a,i)}}function ol(t,s,a,i,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var u=t,g=s,N=a,E=i,H=g.flags;switch(g.tag){case 0:case 11:case 15:ol(u,g,N,E,d),pn(8,g);break;case 23:break;case 22:var J=g.stateNode;g.memoizedState!==null?J._visibility&2?ol(u,g,N,E,d):bn(u,g):(J._visibility|=2,ol(u,g,N,E,d)),d&&H&2048&&Od(g.alternate,g);break;case 24:ol(u,g,N,E,d),d&&H&2048&&zd(g.alternate,g);break;default:ol(u,g,N,E,d)}s=s.sibling}}function bn(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,i=s,d=i.flags;switch(i.tag){case 22:bn(a,i),d&2048&&Od(i.alternate,i);break;case 24:bn(a,i),d&2048&&zd(i.alternate,i);break;default:bn(a,i)}s=s.sibling}}var yn=8192;function cl(t,s,a){if(t.subtreeFlags&yn)for(t=t.child;t!==null;)yf(t,s,a),t=t.sibling}function yf(t,s,a){switch(t.tag){case 26:cl(t,s,a),t.flags&yn&&t.memoizedState!==null&&Gv(a,vs,t.memoizedState,t.memoizedProps);break;case 5:cl(t,s,a);break;case 3:case 4:var i=vs;vs=ho(t.stateNode.containerInfo),cl(t,s,a),vs=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=yn,yn=16777216,cl(t,s,a),yn=i):cl(t,s,a));break;default:cl(t,s,a)}}function vf(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function vn(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var i=s[a];Ct=i,Nf(i,t)}vf(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jf(t),t=t.sibling}function jf(t){switch(t.tag){case 0:case 11:case 15:vn(t),t.flags&2048&&Da(9,t,t.return);break;case 3:vn(t);break;case 12:vn(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Wi(t)):vn(t);break;default:vn(t)}}function Wi(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var i=s[a];Ct=i,Nf(i,t)}vf(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Da(8,s,s.return),Wi(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Wi(s));break;default:Wi(s)}t=t.sibling}}function Nf(t,s){for(;Ct!==null;){var a=Ct;switch(a.tag){case 0:case 11:case 15:Da(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var i=a.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:sn(a.memoizedState.cache)}if(i=a.child,i!==null)i.return=a,Ct=i;else e:for(a=t;Ct!==null;){i=Ct;var d=i.sibling,u=i.return;if(mf(i),i===a){Ct=null;break e}if(d!==null){d.return=u,Ct=d;break e}Ct=u}}}var iv={getCacheForType:function(t){var s=Et(ht),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return Et(ht).controller.signal}},ov=typeof WeakMap=="function"?WeakMap:Map,Ve=0,Xe=null,Le=null,ze=0,Fe=0,ts=null,Ra=!1,dl=!1,Ud=!1,aa=0,lt=0,Ma=0,kr=0,Id=0,ss=0,ul=0,jn=null,Gt=null,Pd=!1,eo=0,wf=0,to=1/0,so=null,La=null,bt=0,Oa=null,ml=null,ra=0,Bd=0,$d=null,Sf=null,Nn=0,Hd=null;function as(){return(Ve&2)!==0&&ze!==0?ze&-ze:A.T!==null?Kd():Pm()}function Cf(){if(ss===0)if((ze&536870912)===0||Ie){var t=di;di<<=1,(di&3932160)===0&&(di=262144),ss=t}else ss=536870912;return t=Wt.current,t!==null&&(t.flags|=32),ss}function Yt(t,s,a){(t===Xe&&(Fe===2||Fe===9)||t.cancelPendingCommit!==null)&&(hl(t,0),za(t,ze,ss,!1)),Hl(t,a),((Ve&2)===0||t!==Xe)&&(t===Xe&&((Ve&2)===0&&(kr|=a),lt===4&&za(t,ze,ss,!1)),zs(t))}function kf(t,s,a){if((Ve&6)!==0)throw Error(o(327));var i=!a&&(s&127)===0&&(s&t.expiredLanes)===0||$l(t,s),d=i?uv(t,s):Vd(t,s,!0),u=i;do{if(d===0){dl&&!i&&za(t,s,0,!1);break}else{if(a=t.current.alternate,u&&!cv(a)){d=Vd(t,s,!1),u=!1;continue}if(d===2){if(u=s,t.errorRecoveryDisabledLanes&u)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){s=g;e:{var N=t;d=jn;var E=N.current.memoizedState.isDehydrated;if(E&&(hl(N,g).flags|=256),g=Vd(N,g,!1),g!==2){if(Ud&&!E){N.errorRecoveryDisabledLanes|=u,kr|=u,d=4;break e}u=Gt,Gt=d,u!==null&&(Gt===null?Gt=u:Gt.push.apply(Gt,u))}d=g}if(u=!1,d!==2)continue}}if(d===1){hl(t,0),za(t,s,0,!0);break}e:{switch(i=t,u=d,u){case 0:case 1:throw Error(o(345));case 4:if((s&4194048)!==s)break;case 6:za(i,s,ss,!Ra);break e;case 2:Gt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((s&62914560)===s&&(d=eo+300-Ut(),10<d)){if(za(i,s,ss,!Ra),mi(i,0,!0)!==0)break e;ra=s,i.timeoutHandle=ap(Tf.bind(null,i,a,Gt,so,Pd,s,ss,kr,ul,Ra,u,"Throttled",-0,0),d);break e}Tf(i,a,Gt,so,Pd,s,ss,kr,ul,Ra,u,null,-0,0)}}break}while(!0);zs(t)}function Tf(t,s,a,i,d,u,g,N,E,H,J,se,q,G){if(t.timeoutHandle=-1,se=s.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qs},yf(s,u,se);var he=(u&62914560)===u?eo-Ut():(u&4194048)===u?wf-Ut():0;if(he=Yv(se,he),he!==null){ra=u,t.cancelPendingCommit=he(Of.bind(null,t,s,u,a,i,d,g,N,E,J,se,null,q,G)),za(t,u,g,!H);return}}Of(t,s,u,a,i,d,g,N,E)}function cv(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var i=0;i<a.length;i++){var d=a[i],u=d.getSnapshot;d=d.value;try{if(!Xt(u(),d))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function za(t,s,a,i){s&=~Id,s&=~kr,t.suspendedLanes|=s,t.pingedLanes&=~s,i&&(t.warmLanes|=s),i=t.expirationTimes;for(var d=s;0<d;){var u=31-Qt(d),g=1<<u;i[u]=-1,d&=~g}a!==0&&zm(t,a,s)}function ao(){return(Ve&6)===0?(wn(0),!1):!0}function qd(){if(Le!==null){if(Fe===0)var t=Le.return;else t=Le,Ys=gr=null,ld(t),al=null,rn=0,t=Le;for(;t!==null;)af(t.alternate,t),t=t.return;Le=null}}function hl(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Ev(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ra=0,qd(),Xe=t,Le=a=Fs(t.current,null),ze=s,Fe=0,ts=null,Ra=!1,dl=$l(t,s),Ud=!1,ul=ss=Id=kr=Ma=lt=0,Gt=jn=null,Pd=!1,(s&8)!==0&&(s|=s&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=s;0<i;){var d=31-Qt(i),u=1<<d;s|=t[d],i&=~u}return aa=s,Si(),a}function Af(t,s){Ae=null,A.H=hn,s===sl||s===Ri?(s=qh(),Fe=3):s===Yc?(s=qh(),Fe=4):Fe=s===jd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ts=s,Le===null&&(lt=1,Gi(t,ds(s,t.current)))}function Ef(){var t=Wt.current;return t===null?!0:(ze&4194048)===ze?xs===null:(ze&62914560)===ze||(ze&536870912)!==0?t===xs:!1}function _f(){var t=A.H;return A.H=hn,t===null?hn:t}function Df(){var t=A.A;return A.A=iv,t}function ro(){lt=4,Ra||(ze&4194048)!==ze&&Wt.current!==null||(dl=!0),(Ma&134217727)===0&&(kr&134217727)===0||Xe===null||za(Xe,ze,ss,!1)}function Vd(t,s,a){var i=Ve;Ve|=2;var d=_f(),u=Df();(Xe!==t||ze!==s)&&(so=null,hl(t,s)),s=!1;var g=lt;e:do try{if(Fe!==0&&Le!==null){var N=Le,E=ts;switch(Fe){case 8:qd(),g=6;break e;case 3:case 2:case 9:case 6:Wt.current===null&&(s=!0);var H=Fe;if(Fe=0,ts=null,xl(t,N,E,H),a&&dl){g=0;break e}break;default:H=Fe,Fe=0,ts=null,xl(t,N,E,H)}}dv(),g=lt;break}catch(J){Af(t,J)}while(!0);return s&&t.shellSuspendCounter++,Ys=gr=null,Ve=i,A.H=d,A.A=u,Le===null&&(Xe=null,ze=0,Si()),g}function dv(){for(;Le!==null;)Rf(Le)}function uv(t,s){var a=Ve;Ve|=2;var i=_f(),d=Df();Xe!==t||ze!==s?(so=null,to=Ut()+500,hl(t,s)):dl=$l(t,s);e:do try{if(Fe!==0&&Le!==null){s=Le;var u=ts;t:switch(Fe){case 1:Fe=0,ts=null,xl(t,s,u,1);break;case 2:case 9:if($h(u)){Fe=0,ts=null,Mf(s);break}s=function(){Fe!==2&&Fe!==9||Xe!==t||(Fe=7),zs(t)},u.then(s,s);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:$h(u)?(Fe=0,ts=null,Mf(s)):(Fe=0,ts=null,xl(t,s,u,7));break;case 5:var g=null;switch(Le.tag){case 26:g=Le.memoizedState;case 5:case 27:var N=Le;if(g?bp(g):N.stateNode.complete){Fe=0,ts=null;var E=N.sibling;if(E!==null)Le=E;else{var H=N.return;H!==null?(Le=H,lo(H)):Le=null}break t}}Fe=0,ts=null,xl(t,s,u,5);break;case 6:Fe=0,ts=null,xl(t,s,u,6);break;case 8:qd(),lt=6;break e;default:throw Error(o(462))}}mv();break}catch(J){Af(t,J)}while(!0);return Ys=gr=null,A.H=i,A.A=d,Ve=a,Le!==null?0:(Xe=null,ze=0,Si(),lt)}function mv(){for(;Le!==null&&!or();)Rf(Le)}function Rf(t){var s=tf(t.alternate,t,aa);t.memoizedProps=t.pendingProps,s===null?lo(t):Le=s}function Mf(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=Jx(a,s,s.pendingProps,s.type,void 0,ze);break;case 11:s=Jx(a,s,s.pendingProps,s.type.render,s.ref,ze);break;case 5:ld(s);default:af(a,s),s=Le=_h(s,aa),s=tf(a,s,aa)}t.memoizedProps=t.pendingProps,s===null?lo(t):Le=s}function xl(t,s,a,i){Ys=gr=null,ld(s),al=null,rn=0;var d=s.return;try{if(ev(t,d,s,a,ze)){lt=1,Gi(t,ds(a,t.current)),Le=null;return}}catch(u){if(d!==null)throw Le=d,u;lt=1,Gi(t,ds(a,t.current)),Le=null;return}s.flags&32768?(Ie||i===1?t=!0:dl||(ze&536870912)!==0?t=!1:(Ra=t=!0,(i===2||i===9||i===3||i===6)&&(i=Wt.current,i!==null&&i.tag===13&&(i.flags|=16384))),Lf(s,t)):lo(s)}function lo(t){var s=t;do{if((s.flags&32768)!==0){Lf(s,Ra);return}t=s.return;var a=av(s.alternate,s,aa);if(a!==null){Le=a;return}if(s=s.sibling,s!==null){Le=s;return}Le=s=t}while(s!==null);lt===0&&(lt=5)}function Lf(t,s){do{var a=rv(t.alternate,t);if(a!==null){a.flags&=32767,Le=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){Le=t;return}Le=t=a}while(t!==null);lt=6,Le=null}function Of(t,s,a,i,d,u,g,N,E){t.cancelPendingCommit=null;do no();while(bt!==0);if((Ve&6)!==0)throw Error(o(327));if(s!==null){if(s===t.current)throw Error(o(177));if(u=s.lanes|s.childLanes,u|=Rc,Fb(t,a,u,g,N,E),t===Xe&&(Le=Xe=null,ze=0),ml=s,Oa=t,ra=a,Bd=u,$d=d,Sf=i,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,pv(Pl,function(){return Bf(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||i){i=A.T,A.T=null,d=F.p,F.p=2,g=Ve,Ve|=4;try{lv(t,s,a)}finally{Ve=g,F.p=d,A.T=i}}bt=1,zf(),Uf(),If()}}function zf(){if(bt===1){bt=0;var t=Oa,s=ml,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=A.T,A.T=null;var i=F.p;F.p=2;var d=Ve;Ve|=4;try{pf(s,t);var u=su,g=jh(t.containerInfo),N=u.focusedElem,E=u.selectionRange;if(g!==N&&N&&N.ownerDocument&&vh(N.ownerDocument.documentElement,N)){if(E!==null&&Tc(N)){var H=E.start,J=E.end;if(J===void 0&&(J=H),"selectionStart"in N)N.selectionStart=H,N.selectionEnd=Math.min(J,N.value.length);else{var se=N.ownerDocument||document,q=se&&se.defaultView||window;if(q.getSelection){var G=q.getSelection(),he=N.textContent.length,Se=Math.min(E.start,he),Je=E.end===void 0?Se:Math.min(E.end,he);!G.extend&&Se>Je&&(g=Je,Je=Se,Se=g);var U=yh(N,Se),L=yh(N,Je);if(U&&L&&(G.rangeCount!==1||G.anchorNode!==U.node||G.anchorOffset!==U.offset||G.focusNode!==L.node||G.focusOffset!==L.offset)){var $=se.createRange();$.setStart(U.node,U.offset),G.removeAllRanges(),Se>Je?(G.addRange($),G.extend(L.node,L.offset)):($.setEnd(L.node,L.offset),G.addRange($))}}}}for(se=[],G=N;G=G.parentNode;)G.nodeType===1&&se.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<se.length;N++){var ee=se[N];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}yo=!!tu,su=tu=null}finally{Ve=d,F.p=i,A.T=a}}t.current=s,bt=2}}function Uf(){if(bt===2){bt=0;var t=Oa,s=ml,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=A.T,A.T=null;var i=F.p;F.p=2;var d=Ve;Ve|=4;try{uf(t,s.alternate,s)}finally{Ve=d,F.p=i,A.T=a}}bt=3}}function If(){if(bt===4||bt===3){bt=0,rc();var t=Oa,s=ml,a=ra,i=Sf;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?bt=5:(bt=0,ml=Oa=null,Pf(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(La=null),oc(a),s=s.stateNode,Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(Bl,s,void 0,(s.current.flags&128)===128)}catch{}if(i!==null){s=A.T,d=F.p,F.p=2,A.T=null;try{for(var u=t.onRecoverableError,g=0;g<i.length;g++){var N=i[g];u(N.value,{componentStack:N.stack})}}finally{A.T=s,F.p=d}}(ra&3)!==0&&no(),zs(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===Hd?Nn++:(Nn=0,Hd=t):Nn=0,wn(0)}}function Pf(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,sn(s)))}function no(){return zf(),Uf(),If(),Bf()}function Bf(){if(bt!==5)return!1;var t=Oa,s=Bd;Bd=0;var a=oc(ra),i=A.T,d=F.p;try{F.p=32>a?32:a,A.T=null,a=$d,$d=null;var u=Oa,g=ra;if(bt=0,ml=Oa=null,ra=0,(Ve&6)!==0)throw Error(o(331));var N=Ve;if(Ve|=4,jf(u.current),bf(u,u.current,g,a),Ve=N,wn(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(Bl,u)}catch{}return!0}finally{F.p=d,A.T=i,Pf(t,s)}}function $f(t,s,a){s=ds(a,s),s=vd(t.stateNode,s,2),t=Aa(t,s,2),t!==null&&(Hl(t,2),zs(t))}function Ge(t,s,a){if(t.tag===3)$f(t,t,a);else for(;s!==null;){if(s.tag===3){$f(s,t,a);break}else if(s.tag===1){var i=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(La===null||!La.has(i))){t=ds(a,t),a=$x(2),i=Aa(s,a,2),i!==null&&(Hx(a,i,s,t),Hl(i,2),zs(i));break}}s=s.return}}function Fd(t,s,a){var i=t.pingCache;if(i===null){i=t.pingCache=new ov;var d=new Set;i.set(s,d)}else d=i.get(s),d===void 0&&(d=new Set,i.set(s,d));d.has(a)||(Ud=!0,d.add(a),t=hv.bind(null,t,s,a),s.then(t,t))}function hv(t,s,a){var i=t.pingCache;i!==null&&i.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Xe===t&&(ze&a)===a&&(lt===4||lt===3&&(ze&62914560)===ze&&300>Ut()-eo?(Ve&2)===0&&hl(t,0):Id|=a,ul===ze&&(ul=0)),zs(t)}function Hf(t,s){s===0&&(s=Om()),t=xr(t,s),t!==null&&(Hl(t,s),zs(t))}function xv(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),Hf(t,a)}function fv(t,s){var a=0;switch(t.tag){case 31:case 13:var i=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(o(314))}i!==null&&i.delete(s),Hf(t,a)}function pv(t,s){return ns(t,s)}var io=null,fl=null,Gd=!1,oo=!1,Yd=!1,Ua=0;function zs(t){t!==fl&&t.next===null&&(fl===null?io=fl=t:fl=fl.next=t),oo=!0,Gd||(Gd=!0,bv())}function wn(t,s){if(!Yd&&oo){Yd=!0;do for(var a=!1,i=io;i!==null;){if(t!==0){var d=i.pendingLanes;if(d===0)var u=0;else{var g=i.suspendedLanes,N=i.pingedLanes;u=(1<<31-Qt(42|t)+1)-1,u&=d&~(g&~N),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,Gf(i,u))}else u=ze,u=mi(i,i===Xe?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(u&3)===0||$l(i,u)||(a=!0,Gf(i,u));i=i.next}while(a);Yd=!1}}function gv(){qf()}function qf(){oo=Gd=!1;var t=0;Ua!==0&&Av()&&(t=Ua);for(var s=Ut(),a=null,i=io;i!==null;){var d=i.next,u=Vf(i,s);u===0?(i.next=null,a===null?io=d:a.next=d,d===null&&(fl=a)):(a=i,(t!==0||(u&3)!==0)&&(oo=!0)),i=d}bt!==0&&bt!==5||wn(t),Ua!==0&&(Ua=0)}function Vf(t,s){for(var a=t.suspendedLanes,i=t.pingedLanes,d=t.expirationTimes,u=t.pendingLanes&-62914561;0<u;){var g=31-Qt(u),N=1<<g,E=d[g];E===-1?((N&a)===0||(N&i)!==0)&&(d[g]=Vb(N,s)):E<=s&&(t.expiredLanes|=N),u&=~N}if(s=Xe,a=ze,a=mi(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,a===0||t===s&&(Fe===2||Fe===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&ba(i),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||$l(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(i!==null&&ba(i),oc(a)){case 2:case 8:a=oi;break;case 32:a=Pl;break;case 268435456:a=Lm;break;default:a=Pl}return i=Ff.bind(null,t),a=ns(a,i),t.callbackPriority=s,t.callbackNode=a,s}return i!==null&&i!==null&&ba(i),t.callbackPriority=2,t.callbackNode=null,2}function Ff(t,s){if(bt!==0&&bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(no()&&t.callbackNode!==a)return null;var i=ze;return i=mi(t,t===Xe?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(kf(t,i,s),Vf(t,Ut()),t.callbackNode!=null&&t.callbackNode===a?Ff.bind(null,t):null)}function Gf(t,s){if(no())return null;kf(t,s,!0)}function bv(){_v(function(){(Ve&6)!==0?ns(ii,gv):qf()})}function Kd(){if(Ua===0){var t=el;t===0&&(t=ci,ci<<=1,(ci&261888)===0&&(ci=256)),Ua=t}return Ua}function Yf(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:pi(""+t)}function Kf(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function yv(t,s,a,i,d){if(s==="submit"&&a&&a.stateNode===d){var u=Yf((d[$t]||null).action),g=i.submitter;g&&(s=(s=g[$t]||null)?Yf(s.formAction):g.getAttribute("formAction"),s!==null&&(u=s,g=null));var N=new vi("action","action",null,i,d);t.push({event:N,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Ua!==0){var E=g?Kf(d,g):new FormData(d);xd(a,{pending:!0,data:E,method:d.method,action:u},null,E)}}else typeof u=="function"&&(N.preventDefault(),E=g?Kf(d,g):new FormData(d),xd(a,{pending:!0,data:E,method:d.method,action:u},u,E))},currentTarget:d}]})}}for(var Jd=0;Jd<Dc.length;Jd++){var Qd=Dc[Jd],vv=Qd.toLowerCase(),jv=Qd[0].toUpperCase()+Qd.slice(1);ys(vv,"on"+jv)}ys(Sh,"onAnimationEnd"),ys(Ch,"onAnimationIteration"),ys(kh,"onAnimationStart"),ys("dblclick","onDoubleClick"),ys("focusin","onFocus"),ys("focusout","onBlur"),ys(Uy,"onTransitionRun"),ys(Iy,"onTransitionStart"),ys(Py,"onTransitionCancel"),ys(Th,"onTransitionEnd"),Br("onMouseEnter",["mouseout","mouseover"]),Br("onMouseLeave",["mouseout","mouseover"]),Br("onPointerEnter",["pointerout","pointerover"]),Br("onPointerLeave",["pointerout","pointerover"]),dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sn));function Jf(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var i=t[a],d=i.event;i=i.listeners;e:{var u=void 0;if(s)for(var g=i.length-1;0<=g;g--){var N=i[g],E=N.instance,H=N.currentTarget;if(N=N.listener,E!==u&&d.isPropagationStopped())break e;u=N,d.currentTarget=H;try{u(d)}catch(J){wi(J)}d.currentTarget=null,u=E}else for(g=0;g<i.length;g++){if(N=i[g],E=N.instance,H=N.currentTarget,N=N.listener,E!==u&&d.isPropagationStopped())break e;u=N,d.currentTarget=H;try{u(d)}catch(J){wi(J)}d.currentTarget=null,u=E}}}}function Oe(t,s){var a=s[cc];a===void 0&&(a=s[cc]=new Set);var i=t+"__bubble";a.has(i)||(Qf(s,t,2,!1),a.add(i))}function Xd(t,s,a){var i=0;s&&(i|=4),Qf(a,t,i,s)}var co="_reactListening"+Math.random().toString(36).slice(2);function Zd(t){if(!t[co]){t[co]=!0,Hm.forEach(function(a){a!=="selectionchange"&&(Nv.has(a)||Xd(a,!1,t),Xd(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[co]||(s[co]=!0,Xd("selectionchange",!1,s))}}function Qf(t,s,a,i){switch(Cp(s)){case 2:var d=Qv;break;case 8:d=Xv;break;default:d=hu}a=d.bind(null,s,a,t),d=void 0,!bc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),i?d!==void 0?t.addEventListener(s,a,{capture:!0,passive:d}):t.addEventListener(s,a,!0):d!==void 0?t.addEventListener(s,a,{passive:d}):t.addEventListener(s,a,!1)}function Wd(t,s,a,i,d){var u=i;if((s&1)===0&&(s&2)===0&&i!==null)e:for(;;){if(i===null)return;var g=i.tag;if(g===3||g===4){var N=i.stateNode.containerInfo;if(N===d)break;if(g===4)for(g=i.return;g!==null;){var E=g.tag;if((E===3||E===4)&&g.stateNode.containerInfo===d)return;g=g.return}for(;N!==null;){if(g=Ur(N),g===null)return;if(E=g.tag,E===5||E===6||E===26||E===27){i=u=g;continue e}N=N.parentNode}}i=i.return}eh(function(){var H=u,J=pc(a),se=[];e:{var q=Ah.get(t);if(q!==void 0){var G=vi,he=t;switch(t){case"keypress":if(bi(a)===0)break e;case"keydown":case"keyup":G=fy;break;case"focusin":he="focus",G=Nc;break;case"focusout":he="blur",G=Nc;break;case"beforeblur":case"afterblur":G=Nc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=ah;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=ay;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=by;break;case Sh:case Ch:case kh:G=ny;break;case Th:G=vy;break;case"scroll":case"scrollend":G=ty;break;case"wheel":G=Ny;break;case"copy":case"cut":case"paste":G=oy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=lh;break;case"toggle":case"beforetoggle":G=Sy}var Se=(s&4)!==0,Je=!Se&&(t==="scroll"||t==="scrollend"),U=Se?q!==null?q+"Capture":null:q;Se=[];for(var L=H,$;L!==null;){var ee=L;if($=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||$===null||U===null||(ee=Fl(L,U),ee!=null&&Se.push(Cn(L,ee,$))),Je)break;L=L.return}0<Se.length&&(q=new G(q,he,null,a,J),se.push({event:q,listeners:Se}))}}if((s&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",q&&a!==fc&&(he=a.relatedTarget||a.fromElement)&&(Ur(he)||he[zr]))break e;if((G||q)&&(q=J.window===J?J:(q=J.ownerDocument)?q.defaultView||q.parentWindow:window,G?(he=a.relatedTarget||a.toElement,G=H,he=he?Ur(he):null,he!==null&&(Je=m(he),Se=he.tag,he!==Je||Se!==5&&Se!==27&&Se!==6)&&(he=null)):(G=null,he=H),G!==he)){if(Se=ah,ee="onMouseLeave",U="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Se=lh,ee="onPointerLeave",U="onPointerEnter",L="pointer"),Je=G==null?q:Vl(G),$=he==null?q:Vl(he),q=new Se(ee,L+"leave",G,a,J),q.target=Je,q.relatedTarget=$,ee=null,Ur(J)===H&&(Se=new Se(U,L+"enter",he,a,J),Se.target=$,Se.relatedTarget=Je,ee=Se),Je=ee,G&&he)t:{for(Se=wv,U=G,L=he,$=0,ee=U;ee;ee=Se(ee))$++;ee=0;for(var ve=L;ve;ve=Se(ve))ee++;for(;0<$-ee;)U=Se(U),$--;for(;0<ee-$;)L=Se(L),ee--;for(;$--;){if(U===L||L!==null&&U===L.alternate){Se=U;break t}U=Se(U),L=Se(L)}Se=null}else Se=null;G!==null&&Xf(se,q,G,Se,!1),he!==null&&Je!==null&&Xf(se,Je,he,Se,!0)}}e:{if(q=H?Vl(H):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var He=hh;else if(uh(q))if(xh)He=Ly;else{He=Ry;var ge=Dy}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?H&&xc(H.elementType)&&(He=hh):He=My;if(He&&(He=He(t,H))){mh(se,He,a,J);break e}ge&&ge(t,q,H),t==="focusout"&&H&&q.type==="number"&&H.memoizedProps.value!=null&&hc(q,"number",q.value)}switch(ge=H?Vl(H):window,t){case"focusin":(uh(ge)||ge.contentEditable==="true")&&(Gr=ge,Ac=H,Wl=null);break;case"focusout":Wl=Ac=Gr=null;break;case"mousedown":Ec=!0;break;case"contextmenu":case"mouseup":case"dragend":Ec=!1,Nh(se,a,J);break;case"selectionchange":if(zy)break;case"keydown":case"keyup":Nh(se,a,J)}var Ee;if(Sc)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Fr?ch(t,a)&&(Ue="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ue="onCompositionStart");Ue&&(nh&&a.locale!=="ko"&&(Fr||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Fr&&(Ee=th()):(ja=J,yc="value"in ja?ja.value:ja.textContent,Fr=!0)),ge=uo(H,Ue),0<ge.length&&(Ue=new rh(Ue,t,null,a,J),se.push({event:Ue,listeners:ge}),Ee?Ue.data=Ee:(Ee=dh(a),Ee!==null&&(Ue.data=Ee)))),(Ee=ky?Ty(t,a):Ay(t,a))&&(Ue=uo(H,"onBeforeInput"),0<Ue.length&&(ge=new rh("onBeforeInput","beforeinput",null,a,J),se.push({event:ge,listeners:Ue}),ge.data=Ee)),yv(se,t,H,a,J)}Jf(se,s)})}function Cn(t,s,a){return{instance:t,listener:s,currentTarget:a}}function uo(t,s){for(var a=s+"Capture",i=[];t!==null;){var d=t,u=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||u===null||(d=Fl(t,a),d!=null&&i.unshift(Cn(t,d,u)),d=Fl(t,s),d!=null&&i.push(Cn(t,d,u))),t.tag===3)return i;t=t.return}return[]}function wv(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Xf(t,s,a,i,d){for(var u=s._reactName,g=[];a!==null&&a!==i;){var N=a,E=N.alternate,H=N.stateNode;if(N=N.tag,E!==null&&E===i)break;N!==5&&N!==26&&N!==27||H===null||(E=H,d?(H=Fl(a,u),H!=null&&g.unshift(Cn(a,H,E))):d||(H=Fl(a,u),H!=null&&g.push(Cn(a,H,E)))),a=a.return}g.length!==0&&t.push({event:s,listeners:g})}var Sv=/\r\n?/g,Cv=/\u0000|\uFFFD/g;function Zf(t){return(typeof t=="string"?t:""+t).replace(Sv,`
`).replace(Cv,"")}function Wf(t,s){return s=Zf(s),Zf(t)===s}function Ke(t,s,a,i,d,u){switch(a){case"children":typeof i=="string"?s==="body"||s==="textarea"&&i===""||Hr(t,i):(typeof i=="number"||typeof i=="bigint")&&s!=="body"&&Hr(t,""+i);break;case"className":xi(t,"class",i);break;case"tabIndex":xi(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":xi(t,a,i);break;case"style":Zm(t,i,u);break;case"data":if(s!=="object"){xi(t,"data",i);break}case"src":case"href":if(i===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(a);break}i=pi(""+i),t.setAttribute(a,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(s!=="input"&&Ke(t,s,"name",d.name,d,null),Ke(t,s,"formEncType",d.formEncType,d,null),Ke(t,s,"formMethod",d.formMethod,d,null),Ke(t,s,"formTarget",d.formTarget,d,null)):(Ke(t,s,"encType",d.encType,d,null),Ke(t,s,"method",d.method,d,null),Ke(t,s,"target",d.target,d,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(a);break}i=pi(""+i),t.setAttribute(a,i);break;case"onClick":i!=null&&(t.onclick=qs);break;case"onScroll":i!=null&&Oe("scroll",t);break;case"onScrollEnd":i!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(o(61));if(a=i.__html,a!=null){if(d.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}a=pi(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(a,""+i):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":i===!0?t.setAttribute(a,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(a,i):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(a,i):t.removeAttribute(a);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(a):t.setAttribute(a,i);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),hi(t,"popover",i);break;case"xlinkActuate":Hs(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Hs(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Hs(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Hs(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Hs(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Hs(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Hs(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Hs(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Hs(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":hi(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Wb.get(a)||a,hi(t,a,i))}}function eu(t,s,a,i,d,u){switch(a){case"style":Zm(t,i,u);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(o(61));if(a=i.__html,a!=null){if(d.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"children":typeof i=="string"?Hr(t,i):(typeof i=="number"||typeof i=="bigint")&&Hr(t,""+i);break;case"onScroll":i!=null&&Oe("scroll",t);break;case"onScrollEnd":i!=null&&Oe("scrollend",t);break;case"onClick":i!=null&&(t.onclick=qs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qm.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),s=a.slice(2,d?a.length-7:void 0),u=t[$t]||null,u=u!=null?u[a]:null,typeof u=="function"&&t.removeEventListener(s,u,d),typeof i=="function")){typeof u!="function"&&u!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,i,d);break e}a in t?t[a]=i:i===!0?t.setAttribute(a,""):hi(t,a,i)}}}function Dt(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var i=!1,d=!1,u;for(u in a)if(a.hasOwnProperty(u)){var g=a[u];if(g!=null)switch(u){case"src":i=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:Ke(t,s,u,g,a,null)}}d&&Ke(t,s,"srcSet",a.srcSet,a,null),i&&Ke(t,s,"src",a.src,a,null);return;case"input":Oe("invalid",t);var N=u=g=d=null,E=null,H=null;for(i in a)if(a.hasOwnProperty(i)){var J=a[i];if(J!=null)switch(i){case"name":d=J;break;case"type":g=J;break;case"checked":E=J;break;case"defaultChecked":H=J;break;case"value":u=J;break;case"defaultValue":N=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(o(137,s));break;default:Ke(t,s,i,J,a,null)}}Km(t,u,N,E,H,g,d,!1);return;case"select":Oe("invalid",t),i=g=u=null;for(d in a)if(a.hasOwnProperty(d)&&(N=a[d],N!=null))switch(d){case"value":u=N;break;case"defaultValue":g=N;break;case"multiple":i=N;default:Ke(t,s,d,N,a,null)}s=u,a=g,t.multiple=!!i,s!=null?$r(t,!!i,s,!1):a!=null&&$r(t,!!i,a,!0);return;case"textarea":Oe("invalid",t),u=d=i=null;for(g in a)if(a.hasOwnProperty(g)&&(N=a[g],N!=null))switch(g){case"value":i=N;break;case"defaultValue":d=N;break;case"children":u=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(o(91));break;default:Ke(t,s,g,N,a,null)}Qm(t,i,d,u);return;case"option":for(E in a)if(a.hasOwnProperty(E)&&(i=a[E],i!=null))switch(E){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ke(t,s,E,i,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(i=0;i<Sn.length;i++)Oe(Sn[i],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(i=a[H],i!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:Ke(t,s,H,i,a,null)}return;default:if(xc(s)){for(J in a)a.hasOwnProperty(J)&&(i=a[J],i!==void 0&&eu(t,s,J,i,a,void 0));return}}for(N in a)a.hasOwnProperty(N)&&(i=a[N],i!=null&&Ke(t,s,N,i,a,null))}function kv(t,s,a,i){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,u=null,g=null,N=null,E=null,H=null,J=null;for(G in a){var se=a[G];if(a.hasOwnProperty(G)&&se!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":E=se;default:i.hasOwnProperty(G)||Ke(t,s,G,null,i,se)}}for(var q in i){var G=i[q];if(se=a[q],i.hasOwnProperty(q)&&(G!=null||se!=null))switch(q){case"type":u=G;break;case"name":d=G;break;case"checked":H=G;break;case"defaultChecked":J=G;break;case"value":g=G;break;case"defaultValue":N=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(o(137,s));break;default:G!==se&&Ke(t,s,q,G,i,se)}}mc(t,g,N,E,H,J,u,d);return;case"select":G=g=N=q=null;for(u in a)if(E=a[u],a.hasOwnProperty(u)&&E!=null)switch(u){case"value":break;case"multiple":G=E;default:i.hasOwnProperty(u)||Ke(t,s,u,null,i,E)}for(d in i)if(u=i[d],E=a[d],i.hasOwnProperty(d)&&(u!=null||E!=null))switch(d){case"value":q=u;break;case"defaultValue":N=u;break;case"multiple":g=u;default:u!==E&&Ke(t,s,d,u,i,E)}s=N,a=g,i=G,q!=null?$r(t,!!a,q,!1):!!i!=!!a&&(s!=null?$r(t,!!a,s,!0):$r(t,!!a,a?[]:"",!1));return;case"textarea":G=q=null;for(N in a)if(d=a[N],a.hasOwnProperty(N)&&d!=null&&!i.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Ke(t,s,N,null,i,d)}for(g in i)if(d=i[g],u=a[g],i.hasOwnProperty(g)&&(d!=null||u!=null))switch(g){case"value":q=d;break;case"defaultValue":G=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(o(91));break;default:d!==u&&Ke(t,s,g,d,i,u)}Jm(t,q,G);return;case"option":for(var he in a)if(q=a[he],a.hasOwnProperty(he)&&q!=null&&!i.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:Ke(t,s,he,null,i,q)}for(E in i)if(q=i[E],G=a[E],i.hasOwnProperty(E)&&q!==G&&(q!=null||G!=null))switch(E){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Ke(t,s,E,q,i,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)q=a[Se],a.hasOwnProperty(Se)&&q!=null&&!i.hasOwnProperty(Se)&&Ke(t,s,Se,null,i,q);for(H in i)if(q=i[H],G=a[H],i.hasOwnProperty(H)&&q!==G&&(q!=null||G!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(o(137,s));break;default:Ke(t,s,H,q,i,G)}return;default:if(xc(s)){for(var Je in a)q=a[Je],a.hasOwnProperty(Je)&&q!==void 0&&!i.hasOwnProperty(Je)&&eu(t,s,Je,void 0,i,q);for(J in i)q=i[J],G=a[J],!i.hasOwnProperty(J)||q===G||q===void 0&&G===void 0||eu(t,s,J,q,i,G);return}}for(var U in a)q=a[U],a.hasOwnProperty(U)&&q!=null&&!i.hasOwnProperty(U)&&Ke(t,s,U,null,i,q);for(se in i)q=i[se],G=a[se],!i.hasOwnProperty(se)||q===G||q==null&&G==null||Ke(t,s,se,q,i,G)}function ep(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Tv(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),i=0;i<a.length;i++){var d=a[i],u=d.transferSize,g=d.initiatorType,N=d.duration;if(u&&N&&ep(g)){for(g=0,N=d.responseEnd,i+=1;i<a.length;i++){var E=a[i],H=E.startTime;if(H>N)break;var J=E.transferSize,se=E.initiatorType;J&&ep(se)&&(E=E.responseEnd,g+=J*(E<N?1:(N-H)/(E-H)))}if(--i,s+=8*(u+g)/(d.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var tu=null,su=null;function mo(t){return t.nodeType===9?t:t.ownerDocument}function tp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sp(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function au(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ru=null;function Av(){var t=window.event;return t&&t.type==="popstate"?t===ru?!1:(ru=t,!0):(ru=null,!1)}var ap=typeof setTimeout=="function"?setTimeout:void 0,Ev=typeof clearTimeout=="function"?clearTimeout:void 0,rp=typeof Promise=="function"?Promise:void 0,_v=typeof queueMicrotask=="function"?queueMicrotask:typeof rp<"u"?function(t){return rp.resolve(null).then(t).catch(Dv)}:ap;function Dv(t){setTimeout(function(){throw t})}function Ia(t){return t==="head"}function lp(t,s){var a=s,i=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(i===0){t.removeChild(d),yl(s);return}i--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")i++;else if(a==="html")kn(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,kn(a);for(var u=a.firstChild;u;){var g=u.nextSibling,N=u.nodeName;u[ql]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=g}}else a==="body"&&kn(t.ownerDocument.body);a=d}while(a);yl(s)}function np(t,s){var a=t;t=0;do{var i=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),i&&i.nodeType===8)if(a=i.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=i}while(a)}function lu(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":lu(a),dc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Rv(t,s,a,i){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[ql])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(u=t.getAttribute("rel"),u==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(u!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(u=t.getAttribute("src"),(u!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&u&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var u=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===u)return t}else return t;if(t=fs(t.nextSibling),t===null)break}return null}function Mv(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=fs(t.nextSibling),t===null))return null;return t}function ip(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=fs(t.nextSibling),t===null))return null;return t}function nu(t){return t.data==="$?"||t.data==="$~"}function iu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Lv(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var i=function(){s(),a.removeEventListener("DOMContentLoaded",i)};a.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function fs(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var ou=null;function op(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return fs(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function cp(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function dp(t,s,a){switch(s=mo(a),t){case"html":if(t=s.documentElement,!t)throw Error(o(452));return t;case"head":if(t=s.head,!t)throw Error(o(453));return t;case"body":if(t=s.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function kn(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);dc(t)}var ps=new Map,up=new Set;function ho(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var la=F.d;F.d={f:Ov,r:zv,D:Uv,C:Iv,L:Pv,m:Bv,X:Hv,S:$v,M:qv};function Ov(){var t=la.f(),s=ao();return t||s}function zv(t){var s=Ir(t);s!==null&&s.tag===5&&s.type==="form"?Tx(s):la.r(t)}var pl=typeof document>"u"?null:document;function mp(t,s,a){var i=pl;if(i&&typeof s=="string"&&s){var d=os(s);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),up.has(d)||(up.add(d),t={rel:t,crossOrigin:a,href:s},i.querySelector(d)===null&&(s=i.createElement("link"),Dt(s,"link",t),St(s),i.head.appendChild(s)))}}function Uv(t){la.D(t),mp("dns-prefetch",t,null)}function Iv(t,s){la.C(t,s),mp("preconnect",t,s)}function Pv(t,s,a){la.L(t,s,a);var i=pl;if(i&&t&&s){var d='link[rel="preload"][as="'+os(s)+'"]';s==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+os(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+os(a.imageSizes)+'"]')):d+='[href="'+os(t)+'"]';var u=d;switch(s){case"style":u=gl(t);break;case"script":u=bl(t)}ps.has(u)||(t=b({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),ps.set(u,t),i.querySelector(d)!==null||s==="style"&&i.querySelector(Tn(u))||s==="script"&&i.querySelector(An(u))||(s=i.createElement("link"),Dt(s,"link",t),St(s),i.head.appendChild(s)))}}function Bv(t,s){la.m(t,s);var a=pl;if(a&&t){var i=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+os(i)+'"][href="'+os(t)+'"]',u=d;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=bl(t)}if(!ps.has(u)&&(t=b({rel:"modulepreload",href:t},s),ps.set(u,t),a.querySelector(d)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(An(u)))return}i=a.createElement("link"),Dt(i,"link",t),St(i),a.head.appendChild(i)}}}function $v(t,s,a){la.S(t,s,a);var i=pl;if(i&&t){var d=Pr(i).hoistableStyles,u=gl(t);s=s||"default";var g=d.get(u);if(!g){var N={loading:0,preload:null};if(g=i.querySelector(Tn(u)))N.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":s},a),(a=ps.get(u))&&cu(t,a);var E=g=i.createElement("link");St(E),Dt(E,"link",t),E._p=new Promise(function(H,J){E.onload=H,E.onerror=J}),E.addEventListener("load",function(){N.loading|=1}),E.addEventListener("error",function(){N.loading|=2}),N.loading|=4,xo(g,s,i)}g={type:"stylesheet",instance:g,count:1,state:N},d.set(u,g)}}}function Hv(t,s){la.X(t,s);var a=pl;if(a&&t){var i=Pr(a).hoistableScripts,d=bl(t),u=i.get(d);u||(u=a.querySelector(An(d)),u||(t=b({src:t,async:!0},s),(s=ps.get(d))&&du(t,s),u=a.createElement("script"),St(u),Dt(u,"link",t),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},i.set(d,u))}}function qv(t,s){la.M(t,s);var a=pl;if(a&&t){var i=Pr(a).hoistableScripts,d=bl(t),u=i.get(d);u||(u=a.querySelector(An(d)),u||(t=b({src:t,async:!0,type:"module"},s),(s=ps.get(d))&&du(t,s),u=a.createElement("script"),St(u),Dt(u,"link",t),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},i.set(d,u))}}function hp(t,s,a,i){var d=(d=Ne.current)?ho(d):null;if(!d)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=gl(a.href),a=Pr(d).hoistableStyles,i=a.get(s),i||(i={type:"style",instance:null,count:0,state:null},a.set(s,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=gl(a.href);var u=Pr(d).hoistableStyles,g=u.get(t);if(g||(d=d.ownerDocument||d,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(t,g),(u=d.querySelector(Tn(t)))&&!u._p&&(g.instance=u,g.state.loading=5),ps.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ps.set(t,a),u||Vv(d,t,a,g.state))),s&&i===null)throw Error(o(528,""));return g}if(s&&i!==null)throw Error(o(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=bl(a),a=Pr(d).hoistableScripts,i=a.get(s),i||(i={type:"script",instance:null,count:0,state:null},a.set(s,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function gl(t){return'href="'+os(t)+'"'}function Tn(t){return'link[rel="stylesheet"]['+t+"]"}function xp(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function Vv(t,s,a,i){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?i.loading=1:(s=t.createElement("link"),i.preload=s,s.addEventListener("load",function(){return i.loading|=1}),s.addEventListener("error",function(){return i.loading|=2}),Dt(s,"link",a),St(s),t.head.appendChild(s))}function bl(t){return'[src="'+os(t)+'"]'}function An(t){return"script[async]"+t}function fp(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var i=t.querySelector('style[data-href~="'+os(a.href)+'"]');if(i)return s.instance=i,St(i),i;var d=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),St(i),Dt(i,"style",d),xo(i,a.precedence,t),s.instance=i;case"stylesheet":d=gl(a.href);var u=t.querySelector(Tn(d));if(u)return s.state.loading|=4,s.instance=u,St(u),u;i=xp(a),(d=ps.get(d))&&cu(i,d),u=(t.ownerDocument||t).createElement("link"),St(u);var g=u;return g._p=new Promise(function(N,E){g.onload=N,g.onerror=E}),Dt(u,"link",i),s.state.loading|=4,xo(u,a.precedence,t),s.instance=u;case"script":return u=bl(a.src),(d=t.querySelector(An(u)))?(s.instance=d,St(d),d):(i=a,(d=ps.get(u))&&(i=b({},a),du(i,d)),t=t.ownerDocument||t,d=t.createElement("script"),St(d),Dt(d,"link",i),t.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(o(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(i=s.instance,s.state.loading|=4,xo(i,a.precedence,t));return s.instance}function xo(t,s,a){for(var i=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=i.length?i[i.length-1]:null,u=d,g=0;g<i.length;g++){var N=i[g];if(N.dataset.precedence===s)u=N;else if(u!==d)break}u?u.parentNode.insertBefore(t,u.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function cu(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function du(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var fo=null;function pp(t,s,a){if(fo===null){var i=new Map,d=fo=new Map;d.set(a,i)}else d=fo,i=d.get(a),i||(i=new Map,d.set(a,i));if(i.has(t))return i;for(i.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var u=a[d];if(!(u[ql]||u[Tt]||t==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var g=u.getAttribute(s)||"";g=t+g;var N=i.get(g);N?N.push(u):i.set(g,[u])}}return i}function gp(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function Fv(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function bp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Gv(t,s,a,i){if(a.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=gl(i.href),u=s.querySelector(Tn(d));if(u){s=u._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=po.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=u,St(u);return}u=s.ownerDocument||s,i=xp(i),(d=ps.get(d))&&cu(i,d),u=u.createElement("link"),St(u);var g=u;g._p=new Promise(function(N,E){g.onload=N,g.onerror=E}),Dt(u,"link",i),a.instance=u}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=po.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var uu=0;function Yv(t,s){return t.stylesheets&&t.count===0&&bo(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var i=setTimeout(function(){if(t.stylesheets&&bo(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4+s);0<t.imgBytes&&uu===0&&(uu=62500*Tv());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&bo(t,t.stylesheets),t.unsuspend)){var u=t.unsuspend;t.unsuspend=null,u()}},(t.imgBytes>uu?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(d)}}:null}function po(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bo(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var go=null;function bo(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,go=new Map,s.forEach(Kv,t),go=null,po.call(t))}function Kv(t,s){if(!(s.state.loading&4)){var a=go.get(t);if(a)var i=a.get(null);else{a=new Map,go.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<d.length;u++){var g=d[u];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),i=g)}i&&a.set(null,i)}d=s.instance,g=d.getAttribute("data-precedence"),u=a.get(g)||i,u===i&&a.set(null,d),a.set(g,d),this.count++,i=po.bind(this),d.addEventListener("load",i),d.addEventListener("error",i),u?u.parentNode.insertBefore(d,u.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),s.state.loading|=4}}var En={$$typeof:R,Provider:null,Consumer:null,_currentValue:P,_currentValue2:P,_threadCount:0};function Jv(t,s,a,i,d,u,g,N,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nc(0),this.hiddenUpdates=nc(null),this.identifierPrefix=i,this.onUncaughtError=d,this.onCaughtError=u,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function yp(t,s,a,i,d,u,g,N,E,H,J,se){return t=new Jv(t,s,a,g,E,H,J,se,N),s=1,u===!0&&(s|=24),u=Zt(3,null,null,s),t.current=u,u.stateNode=t,s=Vc(),s.refCount++,t.pooledCache=s,s.refCount++,u.memoizedState={element:i,isDehydrated:a,cache:s},Kc(u),t}function vp(t){return t?(t=Jr,t):Jr}function jp(t,s,a,i,d,u){d=vp(d),i.context===null?i.context=d:i.pendingContext=d,i=Ta(s),i.payload={element:a},u=u===void 0?null:u,u!==null&&(i.callback=u),a=Aa(t,i,s),a!==null&&(Yt(a,t,s),nn(a,t,s))}function Np(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function mu(t,s){Np(t,s),(t=t.alternate)&&Np(t,s)}function wp(t){if(t.tag===13||t.tag===31){var s=xr(t,67108864);s!==null&&Yt(s,t,67108864),mu(t,67108864)}}function Sp(t){if(t.tag===13||t.tag===31){var s=as();s=ic(s);var a=xr(t,s);a!==null&&Yt(a,t,s),mu(t,s)}}var yo=!0;function Qv(t,s,a,i){var d=A.T;A.T=null;var u=F.p;try{F.p=2,hu(t,s,a,i)}finally{F.p=u,A.T=d}}function Xv(t,s,a,i){var d=A.T;A.T=null;var u=F.p;try{F.p=8,hu(t,s,a,i)}finally{F.p=u,A.T=d}}function hu(t,s,a,i){if(yo){var d=xu(i);if(d===null)Wd(t,s,i,vo,a),kp(t,i);else if(Wv(d,t,s,a,i))i.stopPropagation();else if(kp(t,i),s&4&&-1<Zv.indexOf(t)){for(;d!==null;){var u=Ir(d);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var g=cr(u.pendingLanes);if(g!==0){var N=u;for(N.pendingLanes|=2,N.entangledLanes|=2;g;){var E=1<<31-Qt(g);N.entanglements[1]|=E,g&=~E}zs(u),(Ve&6)===0&&(to=Ut()+500,wn(0))}}break;case 31:case 13:N=xr(u,2),N!==null&&Yt(N,u,2),ao(),mu(u,2)}if(u=xu(i),u===null&&Wd(t,s,i,vo,a),u===d)break;d=u}d!==null&&i.stopPropagation()}else Wd(t,s,i,null,a)}}function xu(t){return t=pc(t),fu(t)}var vo=null;function fu(t){if(vo=null,t=Ur(t),t!==null){var s=m(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=h(s),t!==null)return t;t=null}else if(a===31){if(t=x(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return vo=t,null}function Cp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lc()){case ii:return 2;case oi:return 8;case Pl:case Ib:return 32;case Lm:return 268435456;default:return 32}default:return 32}}var pu=!1,Pa=null,Ba=null,$a=null,_n=new Map,Dn=new Map,Ha=[],Zv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kp(t,s){switch(t){case"focusin":case"focusout":Pa=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":$a=null;break;case"pointerover":case"pointerout":_n.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dn.delete(s.pointerId)}}function Rn(t,s,a,i,d,u){return t===null||t.nativeEvent!==u?(t={blockedOn:s,domEventName:a,eventSystemFlags:i,nativeEvent:u,targetContainers:[d]},s!==null&&(s=Ir(s),s!==null&&wp(s)),t):(t.eventSystemFlags|=i,s=t.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),t)}function Wv(t,s,a,i,d){switch(s){case"focusin":return Pa=Rn(Pa,t,s,a,i,d),!0;case"dragenter":return Ba=Rn(Ba,t,s,a,i,d),!0;case"mouseover":return $a=Rn($a,t,s,a,i,d),!0;case"pointerover":var u=d.pointerId;return _n.set(u,Rn(_n.get(u)||null,t,s,a,i,d)),!0;case"gotpointercapture":return u=d.pointerId,Dn.set(u,Rn(Dn.get(u)||null,t,s,a,i,d)),!0}return!1}function Tp(t){var s=Ur(t.target);if(s!==null){var a=m(s);if(a!==null){if(s=a.tag,s===13){if(s=h(a),s!==null){t.blockedOn=s,Bm(t.priority,function(){Sp(a)});return}}else if(s===31){if(s=x(a),s!==null){t.blockedOn=s,Bm(t.priority,function(){Sp(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jo(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=xu(t.nativeEvent);if(a===null){a=t.nativeEvent;var i=new a.constructor(a.type,a);fc=i,a.target.dispatchEvent(i),fc=null}else return s=Ir(a),s!==null&&wp(s),t.blockedOn=a,!1;s.shift()}return!0}function Ap(t,s,a){jo(t)&&a.delete(s)}function ej(){pu=!1,Pa!==null&&jo(Pa)&&(Pa=null),Ba!==null&&jo(Ba)&&(Ba=null),$a!==null&&jo($a)&&($a=null),_n.forEach(Ap),Dn.forEach(Ap)}function No(t,s){t.blockedOn===s&&(t.blockedOn=null,pu||(pu=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,ej)))}var wo=null;function Ep(t){wo!==t&&(wo=t,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){wo===t&&(wo=null);for(var s=0;s<t.length;s+=3){var a=t[s],i=t[s+1],d=t[s+2];if(typeof i!="function"){if(fu(i||a)===null)continue;break}var u=Ir(a);u!==null&&(t.splice(s,3),s-=3,xd(u,{pending:!0,data:d,method:a.method,action:i},i,d))}}))}function yl(t){function s(E){return No(E,t)}Pa!==null&&No(Pa,t),Ba!==null&&No(Ba,t),$a!==null&&No($a,t),_n.forEach(s),Dn.forEach(s);for(var a=0;a<Ha.length;a++){var i=Ha[a];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Ha.length&&(a=Ha[0],a.blockedOn===null);)Tp(a),a.blockedOn===null&&Ha.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(i=0;i<a.length;i+=3){var d=a[i],u=a[i+1],g=d[$t]||null;if(typeof u=="function")g||Ep(a);else if(g){var N=null;if(u&&u.hasAttribute("formAction")){if(d=u,g=u[$t]||null)N=g.formAction;else if(fu(d)!==null)continue}else N=g.action;typeof N=="function"?a[i+1]=N:(a.splice(i,3),i-=3),Ep(a)}}}function _p(){function t(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(g){return d=g})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),i||setTimeout(a,20)}function a(){if(!i&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function gu(t){this._internalRoot=t}So.prototype.render=gu.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(o(409));var a=s.current,i=as();jp(a,i,t,s,null,null)},So.prototype.unmount=gu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;jp(t.current,2,null,t,null,null),ao(),s[zr]=null}};function So(t){this._internalRoot=t}So.prototype.unstable_scheduleHydration=function(t){if(t){var s=Pm();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Ha.length&&s!==0&&s<Ha[a].priority;a++);Ha.splice(a,0,t),a===0&&Tp(t)}};var Dp=r.version;if(Dp!=="19.2.0")throw Error(o(527,Dp,"19.2.0"));F.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=p(s),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var tj={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Co.isDisabled&&Co.supportsFiber)try{Bl=Co.inject(tj),Jt=Co}catch{}}return Ln.createRoot=function(t,s){if(!c(t))throw Error(o(299));var a=!1,i="",d=Ux,u=Ix,g=Px;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(u=s.onCaughtError),s.onRecoverableError!==void 0&&(g=s.onRecoverableError)),s=yp(t,1,!1,null,null,a,i,null,d,u,g,_p),t[zr]=s.current,Zd(t),new gu(s)},Ln.hydrateRoot=function(t,s,a){if(!c(t))throw Error(o(299));var i=!1,d="",u=Ux,g=Ix,N=Px,E=null;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(N=a.onRecoverableError),a.formState!==void 0&&(E=a.formState)),s=yp(t,1,!0,s,a??null,i,d,E,u,g,N,_p),s.context=vp(null),a=s.current,i=as(),i=ic(i),d=Ta(i),d.callback=null,Aa(a,d,i),a=i,s.current.lanes=a,Hl(s,a),zs(s),t[zr]=s.current,Zd(t),new So(s)},Ln.version="19.2.0",Ln}var $p;function mj(){if($p)return vu.exports;$p=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(r){console.error(r)}}return l(),vu.exports=uj(),vu.exports}var hj=mj();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Hp="popstate";function xj(l={}){function r(o,c){let{pathname:m,search:h,hash:x}=o.location;return Iu("",{pathname:m,search:h,hash:x},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(o,c){return typeof c=="string"?c:qn(c)}return pj(r,n,null,l)}function st(l,r){if(l===!1||l===null||typeof l>"u")throw new Error(r)}function ks(l,r){if(!l){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function fj(){return Math.random().toString(36).substring(2,10)}function qp(l,r){return{usr:l.state,key:l.key,idx:r}}function Iu(l,r,n=null,o){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof r=="string"?Rl(r):r,state:n,key:r&&r.key||o||fj()}}function qn({pathname:l="/",search:r="",hash:n=""}){return r&&r!=="?"&&(l+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(l+=n.charAt(0)==="#"?n:"#"+n),l}function Rl(l){let r={};if(l){let n=l.indexOf("#");n>=0&&(r.hash=l.substring(n),l=l.substring(0,n));let o=l.indexOf("?");o>=0&&(r.search=l.substring(o),l=l.substring(0,o)),l&&(r.pathname=l)}return r}function pj(l,r,n,o={}){let{window:c=document.defaultView,v5Compat:m=!1}=o,h=c.history,x="POP",f=null,p=y();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function y(){return(h.state||{idx:null}).idx}function b(){x="POP";let w=y(),T=w==null?null:w-p;p=w,f&&f({action:x,location:C.location,delta:T})}function v(w,T){x="PUSH";let O=Iu(C.location,w,T);p=y()+1;let R=qp(O,p),W=C.createHref(O);try{h.pushState(R,"",W)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;c.location.assign(W)}m&&f&&f({action:x,location:C.location,delta:1})}function k(w,T){x="REPLACE";let O=Iu(C.location,w,T);p=y();let R=qp(O,p),W=C.createHref(O);h.replaceState(R,"",W),m&&f&&f({action:x,location:C.location,delta:0})}function S(w){return gj(w)}let C={get action(){return x},get location(){return l(c,h)},listen(w){if(f)throw new Error("A history only accepts one active listener");return c.addEventListener(Hp,b),f=w,()=>{c.removeEventListener(Hp,b),f=null}},createHref(w){return r(c,w)},createURL:S,encodeLocation(w){let T=S(w);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:v,replace:k,go(w){return h.go(w)}};return C}function gj(l,r=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),st(n,"No window.location.(origin|href) available to create URL");let o=typeof l=="string"?l:qn(l);return o=o.replace(/ $/,"%20"),!r&&o.startsWith("//")&&(o=n+o),new URL(o,n)}function Z0(l,r,n="/"){return bj(l,r,n,!1)}function bj(l,r,n,o){let c=typeof r=="string"?Rl(r):r,m=xa(c.pathname||"/",n);if(m==null)return null;let h=W0(l);yj(h);let x=null;for(let f=0;x==null&&f<h.length;++f){let p=_j(m);x=Aj(h[f],p,o)}return x}function W0(l,r=[],n=[],o="",c=!1){let m=(h,x,f=c,p)=>{let y={relativePath:p===void 0?h.path||"":p,caseSensitive:h.caseSensitive===!0,childrenIndex:x,route:h};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(o)&&f)return;st(y.relativePath.startsWith(o),`Absolute route path "${y.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(o.length)}let b=ma([o,y.relativePath]),v=n.concat(y);h.children&&h.children.length>0&&(st(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),W0(h.children,r,v,b,f)),!(h.path==null&&!h.index)&&r.push({path:b,score:kj(b,h.index),routesMeta:v})};return l.forEach((h,x)=>{if(h.path===""||!h.path?.includes("?"))m(h,x);else for(let f of eg(h.path))m(h,x,!0,f)}),r}function eg(l){let r=l.split("/");if(r.length===0)return[];let[n,...o]=r,c=n.endsWith("?"),m=n.replace(/\?$/,"");if(o.length===0)return c?[m,""]:[m];let h=eg(o.join("/")),x=[];return x.push(...h.map(f=>f===""?m:[m,f].join("/"))),c&&x.push(...h),x.map(f=>l.startsWith("/")&&f===""?"/":f)}function yj(l){l.sort((r,n)=>r.score!==n.score?n.score-r.score:Tj(r.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}var vj=/^:[\w-]+$/,jj=3,Nj=2,wj=1,Sj=10,Cj=-2,Vp=l=>l==="*";function kj(l,r){let n=l.split("/"),o=n.length;return n.some(Vp)&&(o+=Cj),r&&(o+=Nj),n.filter(c=>!Vp(c)).reduce((c,m)=>c+(vj.test(m)?jj:m===""?wj:Sj),o)}function Tj(l,r){return l.length===r.length&&l.slice(0,-1).every((o,c)=>o===r[c])?l[l.length-1]-r[r.length-1]:0}function Aj(l,r,n=!1){let{routesMeta:o}=l,c={},m="/",h=[];for(let x=0;x<o.length;++x){let f=o[x],p=x===o.length-1,y=m==="/"?r:r.slice(m.length)||"/",b=Po({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},y),v=f.route;if(!b&&p&&n&&!o[o.length-1].route.index&&(b=Po({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!b)return null;Object.assign(c,b.params),h.push({params:c,pathname:ma([m,b.pathname]),pathnameBase:Lj(ma([m,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(m=ma([m,b.pathnameBase]))}return h}function Po(l,r){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[n,o]=Ej(l.path,l.caseSensitive,l.end),c=r.match(n);if(!c)return null;let m=c[0],h=m.replace(/(.)\/+$/,"$1"),x=c.slice(1);return{params:o.reduce((p,{paramName:y,isOptional:b},v)=>{if(y==="*"){let S=x[v]||"";h=m.slice(0,m.length-S.length).replace(/(.)\/+$/,"$1")}const k=x[v];return b&&!k?p[y]=void 0:p[y]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:m,pathnameBase:h,pattern:l}}function Ej(l,r=!1,n=!0){ks(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let o=[],c="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,x,f)=>(o.push({paramName:x,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return l.endsWith("*")?(o.push({paramName:"*"}),c+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?c+="\\/*$":l!==""&&l!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,r?void 0:"i"),o]}function _j(l){try{return l.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return ks(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),l}}function xa(l,r){if(r==="/")return l;if(!l.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,o=l.charAt(n);return o&&o!=="/"?null:l.slice(n)||"/"}function Dj(l,r="/"){let{pathname:n,search:o="",hash:c=""}=typeof l=="string"?Rl(l):l;return{pathname:n?n.startsWith("/")?n:Rj(n,r):r,search:Oj(o),hash:zj(c)}}function Rj(l,r){let n=r.replace(/\/+$/,"").split("/");return l.split("/").forEach(c=>{c===".."?n.length>1&&n.pop():c!=="."&&n.push(c)}),n.length>1?n.join("/"):"/"}function Su(l,r,n,o){return`Cannot include a '${l}' character in a manually specified \`to.${r}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Mj(l){return l.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function om(l){let r=Mj(l);return r.map((n,o)=>o===r.length-1?n.pathname:n.pathnameBase)}function cm(l,r,n,o=!1){let c;typeof l=="string"?c=Rl(l):(c={...l},st(!c.pathname||!c.pathname.includes("?"),Su("?","pathname","search",c)),st(!c.pathname||!c.pathname.includes("#"),Su("#","pathname","hash",c)),st(!c.search||!c.search.includes("#"),Su("#","search","hash",c)));let m=l===""||c.pathname==="",h=m?"/":c.pathname,x;if(h==null)x=n;else{let b=r.length-1;if(!o&&h.startsWith("..")){let v=h.split("/");for(;v[0]==="..";)v.shift(),b-=1;c.pathname=v.join("/")}x=b>=0?r[b]:"/"}let f=Dj(c,x),p=h&&h!=="/"&&h.endsWith("/"),y=(m||h===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||y)&&(f.pathname+="/"),f}var ma=l=>l.join("/").replace(/\/\/+/g,"/"),Lj=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),Oj=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,zj=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function Uj(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}var tg=["POST","PUT","PATCH","DELETE"];new Set(tg);var Ij=["GET",...tg];new Set(Ij);var Ml=j.createContext(null);Ml.displayName="DataRouter";var Xo=j.createContext(null);Xo.displayName="DataRouterState";j.createContext(!1);var sg=j.createContext({isTransitioning:!1});sg.displayName="ViewTransition";var Pj=j.createContext(new Map);Pj.displayName="Fetchers";var Bj=j.createContext(null);Bj.displayName="Await";var _s=j.createContext(null);_s.displayName="Navigation";var Kn=j.createContext(null);Kn.displayName="Location";var Ds=j.createContext({outlet:null,matches:[],isDataRoute:!1});Ds.displayName="Route";var dm=j.createContext(null);dm.displayName="RouteError";function $j(l,{relative:r}={}){st(Ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=j.useContext(_s),{hash:c,pathname:m,search:h}=Jn(l,{relative:r}),x=m;return n!=="/"&&(x=m==="/"?n:ma([n,m])),o.createHref({pathname:x,search:h,hash:c})}function Ll(){return j.useContext(Kn)!=null}function Rs(){return st(Ll(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Kn).location}var ag="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rg(l){j.useContext(_s).static||j.useLayoutEffect(l)}function Nt(){let{isDataRoute:l}=j.useContext(Ds);return l?eN():Hj()}function Hj(){st(Ll(),"useNavigate() may be used only in the context of a <Router> component.");let l=j.useContext(Ml),{basename:r,navigator:n}=j.useContext(_s),{matches:o}=j.useContext(Ds),{pathname:c}=Rs(),m=JSON.stringify(om(o)),h=j.useRef(!1);return rg(()=>{h.current=!0}),j.useCallback((f,p={})=>{if(ks(h.current,ag),!h.current)return;if(typeof f=="number"){n.go(f);return}let y=cm(f,JSON.parse(m),c,p.relative==="path");l==null&&r!=="/"&&(y.pathname=y.pathname==="/"?r:ma([r,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[r,n,m,c,l])}j.createContext(null);function um(){let{matches:l}=j.useContext(Ds),r=l[l.length-1];return r?r.params:{}}function Jn(l,{relative:r}={}){let{matches:n}=j.useContext(Ds),{pathname:o}=Rs(),c=JSON.stringify(om(n));return j.useMemo(()=>cm(l,JSON.parse(c),o,r==="path"),[l,c,o,r])}function qj(l,r){return lg(l,r)}function lg(l,r,n,o,c){st(Ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:m}=j.useContext(_s),{matches:h}=j.useContext(Ds),x=h[h.length-1],f=x?x.params:{},p=x?x.pathname:"/",y=x?x.pathnameBase:"/",b=x&&x.route;{let O=b&&b.path||"";ng(p,!b||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let v=Rs(),k;if(r){let O=typeof r=="string"?Rl(r):r;st(y==="/"||O.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${O.pathname}" was given in the \`location\` prop.`),k=O}else k=v;let S=k.pathname||"/",C=S;if(y!=="/"){let O=y.replace(/^\//,"").split("/");C="/"+S.replace(/^\//,"").split("/").slice(O.length).join("/")}let w=Z0(l,{pathname:C});ks(b||w!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),ks(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=Kj(w&&w.map(O=>Object.assign({},O,{params:Object.assign({},f,O.params),pathname:ma([y,m.encodeLocation?m.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?y:ma([y,m.encodeLocation?m.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),h,n,o,c);return r&&T?j.createElement(Kn.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},T):T}function Vj(){let l=Wj(),r=Uj(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),n=l instanceof Error?l.stack:null,o="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:o},m={padding:"2px 4px",backgroundColor:o},h=null;return console.error("Error handled by React Router default ErrorBoundary:",l),h=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:m},"ErrorBoundary")," or"," ",j.createElement("code",{style:m},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},r),n?j.createElement("pre",{style:c},n):null,h)}var Fj=j.createElement(Vj,null),Gj=class extends j.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,r){return r.location!==l.location||r.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:r.error,location:r.location,revalidation:l.revalidation||r.revalidation}}componentDidCatch(l,r){this.props.unstable_onError?this.props.unstable_onError(l,r):console.error("React Router caught the following error during render",l)}render(){return this.state.error!==void 0?j.createElement(Ds.Provider,{value:this.props.routeContext},j.createElement(dm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Yj({routeContext:l,match:r,children:n}){let o=j.useContext(Ml);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(Ds.Provider,{value:l},n)}function Kj(l,r=[],n=null,o=null,c=null){if(l==null){if(!n)return null;if(n.errors)l=n.matches;else if(r.length===0&&!n.initialized&&n.matches.length>0)l=n.matches;else return null}let m=l,h=n?.errors;if(h!=null){let p=m.findIndex(y=>y.route.id&&h?.[y.route.id]!==void 0);st(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),m=m.slice(0,Math.min(m.length,p+1))}let x=!1,f=-1;if(n)for(let p=0;p<m.length;p++){let y=m[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=p),y.route.id){let{loaderData:b,errors:v}=n,k=y.route.loader&&!b.hasOwnProperty(y.route.id)&&(!v||v[y.route.id]===void 0);if(y.route.lazy||k){x=!0,f>=0?m=m.slice(0,f+1):m=[m[0]];break}}}return m.reduceRight((p,y,b)=>{let v,k=!1,S=null,C=null;n&&(v=h&&y.route.id?h[y.route.id]:void 0,S=y.route.errorElement||Fj,x&&(f<0&&b===0?(ng("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,C=null):f===b&&(k=!0,C=y.route.hydrateFallbackElement||null)));let w=r.concat(m.slice(0,b+1)),T=()=>{let O;return v?O=S:k?O=C:y.route.Component?O=j.createElement(y.route.Component,null):y.route.element?O=y.route.element:O=p,j.createElement(Yj,{match:y,routeContext:{outlet:p,matches:w,isDataRoute:n!=null},children:O})};return n&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?j.createElement(Gj,{location:n.location,revalidation:n.revalidation,component:S,error:v,children:T(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:o}):T()},null)}function mm(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jj(l){let r=j.useContext(Ml);return st(r,mm(l)),r}function Qj(l){let r=j.useContext(Xo);return st(r,mm(l)),r}function Xj(l){let r=j.useContext(Ds);return st(r,mm(l)),r}function hm(l){let r=Xj(l),n=r.matches[r.matches.length-1];return st(n.route.id,`${l} can only be used on routes that contain a unique "id"`),n.route.id}function Zj(){return hm("useRouteId")}function Wj(){let l=j.useContext(dm),r=Qj("useRouteError"),n=hm("useRouteError");return l!==void 0?l:r.errors?.[n]}function eN(){let{router:l}=Jj("useNavigate"),r=hm("useNavigate"),n=j.useRef(!1);return rg(()=>{n.current=!0}),j.useCallback(async(c,m={})=>{ks(n.current,ag),n.current&&(typeof c=="number"?l.navigate(c):await l.navigate(c,{fromRouteId:r,...m}))},[l,r])}var Fp={};function ng(l,r,n){!r&&!Fp[l]&&(Fp[l]=!0,ks(!1,n))}j.memo(tN);function tN({routes:l,future:r,state:n,unstable_onError:o}){return lg(l,void 0,n,o,r)}function Pu({to:l,replace:r,state:n,relative:o}){st(Ll(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=j.useContext(_s);ks(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:m}=j.useContext(Ds),{pathname:h}=Rs(),x=Nt(),f=cm(l,om(m),h,o==="path"),p=JSON.stringify(f);return j.useEffect(()=>{x(JSON.parse(p),{replace:r,state:n,relative:o})},[x,p,o,r,n]),null}function vt(l){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sN({basename:l="/",children:r=null,location:n,navigationType:o="POP",navigator:c,static:m=!1}){st(!Ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=l.replace(/^\/*/,"/"),x=j.useMemo(()=>({basename:h,navigator:c,static:m,future:{}}),[h,c,m]);typeof n=="string"&&(n=Rl(n));let{pathname:f="/",search:p="",hash:y="",state:b=null,key:v="default"}=n,k=j.useMemo(()=>{let S=xa(f,h);return S==null?null:{location:{pathname:S,search:p,hash:y,state:b,key:v},navigationType:o}},[h,f,p,y,b,v,o]);return ks(k!=null,`<Router basename="${h}"> is not able to match the URL "${f}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:j.createElement(_s.Provider,{value:x},j.createElement(Kn.Provider,{children:r,value:k}))}function aN({children:l,location:r}){return qj(Bu(l),r)}function Bu(l,r=[]){let n=[];return j.Children.forEach(l,(o,c)=>{if(!j.isValidElement(o))return;let m=[...r,c];if(o.type===j.Fragment){n.push.apply(n,Bu(o.props.children,m));return}st(o.type===vt,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!o.props.index||!o.props.children,"An index route cannot have child routes.");let h={id:o.props.id||m.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=Bu(o.props.children,m)),n.push(h)}),n}var Mo="get",Lo="application/x-www-form-urlencoded";function Zo(l){return l!=null&&typeof l.tagName=="string"}function rN(l){return Zo(l)&&l.tagName.toLowerCase()==="button"}function lN(l){return Zo(l)&&l.tagName.toLowerCase()==="form"}function nN(l){return Zo(l)&&l.tagName.toLowerCase()==="input"}function iN(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function oN(l,r){return l.button===0&&(!r||r==="_self")&&!iN(l)}var ko=null;function cN(){if(ko===null)try{new FormData(document.createElement("form"),0),ko=!1}catch{ko=!0}return ko}var dN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cu(l){return l!=null&&!dN.has(l)?(ks(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lo}"`),null):l}function uN(l,r){let n,o,c,m,h;if(lN(l)){let x=l.getAttribute("action");o=x?xa(x,r):null,n=l.getAttribute("method")||Mo,c=Cu(l.getAttribute("enctype"))||Lo,m=new FormData(l)}else if(rN(l)||nN(l)&&(l.type==="submit"||l.type==="image")){let x=l.form;if(x==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=l.getAttribute("formaction")||x.getAttribute("action");if(o=f?xa(f,r):null,n=l.getAttribute("formmethod")||x.getAttribute("method")||Mo,c=Cu(l.getAttribute("formenctype"))||Cu(x.getAttribute("enctype"))||Lo,m=new FormData(x,l),!cN()){let{name:p,type:y,value:b}=l;if(y==="image"){let v=p?`${p}.`:"";m.append(`${v}x`,"0"),m.append(`${v}y`,"0")}else p&&m.append(p,b)}}else{if(Zo(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mo,o=null,c=Lo,h=l}return m&&c==="text/plain"&&(h=m,m=void 0),{action:o,method:n.toLowerCase(),encType:c,formData:m,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xm(l,r){if(l===!1||l===null||typeof l>"u")throw new Error(r)}function mN(l,r,n){let o=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return o.pathname==="/"?o.pathname=`_root.${n}`:r&&xa(o.pathname,r)==="/"?o.pathname=`${r.replace(/\/$/,"")}/_root.${n}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${n}`,o}async function hN(l,r){if(l.id in r)return r[l.id];try{let n=await import(l.module);return r[l.id]=n,n}catch(n){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xN(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function fN(l,r,n){let o=await Promise.all(l.map(async c=>{let m=r.routes[c.route.id];if(m){let h=await hN(m,n);return h.links?h.links():[]}return[]}));return yN(o.flat(1).filter(xN).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Gp(l,r,n,o,c,m){let h=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,x=(f,p)=>n[p].pathname!==f.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==f.params["*"];return m==="assets"?r.filter((f,p)=>h(f,p)||x(f,p)):m==="data"?r.filter((f,p)=>{let y=o.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(h(f,p)||x(f,p))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(l,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function pN(l,r,{includeHydrateFallback:n}={}){return gN(l.map(o=>{let c=r.routes[o.route.id];if(!c)return[];let m=[c.module];return c.clientActionModule&&(m=m.concat(c.clientActionModule)),c.clientLoaderModule&&(m=m.concat(c.clientLoaderModule)),n&&c.hydrateFallbackModule&&(m=m.concat(c.hydrateFallbackModule)),c.imports&&(m=m.concat(c.imports)),m}).flat(1))}function gN(l){return[...new Set(l)]}function bN(l){let r={},n=Object.keys(l).sort();for(let o of n)r[o]=l[o];return r}function yN(l,r){let n=new Set;return new Set(r),l.reduce((o,c)=>{let m=JSON.stringify(bN(c));return n.has(m)||(n.add(m),o.push({key:m,link:c})),o},[])}function ig(){let l=j.useContext(Ml);return xm(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function vN(){let l=j.useContext(Xo);return xm(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var fm=j.createContext(void 0);fm.displayName="FrameworkContext";function og(){let l=j.useContext(fm);return xm(l,"You must render this element inside a <HydratedRouter> element"),l}function jN(l,r){let n=j.useContext(fm),[o,c]=j.useState(!1),[m,h]=j.useState(!1),{onFocus:x,onBlur:f,onMouseEnter:p,onMouseLeave:y,onTouchStart:b}=r,v=j.useRef(null);j.useEffect(()=>{if(l==="render"&&h(!0),l==="viewport"){let C=T=>{T.forEach(O=>{h(O.isIntersecting)})},w=new IntersectionObserver(C,{threshold:.5});return v.current&&w.observe(v.current),()=>{w.disconnect()}}},[l]),j.useEffect(()=>{if(o){let C=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(C)}}},[o]);let k=()=>{c(!0)},S=()=>{c(!1),h(!1)};return n?l!=="intent"?[m,v,{}]:[m,v,{onFocus:On(x,k),onBlur:On(f,S),onMouseEnter:On(p,k),onMouseLeave:On(y,S),onTouchStart:On(b,k)}]:[!1,v,{}]}function On(l,r){return n=>{l&&l(n),n.defaultPrevented||r(n)}}function NN({page:l,...r}){let{router:n}=ig(),o=j.useMemo(()=>Z0(n.routes,l,n.basename),[n.routes,l,n.basename]);return o?j.createElement(SN,{page:l,matches:o,...r}):null}function wN(l){let{manifest:r,routeModules:n}=og(),[o,c]=j.useState([]);return j.useEffect(()=>{let m=!1;return fN(l,r,n).then(h=>{m||c(h)}),()=>{m=!0}},[l,r,n]),o}function SN({page:l,matches:r,...n}){let o=Rs(),{manifest:c,routeModules:m}=og(),{basename:h}=ig(),{loaderData:x,matches:f}=vN(),p=j.useMemo(()=>Gp(l,r,f,c,o,"data"),[l,r,f,c,o]),y=j.useMemo(()=>Gp(l,r,f,c,o,"assets"),[l,r,f,c,o]),b=j.useMemo(()=>{if(l===o.pathname+o.search+o.hash)return[];let S=new Set,C=!1;if(r.forEach(T=>{let O=c.routes[T.route.id];!O||!O.hasLoader||(!p.some(R=>R.route.id===T.route.id)&&T.route.id in x&&m[T.route.id]?.shouldRevalidate||O.hasClientLoader?C=!0:S.add(T.route.id))}),S.size===0)return[];let w=mN(l,h,"data");return C&&S.size>0&&w.searchParams.set("_routes",r.filter(T=>S.has(T.route.id)).map(T=>T.route.id).join(",")),[w.pathname+w.search]},[h,x,o,c,p,r,l,m]),v=j.useMemo(()=>pN(y,c),[y,c]),k=wN(y);return j.createElement(j.Fragment,null,b.map(S=>j.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),v.map(S=>j.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),k.map(({key:S,link:C})=>j.createElement("link",{key:S,nonce:n.nonce,...C})))}function CN(...l){return r=>{l.forEach(n=>{typeof n=="function"?n(r):n!=null&&(n.current=r)})}}var cg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cg&&(window.__reactRouterVersion="7.9.4")}catch{}function kN({basename:l,children:r,window:n}){let o=j.useRef();o.current==null&&(o.current=xj({window:n,v5Compat:!0}));let c=o.current,[m,h]=j.useState({action:c.action,location:c.location}),x=j.useCallback(f=>{j.startTransition(()=>h(f))},[h]);return j.useLayoutEffect(()=>c.listen(x),[c,x]),j.createElement(sN,{basename:l,children:r,location:m.location,navigationType:m.action,navigator:c})}var dg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=j.forwardRef(function({onClick:r,discover:n="render",prefetch:o="none",relative:c,reloadDocument:m,replace:h,state:x,target:f,to:p,preventScrollReset:y,viewTransition:b,...v},k){let{basename:S}=j.useContext(_s),C=typeof p=="string"&&dg.test(p),w,T=!1;if(typeof p=="string"&&C&&(w=p,cg))try{let ne=new URL(window.location.href),ye=p.startsWith("//")?new URL(ne.protocol+p):new URL(p),Me=xa(ye.pathname,S);ye.origin===ne.origin&&Me!=null?p=Me+ye.search+ye.hash:T=!0}catch{ks(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=$j(p,{relative:c}),[R,W,B]=jN(o,v),X=_N(p,{replace:h,state:x,target:f,preventScrollReset:y,relative:c,viewTransition:b});function V(ne){r&&r(ne),ne.defaultPrevented||X(ne)}let _=j.createElement("a",{...v,...B,href:w||O,onClick:T||m?r:V,ref:CN(k,W),target:f,"data-discover":!C&&n==="render"?"true":void 0});return R&&!C?j.createElement(j.Fragment,null,_,j.createElement(NN,{page:O})):_});Te.displayName="Link";var TN=j.forwardRef(function({"aria-current":r="page",caseSensitive:n=!1,className:o="",end:c=!1,style:m,to:h,viewTransition:x,children:f,...p},y){let b=Jn(h,{relative:p.relative}),v=Rs(),k=j.useContext(Xo),{navigator:S,basename:C}=j.useContext(_s),w=k!=null&&ON(b)&&x===!0,T=S.encodeLocation?S.encodeLocation(b).pathname:b.pathname,O=v.pathname,R=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(O=O.toLowerCase(),R=R?R.toLowerCase():null,T=T.toLowerCase()),R&&C&&(R=xa(R,C)||R);const W=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let B=O===T||!c&&O.startsWith(T)&&O.charAt(W)==="/",X=R!=null&&(R===T||!c&&R.startsWith(T)&&R.charAt(T.length)==="/"),V={isActive:B,isPending:X,isTransitioning:w},_=B?r:void 0,ne;typeof o=="function"?ne=o(V):ne=[o,B?"active":null,X?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let ye=typeof m=="function"?m(V):m;return j.createElement(Te,{...p,"aria-current":_,className:ne,ref:y,style:ye,to:h,viewTransition:x},typeof f=="function"?f(V):f)});TN.displayName="NavLink";var AN=j.forwardRef(({discover:l="render",fetcherKey:r,navigate:n,reloadDocument:o,replace:c,state:m,method:h=Mo,action:x,onSubmit:f,relative:p,preventScrollReset:y,viewTransition:b,...v},k)=>{let S=MN(),C=LN(x,{relative:p}),w=h.toLowerCase()==="get"?"get":"post",T=typeof x=="string"&&dg.test(x),O=R=>{if(f&&f(R),R.defaultPrevented)return;R.preventDefault();let W=R.nativeEvent.submitter,B=W?.getAttribute("formmethod")||h;S(W||R.currentTarget,{fetcherKey:r,method:B,navigate:n,replace:c,state:m,relative:p,preventScrollReset:y,viewTransition:b})};return j.createElement("form",{ref:k,method:w,action:C,onSubmit:o?f:O,...v,"data-discover":!T&&l==="render"?"true":void 0})});AN.displayName="Form";function EN(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ug(l){let r=j.useContext(Ml);return st(r,EN(l)),r}function _N(l,{target:r,replace:n,state:o,preventScrollReset:c,relative:m,viewTransition:h}={}){let x=Nt(),f=Rs(),p=Jn(l,{relative:m});return j.useCallback(y=>{if(oN(y,r)){y.preventDefault();let b=n!==void 0?n:qn(f)===qn(p);x(l,{replace:b,state:o,preventScrollReset:c,relative:m,viewTransition:h})}},[f,x,p,n,o,r,l,c,m,h])}var DN=0,RN=()=>`__${String(++DN)}__`;function MN(){let{router:l}=ug("useSubmit"),{basename:r}=j.useContext(_s),n=Zj();return j.useCallback(async(o,c={})=>{let{action:m,method:h,encType:x,formData:f,body:p}=uN(o,r);if(c.navigate===!1){let y=c.fetcherKey||RN();await l.fetch(y,n,c.action||m,{preventScrollReset:c.preventScrollReset,formData:f,body:p,formMethod:c.method||h,formEncType:c.encType||x,flushSync:c.flushSync})}else await l.navigate(c.action||m,{preventScrollReset:c.preventScrollReset,formData:f,body:p,formMethod:c.method||h,formEncType:c.encType||x,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[l,r,n])}function LN(l,{relative:r}={}){let{basename:n}=j.useContext(_s),o=j.useContext(Ds);st(o,"useFormAction must be used inside a RouteContext");let[c]=o.matches.slice(-1),m={...Jn(l||".",{relative:r})},h=Rs();if(l==null){m.search=h.search;let x=new URLSearchParams(m.search),f=x.getAll("index");if(f.some(y=>y==="")){x.delete("index"),f.filter(b=>b).forEach(b=>x.append("index",b));let y=x.toString();m.search=y?`?${y}`:""}}return(!l||l===".")&&c.route.index&&(m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(m.pathname=m.pathname==="/"?n:ma([n,m.pathname])),qn(m)}function ON(l,{relative:r}={}){let n=j.useContext(sg);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=ug("useViewTransitionState"),c=Jn(l,{relative:r});if(!n.isTransitioning)return!1;let m=xa(n.currentLocation.pathname,o)||n.currentLocation.pathname,h=xa(n.nextLocation.pathname,o)||n.nextLocation.pathname;return Po(c.pathname,h)!=null||Po(c.pathname,m)!=null}class zN{config=null;configPromise=null;async getConfig(){return this.config?this.config:(this.config=this.getBuildTimeConfig(),this.config)}async fetchConfig(){const r=window.location.origin;try{const n=await fetch(`${r}/api/runtime-config`);if(!n.ok)throw new Error(`Config fetch failed: ${n.status}`);const o=await n.json();return{apiBaseUrl:r,firebase:o.firebase,googleMapsApiKey:"AIzaSyDTV_5KiXOuYRtG2TEMIvrHPCsht3sSWEQ",unsplash:{accessKey:""}}}catch(n){return console.error("Failed to fetch runtime config, using fallback:",n),this.getBuildTimeConfig()}}getBuildTimeConfig(){return{apiBaseUrl:window.location.origin,firebase:{apiKey:"AIzaSyCuJr5N0ytr1h_Aq_5qQazNL0wQUnsZlAw",authDomain:"travelbuddy-2d1c5.firebaseapp.com",projectId:"travelbuddy-2d1c5",storageBucket:"travelbuddy-2d1c5.firebasestorage.app",messagingSenderId:"45425409967",appId:"1:45425409967:web:782638c65a40dcb156b95a"},googleMapsApiKey:"AIzaSyDTV_5KiXOuYRtG2TEMIvrHPCsht3sSWEQ",unsplash:{accessKey:""}}}}const rs=new zN,mg=j.createContext({config:null,loading:!0,error:null}),Qn=()=>{const l=j.useContext(mg);if(!l)throw new Error("useConfig must be used within a ConfigProvider");return l},UN=({children:l})=>{const[r,n]=j.useState(null),[o,c]=j.useState(!0),[m,h]=j.useState(null);return j.useEffect(()=>{(async()=>{try{const f=await rs.getConfig();n(f),h(null)}catch(f){h(f instanceof Error?f.message:"Failed to load config")}finally{c(!1)}})()},[]),e.jsx(mg.Provider,{value:{config:r,loading:o,error:m},children:l})},IN=()=>{};var Yp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg=function(l){const r=[];let n=0;for(let o=0;o<l.length;o++){let c=l.charCodeAt(o);c<128?r[n++]=c:c<2048?(r[n++]=c>>6|192,r[n++]=c&63|128):(c&64512)===55296&&o+1<l.length&&(l.charCodeAt(o+1)&64512)===56320?(c=65536+((c&1023)<<10)+(l.charCodeAt(++o)&1023),r[n++]=c>>18|240,r[n++]=c>>12&63|128,r[n++]=c>>6&63|128,r[n++]=c&63|128):(r[n++]=c>>12|224,r[n++]=c>>6&63|128,r[n++]=c&63|128)}return r},PN=function(l){const r=[];let n=0,o=0;for(;n<l.length;){const c=l[n++];if(c<128)r[o++]=String.fromCharCode(c);else if(c>191&&c<224){const m=l[n++];r[o++]=String.fromCharCode((c&31)<<6|m&63)}else if(c>239&&c<365){const m=l[n++],h=l[n++],x=l[n++],f=((c&7)<<18|(m&63)<<12|(h&63)<<6|x&63)-65536;r[o++]=String.fromCharCode(55296+(f>>10)),r[o++]=String.fromCharCode(56320+(f&1023))}else{const m=l[n++],h=l[n++];r[o++]=String.fromCharCode((c&15)<<12|(m&63)<<6|h&63)}}return r.join("")},xg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(l,r){if(!Array.isArray(l))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=r?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let c=0;c<l.length;c+=3){const m=l[c],h=c+1<l.length,x=h?l[c+1]:0,f=c+2<l.length,p=f?l[c+2]:0,y=m>>2,b=(m&3)<<4|x>>4;let v=(x&15)<<2|p>>6,k=p&63;f||(k=64,h||(v=64)),o.push(n[y],n[b],n[v],n[k])}return o.join("")},encodeString(l,r){return this.HAS_NATIVE_SUPPORT&&!r?btoa(l):this.encodeByteArray(hg(l),r)},decodeString(l,r){return this.HAS_NATIVE_SUPPORT&&!r?atob(l):PN(this.decodeStringToByteArray(l,r))},decodeStringToByteArray(l,r){this.init_();const n=r?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let c=0;c<l.length;){const m=n[l.charAt(c++)],x=c<l.length?n[l.charAt(c)]:0;++c;const p=c<l.length?n[l.charAt(c)]:64;++c;const b=c<l.length?n[l.charAt(c)]:64;if(++c,m==null||x==null||p==null||b==null)throw new BN;const v=m<<2|x>>4;if(o.push(v),p!==64){const k=x<<4&240|p>>2;if(o.push(k),b!==64){const S=p<<6&192|b;o.push(S)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let l=0;l<this.ENCODED_VALS.length;l++)this.byteToCharMap_[l]=this.ENCODED_VALS.charAt(l),this.charToByteMap_[this.byteToCharMap_[l]]=l,this.byteToCharMapWebSafe_[l]=this.ENCODED_VALS_WEBSAFE.charAt(l),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[l]]=l,l>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(l)]=l,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(l)]=l)}}};class BN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $N=function(l){const r=hg(l);return xg.encodeByteArray(r,!0)},fg=function(l){return $N(l).replace(/\./g,"")},pg=function(l){try{return xg.decodeString(l,!0)}catch(r){console.error("base64Decode failed: ",r)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=()=>HN().__FIREBASE_DEFAULTS__,VN=()=>{if(typeof process>"u"||typeof Yp>"u")return;const l=Yp.__FIREBASE_DEFAULTS__;if(l)return JSON.parse(l)},FN=()=>{if(typeof document>"u")return;let l;try{l=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const r=l&&pg(l[1]);return r&&JSON.parse(r)},pm=()=>{try{return IN()||qN()||VN()||FN()}catch(l){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${l}`);return}},GN=l=>pm()?.emulatorHosts?.[l],gg=()=>pm()?.config,bg=l=>pm()?.[`_${l}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((r,n)=>{this.resolve=r,this.reject=n})}wrapCallback(r){return(n,o)=>{n?this.reject(n):this.resolve(o),typeof r=="function"&&(this.promise.catch(()=>{}),r.length===1?r(n):r(n,o))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(l){try{return(l.startsWith("http://")||l.startsWith("https://")?new URL(l).hostname:l).endsWith(".cloudworkstations.dev")}catch{return!1}}async function KN(l){return(await fetch(l,{credentials:"include"})).ok}const $n={};function JN(){const l={prod:[],emulator:[]};for(const r of Object.keys($n))$n[r]?l.emulator.push(r):l.prod.push(r);return l}function QN(l){let r=document.getElementById(l),n=!1;return r||(r=document.createElement("div"),r.setAttribute("id",l),n=!0),{created:n,element:r}}let Kp=!1;function XN(l,r){if(typeof window>"u"||typeof document>"u"||!Wo(window.location.host)||$n[l]===r||$n[l]||Kp)return;$n[l]=r;function n(v){return`__firebase__banner__${v}`}const o="__firebase__banner",m=JN().prod.length>0;function h(){const v=document.getElementById(o);v&&v.remove()}function x(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,k){v.setAttribute("width","24"),v.setAttribute("id",k),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function p(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Kp=!0,h()},v}function y(v,k){v.setAttribute("id",k),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function b(){const v=QN(o),k=n("text"),S=document.getElementById(k)||document.createElement("span"),C=n("learnmore"),w=document.getElementById(C)||document.createElement("a"),T=n("preprendIcon"),O=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const R=v.element;x(R),y(w,C);const W=p();f(O,T),R.append(O,S,w,W),document.body.appendChild(R)}m?(S.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function WN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function e1(){const l=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof l=="object"&&l.id!==void 0}function t1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function s1(){const l=Pt();return l.indexOf("MSIE ")>=0||l.indexOf("Trident/")>=0}function a1(){try{return typeof indexedDB=="object"}catch{return!1}}function r1(){return new Promise((l,r)=>{try{let n=!0;const o="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(o);c.onsuccess=()=>{c.result.close(),n||self.indexedDB.deleteDatabase(o),l(!0)},c.onupgradeneeded=()=>{n=!1},c.onerror=()=>{r(c.error?.message||"")}}catch(n){r(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="FirebaseError";class lr extends Error{constructor(r,n,o){super(n),this.code=r,this.customData=o,this.name=l1,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xn.prototype.create)}}class Xn{constructor(r,n,o){this.service=r,this.serviceName=n,this.errors=o}create(r,...n){const o=n[0]||{},c=`${this.service}/${r}`,m=this.errors[r],h=m?n1(m,o):"Error",x=`${this.serviceName}: ${h} (${c}).`;return new lr(c,x,o)}}function n1(l,r){return l.replace(i1,(n,o)=>{const c=r[o];return c!=null?String(c):`<${o}?>`})}const i1=/\{\$([^}]+)}/g;function o1(l){for(const r in l)if(Object.prototype.hasOwnProperty.call(l,r))return!1;return!0}function Al(l,r){if(l===r)return!0;const n=Object.keys(l),o=Object.keys(r);for(const c of n){if(!o.includes(c))return!1;const m=l[c],h=r[c];if(Jp(m)&&Jp(h)){if(!Al(m,h))return!1}else if(m!==h)return!1}for(const c of o)if(!n.includes(c))return!1;return!0}function Jp(l){return l!==null&&typeof l=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(l){const r=[];for(const[n,o]of Object.entries(l))Array.isArray(o)?o.forEach(c=>{r.push(encodeURIComponent(n)+"="+encodeURIComponent(c))}):r.push(encodeURIComponent(n)+"="+encodeURIComponent(o));return r.length?"&"+r.join("&"):""}function Un(l){const r={};return l.replace(/^\?/,"").split("&").forEach(o=>{if(o){const[c,m]=o.split("=");r[decodeURIComponent(c)]=decodeURIComponent(m)}}),r}function In(l){const r=l.indexOf("?");if(!r)return"";const n=l.indexOf("#",r);return l.substring(r,n>0?n:void 0)}function c1(l,r){const n=new d1(l,r);return n.subscribe.bind(n)}class d1{constructor(r,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{r(this)}).catch(o=>{this.error(o)})}next(r){this.forEachObserver(n=>{n.next(r)})}error(r){this.forEachObserver(n=>{n.error(r)}),this.close(r)}complete(){this.forEachObserver(r=>{r.complete()}),this.close()}subscribe(r,n,o){let c;if(r===void 0&&n===void 0&&o===void 0)throw new Error("Missing Observer.");u1(r,["next","error","complete"])?c=r:c={next:r,error:n,complete:o},c.next===void 0&&(c.next=ku),c.error===void 0&&(c.error=ku),c.complete===void 0&&(c.complete=ku);const m=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?c.error(this.finalError):c.complete()}catch{}}),this.observers.push(c),m}unsubscribeOne(r){this.observers===void 0||this.observers[r]===void 0||(delete this.observers[r],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(r){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,r)}sendOne(r,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[r]!==void 0)try{n(this.observers[r])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})}close(r){this.finalized||(this.finalized=!0,r!==void 0&&(this.finalError=r),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function u1(l,r){if(typeof l!="object"||l===null)return!1;for(const n of r)if(n in l&&typeof l[n]=="function")return!0;return!1}function ku(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(l){return l&&l._delegate?l._delegate:l}class El{constructor(r,n,o){this.name=r,this.instanceFactory=n,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(r){return this.instantiationMode=r,this}setMultipleInstances(r){return this.multipleInstances=r,this}setServiceProps(r){return this.serviceProps=r,this}setInstanceCreatedCallback(r){return this.onInstanceCreated=r,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(r,n){this.name=r,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(r){const n=this.normalizeInstanceIdentifier(r);if(!this.instancesDeferred.has(n)){const o=new YN;if(this.instancesDeferred.set(n,o),this.isInitialized(n)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:n});c&&o.resolve(c)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(r){const n=this.normalizeInstanceIdentifier(r?.identifier),o=r?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(r){if(r.name!==this.name)throw Error(`Mismatching Component ${r.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=r,!!this.shouldAutoInitialize()){if(x1(r))try{this.getOrInitializeService({instanceIdentifier:Ar})}catch{}for(const[n,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(n);try{const m=this.getOrInitializeService({instanceIdentifier:c});o.resolve(m)}catch{}}}}clearInstance(r=Ar){this.instancesDeferred.delete(r),this.instancesOptions.delete(r),this.instances.delete(r)}async delete(){const r=Array.from(this.instances.values());await Promise.all([...r.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...r.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(r=Ar){return this.instances.has(r)}getOptions(r=Ar){return this.instancesOptions.get(r)||{}}initialize(r={}){const{options:n={}}=r,o=this.normalizeInstanceIdentifier(r.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:o,options:n});for(const[m,h]of this.instancesDeferred.entries()){const x=this.normalizeInstanceIdentifier(m);o===x&&h.resolve(c)}return c}onInit(r,n){const o=this.normalizeInstanceIdentifier(n),c=this.onInitCallbacks.get(o)??new Set;c.add(r),this.onInitCallbacks.set(o,c);const m=this.instances.get(o);return m&&r(m,o),()=>{c.delete(r)}}invokeOnInitCallbacks(r,n){const o=this.onInitCallbacks.get(n);if(o)for(const c of o)try{c(r,n)}catch{}}getOrInitializeService({instanceIdentifier:r,options:n={}}){let o=this.instances.get(r);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:h1(r),options:n}),this.instances.set(r,o),this.instancesOptions.set(r,n),this.invokeOnInitCallbacks(o,r),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,r,o)}catch{}return o||null}normalizeInstanceIdentifier(r=Ar){return this.component?this.component.multipleInstances?r:Ar:r}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function h1(l){return l===Ar?void 0:l}function x1(l){return l.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(r){this.name=r,this.providers=new Map}addComponent(r){const n=this.getProvider(r.name);if(n.isComponentSet())throw new Error(`Component ${r.name} has already been registered with ${this.name}`);n.setComponent(r)}addOrOverwriteComponent(r){this.getProvider(r.name).isComponentSet()&&this.providers.delete(r.name),this.addComponent(r)}getProvider(r){if(this.providers.has(r))return this.providers.get(r);const n=new m1(r,this);return this.providers.set(r,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(l){l[l.DEBUG=0]="DEBUG",l[l.VERBOSE=1]="VERBOSE",l[l.INFO=2]="INFO",l[l.WARN=3]="WARN",l[l.ERROR=4]="ERROR",l[l.SILENT=5]="SILENT"})(Ze||(Ze={}));const p1={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},g1=Ze.INFO,b1={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},y1=(l,r,...n)=>{if(r<l.logLevel)return;const o=new Date().toISOString(),c=b1[r];if(c)console[c](`[${o}]  ${l.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${r})`)};class yg{constructor(r){this.name=r,this._logLevel=g1,this._logHandler=y1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(r){if(!(r in Ze))throw new TypeError(`Invalid value "${r}" assigned to \`logLevel\``);this._logLevel=r}setLogLevel(r){this._logLevel=typeof r=="string"?p1[r]:r}get logHandler(){return this._logHandler}set logHandler(r){if(typeof r!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=r}get userLogHandler(){return this._userLogHandler}set userLogHandler(r){this._userLogHandler=r}debug(...r){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...r),this._logHandler(this,Ze.DEBUG,...r)}log(...r){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...r),this._logHandler(this,Ze.VERBOSE,...r)}info(...r){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...r),this._logHandler(this,Ze.INFO,...r)}warn(...r){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...r),this._logHandler(this,Ze.WARN,...r)}error(...r){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...r),this._logHandler(this,Ze.ERROR,...r)}}const v1=(l,r)=>r.some(n=>l instanceof n);let Qp,Xp;function j1(){return Qp||(Qp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function N1(){return Xp||(Xp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vg=new WeakMap,$u=new WeakMap,jg=new WeakMap,Tu=new WeakMap,gm=new WeakMap;function w1(l){const r=new Promise((n,o)=>{const c=()=>{l.removeEventListener("success",m),l.removeEventListener("error",h)},m=()=>{n(Wa(l.result)),c()},h=()=>{o(l.error),c()};l.addEventListener("success",m),l.addEventListener("error",h)});return r.then(n=>{n instanceof IDBCursor&&vg.set(n,l)}).catch(()=>{}),gm.set(r,l),r}function S1(l){if($u.has(l))return;const r=new Promise((n,o)=>{const c=()=>{l.removeEventListener("complete",m),l.removeEventListener("error",h),l.removeEventListener("abort",h)},m=()=>{n(),c()},h=()=>{o(l.error||new DOMException("AbortError","AbortError")),c()};l.addEventListener("complete",m),l.addEventListener("error",h),l.addEventListener("abort",h)});$u.set(l,r)}let Hu={get(l,r,n){if(l instanceof IDBTransaction){if(r==="done")return $u.get(l);if(r==="objectStoreNames")return l.objectStoreNames||jg.get(l);if(r==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wa(l[r])},set(l,r,n){return l[r]=n,!0},has(l,r){return l instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in l}};function C1(l){Hu=l(Hu)}function k1(l){return l===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(r,...n){const o=l.call(Au(this),r,...n);return jg.set(o,r.sort?r.sort():[r]),Wa(o)}:N1().includes(l)?function(...r){return l.apply(Au(this),r),Wa(vg.get(this))}:function(...r){return Wa(l.apply(Au(this),r))}}function T1(l){return typeof l=="function"?k1(l):(l instanceof IDBTransaction&&S1(l),v1(l,j1())?new Proxy(l,Hu):l)}function Wa(l){if(l instanceof IDBRequest)return w1(l);if(Tu.has(l))return Tu.get(l);const r=T1(l);return r!==l&&(Tu.set(l,r),gm.set(r,l)),r}const Au=l=>gm.get(l);function A1(l,r,{blocked:n,upgrade:o,blocking:c,terminated:m}={}){const h=indexedDB.open(l,r),x=Wa(h);return o&&h.addEventListener("upgradeneeded",f=>{o(Wa(h.result),f.oldVersion,f.newVersion,Wa(h.transaction),f)}),n&&h.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),x.then(f=>{m&&f.addEventListener("close",()=>m()),c&&f.addEventListener("versionchange",p=>c(p.oldVersion,p.newVersion,p))}).catch(()=>{}),x}const E1=["get","getKey","getAll","getAllKeys","count"],_1=["put","add","delete","clear"],Eu=new Map;function Zp(l,r){if(!(l instanceof IDBDatabase&&!(r in l)&&typeof r=="string"))return;if(Eu.get(r))return Eu.get(r);const n=r.replace(/FromIndex$/,""),o=r!==n,c=_1.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(c||E1.includes(n)))return;const m=async function(h,...x){const f=this.transaction(h,c?"readwrite":"readonly");let p=f.store;return o&&(p=p.index(x.shift())),(await Promise.all([p[n](...x),c&&f.done]))[0]};return Eu.set(r,m),m}C1(l=>({...l,get:(r,n,o)=>Zp(r,n)||l.get(r,n,o),has:(r,n)=>!!Zp(r,n)||l.has(r,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(r){this.container=r}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(R1(n)){const o=n.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(n=>n).join(" ")}}function R1(l){return l.getComponent()?.type==="VERSION"}const qu="@firebase/app",Wp="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new yg("@firebase/app"),M1="@firebase/app-compat",L1="@firebase/analytics-compat",O1="@firebase/analytics",z1="@firebase/app-check-compat",U1="@firebase/app-check",I1="@firebase/auth",P1="@firebase/auth-compat",B1="@firebase/database",$1="@firebase/data-connect",H1="@firebase/database-compat",q1="@firebase/functions",V1="@firebase/functions-compat",F1="@firebase/installations",G1="@firebase/installations-compat",Y1="@firebase/messaging",K1="@firebase/messaging-compat",J1="@firebase/performance",Q1="@firebase/performance-compat",X1="@firebase/remote-config",Z1="@firebase/remote-config-compat",W1="@firebase/storage",e2="@firebase/storage-compat",t2="@firebase/firestore",s2="@firebase/ai",a2="@firebase/firestore-compat",r2="firebase",l2="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu="[DEFAULT]",n2={[qu]:"fire-core",[M1]:"fire-core-compat",[O1]:"fire-analytics",[L1]:"fire-analytics-compat",[U1]:"fire-app-check",[z1]:"fire-app-check-compat",[I1]:"fire-auth",[P1]:"fire-auth-compat",[B1]:"fire-rtdb",[$1]:"fire-data-connect",[H1]:"fire-rtdb-compat",[q1]:"fire-fn",[V1]:"fire-fn-compat",[F1]:"fire-iid",[G1]:"fire-iid-compat",[Y1]:"fire-fcm",[K1]:"fire-fcm-compat",[J1]:"fire-perf",[Q1]:"fire-perf-compat",[X1]:"fire-rc",[Z1]:"fire-rc-compat",[W1]:"fire-gcs",[e2]:"fire-gcs-compat",[t2]:"fire-fst",[a2]:"fire-fst-compat",[s2]:"fire-vertex","fire-js":"fire-js",[r2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new Map,i2=new Map,Fu=new Map;function e0(l,r){try{l.container.addComponent(r)}catch(n){fa.debug(`Component ${r.name} failed to register with FirebaseApp ${l.name}`,n)}}function Vn(l){const r=l.name;if(Fu.has(r))return fa.debug(`There were multiple attempts to register component ${r}.`),!1;Fu.set(r,l);for(const n of Bo.values())e0(n,l);for(const n of i2.values())e0(n,l);return!0}function Ng(l,r){const n=l.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),l.container.getProvider(r)}function ws(l){return l==null?!1:l.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},er=new Xn("app","Firebase",o2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(r,n,o){this._isDeleted=!1,this._options={...r},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new El("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(r){this.checkDestroyed(),this._automaticDataCollectionEnabled=r}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(r){this._isDeleted=r}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn=l2;function wg(l,r={}){let n=l;typeof r!="object"&&(r={name:r});const o={name:Vu,automaticDataCollectionEnabled:!0,...r},c=o.name;if(typeof c!="string"||!c)throw er.create("bad-app-name",{appName:String(c)});if(n||(n=gg()),!n)throw er.create("no-options");const m=Bo.get(c);if(m){if(Al(n,m.options)&&Al(o,m.config))return m;throw er.create("duplicate-app",{appName:c})}const h=new f1(c);for(const f of Fu.values())h.addComponent(f);const x=new c2(n,o,h);return Bo.set(c,x),x}function d2(l=Vu){const r=Bo.get(l);if(!r&&l===Vu&&gg())return wg();if(!r)throw er.create("no-app",{appName:l});return r}function Sl(l,r,n){let o=n2[l]??l;n&&(o+=`-${n}`);const c=o.match(/\s|\//),m=r.match(/\s|\//);if(c||m){const h=[`Unable to register library "${o}" with version "${r}":`];c&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&m&&h.push("and"),m&&h.push(`version name "${r}" contains illegal characters (whitespace or "/")`),fa.warn(h.join(" "));return}Vn(new El(`${o}-version`,()=>({library:o,version:r}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="firebase-heartbeat-database",m2=1,Fn="firebase-heartbeat-store";let _u=null;function Sg(){return _u||(_u=A1(u2,m2,{upgrade:(l,r)=>{switch(r){case 0:try{l.createObjectStore(Fn)}catch(n){console.warn(n)}}}}).catch(l=>{throw er.create("idb-open",{originalErrorMessage:l.message})})),_u}async function h2(l){try{const n=(await Sg()).transaction(Fn),o=await n.objectStore(Fn).get(Cg(l));return await n.done,o}catch(r){if(r instanceof lr)fa.warn(r.message);else{const n=er.create("idb-get",{originalErrorMessage:r?.message});fa.warn(n.message)}}}async function t0(l,r){try{const o=(await Sg()).transaction(Fn,"readwrite");await o.objectStore(Fn).put(r,Cg(l)),await o.done}catch(n){if(n instanceof lr)fa.warn(n.message);else{const o=er.create("idb-set",{originalErrorMessage:n?.message});fa.warn(o.message)}}}function Cg(l){return`${l.name}!${l.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=1024,f2=30;class p2{constructor(r){this.container=r,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new b2(n),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=s0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:n}),this._heartbeatsCache.heartbeats.length>f2){const c=y2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){fa.warn(r)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=s0(),{heartbeatsToSend:n,unsentEntries:o}=g2(this._heartbeatsCache.heartbeats),c=fg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return fa.warn(r),""}}}function s0(){return new Date().toISOString().substring(0,10)}function g2(l,r=x2){const n=[];let o=l.slice();for(const c of l){const m=n.find(h=>h.agent===c.agent);if(m){if(m.dates.push(c.date),a0(n)>r){m.dates.pop();break}}else if(n.push({agent:c.agent,dates:[c.date]}),a0(n)>r){n.pop();break}o=o.slice(1)}return{heartbeatsToSend:n,unsentEntries:o}}class b2{constructor(r){this.app=r,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return a1()?r1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await h2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(r){if(await this._canUseIndexedDBPromise){const o=await this.read();return t0(this.app,{lastSentHeartbeatDate:r.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:r.heartbeats})}else return}async add(r){if(await this._canUseIndexedDBPromise){const o=await this.read();return t0(this.app,{lastSentHeartbeatDate:r.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...r.heartbeats]})}else return}}function a0(l){return fg(JSON.stringify({version:2,heartbeats:l})).length}function y2(l){if(l.length===0)return-1;let r=0,n=l[0].date;for(let o=1;o<l.length;o++)l[o].date<n&&(n=l[o].date,r=o);return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(l){Vn(new El("platform-logger",r=>new D1(r),"PRIVATE")),Vn(new El("heartbeat",r=>new p2(r),"PRIVATE")),Sl(qu,Wp,l),Sl(qu,Wp,"esm2020"),Sl("fire-js","")}v2("");function kg(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const j2=kg,Tg=new Xn("auth","Firebase",kg());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=new yg("@firebase/auth");function N2(l,...r){$o.logLevel<=Ze.WARN&&$o.warn(`Auth (${Wn}): ${l}`,...r)}function Oo(l,...r){$o.logLevel<=Ze.ERROR&&$o.error(`Auth (${Wn}): ${l}`,...r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(l,...r){throw bm(l,...r)}function Us(l,...r){return bm(l,...r)}function Ag(l,r,n){const o={...j2(),[r]:n};return new Xn("auth","Firebase",o).create(r,{appName:l.name})}function ha(l){return Ag(l,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bm(l,...r){if(typeof l!="string"){const n=r[0],o=[...r.slice(1)];return o[0]&&(o[0].appName=l.name),l._errorFactory.create(n,...o)}return Tg.create(l,...r)}function Ce(l,r,...n){if(!l)throw bm(r,...n)}function ca(l){const r="INTERNAL ASSERTION FAILED: "+l;throw Oo(r),new Error(r)}function pa(l,r){l||ca(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(){return typeof self<"u"&&self.location?.href||""}function w2(){return r0()==="http:"||r0()==="https:"}function r0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(w2()||e1()||"connection"in navigator)?navigator.onLine:!0}function C2(){if(typeof navigator>"u")return null;const l=navigator;return l.languages&&l.languages[0]||l.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(r,n){this.shortDelay=r,this.longDelay=n,pa(n>r,"Short delay should be less than long delay!"),this.isMobile=ZN()||t1()}get(){return S2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(l,r){pa(l.emulator,"Emulator should always be set here");const{url:n}=l.emulator;return r?`${n}${r.startsWith("/")?r.slice(1):r}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{static initialize(r,n,o){this.fetchImpl=r,n&&(this.headersImpl=n),o&&(this.responseImpl=o)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ca("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ca("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ca("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],A2=new ei(3e4,6e4);function nr(l,r){return l.tenantId&&!r.tenantId?{...r,tenantId:l.tenantId}:r}async function ir(l,r,n,o,c={}){return _g(l,c,async()=>{let m={},h={};o&&(r==="GET"?h=o:m={body:JSON.stringify(o)});const x=Zn({key:l.config.apiKey,...h}).slice(1),f=await l._getAdditionalHeaders();f["Content-Type"]="application/json",l.languageCode&&(f["X-Firebase-Locale"]=l.languageCode);const p={method:r,headers:f,...m};return WN()||(p.referrerPolicy="no-referrer"),l.emulatorConfig&&Wo(l.emulatorConfig.host)&&(p.credentials="include"),Eg.fetch()(await Dg(l,l.config.apiHost,n,x),p)})}async function _g(l,r,n){l._canInitEmulator=!1;const o={...k2,...r};try{const c=new _2(l),m=await Promise.race([n(),c.promise]);c.clearNetworkTimeout();const h=await m.json();if("needConfirmation"in h)throw To(l,"account-exists-with-different-credential",h);if(m.ok&&!("errorMessage"in h))return h;{const x=m.ok?h.errorMessage:h.error.message,[f,p]=x.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw To(l,"credential-already-in-use",h);if(f==="EMAIL_EXISTS")throw To(l,"email-already-in-use",h);if(f==="USER_DISABLED")throw To(l,"user-disabled",h);const y=o[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Ag(l,y,p);Ts(l,y)}}catch(c){if(c instanceof lr)throw c;Ts(l,"network-request-failed",{message:String(c)})}}async function ti(l,r,n,o,c={}){const m=await ir(l,r,n,o,c);return"mfaPendingCredential"in m&&Ts(l,"multi-factor-auth-required",{_serverResponse:m}),m}async function Dg(l,r,n,o){const c=`${r}${n}?${o}`,m=l,h=m.config.emulator?ym(l.config,c):`${l.config.apiScheme}://${c}`;return T2.includes(n)&&(await m._persistenceManagerAvailable,m._getPersistenceType()==="COOKIE")?m._getPersistence()._getFinalTarget(h).toString():h}function E2(l){switch(l){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(r){this.auth=r,this.timer=null,this.promise=new Promise((n,o)=>{this.timer=setTimeout(()=>o(Us(this.auth,"network-request-failed")),A2.get())})}}function To(l,r,n){const o={appName:l.name};n.email&&(o.email=n.email),n.phoneNumber&&(o.phoneNumber=n.phoneNumber);const c=Us(l,r,o);return c.customData._tokenResponse=n,c}function l0(l){return l!==void 0&&l.enterprise!==void 0}class D2{constructor(r){if(this.siteKey="",this.recaptchaEnforcementState=[],r.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=r.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=r.recaptchaEnforcementState}getProviderEnforcementState(r){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===r)return E2(n.enforcementState);return null}isProviderEnabled(r){return this.getProviderEnforcementState(r)==="ENFORCE"||this.getProviderEnforcementState(r)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function R2(l,r){return ir(l,"GET","/v2/recaptchaConfig",nr(l,r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M2(l,r){return ir(l,"POST","/v1/accounts:delete",r)}async function Ho(l,r){return ir(l,"POST","/v1/accounts:lookup",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(l){if(l)try{const r=new Date(Number(l));if(!isNaN(r.getTime()))return r.toUTCString()}catch{}}async function L2(l,r=!1){const n=$s(l),o=await n.getIdToken(r),c=vm(o);Ce(c&&c.exp&&c.auth_time&&c.iat,n.auth,"internal-error");const m=typeof c.firebase=="object"?c.firebase:void 0,h=m?.sign_in_provider;return{claims:c,token:o,authTime:Hn(Du(c.auth_time)),issuedAtTime:Hn(Du(c.iat)),expirationTime:Hn(Du(c.exp)),signInProvider:h||null,signInSecondFactor:m?.sign_in_second_factor||null}}function Du(l){return Number(l)*1e3}function vm(l){const[r,n,o]=l.split(".");if(r===void 0||n===void 0||o===void 0)return Oo("JWT malformed, contained fewer than 3 sections"),null;try{const c=pg(n);return c?JSON.parse(c):(Oo("Failed to decode base64 JWT payload"),null)}catch(c){return Oo("Caught error parsing JWT payload as JSON",c?.toString()),null}}function n0(l){const r=vm(l);return Ce(r,"internal-error"),Ce(typeof r.exp<"u","internal-error"),Ce(typeof r.iat<"u","internal-error"),Number(r.exp)-Number(r.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gn(l,r,n=!1){if(n)return r;try{return await r}catch(o){throw o instanceof lr&&O2(o)&&l.auth.currentUser===l&&await l.auth.signOut(),o}}function O2({code:l}){return l==="auth/user-disabled"||l==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(r){this.user=r,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(r){if(r){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const o=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,o)}}schedule(r=!1){if(!this.isRunning)return;const n=this.getInterval(r);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(r){r?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(r,n){this.createdAt=r,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hn(this.lastLoginAt),this.creationTime=Hn(this.createdAt)}_copy(r){this.createdAt=r.createdAt,this.lastLoginAt=r.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(l){const r=l.auth,n=await l.getIdToken(),o=await Gn(l,Ho(r,{idToken:n}));Ce(o?.users.length,r,"internal-error");const c=o.users[0];l._notifyReloadListener(c);const m=c.providerUserInfo?.length?Rg(c.providerUserInfo):[],h=I2(l.providerData,m),x=l.isAnonymous,f=!(l.email&&c.passwordHash)&&!h?.length,p=x?f:!1,y={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:h,metadata:new Yu(c.createdAt,c.lastLoginAt),isAnonymous:p};Object.assign(l,y)}async function U2(l){const r=$s(l);await qo(r),await r.auth._persistUserIfCurrent(r),r.auth._notifyListenersIfCurrent(r)}function I2(l,r){return[...l.filter(o=>!r.some(c=>c.providerId===o.providerId)),...r]}function Rg(l){return l.map(({providerId:r,...n})=>({providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P2(l,r){const n=await _g(l,{},async()=>{const o=Zn({grant_type:"refresh_token",refresh_token:r}).slice(1),{tokenApiHost:c,apiKey:m}=l.config,h=await Dg(l,c,"/v1/token",`key=${m}`),x=await l._getAdditionalHeaders();x["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:x,body:o};return l.emulatorConfig&&Wo(l.emulatorConfig.host)&&(f.credentials="include"),Eg.fetch()(h,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function B2(l,r){return ir(l,"POST","/v2/accounts:revokeToken",nr(l,r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(r){Ce(r.idToken,"internal-error"),Ce(typeof r.idToken<"u","internal-error"),Ce(typeof r.refreshToken<"u","internal-error");const n="expiresIn"in r&&typeof r.expiresIn<"u"?Number(r.expiresIn):n0(r.idToken);this.updateTokensAndExpiration(r.idToken,r.refreshToken,n)}updateFromIdToken(r){Ce(r.length!==0,"internal-error");const n=n0(r);this.updateTokensAndExpiration(r,null,n)}async getToken(r,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,r,"user-token-expired"),this.refreshToken?(await this.refresh(r,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(r,n){const{accessToken:o,refreshToken:c,expiresIn:m}=await P2(r,n);this.updateTokensAndExpiration(o,c,Number(m))}updateTokensAndExpiration(r,n,o){this.refreshToken=n||null,this.accessToken=r||null,this.expirationTime=Date.now()+o*1e3}static fromJSON(r,n){const{refreshToken:o,accessToken:c,expirationTime:m}=n,h=new Cl;return o&&(Ce(typeof o=="string","internal-error",{appName:r}),h.refreshToken=o),c&&(Ce(typeof c=="string","internal-error",{appName:r}),h.accessToken=c),m&&(Ce(typeof m=="number","internal-error",{appName:r}),h.expirationTime=m),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(r){this.accessToken=r.accessToken,this.refreshToken=r.refreshToken,this.expirationTime=r.expirationTime}_clone(){return Object.assign(new Cl,this.toJSON())}_performRefresh(){return ca("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(l,r){Ce(typeof l=="string"||typeof l>"u","internal-error",{appName:r})}class Ss{constructor({uid:r,auth:n,stsTokenManager:o,...c}){this.providerId="firebase",this.proactiveRefresh=new z2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Yu(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(r){const n=await Gn(this,this.stsTokenManager.getToken(this.auth,r));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(r){return L2(this,r)}reload(){return U2(this)}_assign(r){this!==r&&(Ce(this.uid===r.uid,this.auth,"internal-error"),this.displayName=r.displayName,this.photoURL=r.photoURL,this.email=r.email,this.emailVerified=r.emailVerified,this.phoneNumber=r.phoneNumber,this.isAnonymous=r.isAnonymous,this.tenantId=r.tenantId,this.providerData=r.providerData.map(n=>({...n})),this.metadata._copy(r.metadata),this.stsTokenManager._assign(r.stsTokenManager))}_clone(r){const n=new Ss({...this,auth:r,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(r){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=r,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(r){this.reloadListener?this.reloadListener(r):this.reloadUserInfo=r}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(r,n=!1){let o=!1;r.idToken&&r.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(r),o=!0),n&&await qo(this),await this.auth._persistUserIfCurrent(this),o&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ws(this.auth.app))return Promise.reject(ha(this.auth));const r=await this.getIdToken();return await Gn(this,M2(this.auth,{idToken:r})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(r=>({...r})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(r,n){const o=n.displayName??void 0,c=n.email??void 0,m=n.phoneNumber??void 0,h=n.photoURL??void 0,x=n.tenantId??void 0,f=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:b,emailVerified:v,isAnonymous:k,providerData:S,stsTokenManager:C}=n;Ce(b&&C,r,"internal-error");const w=Cl.fromJSON(this.name,C);Ce(typeof b=="string",r,"internal-error"),Va(o,r.name),Va(c,r.name),Ce(typeof v=="boolean",r,"internal-error"),Ce(typeof k=="boolean",r,"internal-error"),Va(m,r.name),Va(h,r.name),Va(x,r.name),Va(f,r.name),Va(p,r.name),Va(y,r.name);const T=new Ss({uid:b,auth:r,email:c,emailVerified:v,displayName:o,isAnonymous:k,photoURL:h,phoneNumber:m,tenantId:x,stsTokenManager:w,createdAt:p,lastLoginAt:y});return S&&Array.isArray(S)&&(T.providerData=S.map(O=>({...O}))),f&&(T._redirectEventId=f),T}static async _fromIdTokenResponse(r,n,o=!1){const c=new Cl;c.updateFromServerResponse(n);const m=new Ss({uid:n.localId,auth:r,stsTokenManager:c,isAnonymous:o});return await qo(m),m}static async _fromGetAccountInfoResponse(r,n,o){const c=n.users[0];Ce(c.localId!==void 0,"internal-error");const m=c.providerUserInfo!==void 0?Rg(c.providerUserInfo):[],h=!(c.email&&c.passwordHash)&&!m?.length,x=new Cl;x.updateFromIdToken(o);const f=new Ss({uid:c.localId,auth:r,stsTokenManager:x,isAnonymous:h}),p={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:m,metadata:new Yu(c.createdAt,c.lastLoginAt),isAnonymous:!(c.email&&c.passwordHash)&&!m?.length};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=new Map;function da(l){pa(l instanceof Function,"Expected a class definition");let r=i0.get(l);return r?(pa(r instanceof l,"Instance stored in cache mismatched with class"),r):(r=new l,i0.set(l,r),r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(r,n){this.storage[r]=n}async _get(r){const n=this.storage[r];return n===void 0?null:n}async _remove(r){delete this.storage[r]}_addListener(r,n){}_removeListener(r,n){}}Mg.type="NONE";const o0=Mg;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(l,r,n){return`firebase:${l}:${r}:${n}`}class kl{constructor(r,n,o){this.persistence=r,this.auth=n,this.userKey=o;const{config:c,name:m}=this.auth;this.fullUserKey=zo(this.userKey,c.apiKey,m),this.fullPersistenceKey=zo("persistence",c.apiKey,m),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(r){return this.persistence._set(this.fullUserKey,r.toJSON())}async getCurrentUser(){const r=await this.persistence._get(this.fullUserKey);if(!r)return null;if(typeof r=="string"){const n=await Ho(this.auth,{idToken:r}).catch(()=>{});return n?Ss._fromGetAccountInfoResponse(this.auth,n,r):null}return Ss._fromJSON(this.auth,r)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(r){if(this.persistence===r)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=r,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(r,n,o="authUser"){if(!n.length)return new kl(da(o0),r,o);const c=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let m=c[0]||da(o0);const h=zo(o,r.config.apiKey,r.name);let x=null;for(const p of n)try{const y=await p._get(h);if(y){let b;if(typeof y=="string"){const v=await Ho(r,{idToken:y}).catch(()=>{});if(!v)break;b=await Ss._fromGetAccountInfoResponse(r,v,y)}else b=Ss._fromJSON(r,y);p!==m&&(x=b),m=p;break}}catch{}const f=c.filter(p=>p._shouldAllowMigration);return!m._shouldAllowMigration||!f.length?new kl(m,r,o):(m=f[0],x&&await m._set(h,x.toJSON()),await Promise.all(n.map(async p=>{if(p!==m)try{await p._remove(h)}catch{}})),new kl(m,r,o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(l){const r=l.toLowerCase();if(r.includes("opera/")||r.includes("opr/")||r.includes("opios/"))return"Opera";if(Ug(r))return"IEMobile";if(r.includes("msie")||r.includes("trident/"))return"IE";if(r.includes("edge/"))return"Edge";if(Lg(r))return"Firefox";if(r.includes("silk/"))return"Silk";if(Pg(r))return"Blackberry";if(Bg(r))return"Webos";if(Og(r))return"Safari";if((r.includes("chrome/")||zg(r))&&!r.includes("edge/"))return"Chrome";if(Ig(r))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,o=l.match(n);if(o?.length===2)return o[1]}return"Other"}function Lg(l=Pt()){return/firefox\//i.test(l)}function Og(l=Pt()){const r=l.toLowerCase();return r.includes("safari/")&&!r.includes("chrome/")&&!r.includes("crios/")&&!r.includes("android")}function zg(l=Pt()){return/crios\//i.test(l)}function Ug(l=Pt()){return/iemobile/i.test(l)}function Ig(l=Pt()){return/android/i.test(l)}function Pg(l=Pt()){return/blackberry/i.test(l)}function Bg(l=Pt()){return/webos/i.test(l)}function jm(l=Pt()){return/iphone|ipad|ipod/i.test(l)||/macintosh/i.test(l)&&/mobile/i.test(l)}function $2(l=Pt()){return jm(l)&&!!window.navigator?.standalone}function H2(){return s1()&&document.documentMode===10}function $g(l=Pt()){return jm(l)||Ig(l)||Bg(l)||Pg(l)||/windows phone/i.test(l)||Ug(l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(l,r=[]){let n;switch(l){case"Browser":n=c0(Pt());break;case"Worker":n=`${c0(Pt())}-${l}`;break;default:n=l}const o=r.length?r.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wn}/${o}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(r){this.auth=r,this.queue=[]}pushCallback(r,n){const o=m=>new Promise((h,x)=>{try{const f=r(m);h(f)}catch(f){x(f)}});o.onAbort=n,this.queue.push(o);const c=this.queue.length-1;return()=>{this.queue[c]=()=>Promise.resolve()}}async runMiddleware(r){if(this.auth.currentUser===r)return;const n=[];try{for(const o of this.queue)await o(r),o.onAbort&&n.push(o.onAbort)}catch(o){n.reverse();for(const c of n)try{c()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2(l,r={}){return ir(l,"GET","/v2/passwordPolicy",nr(l,r))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=6;class G2{constructor(r){const n=r.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??F2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=r.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=r.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=r.forceUpgradeOnSignin??!1,this.schemaVersion=r.schemaVersion}validatePassword(r){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(r,n),this.validatePasswordCharacterOptions(r,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(r,n){const o=this.customStrengthOptions.minPasswordLength,c=this.customStrengthOptions.maxPasswordLength;o&&(n.meetsMinPasswordLength=r.length>=o),c&&(n.meetsMaxPasswordLength=r.length<=c)}validatePasswordCharacterOptions(r,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let o;for(let c=0;c<r.length;c++)o=r.charAt(c),this.updatePasswordCharacterOptionsStatuses(n,o>="a"&&o<="z",o>="A"&&o<="Z",o>="0"&&o<="9",this.allowedNonAlphanumericCharacters.includes(o))}updatePasswordCharacterOptionsStatuses(r,n,o,c,m){this.customStrengthOptions.containsLowercaseLetter&&(r.containsLowercaseLetter||(r.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(r.containsUppercaseLetter||(r.containsUppercaseLetter=o)),this.customStrengthOptions.containsNumericCharacter&&(r.containsNumericCharacter||(r.containsNumericCharacter=c)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(r.containsNonAlphanumericCharacter||(r.containsNonAlphanumericCharacter=m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(r,n,o,c){this.app=r,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=o,this.config=c,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d0(this),this.idTokenSubscription=new d0(this),this.beforeStateQueue=new q2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tg,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=r.name,this.clientVersion=c.sdkClientVersion,this._persistenceManagerAvailable=new Promise(m=>this._resolvePersistenceManagerAvailable=m)}_initializeWithPersistence(r,n){return n&&(this._popupRedirectResolver=da(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await kl.create(this,r),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const r=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!r)){if(this.currentUser&&r&&this.currentUser.uid===r.uid){this._currentUser._assign(r),await this.currentUser.getIdToken();return}await this._updateCurrentUser(r,!0)}}async initializeCurrentUserFromIdToken(r){try{const n=await Ho(this,{idToken:r}),o=await Ss._fromGetAccountInfoResponse(this,n,r);await this.directlySetCurrentUser(o)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(r){if(ws(this.app)){const m=this.app.settings.authIdToken;return m?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(m).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let o=n,c=!1;if(r&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const m=this.redirectUser?._redirectEventId,h=o?._redirectEventId,x=await this.tryRedirectSignIn(r);(!m||m===h)&&x?.user&&(o=x.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(m){o=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(m))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(r){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,r,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(r){try{await qo(r)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(r)}useDeviceLanguage(){this.languageCode=C2()}async _delete(){this._deleted=!0}async updateCurrentUser(r){if(ws(this.app))return Promise.reject(ha(this));const n=r?$s(r):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(r,n=!1){if(!this._deleted)return r&&Ce(this.tenantId===r.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(r),this.queue(async()=>{await this.directlySetCurrentUser(r),this.notifyAuthListeners()})}async signOut(){return ws(this.app)?Promise.reject(ha(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(r){return ws(this.app)?Promise.reject(ha(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(da(r))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(r){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(r)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const r=await V2(this),n=new G2(r);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(r){this._errorFactory=new Xn("auth","Firebase",r())}onAuthStateChanged(r,n,o){return this.registerStateListener(this.authStateSubscription,r,n,o)}beforeAuthStateChanged(r,n){return this.beforeStateQueue.pushCallback(r,n)}onIdTokenChanged(r,n,o){return this.registerStateListener(this.idTokenSubscription,r,n,o)}authStateReady(){return new Promise((r,n)=>{if(this.currentUser)r();else{const o=this.onAuthStateChanged(()=>{o(),r()},n)}})}async revokeAccessToken(r){if(this.currentUser){const n=await this.currentUser.getIdToken(),o={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:r,idToken:n};this.tenantId!=null&&(o.tenantId=this.tenantId),await B2(this,o)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(r,n){const o=await this.getOrInitRedirectPersistenceManager(n);return r===null?o.removeCurrentUser():o.setCurrentUser(r)}async getOrInitRedirectPersistenceManager(r){if(!this.redirectPersistenceManager){const n=r&&da(r)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await kl.create(this,[da(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(r){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===r?this._currentUser:this.redirectUser?._redirectEventId===r?this.redirectUser:null}async _persistUserIfCurrent(r){if(r===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(r))}_notifyListenersIfCurrent(r){r===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=this.currentUser?.uid??null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(r,n,o,c){if(this._deleted)return()=>{};const m=typeof n=="function"?n:n.next.bind(n);let h=!1;const x=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(x,this,"internal-error"),x.then(()=>{h||m(this.currentUser)}),typeof n=="function"){const f=r.addObserver(n,o,c);return()=>{h=!0,f()}}else{const f=r.addObserver(n);return()=>{h=!0,f()}}}async directlySetCurrentUser(r){this.currentUser&&this.currentUser!==r&&this._currentUser._stopProactiveRefresh(),r&&this.isProactiveRefreshEnabled&&r._startProactiveRefresh(),this.currentUser=r,r?await this.assertedPersistence.setCurrentUser(r):await this.assertedPersistence.removeCurrentUser()}queue(r){return this.operations=this.operations.then(r,r),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(r){!r||this.frameworks.includes(r)||(this.frameworks.push(r),this.frameworks.sort(),this.clientVersion=Hg(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(r["X-Firebase-Client"]=n);const o=await this._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r}async _getAppCheckToken(){if(ws(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return r?.error&&N2(`Error while retrieving App Check token: ${r.error}`),r?.token}}function Or(l){return $s(l)}class d0{constructor(r){this.auth=r,this.observer=null,this.addObserver=c1(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function K2(l){ec=l}function qg(l){return ec.loadJS(l)}function J2(){return ec.recaptchaEnterpriseScript}function Q2(){return ec.gapiScript}function X2(l){return`__${l}${Math.floor(Math.random()*1e6)}`}class Z2{constructor(){this.enterprise=new W2}ready(r){r()}execute(r,n){return Promise.resolve("token")}render(r,n){return""}}class W2{ready(r){r()}execute(r,n){return Promise.resolve("token")}render(r,n){return""}}const ew="recaptcha-enterprise",Vg="NO_RECAPTCHA";class tw{constructor(r){this.type=ew,this.auth=Or(r)}async verify(r="verify",n=!1){async function o(m){if(!n){if(m.tenantId==null&&m._agentRecaptchaConfig!=null)return m._agentRecaptchaConfig.siteKey;if(m.tenantId!=null&&m._tenantRecaptchaConfigs[m.tenantId]!==void 0)return m._tenantRecaptchaConfigs[m.tenantId].siteKey}return new Promise(async(h,x)=>{R2(m,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)x(new Error("recaptcha Enterprise site key undefined"));else{const p=new D2(f);return m.tenantId==null?m._agentRecaptchaConfig=p:m._tenantRecaptchaConfigs[m.tenantId]=p,h(p.siteKey)}}).catch(f=>{x(f)})})}function c(m,h,x){const f=window.grecaptcha;l0(f)?f.enterprise.ready(()=>{f.enterprise.execute(m,{action:r}).then(p=>{h(p)}).catch(()=>{h(Vg)})}):x(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Z2().execute("siteKey",{action:"verify"}):new Promise((m,h)=>{o(this.auth).then(x=>{if(!n&&l0(window.grecaptcha))c(x,m,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let f=J2();f.length!==0&&(f+=x),qg(f).then(()=>{c(x,m,h)}).catch(p=>{h(p)})}}).catch(x=>{h(x)})})}}async function u0(l,r,n,o=!1,c=!1){const m=new tw(l);let h;if(c)h=Vg;else try{h=await m.verify(n)}catch{h=await m.verify(n,!0)}const x={...r};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in x){const f=x.phoneEnrollmentInfo.phoneNumber,p=x.phoneEnrollmentInfo.recaptchaToken;Object.assign(x,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in x){const f=x.phoneSignInInfo.recaptchaToken;Object.assign(x,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return x}return o?Object.assign(x,{captchaResp:h}):Object.assign(x,{captchaResponse:h}),Object.assign(x,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(x,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),x}async function Ku(l,r,n,o,c){if(l._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const m=await u0(l,r,n,n==="getOobCode");return o(l,m)}else return o(l,r).catch(async m=>{if(m.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await u0(l,r,n,n==="getOobCode");return o(l,h)}else return Promise.reject(m)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(l,r){const n=Ng(l,"auth");if(n.isInitialized()){const c=n.getImmediate(),m=n.getOptions();if(Al(m,r??{}))return c;Ts(c,"already-initialized")}return n.initialize({options:r})}function aw(l,r){const n=r?.persistence||[],o=(Array.isArray(n)?n:[n]).map(da);r?.errorMap&&l._updateErrorMap(r.errorMap),l._initializeWithPersistence(o,r?.popupRedirectResolver)}function rw(l,r,n){const o=Or(l);Ce(/^https?:\/\//.test(r),o,"invalid-emulator-scheme");const c=!1,m=Fg(r),{host:h,port:x}=lw(r),f=x===null?"":`:${x}`,p={url:`${m}//${h}${f}/`},y=Object.freeze({host:h,port:x,protocol:m.replace(":",""),options:Object.freeze({disableWarnings:c})});if(!o._canInitEmulator){Ce(o.config.emulator&&o.emulatorConfig,o,"emulator-config-failed"),Ce(Al(p,o.config.emulator)&&Al(y,o.emulatorConfig),o,"emulator-config-failed");return}o.config.emulator=p,o.emulatorConfig=y,o.settings.appVerificationDisabledForTesting=!0,Wo(h)?(KN(`${m}//${h}${f}`),XN("Auth",!0)):nw()}function Fg(l){const r=l.indexOf(":");return r<0?"":l.substr(0,r+1)}function lw(l){const r=Fg(l),n=/(\/\/)?([^?#/]+)/.exec(l.substr(r.length));if(!n)return{host:"",port:null};const o=n[2].split("@").pop()||"",c=/^(\[[^\]]+\])(:|$)/.exec(o);if(c){const m=c[1];return{host:m,port:m0(o.substr(m.length+1))}}else{const[m,h]=o.split(":");return{host:m,port:m0(h)}}}function m0(l){if(!l)return null;const r=Number(l);return isNaN(r)?null:r}function nw(){function l(){const r=document.createElement("p"),n=r.style;r.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",r.classList.add("firebase-emulator-warning"),document.body.appendChild(r)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",l):l())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(r,n){this.providerId=r,this.signInMethod=n}toJSON(){return ca("not implemented")}_getIdTokenResponse(r){return ca("not implemented")}_linkToIdToken(r,n){return ca("not implemented")}_getReauthenticationResolver(r){return ca("not implemented")}}async function iw(l,r){return ir(l,"POST","/v1/accounts:signUp",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ow(l,r){return ti(l,"POST","/v1/accounts:signInWithPassword",nr(l,r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cw(l,r){return ti(l,"POST","/v1/accounts:signInWithEmailLink",nr(l,r))}async function dw(l,r){return ti(l,"POST","/v1/accounts:signInWithEmailLink",nr(l,r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn extends Nm{constructor(r,n,o,c=null){super("password",o),this._email=r,this._password=n,this._tenantId=c}static _fromEmailAndPassword(r,n){return new Yn(r,n,"password")}static _fromEmailAndCode(r,n,o=null){return new Yn(r,n,"emailLink",o)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(r){const n=typeof r=="string"?JSON.parse(r):r;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(r){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ku(r,n,"signInWithPassword",ow);case"emailLink":return cw(r,{email:this._email,oobCode:this._password});default:Ts(r,"internal-error")}}async _linkToIdToken(r,n){switch(this.signInMethod){case"password":const o={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ku(r,o,"signUpPassword",iw);case"emailLink":return dw(r,{idToken:n,email:this._email,oobCode:this._password});default:Ts(r,"internal-error")}}_getReauthenticationResolver(r){return this._getIdTokenResponse(r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(l,r){return ti(l,"POST","/v1/accounts:signInWithIdp",nr(l,r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="http://localhost";class Rr extends Nm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(r){const n=new Rr(r.providerId,r.signInMethod);return r.idToken||r.accessToken?(r.idToken&&(n.idToken=r.idToken),r.accessToken&&(n.accessToken=r.accessToken),r.nonce&&!r.pendingToken&&(n.nonce=r.nonce),r.pendingToken&&(n.pendingToken=r.pendingToken)):r.oauthToken&&r.oauthTokenSecret?(n.accessToken=r.oauthToken,n.secret=r.oauthTokenSecret):Ts("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(r){const n=typeof r=="string"?JSON.parse(r):r,{providerId:o,signInMethod:c,...m}=n;if(!o||!c)return null;const h=new Rr(o,c);return h.idToken=m.idToken||void 0,h.accessToken=m.accessToken||void 0,h.secret=m.secret,h.nonce=m.nonce,h.pendingToken=m.pendingToken||null,h}_getIdTokenResponse(r){const n=this.buildRequest();return Tl(r,n)}_linkToIdToken(r,n){const o=this.buildRequest();return o.idToken=n,Tl(r,o)}_getReauthenticationResolver(r){const n=this.buildRequest();return n.autoCreate=!1,Tl(r,n)}buildRequest(){const r={requestUri:uw,returnSecureToken:!0};if(this.pendingToken)r.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),r.postBody=Zn(n)}return r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(l){switch(l){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hw(l){const r=Un(In(l)).link,n=r?Un(In(r)).deep_link_id:null,o=Un(In(l)).deep_link_id;return(o?Un(In(o)).link:null)||o||n||r||l}class wm{constructor(r){const n=Un(In(r)),o=n.apiKey??null,c=n.oobCode??null,m=mw(n.mode??null);Ce(o&&c&&m,"argument-error"),this.apiKey=o,this.operation=m,this.code=c,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(r){const n=hw(r);try{return new wm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(){this.providerId=Ol.PROVIDER_ID}static credential(r,n){return Yn._fromEmailAndPassword(r,n)}static credentialWithLink(r,n){const o=wm.parseLink(n);return Ce(o,"argument-error"),Yn._fromEmailAndCode(r,o.code,o.tenantId)}}Ol.PROVIDER_ID="password";Ol.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ol.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(r){this.providerId=r,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(r){this.defaultLanguageCode=r}setCustomParameters(r){return this.customParameters=r,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends Gg{constructor(){super(...arguments),this.scopes=[]}addScope(r){return this.scopes.includes(r)||this.scopes.push(r),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends si{constructor(){super("facebook.com")}static credential(r){return Rr._fromParams({providerId:Ja.PROVIDER_ID,signInMethod:Ja.FACEBOOK_SIGN_IN_METHOD,accessToken:r})}static credentialFromResult(r){return Ja.credentialFromTaggedObject(r)}static credentialFromError(r){return Ja.credentialFromTaggedObject(r.customData||{})}static credentialFromTaggedObject({_tokenResponse:r}){if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return Ja.credential(r.oauthAccessToken)}catch{return null}}}Ja.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ja.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends si{constructor(){super("google.com"),this.addScope("profile")}static credential(r,n){return Rr._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.GOOGLE_SIGN_IN_METHOD,idToken:r,accessToken:n})}static credentialFromResult(r){return oa.credentialFromTaggedObject(r)}static credentialFromError(r){return oa.credentialFromTaggedObject(r.customData||{})}static credentialFromTaggedObject({_tokenResponse:r}){if(!r)return null;const{oauthIdToken:n,oauthAccessToken:o}=r;if(!n&&!o)return null;try{return oa.credential(n,o)}catch{return null}}}oa.GOOGLE_SIGN_IN_METHOD="google.com";oa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends si{constructor(){super("github.com")}static credential(r){return Rr._fromParams({providerId:Qa.PROVIDER_ID,signInMethod:Qa.GITHUB_SIGN_IN_METHOD,accessToken:r})}static credentialFromResult(r){return Qa.credentialFromTaggedObject(r)}static credentialFromError(r){return Qa.credentialFromTaggedObject(r.customData||{})}static credentialFromTaggedObject({_tokenResponse:r}){if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return Qa.credential(r.oauthAccessToken)}catch{return null}}}Qa.GITHUB_SIGN_IN_METHOD="github.com";Qa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends si{constructor(){super("twitter.com")}static credential(r,n){return Rr._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.TWITTER_SIGN_IN_METHOD,oauthToken:r,oauthTokenSecret:n})}static credentialFromResult(r){return Xa.credentialFromTaggedObject(r)}static credentialFromError(r){return Xa.credentialFromTaggedObject(r.customData||{})}static credentialFromTaggedObject({_tokenResponse:r}){if(!r)return null;const{oauthAccessToken:n,oauthTokenSecret:o}=r;if(!n||!o)return null;try{return Xa.credential(n,o)}catch{return null}}}Xa.TWITTER_SIGN_IN_METHOD="twitter.com";Xa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xw(l,r){return ti(l,"POST","/v1/accounts:signUp",nr(l,r))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(r){this.user=r.user,this.providerId=r.providerId,this._tokenResponse=r._tokenResponse,this.operationType=r.operationType}static async _fromIdTokenResponse(r,n,o,c=!1){const m=await Ss._fromIdTokenResponse(r,o,c),h=h0(o);return new Mr({user:m,providerId:h,_tokenResponse:o,operationType:n})}static async _forOperation(r,n,o){await r._updateTokensIfNecessary(o,!0);const c=h0(o);return new Mr({user:r,providerId:c,_tokenResponse:o,operationType:n})}}function h0(l){return l.providerId?l.providerId:"phoneNumber"in l?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo extends lr{constructor(r,n,o,c){super(n.code,n.message),this.operationType=o,this.user=c,Object.setPrototypeOf(this,Vo.prototype),this.customData={appName:r.name,tenantId:r.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:o}}static _fromErrorAndOperation(r,n,o,c){return new Vo(r,n,o,c)}}function Yg(l,r,n,o){return(r==="reauthenticate"?n._getReauthenticationResolver(l):n._getIdTokenResponse(l)).catch(m=>{throw m.code==="auth/multi-factor-auth-required"?Vo._fromErrorAndOperation(l,m,r,o):m})}async function fw(l,r,n=!1){const o=await Gn(l,r._linkToIdToken(l.auth,await l.getIdToken()),n);return Mr._forOperation(l,"link",o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pw(l,r,n=!1){const{auth:o}=l;if(ws(o.app))return Promise.reject(ha(o));const c="reauthenticate";try{const m=await Gn(l,Yg(o,c,r,l),n);Ce(m.idToken,o,"internal-error");const h=vm(m.idToken);Ce(h,o,"internal-error");const{sub:x}=h;return Ce(l.uid===x,o,"user-mismatch"),Mr._forOperation(l,c,m)}catch(m){throw m?.code==="auth/user-not-found"&&Ts(o,"user-mismatch"),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kg(l,r,n=!1){if(ws(l.app))return Promise.reject(ha(l));const o="signIn",c=await Yg(l,o,r),m=await Mr._fromIdTokenResponse(l,o,c);return n||await l._updateCurrentUser(m.user),m}async function gw(l,r){return Kg(Or(l),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jg(l){const r=Or(l);r._getPasswordPolicyInternal()&&await r._updatePasswordPolicy()}async function bw(l,r,n){if(ws(l.app))return Promise.reject(ha(l));const o=Or(l),h=await Ku(o,{returnSecureToken:!0,email:r,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xw).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Jg(l),f}),x=await Mr._fromIdTokenResponse(o,"signIn",h);return await o._updateCurrentUser(x.user),x}function yw(l,r,n){return ws(l.app)?Promise.reject(ha(l)):gw($s(l),Ol.credential(r,n)).catch(async o=>{throw o.code==="auth/password-does-not-meet-requirements"&&Jg(l),o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(l,r){return $s(l).setPersistence(r)}function jw(l,r,n,o){return $s(l).onIdTokenChanged(r,n,o)}function Nw(l,r,n){return $s(l).beforeAuthStateChanged(r,n)}function ww(l,r,n,o){return $s(l).onAuthStateChanged(r,n,o)}function Sw(l){return $s(l).signOut()}const Fo="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(r,n){this.storageRetriever=r,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fo,"1"),this.storage.removeItem(Fo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(r,n){return this.storage.setItem(r,JSON.stringify(n)),Promise.resolve()}_get(r){const n=this.storage.getItem(r);return Promise.resolve(n?JSON.parse(n):null)}_remove(r){return this.storage.removeItem(r),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw=1e3,kw=10;class Xg extends Qg{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(r,n)=>this.onStorageEvent(r,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$g(),this._shouldAllowMigration=!0}forAllChangedKeys(r){for(const n of Object.keys(this.listeners)){const o=this.storage.getItem(n),c=this.localCache[n];o!==c&&r(n,c,o)}}onStorageEvent(r,n=!1){if(!r.key){this.forAllChangedKeys((h,x,f)=>{this.notifyListeners(h,f)});return}const o=r.key;n?this.detachListener():this.stopPolling();const c=()=>{const h=this.storage.getItem(o);!n&&this.localCache[o]===h||this.notifyListeners(o,h)},m=this.storage.getItem(o);H2()&&m!==r.newValue&&r.newValue!==r.oldValue?setTimeout(c,kw):c()}notifyListeners(r,n){this.localCache[r]=n;const o=this.listeners[r];if(o)for(const c of Array.from(o))c(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((r,n,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:r,oldValue:n,newValue:o}),!0)})},Cw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(r,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[r]||(this.listeners[r]=new Set,this.localCache[r]=this.storage.getItem(r)),this.listeners[r].add(n)}_removeListener(r,n){this.listeners[r]&&(this.listeners[r].delete(n),this.listeners[r].size===0&&delete this.listeners[r]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(r,n){await super._set(r,n),this.localCache[r]=JSON.stringify(n)}async _get(r){const n=await super._get(r);return this.localCache[r]=JSON.stringify(n),n}async _remove(r){await super._remove(r),delete this.localCache[r]}}Xg.type="LOCAL";const Zg=Xg;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg extends Qg{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(r,n){}_removeListener(r,n){}}Wg.type="SESSION";const eb=Wg;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(l){return Promise.all(l.map(async r=>{try{return{fulfilled:!0,value:await r}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(r){this.eventTarget=r,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(r){const n=this.receivers.find(c=>c.isListeningto(r));if(n)return n;const o=new tc(r);return this.receivers.push(o),o}isListeningto(r){return this.eventTarget===r}async handleEvent(r){const n=r,{eventId:o,eventType:c,data:m}=n.data,h=this.handlersMap[c];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:o,eventType:c});const x=Array.from(h).map(async p=>p(n.origin,m)),f=await Tw(x);n.ports[0].postMessage({status:"done",eventId:o,eventType:c,response:f})}_subscribe(r,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[r]||(this.handlersMap[r]=new Set),this.handlersMap[r].add(n)}_unsubscribe(r,n){this.handlersMap[r]&&n&&this.handlersMap[r].delete(n),(!n||this.handlersMap[r].size===0)&&delete this.handlersMap[r],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(l="",r=10){let n="";for(let o=0;o<r;o++)n+=Math.floor(Math.random()*10);return l+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(r){this.target=r,this.handlers=new Set}removeMessageHandler(r){r.messageChannel&&(r.messageChannel.port1.removeEventListener("message",r.onMessage),r.messageChannel.port1.close()),this.handlers.delete(r)}async _send(r,n,o=50){const c=typeof MessageChannel<"u"?new MessageChannel:null;if(!c)throw new Error("connection_unavailable");let m,h;return new Promise((x,f)=>{const p=Sm("",20);c.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},o);h={messageChannel:c,onMessage(b){const v=b;if(v.data.eventId===p)switch(v.data.status){case"ack":clearTimeout(y),m=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(m),x(v.data.response);break;default:clearTimeout(y),clearTimeout(m),f(new Error("invalid_response"));break}}},this.handlers.add(h),c.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:r,eventId:p,data:n},[c.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(){return window}function Ew(l){Is().location.href=l}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(){return typeof Is().WorkerGlobalScope<"u"&&typeof Is().importScripts=="function"}async function _w(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Dw(){return navigator?.serviceWorker?.controller||null}function Rw(){return tb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="firebaseLocalStorageDb",Mw=1,Go="firebaseLocalStorage",ab="fbase_key";class ai{constructor(r){this.request=r}toPromise(){return new Promise((r,n)=>{this.request.addEventListener("success",()=>{r(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sc(l,r){return l.transaction([Go],r?"readwrite":"readonly").objectStore(Go)}function Lw(){const l=indexedDB.deleteDatabase(sb);return new ai(l).toPromise()}function Ju(){const l=indexedDB.open(sb,Mw);return new Promise((r,n)=>{l.addEventListener("error",()=>{n(l.error)}),l.addEventListener("upgradeneeded",()=>{const o=l.result;try{o.createObjectStore(Go,{keyPath:ab})}catch(c){n(c)}}),l.addEventListener("success",async()=>{const o=l.result;o.objectStoreNames.contains(Go)?r(o):(o.close(),await Lw(),r(await Ju()))})})}async function x0(l,r,n){const o=sc(l,!0).put({[ab]:r,value:n});return new ai(o).toPromise()}async function Ow(l,r){const n=sc(l,!1).get(r),o=await new ai(n).toPromise();return o===void 0?null:o.value}function f0(l,r){const n=sc(l,!0).delete(r);return new ai(n).toPromise()}const zw=800,Uw=3;class rb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ju(),this.db)}async _withRetries(r){let n=0;for(;;)try{const o=await this._openDb();return await r(o)}catch(o){if(n++>Uw)throw o;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tc._getInstance(Rw()),this.receiver._subscribe("keyChanged",async(r,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(r,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _w(),!this.activeServiceWorker)return;this.sender=new Aw(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&r[0]?.fulfilled&&r[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(r){if(!(!this.sender||!this.activeServiceWorker||Dw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:r},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const r=await Ju();return await x0(r,Fo,"1"),await f0(r,Fo),!0}catch{}return!1}async _withPendingWrite(r){this.pendingWrites++;try{await r()}finally{this.pendingWrites--}}async _set(r,n){return this._withPendingWrite(async()=>(await this._withRetries(o=>x0(o,r,n)),this.localCache[r]=n,this.notifyServiceWorker(r)))}async _get(r){const n=await this._withRetries(o=>Ow(o,r));return this.localCache[r]=n,n}async _remove(r){return this._withPendingWrite(async()=>(await this._withRetries(n=>f0(n,r)),delete this.localCache[r],this.notifyServiceWorker(r)))}async _poll(){const r=await this._withRetries(c=>{const m=sc(c,!1).getAll();return new ai(m).toPromise()});if(!r)return[];if(this.pendingWrites!==0)return[];const n=[],o=new Set;if(r.length!==0)for(const{fbase_key:c,value:m}of r)o.add(c),JSON.stringify(this.localCache[c])!==JSON.stringify(m)&&(this.notifyListeners(c,m),n.push(c));for(const c of Object.keys(this.localCache))this.localCache[c]&&!o.has(c)&&(this.notifyListeners(c,null),n.push(c));return n}notifyListeners(r,n){this.localCache[r]=n;const o=this.listeners[r];if(o)for(const c of Array.from(o))c(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(r,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[r]||(this.listeners[r]=new Set,this._get(r)),this.listeners[r].add(n)}_removeListener(r,n){this.listeners[r]&&(this.listeners[r].delete(n),this.listeners[r].size===0&&delete this.listeners[r]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rb.type="LOCAL";const Iw=rb;new ei(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(l,r){return r?da(r):(Ce(l._popupRedirectResolver,l,"argument-error"),l._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm extends Nm{constructor(r){super("custom","custom"),this.params=r}_getIdTokenResponse(r){return Tl(r,this._buildIdpRequest())}_linkToIdToken(r,n){return Tl(r,this._buildIdpRequest(n))}_getReauthenticationResolver(r){return Tl(r,this._buildIdpRequest())}_buildIdpRequest(r){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return r&&(n.idToken=r),n}}function Bw(l){return Kg(l.auth,new Cm(l),l.bypassAuthState)}function $w(l){const{auth:r,user:n}=l;return Ce(n,r,"internal-error"),pw(n,new Cm(l),l.bypassAuthState)}async function Hw(l){const{auth:r,user:n}=l;return Ce(n,r,"internal-error"),fw(n,new Cm(l),l.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(r,n,o,c,m=!1){this.auth=r,this.resolver=o,this.user=c,this.bypassAuthState=m,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(r,n)=>{this.pendingPromise={resolve:r,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(o){this.reject(o)}})}async onAuthEvent(r){const{urlResponse:n,sessionId:o,postBody:c,tenantId:m,error:h,type:x}=r;if(h){this.reject(h);return}const f={auth:this.auth,requestUri:n,sessionId:o,tenantId:m||void 0,postBody:c||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(x)(f))}catch(p){this.reject(p)}}onError(r){this.reject(r)}getIdpTask(r){switch(r){case"signInViaPopup":case"signInViaRedirect":return Bw;case"linkViaPopup":case"linkViaRedirect":return Hw;case"reauthViaPopup":case"reauthViaRedirect":return $w;default:Ts(this.auth,"internal-error")}}resolve(r){pa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(r),this.unregisterAndCleanUp()}reject(r){pa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(r),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=new ei(2e3,1e4);class Nl extends lb{constructor(r,n,o,c,m){super(r,n,c,m),this.provider=o,this.authWindow=null,this.pollId=null,Nl.currentPopupAction&&Nl.currentPopupAction.cancel(),Nl.currentPopupAction=this}async executeNotNull(){const r=await this.execute();return Ce(r,this.auth,"internal-error"),r}async onExecution(){pa(this.filter.length===1,"Popup operations only handle one event");const r=Sm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],r),this.authWindow.associatedEvent=r,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Us(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Us(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nl.currentPopupAction=null}pollUserCancellation(){const r=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Us(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(r,qw.get())};r()}}Nl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="pendingRedirect",Uo=new Map;class Fw extends lb{constructor(r,n,o=!1){super(r,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,o),this.eventId=null}async execute(){let r=Uo.get(this.auth._key());if(!r){try{const o=await Gw(this.resolver,this.auth)?await super.execute():null;r=()=>Promise.resolve(o)}catch(n){r=()=>Promise.reject(n)}Uo.set(this.auth._key(),r)}return this.bypassAuthState||Uo.set(this.auth._key(),()=>Promise.resolve(null)),r()}async onAuthEvent(r){if(r.type==="signInViaRedirect")return super.onAuthEvent(r);if(r.type==="unknown"){this.resolve(null);return}if(r.eventId){const n=await this.auth._redirectUserForId(r.eventId);if(n)return this.user=n,super.onAuthEvent(r);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Gw(l,r){const n=Jw(r),o=Kw(l);if(!await o._isAvailable())return!1;const c=await o._get(n)==="true";return await o._remove(n),c}function Yw(l,r){Uo.set(l._key(),r)}function Kw(l){return da(l._redirectPersistence)}function Jw(l){return zo(Vw,l.config.apiKey,l.name)}async function Qw(l,r,n=!1){if(ws(l.app))return Promise.reject(ha(l));const o=Or(l),c=Pw(o,r),h=await new Fw(o,c,n).execute();return h&&!n&&(delete h.user._redirectEventId,await o._persistUserIfCurrent(h.user),await o._setRedirectUser(null,r)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=600*1e3;class Zw{constructor(r){this.auth=r,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(r){this.consumers.add(r),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,r)&&(this.sendToConsumer(this.queuedRedirectEvent,r),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(r){this.consumers.delete(r)}onEvent(r){if(this.hasEventBeenHandled(r))return!1;let n=!1;return this.consumers.forEach(o=>{this.isEventForConsumer(r,o)&&(n=!0,this.sendToConsumer(r,o),this.saveEventToCache(r))}),this.hasHandledPotentialRedirect||!Ww(r)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=r,n=!0)),n}sendToConsumer(r,n){if(r.error&&!nb(r)){const o=r.error.code?.split("auth/")[1]||"internal-error";n.onError(Us(this.auth,o))}else n.onAuthEvent(r)}isEventForConsumer(r,n){const o=n.eventId===null||!!r.eventId&&r.eventId===n.eventId;return n.filter.includes(r.type)&&o}hasEventBeenHandled(r){return Date.now()-this.lastProcessedEventTime>=Xw&&this.cachedEventUids.clear(),this.cachedEventUids.has(p0(r))}saveEventToCache(r){this.cachedEventUids.add(p0(r)),this.lastProcessedEventTime=Date.now()}}function p0(l){return[l.type,l.eventId,l.sessionId,l.tenantId].filter(r=>r).join("-")}function nb({type:l,error:r}){return l==="unknown"&&r?.code==="auth/no-auth-event"}function Ww(l){switch(l.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nb(l);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e4(l,r={}){return ir(l,"GET","/v1/projects",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s4=/^https?/;async function a4(l){if(l.config.emulator)return;const{authorizedDomains:r}=await e4(l);for(const n of r)try{if(r4(n))return}catch{}Ts(l,"unauthorized-domain")}function r4(l){const r=Gu(),{protocol:n,hostname:o}=new URL(r);if(l.startsWith("chrome-extension://")){const h=new URL(l);return h.hostname===""&&o===""?n==="chrome-extension:"&&l.replace("chrome-extension://","")===r.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===o}if(!s4.test(n))return!1;if(t4.test(l))return o===l;const c=l.replace(/\./g,"\\.");return new RegExp("^(.+\\."+c+"|"+c+")$","i").test(o)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=new ei(3e4,6e4);function g0(){const l=Is().___jsl;if(l?.H){for(const r of Object.keys(l.H))if(l.H[r].r=l.H[r].r||[],l.H[r].L=l.H[r].L||[],l.H[r].r=[...l.H[r].L],l.CP)for(let n=0;n<l.CP.length;n++)l.CP[n]=null}}function n4(l){return new Promise((r,n)=>{function o(){g0(),gapi.load("gapi.iframes",{callback:()=>{r(gapi.iframes.getContext())},ontimeout:()=>{g0(),n(Us(l,"network-request-failed"))},timeout:l4.get()})}if(Is().gapi?.iframes?.Iframe)r(gapi.iframes.getContext());else if(Is().gapi?.load)o();else{const c=X2("iframefcb");return Is()[c]=()=>{gapi.load?o():n(Us(l,"network-request-failed"))},qg(`${Q2()}?onload=${c}`).catch(m=>n(m))}}).catch(r=>{throw Io=null,r})}let Io=null;function i4(l){return Io=Io||n4(l),Io}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=new ei(5e3,15e3),c4="__/auth/iframe",d4="emulator/auth/iframe",u4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function h4(l){const r=l.config;Ce(r.authDomain,l,"auth-domain-config-required");const n=r.emulator?ym(r,d4):`https://${l.config.authDomain}/${c4}`,o={apiKey:r.apiKey,appName:l.name,v:Wn},c=m4.get(l.config.apiHost);c&&(o.eid=c);const m=l._getFrameworks();return m.length&&(o.fw=m.join(",")),`${n}?${Zn(o).slice(1)}`}async function x4(l){const r=await i4(l),n=Is().gapi;return Ce(n,l,"internal-error"),r.open({where:document.body,url:h4(l),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:u4,dontclear:!0},o=>new Promise(async(c,m)=>{await o.restyle({setHideOnLeave:!1});const h=Us(l,"network-request-failed"),x=Is().setTimeout(()=>{m(h)},o4.get());function f(){Is().clearTimeout(x),c(o)}o.ping(f).then(f,()=>{m(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p4=500,g4=600,b4="_blank",y4="http://localhost";class b0{constructor(r){this.window=r,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function v4(l,r,n,o=p4,c=g4){const m=Math.max((window.screen.availHeight-c)/2,0).toString(),h=Math.max((window.screen.availWidth-o)/2,0).toString();let x="";const f={...f4,width:o.toString(),height:c.toString(),top:m,left:h},p=Pt().toLowerCase();n&&(x=zg(p)?b4:n),Lg(p)&&(r=r||y4,f.scrollbars="yes");const y=Object.entries(f).reduce((v,[k,S])=>`${v}${k}=${S},`,"");if($2(p)&&x!=="_self")return j4(r||"",x),new b0(null);const b=window.open(r||"",x,y);Ce(b,l,"popup-blocked");try{b.focus()}catch{}return new b0(b)}function j4(l,r){const n=document.createElement("a");n.href=l,n.target=r;const o=document.createEvent("MouseEvent");o.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4="__/auth/handler",w4="emulator/auth/handler",S4=encodeURIComponent("fac");async function y0(l,r,n,o,c,m){Ce(l.config.authDomain,l,"auth-domain-config-required"),Ce(l.config.apiKey,l,"invalid-api-key");const h={apiKey:l.config.apiKey,appName:l.name,authType:n,redirectUrl:o,v:Wn,eventId:c};if(r instanceof Gg){r.setDefaultLanguage(l.languageCode),h.providerId=r.providerId||"",o1(r.getCustomParameters())||(h.customParameters=JSON.stringify(r.getCustomParameters()));for(const[y,b]of Object.entries({}))h[y]=b}if(r instanceof si){const y=r.getScopes().filter(b=>b!=="");y.length>0&&(h.scopes=y.join(","))}l.tenantId&&(h.tid=l.tenantId);const x=h;for(const y of Object.keys(x))x[y]===void 0&&delete x[y];const f=await l._getAppCheckToken(),p=f?`#${S4}=${encodeURIComponent(f)}`:"";return`${C4(l)}?${Zn(x).slice(1)}${p}`}function C4({config:l}){return l.emulator?ym(l,w4):`https://${l.authDomain}/${N4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru="webStorageSupport";class k4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eb,this._completeRedirectFn=Qw,this._overrideRedirectResult=Yw}async _openPopup(r,n,o,c){pa(this.eventManagers[r._key()]?.manager,"_initialize() not called before _openPopup()");const m=await y0(r,n,o,Gu(),c);return v4(r,m,Sm())}async _openRedirect(r,n,o,c){await this._originValidation(r);const m=await y0(r,n,o,Gu(),c);return Ew(m),new Promise(()=>{})}_initialize(r){const n=r._key();if(this.eventManagers[n]){const{manager:c,promise:m}=this.eventManagers[n];return c?Promise.resolve(c):(pa(m,"If manager is not set, promise should be"),m)}const o=this.initAndGetManager(r);return this.eventManagers[n]={promise:o},o.catch(()=>{delete this.eventManagers[n]}),o}async initAndGetManager(r){const n=await x4(r),o=new Zw(r);return n.register("authEvent",c=>(Ce(c?.authEvent,r,"invalid-auth-event"),{status:o.onEvent(c.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[r._key()]={manager:o},this.iframes[r._key()]=n,o}_isIframeWebStorageSupported(r,n){this.iframes[r._key()].send(Ru,{type:Ru},c=>{const m=c?.[0]?.[Ru];m!==void 0&&n(!!m),Ts(r,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(r){const n=r._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=a4(r)),this.originValidationPromises[n]}get _shouldInitProactively(){return $g()||Og()||jm()}}const T4=k4;var v0="@firebase/auth",j0="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(r){this.auth=r,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(r){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(r)}:null}addAuthTokenListener(r){if(this.assertAuthConfigured(),this.internalListeners.has(r))return;const n=this.auth.onIdTokenChanged(o=>{r(o?.stsTokenManager.accessToken||null)});this.internalListeners.set(r,n),this.updateProactiveRefresh()}removeAuthTokenListener(r){this.assertAuthConfigured();const n=this.internalListeners.get(r);n&&(this.internalListeners.delete(r),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(l){switch(l){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _4(l){Vn(new El("auth",(r,{options:n})=>{const o=r.getProvider("app").getImmediate(),c=r.getProvider("heartbeat"),m=r.getProvider("app-check-internal"),{apiKey:h,authDomain:x}=o.options;Ce(h&&!h.includes(":"),"invalid-api-key",{appName:o.name});const f={apiKey:h,authDomain:x,clientPlatform:l,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hg(l)},p=new Y2(o,c,m,f);return aw(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,n,o)=>{r.getProvider("auth-internal").initialize()})),Vn(new El("auth-internal",r=>{const n=Or(r.getProvider("auth").getImmediate());return(o=>new A4(o))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sl(v0,j0,E4(l)),Sl(v0,j0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=300,R4=bg("authIdTokenMaxAge")||D4;let N0=null;const M4=l=>async r=>{const n=r&&await r.getIdTokenResult(),o=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(o&&o>R4)return;const c=n?.token;N0!==c&&(N0=c,await fetch(l,{method:c?"POST":"DELETE",headers:c?{Authorization:`Bearer ${c}`}:{}}))};function L4(l=d2()){const r=Ng(l,"auth");if(r.isInitialized())return r.getImmediate();const n=sw(l,{popupRedirectResolver:T4,persistence:[Iw,Zg,eb]}),o=bg("authTokenSyncURL");if(o&&typeof isSecureContext=="boolean"&&isSecureContext){const m=new URL(o,location.origin);if(location.origin===m.origin){const h=M4(m.toString());Nw(n,h,()=>h(n.currentUser)),jw(n,x=>h(x))}}const c=GN("auth");return c&&rw(n,`http://${c}`),n}function O4(){return document.getElementsByTagName("head")?.[0]??document}K2({loadJS(l){return new Promise((r,n)=>{const o=document.createElement("script");o.setAttribute("src",l),o.onload=r,o.onerror=c=>{const m=Us("internal-error");m.customData=c,n(m)},o.type="text/javascript",o.charset="UTF-8",O4().appendChild(o)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_4("Browser");var z4="firebase",U4="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sl(z4,U4,"app");const Mu={apiKey:"AIzaSyCuJr5N0ytr1h_Aq_5qQazNL0wQUnsZlAw",authDomain:"travelbuddy-2d1c5.firebaseapp.com",projectId:"travelbuddy-2d1c5",storageBucket:"travelbuddy-2d1c5.firebasestorage.app",messagingSenderId:"45425409967",appId:"1:45425409967:web:782638c65a40dcb156b95a"};let w0=null,Za=null;try{Mu.apiKey&&Mu.apiKey!=="undefined"?(w0=wg(Mu),Za=L4(w0),vw(Za,Zg).catch(l=>{console.warn(" Failed to set auth persistence:",l)}),console.log(" Firebase initialized successfully with LOCAL persistence")):console.log(" Firebase config missing, running without Firebase")}catch(l){console.error(" Firebase initialization failed:",l)}const I4=Object.freeze(Object.defineProperty({__proto__:null,get auth(){return Za}},Symbol.toStringTag,{value:"Module"}));let P4="http://localhost:3001";class B4{async getBaseUrl(){try{return`${(await rs.getConfig()).apiBaseUrl}/api`}catch{return`${P4}/api`}}async request(r,n={}){const c=`${await this.getBaseUrl()}${r}`,m={headers:{"Content-Type":"application/json",...n.headers},...n};try{const h=await fetch(c,m);if(!h.ok){const f=await h.json().catch(()=>({message:"Network error"}));throw new Error(f.message||`HTTP ${h.status}: ${h.statusText}`)}return await h.json()}catch(h){throw console.error(`API request failed [${r}]:`,h),h instanceof TypeError&&h.message.includes("fetch")?new Error("Network connection failed. Please check your internet connection."):h}}async getWeather(r,n){return this.request(`/weather/google?lat=${r}&lng=${n}`)}async getNearbyPlaces(r,n,o,c){if(!r||!n||isNaN(r)||isNaN(n))throw new Error("Valid latitude and longitude are required");if(Math.abs(r)>90||Math.abs(n)>180)throw new Error("Invalid coordinates: latitude must be between -90 and 90, longitude between -180 and 180");const m=new URLSearchParams({lat:r.toString(),lng:n.toString()});return o?.trim()&&m.append("q",o.trim()),c&&c>0&&m.append("radius",c.toString()),this.request(`/places/nearby?${m}`)}async getPlaceSections(r,n){return this.request(`/places/sections?lat=${r}&lng=${n}`)}async getDeals(r,n=!0){const o=new URLSearchParams({isActive:n.toString()});return r&&r!=="all"&&o.append("businessType",r),this.request(`/deals?${o}`)}async getPosts(r=20,n){const o=new URLSearchParams({limit:r.toString()});return n&&o.append("cursor",n),this.request(`/community/posts?${o}`)}async createPost(r){return this.request("/community/posts",{method:"POST",body:JSON.stringify(r)})}async login(r,n){return this.request("/auth/login",{method:"POST",body:JSON.stringify({email:r,password:n})})}async register(r,n,o){return this.request("/auth/register",{method:"POST",body:JSON.stringify({username:r,email:n,password:o})})}async getProfile(){const r=localStorage.getItem("auth_token");return this.request("/auth/profile",{headers:{Authorization:`Bearer ${r}`}})}async updateProfile(r){const n=localStorage.getItem("auth_token");return this.request("/auth/profile",{method:"PUT",headers:{Authorization:`Bearer ${n}`},body:JSON.stringify(r)})}async searchPlaces(r,n){if(!r?.trim())throw new Error("Search query is required");const o=new URLSearchParams({q:r.trim()});n?.category&&o.append("category",n.category),n?.limit&&n.limit>0&&o.append("limit",n.limit.toString()),n?.lat&&o.append("lat",n.lat.toString()),n?.lng&&o.append("lng",n.lng.toString()),n?.radius&&o.append("radius",n.radius.toString());try{const c=await this.request(`/enhanced-places/search?${o}`);if(c?.success&&c.results)return Array.isArray(c.results)?c.results:[];const m=await this.request(`/hybrid/search?${o}`);if(m?.success&&m.results)return Array.isArray(m.results)?m.results:[];const h=await this.request(`/search/places?${o}`);return h?.success&&h.data?Array.isArray(h.data.places)?h.data.places:[]:Array.isArray(h)?h:[]}catch(c){return console.error("Search places failed:",c),[]}}async getSearchSuggestions(r){if(!r||r.length<2)return[];try{return(await this.request(`/search/suggestions?q=${encodeURIComponent(r)}`)).suggestions||[]}catch(n){return console.warn("Suggestions failed:",n),[]}}async getPlaceDetails(r,n,o,c){try{const m=new URLSearchParams;n&&m.append("name",n),o&&m.append("location",o),c&&m.append("category",c);const h=m.toString()?`?${m}`:"",x=await this.request(`/place-details/${r}${h}`);return x.success?x.place:null}catch(m){throw console.error("Place details failed:",m),m}}async healthCheck(){return this.request("/health")}async getUserTrips(){const r=localStorage.getItem("auth_token");return this.request("/users/trip-plans",{headers:{Authorization:`Bearer ${r}`}})}async createTrip(r){const n=localStorage.getItem("auth_token");return this.request("/users/trip-plans",{method:"POST",headers:{Authorization:`Bearer ${n}`},body:JSON.stringify(r)})}async updateTrip(r,n){const o=localStorage.getItem("auth_token");return this.request(`/users/trip-plans/${r}`,{method:"PUT",headers:{Authorization:`Bearer ${o}`},body:JSON.stringify(n)})}async deleteTrip(r){const n=localStorage.getItem("auth_token");return this.request(`/users/trip-plans/${r}`,{method:"DELETE",headers:{Authorization:`Bearer ${n}`}})}async updateTripActivity(r,n,o,c){const m=localStorage.getItem("auth_token");return this.request(`/users/trip-plans/${r}/activities`,{method:"PATCH",headers:{Authorization:`Bearer ${m}`},body:JSON.stringify({dayIndex:n,activityIndex:o,isVisited:c,visitedDate:c?new Date().toISOString():null})})}async generateAITrip(r){const n=localStorage.getItem("auth_token");return this.request("/ai/trip-generator",{method:"POST",headers:{Authorization:`Bearer ${n}`},body:JSON.stringify(r)})}async getUserFavoriteIds(){const r=localStorage.getItem("auth_token");return this.request("/users/favorites",{headers:{Authorization:`Bearer ${r}`}})}async addToFavorites(r){const n=localStorage.getItem("auth_token");return this.request("/users/favorites",{method:"POST",headers:{Authorization:`Bearer ${n}`},body:JSON.stringify({placeId:r})})}async removeFromFavorites(r){const n=localStorage.getItem("auth_token");return this.request(`/users/favorites/${r}`,{method:"DELETE",headers:{Authorization:`Bearer ${n}`}})}async togglePlaceFavorite(r){const n=localStorage.getItem("auth_token");return this.request("/users/favorites/toggle",{method:"POST",headers:{Authorization:`Bearer ${n}`},body:JSON.stringify({placeId:r})})}async getTravelStyle(){const r=localStorage.getItem("auth_token");return this.request("/users/travel-style",{headers:{Authorization:`Bearer ${r}`}})}async setTravelStyle(r){const n=localStorage.getItem("auth_token");return this.request("/users/travel-style",{method:"PUT",headers:{Authorization:`Bearer ${n}`},body:JSON.stringify({travelStyle:r})})}async getPreferences(){const r=localStorage.getItem("auth_token");return this.request("/users/preferences",{headers:{Authorization:`Bearer ${r}`}})}async updatePreferences(r){const n=localStorage.getItem("auth_token");return this.request("/users/preferences",{method:"PUT",headers:{Authorization:`Bearer ${n}`},body:JSON.stringify(r)})}async getExtendedProfile(){const r=localStorage.getItem("auth_token");return this.request("/users/profile/extended",{headers:{Authorization:`Bearer ${r}`}})}async updateExtendedProfile(r){const n=localStorage.getItem("auth_token");return this.request("/users/profile/extended",{method:"PUT",headers:{Authorization:`Bearer ${n}`},body:JSON.stringify(r)})}async uploadAvatar(r){const n=localStorage.getItem("auth_token"),o=new FormData;return o.append("profilePicture",r),fetch(`${await this.getBaseUrl()}/users/profile/picture`,{method:"POST",headers:{Authorization:`Bearer ${n}`},body:o})}async generateTrip(r){const n=localStorage.getItem("auth_token");return this.request("/ai/trip-generator",{method:"POST",headers:{Authorization:`Bearer ${n}`},body:JSON.stringify(r)})}async getSmartRecommendations(r){const n=localStorage.getItem("auth_token");return this.request("/ai/recommendations",{method:"POST",headers:{Authorization:`Bearer ${n}`},body:JSON.stringify(r)})}async getPlaceAIContent(r){return this.request(`/ai/place-content/${r}`)}async enhancedSearch(r,n){const o=new URLSearchParams({q:r});return n&&Object.entries(n).forEach(([c,m])=>{m&&o.append(c,m.toString())}),this.request(`/enhanced-places/search?${o}`)}async getSubscriptionTiers(){return this.request("/subscriptions/tiers")}async getUserSubscription(r){const n=localStorage.getItem("auth_token");return this.request(`/subscriptions/${r}`,{headers:{Authorization:`Bearer ${n}`}})}async getSubscriptionUsage(r){const n=localStorage.getItem("auth_token");return this.request(`/subscriptions/${r}/usage`,{headers:{Authorization:`Bearer ${n}`}})}async startFreeTrial(r,n){const o=localStorage.getItem("auth_token");return this.request("/subscriptions/trial",{method:"POST",headers:{Authorization:`Bearer ${o}`},body:JSON.stringify({userId:r,tier:n,trialDays:7})})}async upgradeSubscription(r,n){const o=localStorage.getItem("auth_token");return this.request("/subscriptions/upgrade",{method:"POST",headers:{Authorization:`Bearer ${o}`},body:JSON.stringify({userId:r,tier:n})})}async cancelSubscription(r,n){const o=localStorage.getItem("auth_token");return this.request(`/subscriptions/${r}/cancel`,{method:"POST",headers:{Authorization:`Bearer ${o}`},body:JSON.stringify({cancelAtPeriodEnd:!0,reason:n||"user_requested"})})}async processPayment(r,n,o,c="paypal"){const m=localStorage.getItem("auth_token");return this.request("/subscriptions/payment",{method:"POST",headers:{Authorization:`Bearer ${m}`},body:JSON.stringify({userId:r,tier:n,amount:o,paymentMethod:c})})}async getPaymentHistory(r){const n=localStorage.getItem("auth_token");return this.request(`/payments/${r}/history`,{headers:{Authorization:`Bearer ${n}`}})}async checkTrialUsage(r){return(await this.request(`/users/${r}/trial-history`))?.hasUsedTrial===!0}async getTrips(){return this.getUserTrips()}}const ib=new B4,gt={log:(...l)=>{},warn:(...l)=>{},error:(...l)=>{console.error(...l)}},ob=j.createContext(void 0),wt=()=>{const l=j.useContext(ob);if(l===void 0)throw new Error("useAuth must be used within an AuthProvider");return l},$4=({children:l})=>{const[r,n]=j.useState(null),[o,c]=j.useState(!0),m={auth:Za},h=!1,{config:x,loading:f}=Qn();j.useEffect(()=>{if(f||!x)return;if(localStorage.getItem("demo_token")){p();return}if(!m||!x?.firebase?.apiKey){c(!1);return}const T=m.auth.currentUser;gt.log(" AUTH STEP 3.1: Checking existing session",{currentUser:T,currentUserEmail:T?.email,localStorage:{demoToken:!!localStorage.getItem("demo_token"),cachedUser:!!localStorage.getItem("cached_user")}}),T&&y(T).then(()=>c(!1));const O=ww(m.auth,async R=>{gt.log(" AUTH STEP 4: Auth state changed",{hasUser:!!R,uid:R?.uid,email:R?.email,hasDemoToken:!!localStorage.getItem("demo_token")}),R?await y(R):localStorage.getItem("demo_token")||(console.log(" onAuthStateChanged: Clearing user state"),n(null)),c(!1)});return()=>O()},[m,x,h,f]);const p=async()=>{try{const w=localStorage.getItem("demo_token");if(!w){c(!1);return}const T=await fetch(`${x?.apiBaseUrl||window.location.origin}/api/demo-auth/verify-token`,{headers:{Authorization:`Bearer ${w}`}});if(T.ok){const O=await T.json();n({id:O.user.id,email:O.user.email,username:O.user.username,tier:O.user.tier,role:O.user.role,isAdmin:O.user.isAdmin})}else gt.log(" Demo token invalid, removing"),localStorage.removeItem("demo_token")}catch(w){gt.error("Failed to restore demo user:",w),localStorage.removeItem("demo_token")}finally{c(!1)}},y=async w=>{const T=`sync_${w.uid}`;if(window[T]){const O=localStorage.getItem("cached_user");if(O&&!r)try{n(JSON.parse(O))}catch{gt.error("Failed to parse cached user")}return}window[T]=!0,setTimeout(()=>{delete window[T]},5e3);try{gt.log(" Starting user sync for:",w.uid),gt.log(" User email:",w.email);const O=await w.getIdToken();gt.log(" Firebase token obtained:",O?"Yes":"No"),localStorage.setItem("token",O);const R={email:w.email,username:w.displayName||w.email?.split("@")[0],firebaseUid:w.uid};gt.log(" Sync data:",R);const W=`${x?.apiBaseUrl||window.location.origin}/api/users/sync`;gt.log(" API URL:",W);const B=await fetch(W,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${O}`},body:JSON.stringify(R)});if(gt.log(" Response status:",B.status),gt.log(" Response ok:",B.ok),B.ok){const X=await B.json();gt.log(" Sync successful:",X);const V={id:X._id,email:X.email,username:X.username,fullName:X.fullName,phone:X.phone,bio:X.bio,homeCity:X.homeCity,tier:X.tier||"free",profilePicture:X.profilePicture,firebaseUid:w.uid,role:X.role||"regular",isAdmin:X.isAdmin||!1};n(V),localStorage.setItem("cached_user",JSON.stringify(V))}else{const X=await B.text();gt.error(" Sync failed:",B.status,X),gt.log(" Using fallback - user will still be authenticated");const V={id:w.uid,email:w.email||"",username:w.displayName||w.email?.split("@")[0]||"User",tier:"free",firebaseUid:w.uid,role:"regular",isAdmin:!1};n(V),localStorage.setItem("cached_user",JSON.stringify(V))}}catch(O){gt.error(" User sync error:",O);const R={id:w.uid,email:w.email||"",username:w.displayName||w.email?.split("@")[0]||"User",tier:"free",firebaseUid:w.uid,role:"regular",isAdmin:!1};n(R),localStorage.setItem("cached_user",JSON.stringify(R))}},b=async(w,T)=>{if(!m)throw new Error("Firebase not initialized");try{gt.log(" Starting login for:",w);const O=await yw(m.auth,w,T);gt.log(" Login successful, waiting for auth state change")}catch(O){throw gt.error(" Login failed:",O),new Error(O.message||"Login failed")}},v=async(w,T,O)=>{if(!m)throw new Error("Firebase not initialized");try{const R=await bw(m.auth,T,O)}catch(R){throw new Error(R.message||"Registration failed")}},k=async w=>{try{if(localStorage.getItem("demo_token")){n(W=>W?{...W,...w}:null);return}if(!m?.auth.currentUser)throw new Error("Not authenticated");const O=await m.auth.currentUser.getIdToken(),R=await fetch(`${x?.apiBaseUrl}/api/users/profile`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${O}`},body:JSON.stringify(w)});if(R.ok){const W=await R.json();n(X=>X?{...X,...W,...w}:null);const B={...r,...W,...w};localStorage.setItem("cached_user",JSON.stringify(B))}else throw new Error("Profile update failed")}catch{throw new Error("Profile update failed")}},S=async()=>{try{n({id:"demo-user-123",email:"admin@travelbuddy.com",username:"Demo Admin",tier:"premium",role:"admin",isAdmin:!0}),localStorage.setItem("demo_token","demo-token-123")}catch(w){throw new Error(w.message||"Demo login failed")}},C=async()=>{try{localStorage.removeItem("demo_token"),localStorage.removeItem("cached_user"),localStorage.removeItem("token"),m&&await Sw(m.auth),n(null)}catch(w){gt.error("Logout failed:",w)}};return e.jsx(ob.Provider,{value:{user:r,login:b,register:v,loginDemo:S,logout:C,updateProfile:k,isLoading:o},children:l})},cb=j.createContext(void 0),db=()=>{const l=j.useContext(cb);if(!l)throw new Error("useApp must be used within AppProvider");return l},H4=({children:l})=>{const[r,n]=j.useState("home"),[o,c]=j.useState(3),{user:m}=wt(),h={id:m?.id||"1",name:m?.username||"Traveler",avatar:m?.profilePicture||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop&crop=face",location:"Current Location",travelStyle:"Explorer",email:m?.email,tier:m?.tier},x=()=>c(b=>b+1),f=()=>c(0),p=(b,v,k)=>{const S=`activity-${b}-${v}-${k}`,C=localStorage.getItem(S)==="true";localStorage.setItem(S,(!C).toString())},y=(b,v,k)=>{const S=`activity-${b}-${v}-${k}`;return localStorage.getItem(S)==="true"};return e.jsx(cb.Provider,{value:{user:h,notifications:o,currentPage:r,setCurrentPage:n,addNotification:x,clearNotifications:f,toggleActivityStatus:p,getActivityStatus:y},children:l})};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),V4=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,n,o)=>o?o.toUpperCase():n.toLowerCase()),S0=l=>{const r=V4(l);return r.charAt(0).toUpperCase()+r.slice(1)},ub=(...l)=>l.filter((r,n,o)=>!!r&&r.trim()!==""&&o.indexOf(r)===n).join(" ").trim(),F4=l=>{for(const r in l)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var G4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=j.forwardRef(({color:l="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:c="",children:m,iconNode:h,...x},f)=>j.createElement("svg",{ref:f,...G4,width:r,height:r,stroke:l,strokeWidth:o?Number(n)*24/Number(r):n,className:ub("lucide",c),...!m&&!F4(x)&&{"aria-hidden":"true"},...x},[...h.map(([p,y])=>j.createElement(p,y)),...Array.isArray(m)?m:[m]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(l,r)=>{const n=j.forwardRef(({className:o,...c},m)=>j.createElement(Y4,{ref:m,iconNode:r,className:ub(`lucide-${q4(S0(l))}`,`lucide-${l}`,o),...c}));return n.displayName=S0(l),n};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Yo=le("arrow-left",K4);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ka=le("arrow-right",J4);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Er=le("award",Q4);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Z4=le("banknote",X4);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],_r=le("bell",W4);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],C0=le("book-open",e6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],k0=le("bookmark",t6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Ao=le("bot",s6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],r6=le("briefcase",a6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],mb=le("building-2",l6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],i6=le("building",n6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],c6=le("bus",o6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],zt=le("calendar",d6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],tr=le("camera",u6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Dr=le("car",m6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],x6=le("chart-column",h6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ri=le("check",f6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],km=le("chevron-down",p6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],hb=le("chevron-left",g6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],xb=le("chevron-right",b6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Pn=le("circle-alert",y6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],at=le("circle-check-big",v6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],T0=le("circle-x",j6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],w6=le("circle",N6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],nt=le("clock",S6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Qu=le("coffee",C6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Tm=le("compass",k6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],gs=le("crown",T6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],A0=le("database",A6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Rt=le("dollar-sign",E6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],E0=le("download",_6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],R6=le("ellipsis",D6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],L6=le("external-link",M6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],fb=le("eye-off",O6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bs=le("eye",z6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Xu=le("facebook",U6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Zu=le("file-text",I6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],pb=le("flag",P6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],li=le("funnel",B6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]],_0=le("git-compare",$6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Lt=le("globe",H6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Am=le("grid-3x3",q6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],ut=le("heart",V6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],G6=le("hotel",F6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],K6=le("house",Y6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],gb=le("image",J6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],X6=le("info",Q6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],Wu=le("instagram",Z6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],e3=le("key",W6);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],s3=le("languages",t3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],D0=le("link",a3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],R0=le("linkedin",r3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],ni=le("list",l3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ko=le("lock",n3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],bb=le("log-out",i3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],As=le("mail",o3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],pe=le("map-pin",c3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],_l=le("map",d3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],m3=le("medal",u3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],x3=le("menu",h3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Bs=le("message-circle",f3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],em=le("message-square",p3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],tm=le("mountain",g3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],sr=le("navigation",b3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],sm=le("pen-line",y3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Es=le("phone",v3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],ar=le("plane",j3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Lr=le("plus",N3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Dl=le("save",w3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ot=le("search",S3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],M0=le("send",C3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yb=le("settings",k3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Jo=le("share-2",T3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ps=le("shield",A3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],_3=le("ship",E3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],dt=le("sparkles",D3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Pe=le("star",R3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],L3=le("store",M3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Ns=le("tag",O3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Qo=le("target",z3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],I3=le("ticket",U3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ac=le("trash-2",P3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Em=le("trash",B3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],H3=le("tree-pine",$3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],V3=le("trending-down",q3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Kt=le("trending-up",F3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_m=le("triangle-alert",G3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Eo=le("trophy",Y3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],J3=le("truck",K3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],am=le("twitter",Q3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Dm=le("upload",X3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],W3=le("user-check",Z3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],rr=le("user",e5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],it=le("users",t5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],a5=le("utensils",s5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],l5=le("video",r5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],L0=le("wallet",n5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],O0=le("wand-sparkles",i5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],c5=le("waves",o5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],u5=le("wifi",d5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jt=le("x",m5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],x5=le("youtube",h5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Cs=le("zap",f5),Rm="-",p5=l=>{const r=b5(l),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=l;return{getClassGroupId:h=>{const x=h.split(Rm);return x[0]===""&&x.length!==1&&x.shift(),vb(x,r)||g5(h)},getConflictingClassGroupIds:(h,x)=>{const f=n[h]||[];return x&&o[h]?[...f,...o[h]]:f}}},vb=(l,r)=>{if(l.length===0)return r.classGroupId;const n=l[0],o=r.nextPart.get(n),c=o?vb(l.slice(1),o):void 0;if(c)return c;if(r.validators.length===0)return;const m=l.join(Rm);return r.validators.find(({validator:h})=>h(m))?.classGroupId},z0=/^\[(.+)\]$/,g5=l=>{if(z0.test(l)){const r=z0.exec(l)[1],n=r?.substring(0,r.indexOf(":"));if(n)return"arbitrary.."+n}},b5=l=>{const{theme:r,classGroups:n}=l,o={nextPart:new Map,validators:[]};for(const c in n)rm(n[c],o,c,r);return o},rm=(l,r,n,o)=>{l.forEach(c=>{if(typeof c=="string"){const m=c===""?r:U0(r,c);m.classGroupId=n;return}if(typeof c=="function"){if(y5(c)){rm(c(o),r,n,o);return}r.validators.push({validator:c,classGroupId:n});return}Object.entries(c).forEach(([m,h])=>{rm(h,U0(r,m),n,o)})})},U0=(l,r)=>{let n=l;return r.split(Rm).forEach(o=>{n.nextPart.has(o)||n.nextPart.set(o,{nextPart:new Map,validators:[]}),n=n.nextPart.get(o)}),n},y5=l=>l.isThemeGetter,v5=l=>{if(l<1)return{get:()=>{},set:()=>{}};let r=0,n=new Map,o=new Map;const c=(m,h)=>{n.set(m,h),r++,r>l&&(r=0,o=n,n=new Map)};return{get(m){let h=n.get(m);if(h!==void 0)return h;if((h=o.get(m))!==void 0)return c(m,h),h},set(m,h){n.has(m)?n.set(m,h):c(m,h)}}},lm="!",nm=":",j5=nm.length,N5=l=>{const{prefix:r,experimentalParseClassName:n}=l;let o=c=>{const m=[];let h=0,x=0,f=0,p;for(let S=0;S<c.length;S++){let C=c[S];if(h===0&&x===0){if(C===nm){m.push(c.slice(f,S)),f=S+j5;continue}if(C==="/"){p=S;continue}}C==="["?h++:C==="]"?h--:C==="("?x++:C===")"&&x--}const y=m.length===0?c:c.substring(f),b=w5(y),v=b!==y,k=p&&p>f?p-f:void 0;return{modifiers:m,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:k}};if(r){const c=r+nm,m=o;o=h=>h.startsWith(c)?m(h.substring(c.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:h,maybePostfixModifierPosition:void 0}}if(n){const c=o;o=m=>n({className:m,parseClassName:c})}return o},w5=l=>l.endsWith(lm)?l.substring(0,l.length-1):l.startsWith(lm)?l.substring(1):l,S5=l=>{const r=Object.fromEntries(l.orderSensitiveModifiers.map(o=>[o,!0]));return o=>{if(o.length<=1)return o;const c=[];let m=[];return o.forEach(h=>{h[0]==="["||r[h]?(c.push(...m.sort(),h),m=[]):m.push(h)}),c.push(...m.sort()),c}},C5=l=>({cache:v5(l.cacheSize),parseClassName:N5(l),sortModifiers:S5(l),...p5(l)}),k5=/\s+/,T5=(l,r)=>{const{parseClassName:n,getClassGroupId:o,getConflictingClassGroupIds:c,sortModifiers:m}=r,h=[],x=l.trim().split(k5);let f="";for(let p=x.length-1;p>=0;p-=1){const y=x[p],{isExternal:b,modifiers:v,hasImportantModifier:k,baseClassName:S,maybePostfixModifierPosition:C}=n(y);if(b){f=y+(f.length>0?" "+f:f);continue}let w=!!C,T=o(w?S.substring(0,C):S);if(!T){if(!w){f=y+(f.length>0?" "+f:f);continue}if(T=o(S),!T){f=y+(f.length>0?" "+f:f);continue}w=!1}const O=m(v).join(":"),R=k?O+lm:O,W=R+T;if(h.includes(W))continue;h.push(W);const B=c(T,w);for(let X=0;X<B.length;++X){const V=B[X];h.push(R+V)}f=y+(f.length>0?" "+f:f)}return f};function A5(){let l=0,r,n,o="";for(;l<arguments.length;)(r=arguments[l++])&&(n=jb(r))&&(o&&(o+=" "),o+=n);return o}const jb=l=>{if(typeof l=="string")return l;let r,n="";for(let o=0;o<l.length;o++)l[o]&&(r=jb(l[o]))&&(n&&(n+=" "),n+=r);return n};function E5(l,...r){let n,o,c,m=h;function h(f){const p=r.reduce((y,b)=>b(y),l());return n=C5(p),o=n.cache.get,c=n.cache.set,m=x,x(f)}function x(f){const p=o(f);if(p)return p;const y=T5(f,n);return c(f,y),y}return function(){return m(A5.apply(null,arguments))}}const yt=l=>{const r=n=>n[l]||[];return r.isThemeGetter=!0,r},Nb=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,wb=/^\((?:(\w[\w-]*):)?(.+)\)$/i,_5=/^\d+\/\d+$/,D5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,R5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,M5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,L5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,O5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vl=l=>_5.test(l),Re=l=>!!l&&!Number.isNaN(Number(l)),Fa=l=>!!l&&Number.isInteger(Number(l)),Lu=l=>l.endsWith("%")&&Re(l.slice(0,-1)),na=l=>D5.test(l),z5=()=>!0,U5=l=>R5.test(l)&&!M5.test(l),Sb=()=>!1,I5=l=>L5.test(l),P5=l=>O5.test(l),B5=l=>!xe(l)&&!fe(l),$5=l=>zl(l,Tb,Sb),xe=l=>Nb.test(l),Tr=l=>zl(l,Ab,U5),Ou=l=>zl(l,G5,Re),I0=l=>zl(l,Cb,Sb),H5=l=>zl(l,kb,P5),_o=l=>zl(l,Eb,I5),fe=l=>wb.test(l),zn=l=>Ul(l,Ab),q5=l=>Ul(l,Y5),P0=l=>Ul(l,Cb),V5=l=>Ul(l,Tb),F5=l=>Ul(l,kb),Do=l=>Ul(l,Eb,!0),zl=(l,r,n)=>{const o=Nb.exec(l);return o?o[1]?r(o[1]):n(o[2]):!1},Ul=(l,r,n=!1)=>{const o=wb.exec(l);return o?o[1]?r(o[1]):n:!1},Cb=l=>l==="position"||l==="percentage",kb=l=>l==="image"||l==="url",Tb=l=>l==="length"||l==="size"||l==="bg-size",Ab=l=>l==="length",G5=l=>l==="number",Y5=l=>l==="family-name",Eb=l=>l==="shadow",K5=()=>{const l=yt("color"),r=yt("font"),n=yt("text"),o=yt("font-weight"),c=yt("tracking"),m=yt("leading"),h=yt("breakpoint"),x=yt("container"),f=yt("spacing"),p=yt("radius"),y=yt("shadow"),b=yt("inset-shadow"),v=yt("text-shadow"),k=yt("drop-shadow"),S=yt("blur"),C=yt("perspective"),w=yt("aspect"),T=yt("ease"),O=yt("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],B=()=>[...W(),fe,xe],X=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto","contain","none"],_=()=>[fe,xe,f],ne=()=>[vl,"full","auto",..._()],ye=()=>[Fa,"none","subgrid",fe,xe],Me=()=>["auto",{span:["full",Fa,fe,xe]},Fa,fe,xe],D=()=>[Fa,"auto",fe,xe],Z=()=>["auto","min","max","fr",fe,xe],oe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Y=()=>["start","end","center","stretch","center-safe","end-safe"],A=()=>["auto",..._()],F=()=>[vl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",..._()],P=()=>[l,fe,xe],z=()=>[...W(),P0,I0,{position:[fe,xe]}],ce=()=>["no-repeat",{repeat:["","x","y","space","round"]}],M=()=>["auto","cover","contain",V5,$5,{size:[fe,xe]}],Q=()=>[Lu,zn,Tr],ie=()=>["","none","full",p,fe,xe],de=()=>["",Re,zn,Tr],be=()=>["solid","dashed","dotted","double"],Ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],me=()=>[Re,Lu,P0,I0],Qe=()=>["","none",S,fe,xe],$e=()=>["none",Re,fe,xe],kt=()=>["none",Re,fe,xe],mt=()=>[Re,fe,xe],Bt=()=>[vl,"full",..._()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[na],breakpoint:[na],color:[z5],container:[na],"drop-shadow":[na],ease:["in","out","in-out"],font:[B5],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[na],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[na],shadow:[na],spacing:["px",Re],text:[na],"text-shadow":[na],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",vl,xe,fe,w]}],container:["container"],columns:[{columns:[Re,xe,fe,x]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:B()}],overflow:[{overflow:X()}],"overflow-x":[{"overflow-x":X()}],"overflow-y":[{"overflow-y":X()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:ne()}],"inset-x":[{"inset-x":ne()}],"inset-y":[{"inset-y":ne()}],start:[{start:ne()}],end:[{end:ne()}],top:[{top:ne()}],right:[{right:ne()}],bottom:[{bottom:ne()}],left:[{left:ne()}],visibility:["visible","invisible","collapse"],z:[{z:[Fa,"auto",fe,xe]}],basis:[{basis:[vl,"full","auto",x,..._()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Re,vl,"auto","initial","none",xe]}],grow:[{grow:["",Re,fe,xe]}],shrink:[{shrink:["",Re,fe,xe]}],order:[{order:[Fa,"first","last","none",fe,xe]}],"grid-cols":[{"grid-cols":ye()}],"col-start-end":[{col:Me()}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":ye()}],"row-start-end":[{row:Me()}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Z()}],"auto-rows":[{"auto-rows":Z()}],gap:[{gap:_()}],"gap-x":[{"gap-x":_()}],"gap-y":[{"gap-y":_()}],"justify-content":[{justify:[...oe(),"normal"]}],"justify-items":[{"justify-items":[...Y(),"normal"]}],"justify-self":[{"justify-self":["auto",...Y()]}],"align-content":[{content:["normal",...oe()]}],"align-items":[{items:[...Y(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Y(),{baseline:["","last"]}]}],"place-content":[{"place-content":oe()}],"place-items":[{"place-items":[...Y(),"baseline"]}],"place-self":[{"place-self":["auto",...Y()]}],p:[{p:_()}],px:[{px:_()}],py:[{py:_()}],ps:[{ps:_()}],pe:[{pe:_()}],pt:[{pt:_()}],pr:[{pr:_()}],pb:[{pb:_()}],pl:[{pl:_()}],m:[{m:A()}],mx:[{mx:A()}],my:[{my:A()}],ms:[{ms:A()}],me:[{me:A()}],mt:[{mt:A()}],mr:[{mr:A()}],mb:[{mb:A()}],ml:[{ml:A()}],"space-x":[{"space-x":_()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":_()}],"space-y-reverse":["space-y-reverse"],size:[{size:F()}],w:[{w:[x,"screen",...F()]}],"min-w":[{"min-w":[x,"screen","none",...F()]}],"max-w":[{"max-w":[x,"screen","none","prose",{screen:[h]},...F()]}],h:[{h:["screen","lh",...F()]}],"min-h":[{"min-h":["screen","lh","none",...F()]}],"max-h":[{"max-h":["screen","lh",...F()]}],"font-size":[{text:["base",n,zn,Tr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,fe,Ou]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Lu,xe]}],"font-family":[{font:[q5,xe,r]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[c,fe,xe]}],"line-clamp":[{"line-clamp":[Re,"none",fe,Ou]}],leading:[{leading:[m,..._()]}],"list-image":[{"list-image":["none",fe,xe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",fe,xe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:P()}],"text-color":[{text:P()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:[Re,"from-font","auto",fe,Tr]}],"text-decoration-color":[{decoration:P()}],"underline-offset":[{"underline-offset":[Re,"auto",fe,xe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe,xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe,xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:z()}],"bg-repeat":[{bg:ce()}],"bg-size":[{bg:M()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Fa,fe,xe],radial:["",fe,xe],conic:[Fa,fe,xe]},F5,H5]}],"bg-color":[{bg:P()}],"gradient-from-pos":[{from:Q()}],"gradient-via-pos":[{via:Q()}],"gradient-to-pos":[{to:Q()}],"gradient-from":[{from:P()}],"gradient-via":[{via:P()}],"gradient-to":[{to:P()}],rounded:[{rounded:ie()}],"rounded-s":[{"rounded-s":ie()}],"rounded-e":[{"rounded-e":ie()}],"rounded-t":[{"rounded-t":ie()}],"rounded-r":[{"rounded-r":ie()}],"rounded-b":[{"rounded-b":ie()}],"rounded-l":[{"rounded-l":ie()}],"rounded-ss":[{"rounded-ss":ie()}],"rounded-se":[{"rounded-se":ie()}],"rounded-ee":[{"rounded-ee":ie()}],"rounded-es":[{"rounded-es":ie()}],"rounded-tl":[{"rounded-tl":ie()}],"rounded-tr":[{"rounded-tr":ie()}],"rounded-br":[{"rounded-br":ie()}],"rounded-bl":[{"rounded-bl":ie()}],"border-w":[{border:de()}],"border-w-x":[{"border-x":de()}],"border-w-y":[{"border-y":de()}],"border-w-s":[{"border-s":de()}],"border-w-e":[{"border-e":de()}],"border-w-t":[{"border-t":de()}],"border-w-r":[{"border-r":de()}],"border-w-b":[{"border-b":de()}],"border-w-l":[{"border-l":de()}],"divide-x":[{"divide-x":de()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":de()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...be(),"hidden","none"]}],"divide-style":[{divide:[...be(),"hidden","none"]}],"border-color":[{border:P()}],"border-color-x":[{"border-x":P()}],"border-color-y":[{"border-y":P()}],"border-color-s":[{"border-s":P()}],"border-color-e":[{"border-e":P()}],"border-color-t":[{"border-t":P()}],"border-color-r":[{"border-r":P()}],"border-color-b":[{"border-b":P()}],"border-color-l":[{"border-l":P()}],"divide-color":[{divide:P()}],"outline-style":[{outline:[...be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Re,fe,xe]}],"outline-w":[{outline:["",Re,zn,Tr]}],"outline-color":[{outline:P()}],shadow:[{shadow:["","none",y,Do,_o]}],"shadow-color":[{shadow:P()}],"inset-shadow":[{"inset-shadow":["none",b,Do,_o]}],"inset-shadow-color":[{"inset-shadow":P()}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:P()}],"ring-offset-w":[{"ring-offset":[Re,Tr]}],"ring-offset-color":[{"ring-offset":P()}],"inset-ring-w":[{"inset-ring":de()}],"inset-ring-color":[{"inset-ring":P()}],"text-shadow":[{"text-shadow":["none",v,Do,_o]}],"text-shadow-color":[{"text-shadow":P()}],opacity:[{opacity:[Re,fe,xe]}],"mix-blend":[{"mix-blend":[...Ne(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ne()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Re]}],"mask-image-linear-from-pos":[{"mask-linear-from":me()}],"mask-image-linear-to-pos":[{"mask-linear-to":me()}],"mask-image-linear-from-color":[{"mask-linear-from":P()}],"mask-image-linear-to-color":[{"mask-linear-to":P()}],"mask-image-t-from-pos":[{"mask-t-from":me()}],"mask-image-t-to-pos":[{"mask-t-to":me()}],"mask-image-t-from-color":[{"mask-t-from":P()}],"mask-image-t-to-color":[{"mask-t-to":P()}],"mask-image-r-from-pos":[{"mask-r-from":me()}],"mask-image-r-to-pos":[{"mask-r-to":me()}],"mask-image-r-from-color":[{"mask-r-from":P()}],"mask-image-r-to-color":[{"mask-r-to":P()}],"mask-image-b-from-pos":[{"mask-b-from":me()}],"mask-image-b-to-pos":[{"mask-b-to":me()}],"mask-image-b-from-color":[{"mask-b-from":P()}],"mask-image-b-to-color":[{"mask-b-to":P()}],"mask-image-l-from-pos":[{"mask-l-from":me()}],"mask-image-l-to-pos":[{"mask-l-to":me()}],"mask-image-l-from-color":[{"mask-l-from":P()}],"mask-image-l-to-color":[{"mask-l-to":P()}],"mask-image-x-from-pos":[{"mask-x-from":me()}],"mask-image-x-to-pos":[{"mask-x-to":me()}],"mask-image-x-from-color":[{"mask-x-from":P()}],"mask-image-x-to-color":[{"mask-x-to":P()}],"mask-image-y-from-pos":[{"mask-y-from":me()}],"mask-image-y-to-pos":[{"mask-y-to":me()}],"mask-image-y-from-color":[{"mask-y-from":P()}],"mask-image-y-to-color":[{"mask-y-to":P()}],"mask-image-radial":[{"mask-radial":[fe,xe]}],"mask-image-radial-from-pos":[{"mask-radial-from":me()}],"mask-image-radial-to-pos":[{"mask-radial-to":me()}],"mask-image-radial-from-color":[{"mask-radial-from":P()}],"mask-image-radial-to-color":[{"mask-radial-to":P()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":W()}],"mask-image-conic-pos":[{"mask-conic":[Re]}],"mask-image-conic-from-pos":[{"mask-conic-from":me()}],"mask-image-conic-to-pos":[{"mask-conic-to":me()}],"mask-image-conic-from-color":[{"mask-conic-from":P()}],"mask-image-conic-to-color":[{"mask-conic-to":P()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:z()}],"mask-repeat":[{mask:ce()}],"mask-size":[{mask:M()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",fe,xe]}],filter:[{filter:["","none",fe,xe]}],blur:[{blur:Qe()}],brightness:[{brightness:[Re,fe,xe]}],contrast:[{contrast:[Re,fe,xe]}],"drop-shadow":[{"drop-shadow":["","none",k,Do,_o]}],"drop-shadow-color":[{"drop-shadow":P()}],grayscale:[{grayscale:["",Re,fe,xe]}],"hue-rotate":[{"hue-rotate":[Re,fe,xe]}],invert:[{invert:["",Re,fe,xe]}],saturate:[{saturate:[Re,fe,xe]}],sepia:[{sepia:["",Re,fe,xe]}],"backdrop-filter":[{"backdrop-filter":["","none",fe,xe]}],"backdrop-blur":[{"backdrop-blur":Qe()}],"backdrop-brightness":[{"backdrop-brightness":[Re,fe,xe]}],"backdrop-contrast":[{"backdrop-contrast":[Re,fe,xe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Re,fe,xe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Re,fe,xe]}],"backdrop-invert":[{"backdrop-invert":["",Re,fe,xe]}],"backdrop-opacity":[{"backdrop-opacity":[Re,fe,xe]}],"backdrop-saturate":[{"backdrop-saturate":[Re,fe,xe]}],"backdrop-sepia":[{"backdrop-sepia":["",Re,fe,xe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":_()}],"border-spacing-x":[{"border-spacing-x":_()}],"border-spacing-y":[{"border-spacing-y":_()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",fe,xe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Re,"initial",fe,xe]}],ease:[{ease:["linear","initial",T,fe,xe]}],delay:[{delay:[Re,fe,xe]}],animate:[{animate:["none",O,fe,xe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,fe,xe]}],"perspective-origin":[{"perspective-origin":B()}],rotate:[{rotate:$e()}],"rotate-x":[{"rotate-x":$e()}],"rotate-y":[{"rotate-y":$e()}],"rotate-z":[{"rotate-z":$e()}],scale:[{scale:kt()}],"scale-x":[{"scale-x":kt()}],"scale-y":[{"scale-y":kt()}],"scale-z":[{"scale-z":kt()}],"scale-3d":["scale-3d"],skew:[{skew:mt()}],"skew-x":[{"skew-x":mt()}],"skew-y":[{"skew-y":mt()}],transform:[{transform:[fe,xe,"","none","gpu","cpu"]}],"transform-origin":[{origin:B()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Bt()}],"translate-x":[{"translate-x":Bt()}],"translate-y":[{"translate-y":Bt()}],"translate-z":[{"translate-z":Bt()}],"translate-none":["translate-none"],accent:[{accent:P()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:P()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe,xe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe,xe]}],fill:[{fill:["none",...P()]}],"stroke-w":[{stroke:[Re,zn,Tr,Ou]}],stroke:[{stroke:["none",...P()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},J5=E5(K5);function Il(...l){return J5(l.filter(Boolean).join(" "))}const I=({variant:l="primary",size:r="md",loading:n=!1,className:o,children:c,disabled:m,...h})=>{const x="inline-flex items-center justify-center font-medium rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",f={primary:"bg-primary-500 text-white hover:bg-primary-600 focus:ring-primary-500 shadow-lg hover:shadow-xl",default:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 shadow-lg hover:shadow-xl",secondary:"bg-secondary-500 text-white hover:bg-secondary-600 focus:ring-secondary-500 shadow-lg hover:shadow-xl",outline:"border-2 border-primary-500 text-primary-500 hover:bg-primary-50 focus:ring-primary-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-gray-500"},p={sm:"px-3 py-2 text-sm",md:"px-4 py-2.5 text-sm",lg:"px-6 py-3 text-base"};return e.jsxs("button",{className:Il(x,f[l],p[r],(n||m)&&"opacity-50 cursor-not-allowed",o),disabled:n||m,...h,children:[n&&e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current mr-2"}),c]})},B0=[{id:"home",label:"Home",icon:K6,path:"/"},{id:"discover",label:"Destinations",icon:Lt,path:"/places"},{id:"planner",label:"Trip Planner",icon:pe,path:"/trips"},{id:"deals",label:"Deals",icon:Ns,path:"/deals"},{id:"community",label:"Community",icon:it,path:"/community"},{id:"more",label:"More",icon:km,path:"#",dropdown:[{label:"Events",path:"/events",icon:zt},{label:"Transport Hub",path:"/transport",icon:Dr},{label:"Find an Agent",path:"/services",icon:it},{label:"About Us",path:"/about",icon:C0},{label:"Contact Us",path:"/contact",icon:As},{label:"Help Center",path:"/help",icon:C0}]}],$0=[{code:"en",label:"English",flag:""},{code:"si",label:"",flag:""},{code:"ta",label:"",flag:""}],Q5=()=>{const{user:l,logout:r}=wt(),n=Rs(),[o,c]=j.useState(!1),[m,h]=j.useState(!1),[x,f]=j.useState(!1),[p,y]=j.useState(!1),[b,v]=j.useState(null),[k,S]=j.useState(!1),[C,w]=j.useState($0[0]);j.useEffect(()=>{const R=()=>{c(window.scrollY>20)};return window.addEventListener("scroll",R),()=>window.removeEventListener("scroll",R)},[]),j.useEffect(()=>{const R=W=>{W.target.closest(".dropdown-container")||(v(null),S(!1),y(!1))};return document.addEventListener("click",R),()=>document.removeEventListener("click",R)},[]);const T=()=>{r(),f(!1)},O=R=>{w(R),y(!1)};return e.jsx("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${o?"bg-white/95 backdrop-blur-md shadow-lg border-b border-white/50":"bg-black/30 backdrop-blur-sm"}`,children:e.jsxs("div",{className:"max-w-full mx-auto px-6 sm:px-8 lg:px-12",children:[e.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs(Te,{to:"/",className:"flex items-center space-x-3 group",title:"TravelBuddy - Your Intelligent Travel Companion",children:[e.jsxs("div",{className:"relative w-12 h-12 bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-600 rounded-2xl flex items-center justify-center group-hover:scale-105 transition-all duration-300 shadow-lg",children:[e.jsx(Tm,{className:"w-7 h-7 text-white"}),e.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsx("div",{className:"hidden sm:block",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h1",{className:`text-2xl font-bold transition-all duration-300 ${o?"text-black":"text-white drop-shadow-lg"}`,children:"TravelBuddy"}),e.jsx("span",{className:"px-2 py-0.5 bg-blue-500 text-white text-xs font-semibold rounded-full",children:"Beta"})]})})]})}),e.jsx("nav",{className:"hidden lg:flex items-center space-x-4",children:B0.map(R=>{const W=R.icon,B=n.pathname===R.path,X=R.dropdown&&R.dropdown.length>0;return e.jsxs("div",{className:"relative dropdown-container",children:[X?e.jsxs("button",{onClick:()=>v(b===R.id?null:R.id),className:`flex items-center space-x-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 relative ${B?o?"text-blue-600 font-semibold":"text-white font-semibold":o?"text-gray-700 hover:text-gray-900":"text-white/90 hover:text-white"}`,children:[e.jsx(W,{className:"w-4 h-4"}),e.jsx("span",{children:R.label}),B&&e.jsx("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-blue-600 rounded-full"})]}):e.jsxs(Te,{to:R.path,className:`flex items-center space-x-2 px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 relative ${B?o?"text-blue-600 font-semibold":"text-white font-semibold":o?"text-gray-700 hover:text-gray-900":"text-white/90 hover:text-white"}`,children:[e.jsx(W,{className:"w-4 h-4"}),e.jsx("span",{children:R.label}),B&&e.jsx("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-blue-600 rounded-full"})]}),X&&b===R.id&&e.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white rounded-xl shadow-xl border border-gray-200 py-2 z-50",children:R.dropdown?.map(V=>{const _=V.icon;return e.jsxs(Te,{to:V.path,onClick:()=>v(null),className:"flex items-center space-x-3 px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:[_&&e.jsx(_,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{children:V.label})]},V.path)})})]},R.id)})}),e.jsxs("div",{className:"flex items-center space-x-5",children:[l&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(I,{variant:"ghost",size:"sm",className:`relative p-2 ${o?"text-gray-700 hover:bg-gray-100":"text-white hover:bg-white/10"}`,title:"Notifications",children:[e.jsx(_r,{className:"w-5 h-5"}),e.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full text-xs flex items-center justify-center",children:e.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full"})})]}),e.jsx(I,{variant:"ghost",size:"sm",className:`p-2 ${o?"text-gray-700 hover:bg-gray-100":"text-white hover:bg-white/10"}`,title:"Saved Trips & Favorites",children:e.jsx(ut,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"relative hidden md:block dropdown-container",children:[e.jsxs(I,{variant:"ghost",size:"sm",onClick:()=>y(!p),className:`flex items-center space-x-2 px-3 py-2 text-sm font-medium ${o?"text-gray-700 hover:bg-gray-100":"text-white hover:bg-white/10"}`,children:[e.jsx("span",{children:C.flag}),e.jsx("span",{children:C.code.toUpperCase()}),e.jsx(km,{className:"w-3 h-3"})]}),p&&e.jsx("div",{className:"absolute right-0 mt-1 w-40 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:$0.map(R=>e.jsxs("button",{onClick:()=>O(R),className:`flex items-center space-x-3 w-full px-4 py-2 text-sm text-left hover:bg-gray-100 transition-colors ${C.code===R.code?"bg-blue-50 text-blue-700":"text-gray-700"}`,children:[e.jsx("span",{children:R.flag}),e.jsx("span",{children:R.label})]},R.code))})]}),l?e.jsxs("div",{className:"relative dropdown-container",children:[e.jsxs("button",{onClick:()=>S(!k),className:`flex items-center space-x-2 px-2 py-2 rounded-full transition-all duration-200 ${o?"hover:bg-gray-100":"hover:bg-white/10"}`,children:[e.jsxs("div",{className:"relative w-9 h-9 bg-gradient-to-br from-blue-500 via-purple-500 to-indigo-500 rounded-full flex items-center justify-center",children:[l.profilePicture?e.jsx("img",{src:l.profilePicture,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):e.jsx(rr,{className:"w-5 h-5 text-white"}),e.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 bg-green-500 border-2 border-white rounded-full",title:"Online"})]}),e.jsx("span",{className:`hidden lg:block text-sm font-medium ${o?"text-gray-700":"text-white"}`,children:l.fullName?.split(" ")[0]||l.email?.split("@")[0]||"User"})]}),k&&e.jsxs("div",{className:"absolute right-0 mt-1 w-56 bg-white rounded-xl shadow-2xl border border-gray-200 py-2 z-50",children:[e.jsxs(Te,{to:"/profile",onClick:()=>S(!1),className:"flex items-center space-x-3 px-4 py-3 hover:bg-gray-50 transition-colors",children:[e.jsx(rr,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"My Profile"})]}),e.jsxs(Te,{to:"/trips",onClick:()=>S(!1),className:"flex items-center space-x-3 px-4 py-3 hover:bg-gray-50 transition-colors",children:[e.jsx(pe,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"My Trips"})]}),e.jsxs(Te,{to:"/community",onClick:()=>S(!1),className:"flex items-center space-x-3 px-4 py-3 hover:bg-gray-50 transition-colors",children:[e.jsx(ut,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Saved Places"})]}),e.jsxs(Te,{to:"/profile",onClick:()=>S(!1),className:"flex items-center space-x-3 px-4 py-3 hover:bg-gray-50 transition-colors",children:[e.jsx(yb,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Settings"})]}),e.jsx("div",{className:"border-t border-gray-200 my-2"}),e.jsxs("button",{onClick:T,className:"flex items-center space-x-3 px-4 py-3 hover:bg-red-50 transition-colors w-full text-left",children:[e.jsx(bb,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"text-sm text-red-600",children:"Logout"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Te,{to:"/login",children:e.jsx(I,{variant:"ghost",size:"sm",className:`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${o?"text-gray-700 hover:bg-gray-100":"text-white hover:bg-white/10"}`,children:"Login"})}),e.jsx(Te,{to:"/register",children:e.jsx(I,{size:"sm",className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 text-white hover:from-blue-700 hover:via-purple-700 hover:to-indigo-700 px-6 py-2 rounded-lg font-medium shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105",children:"Sign Up Free"})})]}),e.jsx(I,{variant:"ghost",size:"sm",onClick:()=>h(!m),className:`lg:hidden p-2 ${o?"text-gray-700 hover:bg-gray-100":"text-white hover:bg-white/10"}`,children:m?e.jsx(jt,{className:"w-5 h-5"}):e.jsx(x3,{className:"w-5 h-5"})})]})]}),m&&e.jsxs("div",{className:"lg:hidden bg-white/95 backdrop-blur-md border-t border-gray-200 py-4",children:[l&&e.jsx("div",{className:"px-4 pb-4 mb-4 border-b border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(Te,{to:"/trips",onClick:()=>h(!1),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-blue-50 rounded-xl text-blue-700 font-medium text-sm",children:[e.jsx(pe,{className:"w-4 h-4"}),e.jsx("span",{children:"Plan Trip"})]}),e.jsxs(Te,{to:"/community",onClick:()=>h(!1),className:"flex items-center justify-center space-x-2 px-4 py-3 bg-purple-50 rounded-xl text-purple-700 font-medium text-sm",children:[e.jsx(ut,{className:"w-4 h-4"}),e.jsx("span",{children:"Saved"})]})]})}),e.jsx("nav",{className:"space-y-1 px-4",children:B0.map(R=>{const W=R.icon,B=n.pathname===R.path;return e.jsxs(Te,{to:R.path,onClick:()=>h(!1),className:`flex items-center space-x-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200 ${B?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsx(W,{className:"w-5 h-5"}),e.jsx("span",{children:R.label})]},R.id)})}),!l&&e.jsx("div",{className:"px-4 pt-4 border-t border-gray-200 mt-4",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(Te,{to:"/login",className:"flex-1",children:e.jsx(I,{variant:"outline",className:"w-full",children:"Login"})}),e.jsx(Te,{to:"/register",className:"flex-1",children:e.jsx(I,{className:"w-full bg-gradient-to-r from-blue-600 to-purple-600",children:"Sign Up"})})]})})]})]})})},X5=()=>e.jsx("footer",{className:"bg-gray-900 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"lg:col-span-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-600 rounded-xl flex items-center justify-center",children:e.jsx(Tm,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold",children:"TravelBuddy"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Your Intelligent Travel Companion"})]})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Discover amazing destinations, plan perfect trips, and connect with trusted travel services worldwide."}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(Xu,{className:"w-5 h-5"})}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(am,{className:"w-5 h-5"})}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(Wu,{className:"w-5 h-5"})}),e.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(x5,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Explore"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsxs(Te,{to:"/places",className:"text-gray-400 hover:text-white transition-colors flex items-center",children:[e.jsx(pe,{className:"w-4 h-4 mr-2"}),"Destinations"]})}),e.jsx("li",{children:e.jsxs(Te,{to:"/trips",className:"text-gray-400 hover:text-white transition-colors flex items-center",children:[e.jsx(ar,{className:"w-4 h-4 mr-2"}),"Trip Planner"]})}),e.jsx("li",{children:e.jsxs(Te,{to:"/transport",className:"text-gray-400 hover:text-white transition-colors flex items-center",children:[e.jsx(Dr,{className:"w-4 h-4 mr-2"}),"Transportation"]})}),e.jsx("li",{children:e.jsxs(Te,{to:"/services",className:"text-gray-400 hover:text-white transition-colors flex items-center",children:[e.jsx(it,{className:"w-4 h-4 mr-2"}),"Travel Agents"]})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Support"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(Te,{to:"/about",className:"text-gray-400 hover:text-white transition-colors",children:"About Us"})}),e.jsx("li",{children:e.jsx(Te,{to:"/contact",className:"text-gray-400 hover:text-white transition-colors",children:"Contact Us"})}),e.jsx("li",{children:e.jsx(Te,{to:"/help",className:"text-gray-400 hover:text-white transition-colors",children:"Help Center"})}),e.jsx("li",{children:e.jsx(Te,{to:"/blog",className:"text-gray-400 hover:text-white transition-colors",children:"Travel Blog"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Contact"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-gray-400",children:[e.jsx(As,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-sm",children:"support@travelbuddy.com"})]}),e.jsxs("div",{className:"flex items-center text-gray-400",children:[e.jsx(Es,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-sm",children:"+1 (555) 123-4567"})]})]})]})]}),e.jsxs("div",{className:"border-t border-gray-800 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:" 2024 TravelBuddy. All rights reserved."}),e.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[e.jsx(Te,{to:"/privacy",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Privacy Policy"}),e.jsx(Te,{to:"/terms",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Terms of Service"}),e.jsx(Te,{to:"/cookies",className:"text-gray-400 hover:text-white text-sm transition-colors",children:"Cookie Policy"})]})]})]})}),Z5="modulepreload",W5=function(l){return"/"+l},H0={},Mm=function(r,n,o){let c=Promise.resolve();if(n&&n.length>0){let f=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),x=h?.nonce||h?.getAttribute("nonce");c=f(n.map(p=>{if(p=W5(p),p in H0)return;H0[p]=!0;const y=p.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const v=document.createElement("link");if(v.rel=y?"stylesheet":Z5,y||(v.as="script"),v.crossOrigin="",v.href=p,x&&v.setAttribute("nonce",x),document.head.appendChild(v),y)return new Promise((k,S)=>{v.addEventListener("load",k),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${p}`)))})}))}function m(h){const x=new Event("vite:preloadError",{cancelable:!0});if(x.payload=h,window.dispatchEvent(x),!x.defaultPrevented)throw h}return c.then(h=>{for(const x of h||[])x.status==="rejected"&&m(x.reason);return r().catch(m)})},ae=({className:l,hover:r=!1,glass:n=!1,children:o,...c})=>e.jsx("div",{className:Il("rounded-2xl border border-gray-200 bg-white shadow-sm",r&&"card-hover cursor-pointer",n&&"glass",l),...c,children:o}),je=({className:l,children:r,...n})=>e.jsx("div",{className:Il("p-6 pb-4",l),...n,children:r}),re=({className:l,children:r,...n})=>e.jsx("div",{className:Il("px-6 pb-6",l),...n,children:r}),we=({className:l,children:r,...n})=>e.jsx("h3",{className:Il("text-lg font-semibold text-gray-900",l),...n,children:r}),eS=({className:l,children:r,...n})=>e.jsx("p",{className:Il("text-sm text-gray-600",l),...n,children:r}),Ya=({className:l="",variant:r="rectangular",width:n,height:o})=>{const c="animate-pulse bg-gray-200",m={text:"rounded",circular:"rounded-full",rectangular:"rounded-lg"},h={width:n||"100%",height:o||(r==="text"?"1rem":"100%")};return e.jsx("div",{className:`${c} ${m[r]} ${l}`,style:h})},tS=()=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[e.jsx(Ya,{className:"w-full h-48"}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsx(Ya,{className:"h-6 w-3/4"}),e.jsx(Ya,{className:"h-4 w-1/2"}),e.jsx(Ya,{className:"h-4 w-full"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ya,{className:"h-6 w-16"}),e.jsx(Ya,{className:"h-6 w-20"})]}),e.jsx(Ya,{className:"h-10 w-full"})]})]}),q0=({src:l,fallbackSrc:r,alt:n,className:o="",onLoad:c,onError:m})=>{const[h,x]=j.useState(l),[f,p]=j.useState(!0),[y,b]=j.useState(!1),[v,k]=j.useState(0);j.useEffect(()=>{x(l),p(!0),b(!1),k(0);const w=setTimeout(()=>{p(!1)},3e3);return()=>clearTimeout(w)},[l]);const S=()=>{p(!1),b(!1),c?.()},C=()=>{p(!1),b(!1),v===0&&r&&h!==r?(x(r),k(1)):v===1&&h!==`https://via.placeholder.com/600x400/6366f1/ffffff?text=${encodeURIComponent(n)}`?(x(`https://via.placeholder.com/600x400/6366f1/ffffff?text=${encodeURIComponent(n)}`),k(2)):b(!0),m?.()};return y?e.jsx("div",{className:`bg-gray-200 flex items-center justify-center ${o}`,children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("p",{className:"text-sm",children:n})]})}):e.jsxs("div",{className:"relative",children:[f&&e.jsx(Ya,{className:`absolute inset-0 z-10 ${o}`}),e.jsx("img",{src:h,alt:n,className:o,onLoad:S,onError:C,loading:"lazy"})]})},Ro={GB:{country:"United Kingdom",countryCode:"GB",city:"London",currency:"GBP",emergencyNumber:"999"},US:{country:"United States",countryCode:"US",city:"New York",currency:"USD",emergencyNumber:"911"},LK:{country:"Sri Lanka",countryCode:"LK",city:"Colombo",currency:"LKR",emergencyNumber:"119"}},_b=()=>{const[l,r]=j.useState(Ro.LK),[n,o]=j.useState(!0);return j.useEffect(()=>{(async()=>{try{const m=Intl.DateTimeFormat().resolvedOptions().timeZone;let h="LK";m.includes("America")?h="US":m.includes("Europe/London")?h="GB":m.includes("Asia/Colombo")&&(h="LK");const x=Ro[h]||Ro.LK;r(x)}catch{console.log("Location detection failed, using default"),r(Ro.LK)}finally{o(!1)}})()},[]),{location:l,loading:n}},sS=({title:l="TravelBuddy - AI Travel Planner & Trip Planning App | Discover Destinations Worldwide",description:r="Plan your perfect trip with TravelBuddy's AI-powered travel planner. Explore millions of destinations, create custom itineraries, find deals, and manage everything in one app. Download for iOS & Android.",keywords:n="trip planner, travel app, AI travel planning, itinerary builder, discover destinations, travel deals, vacation planner, travel guide, flight booking, hotel booking"})=>(j.useEffect(()=>{document.title=l;const o=(h,x)=>{let f=document.querySelector(`meta[name="${h}"]`);f||(f=document.createElement("meta"),f.name=h,document.head.appendChild(f)),f.content=x};o("description",r),o("keywords",n),o("robots","index, follow");const c={"@context":"https://schema.org","@graph":[{"@type":"WebPage","@id":"https://travelbuddy.com/",url:"https://travelbuddy.com/",name:l,description:r,inLanguage:"en-US",isPartOf:{"@id":"https://travelbuddy.com/#website"}},{"@type":"LocalBusiness","@id":"https://travelbuddy.com/#business",name:"TravelBuddy",description:"AI-powered travel planning platform helping travelers discover, plan and experience the world effortlessly",url:"https://travelbuddy.com/",telephone:"+1-800-TRAVEL",address:{"@type":"PostalAddress",addressCountry:"US"},sameAs:["https://facebook.com/travelbuddy","https://twitter.com/travelbuddy","https://instagram.com/travelbuddy"]},{"@type":"TravelAgency","@id":"https://travelbuddy.com/#travelagency",name:"TravelBuddy",description:"AI-powered travel planning and booking platform",url:"https://travelbuddy.com/",priceRange:"Free - $19.99",hasOfferCatalog:{"@type":"OfferCatalog",name:"Travel Services",itemListElement:[{"@type":"Offer",itemOffered:{"@type":"Service",name:"AI Trip Planning",description:"Personalized itinerary creation using artificial intelligence"}},{"@type":"Offer",itemOffered:{"@type":"Service",name:"Destination Discovery",description:"Find hidden gems and popular attractions worldwide"}}]}},{"@type":"SoftwareApplication","@id":"https://travelbuddy.com/#app",name:"TravelBuddy",description:r,applicationCategory:"TravelApplication",operatingSystem:["iOS","Android","Web"],offers:{"@type":"Offer",price:"0",priceCurrency:"USD",availability:"https://schema.org/InStock"},aggregateRating:{"@type":"AggregateRating",ratingValue:"4.8",reviewCount:"50000",bestRating:"5",worstRating:"1"}},{"@type":"FAQPage","@id":"https://travelbuddy.com/#faq",mainEntity:[{"@type":"Question",name:"How does TravelBuddy create my itinerary?",acceptedAnswer:{"@type":"Answer",text:"Our AI analyzes your preferences, budget, travel dates, and interests to create personalized itineraries in under 2 minutes. We consider factors like weather, local events, opening hours, and travel distances to optimize your trip."}},{"@type":"Question",name:"Is the AI trip planner free?",acceptedAnswer:{"@type":"Answer",text:"Yes! Our basic AI trip planner is completely free forever. You can create unlimited itineraries, discover places, and plan trips without any cost. Premium features like offline access and advanced weather AI are available for $9.99/month."}},{"@type":"Question",name:"Can I use the app offline?",acceptedAnswer:{"@type":"Answer",text:"Premium users can download their complete itineraries, maps, and place details for offline access. This includes photos, descriptions, contact information, and navigation - perfect for international travel without roaming charges."}}]},{"@type":"Review","@id":"https://travelbuddy.com/#review1",author:{"@type":"Person",name:"Sarah Chen"},reviewRating:{"@type":"Rating",ratingValue:"5",bestRating:"5"},reviewBody:"TravelBuddy helped me discover amazing local cafes in Tokyo I would never have found!",itemReviewed:{"@type":"SoftwareApplication",name:"TravelBuddy"}}]};let m=document.querySelector('script[type="application/ld+json"]');m||(m=document.createElement("script"),m.type="application/ld+json",document.head.appendChild(m)),m.textContent=JSON.stringify(c)},[l,r,n]),null),aS=`
  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes slide-in-left {
    from {
      opacity: 0;
      transform: translateX(-80px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
  
  @keyframes slide-in-right {
    from {
      opacity: 0;
      transform: translateX(80px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
  
  @keyframes message-in {
    from {
      opacity: 0;
      transform: translateY(20px) scale(0.9);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }
  
  @keyframes nav-in {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes feature-in {
    from {
      opacity: 0;
      transform: translateX(-30px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
  
  @keyframes buttons-in {
    from {
      opacity: 0;
      transform: translateY(40px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  @keyframes pulse-glow {
    0%, 100% {
      opacity: 0.3;
      transform: scale(1);
    }
    50% {
      opacity: 0.6;
      transform: scale(1.1);
    }
  }
  
  @keyframes pulse-slow {
    0%, 100% {
      opacity: 0.3;
    }
    50% {
      opacity: 0.5;
    }
  }
  
  .animate-fade-in-up {
    animation: fade-in-up 0.8s ease-out both;
  }
  
  .animate-slide-in-left {
    animation: slide-in-left 1s ease-out both;
  }
  
  .animate-slide-in-right {
    animation: slide-in-right 1s ease-out both;
  }
  
  .animate-message-in {
    animation: message-in 0.6s ease-out both;
  }
  
  .animate-nav-in {
    animation: nav-in 0.8s ease-out both;
  }
  
  .animate-feature-in {
    animation: feature-in 0.6s ease-out both;
  }
  
  .animate-buttons-in {
    animation: buttons-in 0.8s ease-out both;
  }
  
  .animate-pulse-glow {
    animation: pulse-glow 4s ease-in-out infinite;
  }
  
  .animate-pulse-slow {
    animation: pulse-slow 6s ease-in-out infinite;
  }
  
  @keyframes float {
    0%, 100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-10px);
    }
  }
  
  .animate-float {
    animation: float 3s ease-in-out infinite;
  }
  
  .phone-tilt-container {
    perspective: 1000px;
  }
  
  .phone-tilt-container:hover > div {
    transform: rotateY(-5deg) rotateX(2deg) scale(1.02);
  }
`;j.lazy(()=>Mm(()=>import("./LazyDestinationGrid-CY38CSzh.js"),[]));j.lazy(()=>Mm(()=>import("./LazyDealsSection-DQML8W3-.js"),[]));const rS=()=>e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),lS=()=>{const[l,r]=j.useState(null),n=[{icon:"",question:"How does TravelBuddy create my itinerary?",answer:"Our AI analyzes your preferences, budget, travel dates, and interests to create personalized itineraries in under 2 minutes. We consider factors like weather, local events, opening hours, and travel distances to optimize your trip."},{icon:"",question:"Is the AI trip planner free?",answer:"Yes! Our basic AI trip planner is completely free forever. You can create unlimited itineraries, discover places, and plan trips without any cost. Premium features like offline access and advanced weather AI are available for $9.99/month."},{icon:"",question:"Can I use the app offline?",answer:"Premium users can download their complete itineraries, maps, and place details for offline access. This includes photos, descriptions, contact information, and navigation - perfect for international travel without roaming charges."},{icon:"",question:"Are deals verified?",answer:"All deals are verified in real-time through our partner network. We work directly with hotels, airlines, and activity providers to ensure accurate pricing and availability. Deals are updated every 15 minutes."},{icon:"",question:"How accurate are the AI recommendations?",answer:"Our AI has a 94% satisfaction rate based on user feedback. It learns from 125,000+ successful trips and considers 200+ factors including weather, crowds, local events, and personal preferences to make recommendations."},{icon:"",question:"Can I share my itinerary with friends?",answer:"Yes! You can share itineraries via link, export to PDF, or collaborate in real-time. Friends can add suggestions, vote on activities, and make changes together - perfect for group travel planning."}];return e.jsx("div",{className:"space-y-4",children:n.map((o,c)=>e.jsx("div",{className:"group",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 border border-gray-100 overflow-hidden",children:[e.jsxs("button",{onClick:()=>r(l===c?null:c),className:"w-full p-6 text-left flex items-center justify-between hover:bg-gray-50 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-100 to-purple-100 rounded-xl flex items-center justify-center mr-4 group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-xl",children:o.icon})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 group-hover:text-blue-600 transition-colors duration-200",children:o.question}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click to see answer"})]})]}),e.jsx("div",{className:`w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center transition-all duration-300 ${l===c?"rotate-180 bg-blue-600":"group-hover:bg-blue-200"}`,children:e.jsx(km,{className:`w-4 h-4 transition-colors duration-300 ${l===c?"text-white":"text-blue-600"}`})})]}),e.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${l===c?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:e.jsx("div",{className:"px-6 pb-6",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border-l-4 border-blue-500",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:o.answer})})})})]})},c))})},nS=()=>{const l=new Date().getMonth(),r={0:[{id:1,name:"Dubai",country:"UAE",image:"https://images.unsplash.com/photo-1512453979798-5ea266f8880c?w=400&h=300&fit=crop&auto=format&q=60",rating:4.8,reason:"Perfect weather",popular:!0},{id:2,name:"Goa",country:"India",image:"https://images.unsplash.com/photo-1512343879784-a960bf40e7f2?w=400&h=300&fit=crop&auto=format&q=60",rating:4.6,reason:"Peak season"},{id:3,name:"Patagonia",country:"Chile",image:"https://images.unsplash.com/photo-1551632811-561732d1e306?w=400&h=300&fit=crop&auto=format&q=60",rating:4.9,reason:"Summer season"},{id:4,name:"New Zealand",country:"South Island",image:"https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=400&h=300&fit=crop&auto=format&q=60",rating:4.7,reason:"Summer adventures"},{id:5,name:"Thailand",country:"Bangkok",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop&auto=format&q=60",rating:4.5,reason:"Cool & dry"},{id:6,name:"Myanmar",country:"Bagan",image:"https://images.unsplash.com/photo-1570366583862-f91883984fde?w=400&h=300&fit=crop&auto=format&q=60",rating:4.6,reason:"Ideal climate"},{id:7,name:"Egypt",country:"Cairo",image:"https://images.unsplash.com/photo-1539650116574-75c0c6d73f6e?w=400&h=300&fit=crop&auto=format&q=60",rating:4.4,reason:"Mild temperatures"},{id:8,name:"Argentina",country:"Buenos Aires",image:"https://images.unsplash.com/photo-1589909202802-8f4aadce1849?w=400&h=300&fit=crop&auto=format&q=60",rating:4.5,reason:"Summer vibes"},{id:9,name:"Australia",country:"Sydney",image:"https://images.unsplash.com/photo-1506973035872-a4ec16b8e8d9?w=400&h=300&fit=crop&auto=format&q=60",rating:4.8,reason:"Beach season",trending:!0}],10:[{id:1,name:"Kyoto",country:"Japan",image:"https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?w=400&h=300&fit=crop&auto=format&q=60",rating:4.9,reason:"Autumn foliage",popular:!0},{id:2,name:"Dubai",country:"UAE",image:"https://images.unsplash.com/photo-1512453979798-5ea266f8880c?w=400&h=300&fit=crop&auto=format&q=60",rating:4.8,reason:"Ideal weather"},{id:3,name:"Patagonia",country:"Chile",image:"https://images.unsplash.com/photo-1551632811-561732d1e306?w=400&h=300&fit=crop&auto=format&q=60",rating:4.9,reason:"Peak season"},{id:4,name:"India",country:"Rajasthan",image:"https://images.unsplash.com/photo-1524492412937-b28074a5d7da?w=400&h=300&fit=crop&auto=format&q=60",rating:4.7,reason:"Pleasant weather"},{id:5,name:"Myanmar",country:"Bagan",image:"https://images.unsplash.com/photo-1570366583862-f91883984fde?w=400&h=300&fit=crop&auto=format&q=60",rating:4.6,reason:"Cool & dry",trending:!0},{id:6,name:"Nepal",country:"Kathmandu",image:"https://images.unsplash.com/photo-1544735716-392fe2489ffa?w=400&h=300&fit=crop&auto=format&q=60",rating:4.5,reason:"Clear mountain views"},{id:7,name:"Egypt",country:"Luxor",image:"https://images.unsplash.com/photo-1539650116574-75c0c6d73f6e?w=400&h=300&fit=crop&auto=format&q=60",rating:4.4,reason:"Comfortable temps"},{id:8,name:"Vietnam",country:"Hanoi",image:"https://images.unsplash.com/photo-1559592413-7cec4d0d2d8f?w=400&h=300&fit=crop&auto=format&q=60",rating:4.6,reason:"Perfect climate"},{id:9,name:"Cambodia",country:"Siem Reap",image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=300&fit=crop&auto=format&q=60",rating:4.5,reason:"Dry season starts"}]};return r[l]||r[10]||r[0]},iS=nS(),oS={testimonials:[{name:"Sarah Chen",location:"Singapore",text:"TravelBuddy helped me discover amazing local cafes in Tokyo I would never have found!",rating:5},{name:"Michael Rodriguez",location:"Barcelona",text:"The AI recommendations were spot-on. Saved me hours of research for my Thailand trip.",rating:5}]},cS=()=>{_b();const{user:l}=wt(),[r,n]=j.useState(""),[o,c]=j.useState(!1),[m,h]=j.useState(0),[x,f]=j.useState(0),p=["You have a trip draft in progress.","There are 3 new deals near your location.","Perfect weather in Ella this weekend!","2 friends shared new travel photos.","Your saved places have price drops."],y=[{title:"Places Discovery",content:e.jsxs("div",{className:"bg-gray-50 h-full relative overflow-hidden",children:[e.jsxs("div",{className:"bg-white p-3 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900",children:"Explore Places"}),e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(pe,{className:"w-3 h-3 text-blue-600"})})]}),e.jsxs("div",{className:"relative mb-3",children:[e.jsx(Ot,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-3 h-3 text-gray-400"}),e.jsx("input",{className:"w-full pl-9 pr-4 py-2 bg-gray-100 rounded-lg text-sm",placeholder:"Search places...",readOnly:!0})]}),e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx("div",{className:"bg-blue-500 text-white px-3 py-1 rounded-full text-xs font-medium",children:"All"}),e.jsx("div",{className:"bg-gray-200 text-gray-700 px-3 py-1 rounded-full text-xs font-medium",children:"Food"}),e.jsx("div",{className:"bg-gray-200 text-gray-700 px-3 py-1 rounded-full text-xs font-medium",children:"Culture"})]})]}),e.jsxs("div",{className:"p-3 space-y-3",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"h-24 rounded-t-lg relative overflow-hidden",children:[e.jsx("img",{src:"https://picsum.photos/300/200?random=1",alt:"Eiffel Tower",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-white/90 rounded-full flex items-center justify-center",children:e.jsx(ut,{className:"w-3 h-3 text-red-500"})})]}),e.jsxs("div",{className:"p-2",children:[e.jsx("h5",{className:"font-bold text-xs text-gray-900 mb-1",children:"Eiffel Tower"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Pe,{className:"w-3 h-3 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-xs font-medium",children:"4.8"})]}),e.jsx("span",{className:"text-xs text-gray-500",children:"Landmark"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"h-24 rounded-t-lg relative overflow-hidden",children:e.jsx("img",{src:"https://picsum.photos/300/200?random=2",alt:"Notre Dame",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-2",children:[e.jsx("h5",{className:"font-bold text-xs text-gray-900 mb-1",children:"Notre Dame"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Pe,{className:"w-3 h-3 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-xs font-medium",children:"4.7"})]}),e.jsx("span",{className:"text-xs text-gray-500",children:"Cathedral"})]})]})]})]})]})},{title:"Smart Search",content:e.jsxs("div",{className:"bg-gray-50 h-full relative overflow-hidden",children:[e.jsxs("div",{className:"bg-white p-3 border-b border-gray-200",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-3",children:"AI Search"}),e.jsxs("div",{className:"relative mb-3",children:[e.jsx(Ot,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-3 h-3 text-blue-600"}),e.jsx("input",{className:"w-full pl-9 pr-4 py-2 bg-blue-100 border-2 border-blue-300 rounded-lg text-sm font-medium",value:"Romantic dinner Paris",readOnly:!0})]})]}),e.jsxs("div",{className:"p-3 space-y-3",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg p-3 text-white",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(dt,{className:"w-4 h-4 mr-2"}),e.jsx("h5",{className:"font-bold text-sm",children:"AI Suggestion"})]}),e.jsx("p",{className:"text-xs opacity-90",children:"Found 12 romantic restaurants near Eiffel Tower"})]}),e.jsx("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden mr-3",children:e.jsx("img",{src:"https://picsum.photos/100/100?random=3",alt:"Restaurant",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h6",{className:"font-bold text-xs text-gray-900",children:"Le Jules Verne"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Michelin starred  "}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(Pe,{className:"w-3 h-3 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-xs font-medium",children:"4.9"})]})]})]})})]})]})},{title:"Trip Planning",content:e.jsxs("div",{className:"bg-gray-50 h-full relative overflow-hidden",children:[e.jsxs("div",{className:"bg-white p-3 border-b border-gray-200",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-3",children:"My Trip"}),e.jsx("div",{className:"bg-gradient-to-r from-green-100 to-blue-100 px-3 py-2 rounded-lg mb-3 border border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-800 font-bold",children:"Paris Weekend"}),e.jsx("p",{className:"text-xs text-green-600",children:"Nov 25-27  2 days"})]}),e.jsx(zt,{className:"w-4 h-4 text-green-600"})]})})]}),e.jsxs("div",{className:"p-3 space-y-3",children:[e.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-xs font-bold text-blue-600",children:"1"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900",children:"Day 1: Iconic Paris"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Eiffel Tower  Louvre Museum"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded overflow-hidden",children:e.jsx("img",{src:"https://picsum.photos/50/50?random=4",alt:"",className:"w-full h-full object-cover"})}),e.jsx("div",{className:"w-8 h-8 rounded overflow-hidden",children:e.jsx("img",{src:"https://picsum.photos/50/50?random=5",alt:"",className:"w-full h-full object-cover"})})]})]}),e.jsx("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-xs font-bold text-purple-600",children:"2"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900",children:"Day 2: Culture & Romance"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Montmartre  Seine Cruise"})]})]})})]})]})},{title:"Map Navigation",content:e.jsxs("div",{className:"bg-gray-50 h-full relative overflow-hidden",children:[e.jsxs("div",{className:"bg-white p-3 border-b border-gray-200",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-3",children:"Navigate"}),e.jsx("div",{className:"bg-blue-100 px-3 py-2 rounded-lg mb-3 border border-blue-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(pe,{className:"w-4 h-4 text-blue-600 mr-2"}),e.jsx("p",{className:"text-xs text-blue-700 font-medium",children:"You are near Eiffel Tower"})]})})]}),e.jsxs("div",{className:"p-3 bg-gradient-to-br from-green-100 via-blue-100 to-purple-100 h-full relative",children:[e.jsx("div",{className:"absolute inset-0 opacity-20",children:e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-green-200 to-blue-200"})}),e.jsxs("div",{className:"relative space-y-2",children:[e.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded overflow-hidden mr-3",children:e.jsx("img",{src:"https://picsum.photos/50/50?random=6",alt:"",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900",children:"Eiffel Tower"}),e.jsx("p",{className:"text-xs text-green-600",children:"5 min walk  Open now"})]}),e.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:""})})]})}),e.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-orange-600 text-xs",children:""})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-bold text-gray-900",children:"Caf de Flore"}),e.jsx("p",{className:"text-xs text-orange-600",children:"2 min walk  Popular"})]})]})})]})]})]})}];return j.useEffect(()=>{if(l){const b=setInterval(()=>{h(v=>(v+1)%p.length)},3e3);return()=>clearInterval(b)}},[l,p.length]),j.useEffect(()=>{const b=setInterval(()=>{f(v=>(v+1)%y.length)},4e3);return()=>clearInterval(b)},[y.length]),e.jsxs("div",{className:"min-h-screen",children:[e.jsx(sS,{}),e.jsx("style",{children:aS}),e.jsxs("section",{className:"relative h-screen bg-gradient-to-b from-blue-600 via-indigo-700 to-purple-800 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0",children:e.jsx(q0,{src:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1920&h=1080&fit=crop&auto=format&q=80",fallbackSrc:"https://picsum.photos/1920/1080?random=1",alt:"Travel essentials - map, camera, passport and planning items",className:"w-full h-full object-cover",loading:"eager"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 to-transparent"}),e.jsx("div",{className:"relative z-10 h-screen flex items-center px-4 py-8",children:e.jsxs("div",{className:"w-full max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center text-white mb-8",children:[e.jsxs("h1",{className:"text-3xl md:text-5xl lg:text-6xl font-bold mb-4 leading-tight",children:[l?`Welcome back, ${l.fullName?.split(" ")[0]||l.username?.split(" ")[0]||l.name||"Explorer"}!`:"Your Perfect Trip in",e.jsx("span",{className:"block text-yellow-400",children:l?"Your next adventure is waiting.":"2 Minutes"})]}),e.jsx("h2",{className:"text-lg md:text-xl mb-6 text-white/90 max-w-2xl mx-auto",children:l?e.jsx("span",{className:"inline-block transition-all duration-500 ease-in-out transform",children:p[m]}):"AI plans everything. You just pack and go."})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mt-6",children:l?e.jsxs(e.Fragment,{children:[e.jsx(Te,{to:"/trips",children:e.jsx(I,{className:"bg-white/20 backdrop-blur-sm border border-white/30 text-white hover:bg-white hover:text-gray-900 px-6 py-3 rounded-xl transition-all duration-300",children:"Start Trip Planning"})}),e.jsx(Te,{to:"/places",children:e.jsxs(I,{className:"bg-yellow-500 hover:bg-yellow-600 text-black px-6 py-3 rounded-xl font-semibold transition-all duration-300",children:["Explore Destinations",e.jsx(Ka,{className:"w-4 h-4 ml-2"})]})})]}):e.jsxs(e.Fragment,{children:[e.jsx(Te,{to:"/register",children:e.jsxs(I,{className:"bg-yellow-500 hover:bg-yellow-600 text-black px-6 py-3 rounded-xl font-semibold transition-all duration-300",children:["Get Started Free",e.jsx(Ka,{className:"w-4 h-4 ml-2"})]})}),e.jsx(Te,{to:"/login",children:e.jsx(I,{className:"bg-white/20 backdrop-blur-sm border border-white/30 text-white hover:bg-white hover:text-gray-900 px-6 py-3 rounded-xl transition-all duration-300",children:"Sign In"})})]})})]})})]}),e.jsxs("section",{className:"py-20 bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 to-purple-600/5"}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 relative",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{className:"relative flex justify-center lg:justify-start order-2 lg:order-1",children:[e.jsx("div",{className:"absolute -top-8 -left-8 bg-blue-600 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg animate-pulse",children:" Nearby Places"}),e.jsx("div",{className:"absolute top-32 -right-12 bg-green-600 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg animate-pulse",style:{animationDelay:"1s"},children:" Offline Mode"}),e.jsx("div",{className:"absolute bottom-32 -left-16 bg-purple-600 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg animate-pulse",style:{animationDelay:"2s"},children:" AI Recommendations"}),e.jsx("div",{className:"absolute bottom-16 -right-8 bg-orange-600 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg animate-pulse",style:{animationDelay:"3s"},children:" Live Navigation"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-full blur-3xl animate-pulse-slow"}),e.jsx("div",{className:"relative phone-tilt-container z-10",children:e.jsxs("div",{className:"relative w-72 h-[580px] bg-gradient-to-b from-gray-900 to-black rounded-[3rem] p-2 shadow-2xl",children:[e.jsxs("div",{className:"w-full h-full bg-white rounded-[2.5rem] overflow-hidden relative",children:[e.jsxs("div",{className:"bg-gray-900 h-8 flex items-center justify-between px-6 text-white text-xs",children:[e.jsx("span",{className:"font-medium",children:"9:41"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-4 h-2 bg-white rounded-sm"}),e.jsx("div",{className:"w-1 h-2 bg-white rounded-sm"})]})]}),e.jsx("div",{className:"h-full transition-all duration-1000 ease-in-out",children:y[x].content}),e.jsx("div",{className:"absolute bottom-16 left-1/2 transform -translate-x-1/2 flex gap-2",children:y.map((b,v)=>e.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${v===x?"bg-blue-500 w-6":"bg-gray-300"}`},v))}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-2",children:e.jsxs("div",{className:"flex justify-around",children:[e.jsxs("div",{className:`text-xs text-center transition-colors duration-300 ${x===0?"text-blue-500":"text-gray-400"}`,children:[e.jsx("div",{className:"w-5 h-5 mx-auto mb-1 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(pe,{className:"w-3 h-3"})}),e.jsx("span",{className:"font-medium",children:"Places"})]}),e.jsxs("div",{className:`text-xs text-center transition-colors duration-300 ${x===2?"text-blue-500":"text-gray-400"}`,children:[e.jsx("div",{className:"w-5 h-5 mx-auto mb-1 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(zt,{className:"w-3 h-3"})}),e.jsx("span",{children:"Trips"})]}),e.jsxs("div",{className:`text-xs text-center transition-colors duration-300 ${x===3?"text-blue-500":"text-gray-400"}`,children:[e.jsx("div",{className:"w-5 h-5 mx-auto mb-1 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(Ot,{className:"w-3 h-3"})}),e.jsx("span",{children:"Navigate"})]})]})})]}),e.jsx("div",{className:"absolute -bottom-4 left-3 right-3 h-12 bg-gradient-to-b from-black/30 to-transparent rounded-[3rem] blur-2xl"})]})})]}),e.jsxs("div",{className:"space-y-6 order-1 lg:order-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"inline-flex items-center bg-gradient-to-r from-blue-100 to-purple-100 rounded-full px-4 py-2 mb-4",children:[e.jsx("span",{className:"text-2xl mr-2",children:""}),e.jsx("span",{className:"text-blue-800 font-semibold",children:"Mobile App"})]}),e.jsxs("h2",{className:"text-4xl lg:text-5xl font-bold text-gray-900 mb-4 leading-tight",children:["Your Travel Companion",e.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600",children:"In Your Pocket"})]}),e.jsx("p",{className:"text-xl text-gray-600",children:"Unique mobile features that make travel planning effortless"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-4 bg-white rounded-xl p-4 shadow-md hover:shadow-lg transition-all duration-300 group",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-all duration-300",children:e.jsx(pe,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Nearby Places Discovery"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Find restaurants, attractions & hidden gems within walking distance using GPS"})]})]}),e.jsxs("div",{className:"flex items-start gap-4 bg-white rounded-xl p-4 shadow-md hover:shadow-lg transition-all duration-300 group",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-green-600 rounded-xl flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-all duration-300",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Offline Access"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Download maps, itineraries & place details - travel without internet or roaming"})]})]}),e.jsxs("div",{className:"flex items-start gap-4 bg-white rounded-xl p-4 shadow-md hover:shadow-lg transition-all duration-300 group",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-purple-600 rounded-xl flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-all duration-300",children:e.jsx(dt,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Smart AI Recommendations"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Get personalized suggestions based on time, weather, crowds & your preferences"})]})]}),e.jsxs("div",{className:"flex items-start gap-4 bg-white rounded-xl p-4 shadow-md hover:shadow-lg transition-all duration-300 group",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-orange-500 to-orange-600 rounded-xl flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-all duration-300",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Live Navigation"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Turn-by-turn directions to your next destination with real-time traffic updates"})]})]})]}),e.jsxs("div",{className:"pt-4",children:[e.jsx("p",{className:"text-gray-600 mb-4 font-semibold",children:"Download the mobile app:"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("a",{href:"#",className:"inline-flex items-center justify-center bg-black text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[e.jsx("svg",{className:"w-6 h-6 mr-3",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"})}),"App Store"]}),e.jsxs("a",{href:"#",className:"inline-flex items-center justify-center bg-black text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[e.jsx("svg",{className:"w-6 h-6 mr-3",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M3,20.5V3.5C3,2.91 3.34,2.39 3.84,2.15L13.69,12L3.84,21.85C3.34,21.6 3,21.09 3,20.5M16.81,15.12L6.05,21.34L14.54,12.85L16.81,15.12M20.16,10.81C20.5,11.08 20.75,11.5 20.75,12C20.75,12.5 20.53,12.9 20.18,13.18L17.89,14.5L15.39,12L17.89,9.5L20.16,10.81M6.05,2.66L16.81,8.88L14.54,11.15L6.05,2.66Z"})}),"Google Play"]})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"Or use the web app - no download needed!"})]})]})]})})]}),e.jsx("section",{className:"py-20 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Best Places to Visit This Month"}),e.jsxs("p",{className:"text-xl text-gray-600",children:["AI-curated destinations perfect for ",new Date().toLocaleString("default",{month:"long"})]})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:iS.map(b=>e.jsxs(ae,{className:"group overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(q0,{src:b.image,fallbackSrc:`https://picsum.photos/400/300?random=${b.id}`,alt:b.name,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"}),b.popular&&e.jsx("div",{className:"absolute top-4 left-4 bg-yellow-500 text-black px-3 py-1 rounded-full text-sm font-medium",children:"Most Popular"}),b.trending&&e.jsx("div",{className:"absolute top-4 left-4 bg-red-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Trending"}),e.jsx("div",{className:"absolute top-4 right-4 bg-blue-600 text-white px-3 py-1 rounded-full text-xs font-medium",children:b.reason})]}),e.jsxs(re,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:b.name}),e.jsx("p",{className:"text-gray-600",children:b.country})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Pe,{className:"w-4 h-4 text-yellow-500 fill-current"}),e.jsx("span",{className:"text-sm font-medium",children:b.rating})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-blue-600 font-medium",children:b.reason}),e.jsx(Te,{to:"/places",children:e.jsx(I,{className:"bg-blue-600 text-white hover:bg-blue-700 px-4 py-2",children:"Explore"})})]})]})]},b.id))}),e.jsx("div",{className:"text-center",children:e.jsx(Te,{to:"/places",children:e.jsxs(I,{className:"bg-blue-600 text-white hover:bg-blue-700 px-8 py-4 text-lg rounded-xl",children:["View All Destinations",e.jsx(Ka,{className:"w-5 h-5 ml-2"})]})})})]})}),e.jsxs("section",{className:"py-20 bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 to-purple-600/5"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs("div",{className:"inline-flex items-center bg-gradient-to-r from-blue-100 to-purple-100 rounded-full px-6 py-2 mb-6",children:[e.jsx(dt,{className:"w-5 h-5 text-blue-600 mr-2"}),e.jsx("span",{className:"text-blue-800 font-semibold",children:"AI-Powered Planning"})]}),e.jsx("h2",{className:"text-5xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-6",children:"Plan Your Dream Trip in 3 Simple Steps"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Our AI transforms hours of research into minutes of smart planning"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8 relative",children:[e.jsx("div",{className:"hidden md:block absolute top-24 left-1/4 right-1/4 h-1 bg-gradient-to-r from-blue-400 via-purple-400 to-green-400 rounded-full"}),[{step:1,icon:e.jsx(Ot,{className:"w-10 h-10"}),title:"Tell Us Your Travel Style",description:"Share your interests and budget in just 30 seconds. No lengthy forms!",color:"from-blue-500 to-blue-600",bgColor:"from-blue-50 to-blue-100",time:"30 seconds"},{step:2,icon:e.jsx(dt,{className:"w-10 h-10"}),title:"AI Creates Your Perfect Itinerary",description:"Get personalized itineraries with hidden gems, hotels, transport & activities  all in 2 minutes.",color:"from-purple-500 to-purple-600",bgColor:"from-purple-50 to-purple-100",time:"2 minutes"},{step:3,icon:e.jsx(ar,{className:"w-10 h-10"}),title:"Download, Share & Book Instantly",description:"One-click booking and offline access. Take your trip anywhere, even without internet.",color:"from-green-500 to-green-600",bgColor:"from-green-50 to-green-100",time:"5 minutes"}].map((b,v)=>e.jsx("div",{className:"relative group",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-4 border border-gray-100",children:[e.jsx("div",{className:`absolute -top-4 left-8 w-12 h-12 bg-gradient-to-r ${b.color} rounded-full flex items-center justify-center shadow-lg`,children:e.jsx("span",{className:"text-white font-bold text-lg",children:b.step})}),e.jsx("div",{className:`w-20 h-20 bg-gradient-to-r ${b.bgColor} rounded-2xl flex items-center justify-center mx-auto mb-6 mt-4 group-hover:scale-110 transition-transform duration-300 animate-float`,children:e.jsx("div",{className:`text-transparent bg-gradient-to-r ${b.color} bg-clip-text`,children:b.icon})}),e.jsxs("div",{className:"inline-flex items-center bg-gray-100 rounded-full px-3 py-1 mb-4",children:[e.jsx(nt,{className:"w-4 h-4 text-gray-500 mr-1"}),e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:b.time})]}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:b.title}),e.jsx("p",{className:"text-gray-600 text-base leading-relaxed",children:b.description}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${b.color} opacity-0 group-hover:opacity-5 rounded-2xl transition-opacity duration-300`})]})},b.step))]}),e.jsxs("div",{className:"text-center mt-16",children:[e.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Ready to Start Your Adventure?"}),e.jsx("p",{className:"text-xl text-gray-600 mb-6",children:"Join 50,000+ travelers who saved 3+ hours with AI planning"}),e.jsx(Te,{to:"/trips",children:e.jsxs(I,{className:"bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700 text-white px-10 py-4 text-lg rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[e.jsx(dt,{className:"w-6 h-6 mr-3"}),"Start Planning Free",e.jsx(Ka,{className:"w-5 h-5 ml-3"})]})}),e.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"No credit card required  Free forever"})]})]})]}),e.jsx("section",{className:"py-16 bg-gradient-to-b from-white to-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsx("div",{className:"group",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-yellow-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-yellow-400 via-yellow-500 to-orange-500 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-gray-900 font-bold text-lg leading-tight",children:"2024 Award Winner"}),e.jsx("div",{className:"text-gray-600 text-sm font-medium",children:"Best Travel Companion"})]})]})})}),e.jsx("div",{className:"group",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-blue-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 via-blue-600 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-gray-900 font-bold text-lg leading-tight",children:"#1 Trending App"}),e.jsx("div",{className:"text-blue-600 text-sm font-medium",children:"Featured on App Store"})]})]})})}),e.jsx("div",{className:"group",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-green-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 via-green-600 to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-gray-900 font-bold text-lg leading-tight",children:"4.8/5 Rating"}),e.jsx("div",{className:"text-gray-600 text-sm font-medium",children:"Based on 50k+ Reviews"})]})]})})}),e.jsx("div",{className:"group",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-teal-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500 via-green-500 to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-gray-900 font-bold text-lg leading-tight",children:"Secure & Private"}),e.jsx("div",{className:"text-gray-600 text-sm font-medium",children:"Bank-grade encryption"})]})]})})}),e.jsx("div",{className:"group",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-orange-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 via-orange-600 to-red-500 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-gray-900 font-bold text-lg leading-tight",children:"Fresh Deals"}),e.jsx("div",{className:"text-gray-600 text-sm font-medium",children:"Updated every hour"})]})]})})}),e.jsx("div",{className:"group",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 border border-purple-100",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 via-purple-600 to-pink-500 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-gray-900 font-bold text-lg leading-tight",children:"Active Community"}),e.jsx("div",{className:"text-gray-600 text-sm font-medium",children:"67 travelers online now"})]})]})})})]})})}),e.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-50 to-green-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Simple, Transparent Pricing"}),e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Start free, upgrade when you need more"}),e.jsx("p",{className:"text-lg text-blue-600 font-semibold",children:"Used by travelers from 120+ countries"})]}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-6 mb-12",children:[e.jsxs("div",{className:"bg-white rounded-xl px-6 py-4 shadow-lg border border-gray-200",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"50,000+"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Travelers"})]}),e.jsxs("div",{className:"bg-white rounded-xl px-6 py-4 shadow-lg border border-gray-200",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"125,000+"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Trips Generated"})]}),e.jsxs("div",{className:"bg-white rounded-xl px-6 py-4 shadow-lg border border-gray-200",children:[e.jsx("div",{className:"flex items-center gap-1 text-2xl font-bold text-yellow-500",children:""}),e.jsx("div",{className:"text-sm text-gray-600",children:"Play Store Rating"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-xl border border-gray-200 mb-12",children:[e.jsx("h3",{className:"text-2xl font-bold text-center mb-8",children:"Choose Your Plan"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-4 px-6 font-semibold text-gray-900",children:"Feature"}),e.jsx("th",{className:"text-center py-4 px-6 font-semibold text-gray-900",children:"Free"}),e.jsx("th",{className:"text-center py-4 px-6 font-semibold text-blue-600 bg-blue-50 rounded-t-lg",children:"Premium"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-4 px-6 text-gray-700",children:"AI Trip Planning"}),e.jsx("td",{className:"text-center py-4 px-6",children:e.jsx("span",{className:"text-green-500 text-xl",children:""})}),e.jsx("td",{className:"text-center py-4 px-6 bg-blue-50",children:e.jsx("span",{className:"text-green-500 text-xl",children:""})})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-4 px-6 text-gray-700",children:"Unlimited Favorites"}),e.jsx("td",{className:"text-center py-4 px-6",children:e.jsx("span",{className:"text-gray-400 text-xl",children:""})}),e.jsx("td",{className:"text-center py-4 px-6 bg-blue-50",children:e.jsx("span",{className:"text-green-500 text-xl",children:""})})]}),e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-4 px-6 text-gray-700",children:"Offline Access"}),e.jsx("td",{className:"text-center py-4 px-6",children:e.jsx("span",{className:"text-gray-400 text-xl",children:""})}),e.jsx("td",{className:"text-center py-4 px-6 bg-blue-50",children:e.jsx("span",{className:"text-green-500 text-xl",children:""})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-4 px-6 text-gray-700",children:"Advanced Weather AI"}),e.jsx("td",{className:"text-center py-4 px-6",children:e.jsx("span",{className:"text-gray-400 text-xl",children:""})}),e.jsx("td",{className:"text-center py-4 px-6 bg-blue-50 rounded-b-lg",children:e.jsx("span",{className:"text-green-500 text-xl",children:""})})]})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mt-8",children:[e.jsx(Te,{to:l?"/trips":"/register",children:e.jsx(I,{className:"bg-gray-600 text-white hover:bg-gray-700 px-8 py-3 rounded-xl",children:"Start Free"})}),e.jsx(Te,{to:"/subscription",children:e.jsx(I,{className:"bg-blue-600 text-white hover:bg-blue-700 px-8 py-3 rounded-xl",children:"Upgrade to Premium - $9.99/month"})})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg",children:[e.jsx("h3",{className:"text-2xl font-bold text-center mb-8",children:"What Our Users Say"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:oS.testimonials.map((b,v)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-3",children:[...Array(b.rating)].map((k,S)=>e.jsx(Pe,{className:"w-5 h-5 text-yellow-500 fill-current"},S))}),e.jsxs("p",{className:"text-gray-700 mb-4 italic",children:['"',b.text,'"']}),e.jsx("div",{className:"font-semibold text-gray-900",children:b.name}),e.jsx("div",{className:"text-gray-600 text-sm",children:b.location})]},v))})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsx(Te,{to:"/trips",children:e.jsxs(I,{className:"bg-green-600 text-white hover:bg-green-700 px-8 py-4 text-lg rounded-xl",children:["Start Planning Free",e.jsx(Ka,{className:"w-5 h-5 ml-2"})]})})})]})}),e.jsx("section",{className:"py-20 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Everything You Need"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Complete travel services in one platform"})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{icon:e.jsx(G6,{className:"w-8 h-8"}),title:"Hotels",description:"Compare the best options in seconds",link:"/services",color:"from-blue-500 to-blue-600",bgColor:"from-blue-50 to-blue-100"},{icon:e.jsx(Dr,{className:"w-8 h-8"}),title:"Transport",description:"Taxi, bus, tuk-tuk, train  all in one place",link:"/transport",color:"from-green-500 to-green-600",bgColor:"from-green-50 to-green-100"},{icon:e.jsx(pe,{className:"w-8 h-8"}),title:"Activities",description:"Local events, top attractions & hidden experiences",link:"/discovery",color:"from-purple-500 to-purple-600",bgColor:"from-purple-50 to-purple-100"},{icon:e.jsx(zt,{className:"w-8 h-8"}),title:"Trip Planning",description:"Your smart itinerary, always up to date",link:"/trips",color:"from-orange-500 to-orange-600",bgColor:"from-orange-50 to-orange-100"}].map((b,v)=>e.jsx(Te,{to:b.link,children:e.jsxs(ae,{className:"p-6 text-center hover:shadow-xl transition-all duration-300 hover:-translate-y-2 cursor-pointer group",children:[e.jsx("div",{className:`w-16 h-16 bg-gradient-to-r ${b.bgColor} rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-all duration-300`,children:e.jsx("div",{className:`text-transparent bg-gradient-to-r ${b.color} bg-clip-text group-hover:scale-110 transition-transform duration-300`,children:b.icon})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors duration-300",children:b.title}),e.jsx("p",{className:"text-gray-600 group-hover:text-gray-700 transition-colors duration-300",children:b.description}),e.jsx("div",{className:"mt-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsx(Ka,{className:"w-5 h-5 text-blue-600 mx-auto"})})]})},v))})]})}),e.jsx("section",{className:"py-20 bg-gradient-to-b from-gray-50 to-white",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs("div",{className:"inline-flex items-center bg-blue-100 rounded-full px-6 py-2 mb-6",children:[e.jsx("span",{className:"text-2xl mr-2",children:""}),e.jsx("span",{className:"text-blue-800 font-semibold",children:"Got Questions?"})]}),e.jsx("h2",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-6",children:"Frequently Asked Questions"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Everything you need to know about TravelBuddy"})]}),e.jsx(lS,{}),e.jsx("div",{className:"text-center mt-16",children:e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Still have questions?"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Our support team is here to help you 24/7"}),e.jsx(Te,{to:"/contact",children:e.jsx(I,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:"Contact Support"})})]})})]})}),l&&e.jsx(j.Suspense,{fallback:e.jsx(rS,{}),children:e.jsx("section",{className:"py-20 bg-gradient-to-r from-purple-50 to-pink-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Recommended For Your Travel Style"}),e.jsx("p",{className:"text-xl text-gray-600",children:"AI-powered suggestions based on your preferences and past trips"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs(ae,{className:"p-6 text-center hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-100 to-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(dt,{className:"w-8 h-8 text-purple-600"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Adventure Seeker"}),e.jsx("p",{className:"text-gray-600",children:"Hiking trails, extreme sports, and outdoor adventures"})]}),e.jsxs(ae,{className:"p-6 text-center hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-100 to-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ut,{className:"w-8 h-8 text-green-600"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Culture Explorer"}),e.jsx("p",{className:"text-gray-600",children:"Museums, local cuisine, and authentic experiences"})]}),e.jsxs(ae,{className:"p-6 text-center hover:shadow-xl transition-all duration-300",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-yellow-100 to-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Pe,{className:"w-8 h-8 text-orange-600"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Luxury Traveler"}),e.jsx("p",{className:"text-gray-600",children:"Premium hotels, fine dining, and exclusive experiences"})]})]})]})})})]})},De=({children:l,className:r="",variant:n="default"})=>{const o="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium",c={default:"bg-blue-100 text-blue-800",destructive:"bg-red-100 text-red-800",outline:"border border-gray-300 text-gray-700",secondary:"bg-gray-100 text-gray-800"};return e.jsx("span",{className:`${o} ${c[n]} ${r}`,children:l})},dS=({isOpen:l,onClose:r,currentTier:n="free",upgradeRequired:o=!1})=>{const{user:c}=wt(),{config:m}=Qn(),[h,x]=j.useState(!1),[f,p]=j.useState({}),[y,b]=j.useState(null);j.useEffect(()=>{l&&(v(),k())},[l]);const v=async()=>{try{const T=m?.apiBaseUrl||"https://travelbuddy-b2c6hgbbgeh4esdh.eastus2-01.azurewebsites.net",O=await fetch(`${T}/api/subscriptions/tiers`);if(O.ok){const R=await O.json();p(R)}}catch(T){console.error("Failed to fetch tiers:",T)}},k=async()=>{if(c?.id)try{const T=m?.apiBaseUrl||"https://travelbuddy-b2c6hgbbgeh4esdh.eastus2-01.azurewebsites.net",O=await fetch(`${T}/api/subscriptions/status`,{headers:{"x-user-id":c.id}});if(O.ok){const R=await O.json();b(R)}}catch(T){console.error("Failed to fetch subscription status:",T)}},S=async T=>{if(c?.id){x(!0);try{const O=m?.apiBaseUrl||"https://travelbuddy-b2c6hgbbgeh4esdh.eastus2-01.azurewebsites.net",R=await fetch(`${O}/api/subscriptions/upgrade`,{method:"POST",headers:{"Content-Type":"application/json","x-user-id":c.id},body:JSON.stringify({tier:T})});if(R.ok){const W=await R.json();alert(`Successfully upgraded to ${T} plan!`),r(),window.location.reload()}else{const W=await R.json();alert(`Upgrade failed: ${W.error}`)}}catch(O){console.error("Upgrade failed:",O),alert("Upgrade failed. Please try again.")}finally{x(!1)}}};if(!l)return null;const C=["free","basic","premium","pro"],w=C.indexOf(n);return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs(ae,{className:"w-full max-w-6xl max-h-[90vh] overflow-y-auto bg-white",children:[e.jsxs(je,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(we,{className:"flex items-center text-2xl font-bold",children:[e.jsx(gs,{className:"w-6 h-6 mr-3"}),o?"Upgrade Required":"Choose Your Plan"]}),e.jsx(I,{variant:"outline",size:"sm",onClick:r,className:"bg-white/20 border-white/30 text-white hover:bg-white/30 rounded-full w-8 h-8 p-0",children:e.jsx(jt,{className:"w-4 h-4"})})]}),o&&e.jsx("p",{className:"text-blue-100 mt-2",children:"You've reached your plan limit. Upgrade to continue using this feature."})]}),e.jsxs(re,{className:"p-8",children:[y&&e.jsxs("div",{className:"mb-8 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Current Usage"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(y.usage).map(([T,O])=>e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium capitalize",children:T.replace(/([A-Z])/g," $1")}),e.jsxs("div",{className:"text-gray-600",children:[O.current," / ",O.limit===-1?"":O.limit," per ",O.period]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:O.limit===-1?"100%":`${Math.min(100,O.current/O.limit*100)}%`}})})]},T))})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:C.map((T,O)=>{const R=f[T];if(!R)return null;const W=T===n,B=O>w,X=T==="premium";return e.jsxs("div",{className:`relative border-2 rounded-xl p-6 ${W?"border-green-500 bg-green-50":X?"border-purple-500 bg-purple-50":"border-gray-200 bg-white"} ${B?"hover:shadow-lg transition-shadow":""}`,children:[X&&e.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:e.jsx("span",{className:"bg-purple-600 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Most Popular"})}),W&&e.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:e.jsx("span",{className:"bg-green-600 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Current Plan"})}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsxs("div",{className:"flex justify-center mb-2",children:[T==="free"&&e.jsx(dt,{className:"w-8 h-8 text-blue-500"}),T==="basic"&&e.jsx(Cs,{className:"w-8 h-8 text-green-500"}),T==="premium"&&e.jsx(Pe,{className:"w-8 h-8 text-purple-500"}),T==="pro"&&e.jsx(gs,{className:"w-8 h-8 text-yellow-500"})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:R.name}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900 mt-2",children:["$",R.price,R.price>0&&e.jsx("span",{className:"text-sm text-gray-500",children:"/month"})]})]}),e.jsx("ul",{className:"space-y-3 mb-6",children:R.features.map((V,_)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(ri,{className:"w-5 h-5 text-green-500 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-700",children:V})]},_))}),e.jsx(I,{onClick:()=>S(T),disabled:h||W||!B,className:`w-full ${W?"bg-green-600 text-white cursor-default":B?X?"bg-purple-600 hover:bg-purple-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:h?"Processing...":W?"Current Plan":B?`Upgrade to ${R.name}`:"Downgrade Not Available"})]},T)})}),e.jsxs("div",{className:"mt-8 text-center text-sm text-gray-600",children:[e.jsx("p",{children:"All plans include basic features and customer support."}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Note:"})," This is a demo subscription system. No actual payment is processed."]})]})]})]})})},uS=()=>{const{user:l}=wt(),[r,n]=j.useState({emailVerified:!1,phoneVerified:!1,twoFactorEnabled:!1,lastLogin:new Date,loginHistory:[]}),[o,c]=j.useState(!1),m=async()=>{if(l?.id)try{const x=await rs.getConfig(),f=localStorage.getItem("token")||localStorage.getItem("demo_token"),p={};f&&(p.Authorization=`Bearer ${f}`),l?.id&&(p["x-user-id"]=l.id);const y=await fetch(`${x.apiBaseUrl}/api/users/security`,{headers:p});if(y.ok){const b=await y.json();n(b)}else n({emailVerified:!0,phoneVerified:!1,twoFactorEnabled:!1,lastLogin:new Date,loginHistory:[]})}catch(x){console.error("Failed to fetch security settings:",x),n({emailVerified:!0,phoneVerified:!1,twoFactorEnabled:!1,lastLogin:new Date,loginHistory:[]})}},h=async x=>{c(!0);try{const f=await rs.getConfig(),p=localStorage.getItem("token")||localStorage.getItem("demo_token"),y={"Content-Type":"application/json"};p&&(y.Authorization=`Bearer ${p}`),l?.id&&(y["x-user-id"]=l.id);const b=await fetch(`${f.apiBaseUrl}/api/users/security`,{method:"PUT",headers:y,body:JSON.stringify(x)});if(b.ok){const v=await b.json();return n(k=>({...k,...v})),!0}return!1}catch(f){return console.error("Failed to update security settings:",f),!1}finally{c(!1)}};return j.useEffect(()=>{m()},[l?.id]),{security:r,loading:o,updateSecurity:h,refreshSecurity:m}},mS=({currentPicture:l,onUploadSuccess:r,onUploadError:n,onUploadProgress:o})=>{const{user:c}=wt(),[m,h]=j.useState(!1),[x,f]=j.useState(null),[p,y]=j.useState(0),b=j.useRef(null),v=w=>{const T=w.target.files?.[0];if(!T)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(T.type)){n?.("Please select a valid image file (JPEG, PNG, GIF, or WebP)");return}if(T.size>5*1024*1024){n?.("File size must be less than 5MB");return}const R=new FileReader;R.onload=W=>{f(W.target?.result)},R.readAsDataURL(T),k(T)},k=async w=>{h(!0),y(0),o?.(0);try{const T=new FormData;T.append("profilePicture",w);const O=localStorage.getItem("token")||localStorage.getItem("demo_token"),R={};O&&(R.Authorization=`Bearer ${O}`),c?.id&&(R["x-user-id"]=c.id);const W=setInterval(()=>{y(ne=>Math.min(ne+10,90))},200),X=`${(await rs.getConfig()).apiBaseUrl}/api/upload/profile-picture`;console.log(" Uploading to:",X,{userId:c?.id,hasToken:!!O});const V=await fetch(X,{method:"POST",headers:R,body:T});if(console.log(" Upload response:",V.status,V.statusText),clearInterval(W),y(100),!V.ok){const ne=await V.json();throw new Error(ne.error||"Upload failed")}const _=await V.json();if(_.success)r?.(_.profilePicture),f(null),y(0);else throw new Error(_.error||"Upload failed")}catch(T){console.error("Upload error:",T);const O=T instanceof Error?T.message:"Upload failed. Please try again.";n?.(O),f(null),y(0)}finally{h(!1),b.current&&(b.current.value="")}},S=()=>{b.current?.click()},C=x||l;return e.jsxs("div",{className:"relative group",children:[e.jsxs("div",{className:"w-40 h-40 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm border-4 border-white/30 shadow-2xl overflow-hidden",children:[C?e.jsx("img",{src:C,alt:"Profile",className:"w-full h-full object-cover"}):e.jsx(rr,{className:"w-20 h-20 text-white"}),m&&e.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex flex-col items-center justify-center rounded-full",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mb-2"}),p>0&&e.jsxs("div",{className:"text-white text-xs font-semibold",children:[p,"%"]})]})]}),e.jsx("button",{onClick:S,disabled:m,className:"absolute bottom-3 right-3 w-12 h-12 bg-white text-blue-600 rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-all duration-200 group-hover:bg-blue-50 disabled:opacity-50 disabled:cursor-not-allowed",title:"Upload profile picture",children:m?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}):e.jsx(tr,{className:"w-6 h-6"})}),e.jsx("input",{ref:b,type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:v,className:"hidden"})]})},hS=()=>{const{user:l,updateProfile:r,logout:n}=wt(),o=Nt(),{security:c,updateSecurity:m}=uS(),[h,x]=j.useState(!1),[f,p]=j.useState({username:l?.username||"",email:l?.email||"",fullName:l?.fullName||"",phone:l?.phone||"",bio:l?.bio||"",homeCity:l?.homeCity||"",languages:l?.languages||[]}),[y,b]=j.useState(!1),[v,k]=j.useState(!1),[S,C]=j.useState({tripsPlanned:0,placesVisited:0,reviewsWritten:0,aiGenerations:0,profileViews:0,dealsCreated:0,clientSatisfaction:0,ridesCompleted:0}),[w,T]=j.useState(!1),[O,R]=j.useState(null),[W,B]=j.useState(null),[X,V]=j.useState(""),[_,ne]=j.useState([]),[ye,Me]=j.useState(""),[D,Z]=j.useState({budgetRange:"moderate",travelPace:"moderate",interests:[],accessibility:!1}),[oe,Y]=j.useState({profileVisibility:"public",hideTravel:!1,hideActivity:!1}),[A,F]=j.useState({email:!0,push:!0,trips:!0,deals:!0,community:!0}),[P,z]=j.useState(!1),[ce,M]=j.useState(!1),[Q,ie]=j.useState(!1),de=()=>{let K=0;const _e=5;return(l?.fullName||f.fullName)&&K++,c.emailVerified&&K++,(l?.phone||f.phone)&&K++,(l?.bio||f.bio)&&K++,(l?.homeCity||f.homeCity)&&K++,Math.round(K/_e*100)};j.useEffect(()=>{rs.getConfig().then(K=>V(K.apiBaseUrl))},[]),j.useEffect(()=>{l?.id&&be()},[l?.id]),j.useEffect(()=>{if(l){if(l.socialLinks){const K=l.socialLinks;if(Array.isArray(K))ne(K);else{const _e=Object.entries(K).filter(([te,ue])=>ue).map(([te,ue])=>({platform:te,url:ue}));ne(_e)}}l.travelPreferences&&Z(l.travelPreferences)}},[l]),j.useEffect(()=>{const K=_e=>{_e.target.closest(".role-menu-container")||T(!1)};return document.addEventListener("click",K),()=>document.removeEventListener("click",K)},[]);const be=async()=>{try{const K=await rs.getConfig(),_e=localStorage.getItem("token")||localStorage.getItem("demo_token"),te={};_e&&(te.Authorization=`Bearer ${_e}`),l?.id&&(te["x-user-id"]=l.id);const ue=await fetch(`${K.apiBaseUrl}/api/users/${l?.id}/stats`,{headers:te});if(ue.ok){const Be=await ue.json();if(C({tripsPlanned:Be.totalTrips||0,placesVisited:Be.totalFavorites||0,reviewsWritten:Be.totalPosts||0,aiGenerations:0,profileViews:0,dealsCreated:0,clientSatisfaction:0,ridesCompleted:0}),p({username:l?.username||"",email:l?.email||"",fullName:Be.fullName||l?.fullName||"",phone:Be.phone||l?.phone||"",bio:Be.bio||l?.bio||"",homeCity:Be.homeCity||l?.homeCity||"",languages:Be.languages||l?.languages||[]}),Be.socialLinks)if(Array.isArray(Be.socialLinks))ne(Be.socialLinks);else{const ns=Object.entries(Be.socialLinks).filter(([ba,or])=>or).map(([ba,or])=>({platform:ba,url:or}));ne(ns)}Be.travelPreferences&&Z(Be.travelPreferences)}}catch(K){console.error("Failed to fetch user stats:",K)}},Ne=async()=>{b(!0);try{const K=await rs.getConfig(),_e=localStorage.getItem("token")||localStorage.getItem("demo_token"),te={"Content-Type":"application/json"};_e&&(te.Authorization=`Bearer ${_e}`),l?.id&&(te["x-user-id"]=l.id);const ue=await fetch(`${K.apiBaseUrl}/api/users/profile`,{method:"PUT",headers:te,body:JSON.stringify({...f,socialLinks:_,travelPreferences:D})});if(ue.ok){const Be=await ue.json();await r({username:f.username,fullName:f.fullName,phone:f.phone,bio:f.bio,homeCity:f.homeCity,socialLinks:_,travelPreferences:D}),x(!1),alert("Profile updated successfully!")}else throw new Error("Failed to update profile")}catch(K){console.error("Failed to update profile:",K),alert("Failed to update profile. Please try again.")}finally{b(!1)}},me=()=>{p({username:l?.username||"",email:l?.email||"",fullName:l?.fullName||"",phone:l?.phone||"",bio:l?.bio||"",homeCity:l?.homeCity||"",languages:l?.languages||[]}),x(!1)},Qe=async K=>{console.log("Profile picture uploaded successfully:",K),R(null),B(null),l&&await r({profilePicture:K}),be()},$e=K=>{console.error("Profile picture upload failed:",K),R(null),B(K),setTimeout(()=>B(null),5e3)};if(!l)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Not Logged In"}),e.jsx("p",{className:"text-gray-600",children:"Please log in to view your profile"})]})});const kt=()=>{const K=l.activeRole||l.role;return K==="merchant"?[{icon:Kt,label:"Deals Created",value:S.dealsCreated,bgColor:"bg-purple-100",iconColor:"text-purple-600"},{icon:bs,label:"Profile Views",value:S.profileViews,bgColor:"bg-blue-100",iconColor:"text-blue-600"},{icon:Pe,label:"Rating",value:"4.8",bgColor:"bg-yellow-100",iconColor:"text-yellow-600"}]:K==="travel_agent"?[{icon:it,label:"Clients Served",value:S.ridesCompleted,bgColor:"bg-green-100",iconColor:"text-green-600"},{icon:Er,label:"Satisfaction",value:`${S.clientSatisfaction}%`,bgColor:"bg-blue-100",iconColor:"text-blue-600"},{icon:Pe,label:"Rating",value:"4.9",bgColor:"bg-yellow-100",iconColor:"text-yellow-600"}]:K==="transport_provider"?[{icon:Dr,label:"Rides Completed",value:S.ridesCompleted,bgColor:"bg-indigo-100",iconColor:"text-indigo-600"},{icon:Kt,label:"Fleet Usage",value:"85%",bgColor:"bg-green-100",iconColor:"text-green-600"},{icon:Pe,label:"Driver Rating",value:"4.7",bgColor:"bg-yellow-100",iconColor:"text-yellow-600"}]:[{icon:pe,label:"Trips Planned",value:S.tripsPlanned,bgColor:"bg-blue-100",iconColor:"text-blue-600"},{icon:ut,label:"Places Saved",value:S.placesVisited,bgColor:"bg-green-100",iconColor:"text-green-600"},{icon:Zu,label:"Posts Shared",value:S.reviewsWritten,bgColor:"bg-yellow-100",iconColor:"text-yellow-600"}]},mt=()=>{const K=S.tripsPlanned,_e=S.placesVisited;return K>=10?{type:"Adventure Seeker",icon:Tm,desc:"Always exploring new horizons"}:_e>=20?{type:"Culture Explorer",icon:Lt,desc:"Passionate about diverse experiences"}:K>=5?{type:"Weekend Wanderer",icon:pe,desc:"Regular traveler building memories"}:{type:"Journey Starter",icon:dt,desc:"Beginning your travel adventure"}},Bt=()=>{const K=[];return S.tripsPlanned>0&&K.push({icon:pb,label:"First Trip",color:"text-blue-600"}),S.tripsPlanned>=5&&K.push({icon:Eo,label:"5 Trips",color:"text-purple-600"}),S.placesVisited>=10&&K.push({icon:m3,label:"10 Places",color:"text-green-600"}),S.reviewsWritten>=5&&K.push({icon:Pe,label:"5 Reviews",color:"text-yellow-600"}),K},ga=()=>[],ls=[{id:"culture",label:"Culture & History",icon:Lt},{id:"adventure",label:"Adventure",icon:tm},{id:"food",label:"Food & Dining",icon:Qu},{id:"beach",label:"Beach & Relaxation",icon:ar},{id:"nature",label:"Nature & Wildlife",icon:tm},{id:"shopping",label:"Shopping",icon:L0},{id:"nightlife",label:"Nightlife",icon:Pe},{id:"photography",label:"Photography",icon:tr},{id:"wellness",label:"Wellness & Spa",icon:ut},{id:"sports",label:"Sports & Fitness",icon:Eo},{id:"art",label:"Art & Museums",icon:dt},{id:"music",label:"Music & Festivals",icon:_r}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-16 relative",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-center space-y-8 lg:space-y-0 lg:space-x-12",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsx(mS,{currentPicture:l.profilePicture,onUploadSuccess:Qe,onUploadError:$e}),O!==null&&e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-black/70 text-white text-xs py-1 px-2 rounded-b-full text-center",children:["Uploading... ",O,"%"]}),W&&e.jsx("div",{className:"absolute -bottom-8 left-0 right-0 bg-red-500 text-white text-xs py-2 px-3 rounded-lg text-center shadow-lg",children:W})]})}),e.jsxs("div",{className:"text-center lg:text-left flex-1",children:[e.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-3 mb-2",children:[e.jsx("h1",{className:"text-5xl font-bold",children:l.fullName||l.email?.split("@")[0]}),e.jsx(at,{className:"w-6 h-6 text-green-400",title:"Verified Account"})]}),e.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-2 mb-4",children:[e.jsx(As,{className:"w-5 h-5 text-white/80"}),e.jsx("p",{className:"text-xl text-white/90",children:l.email}),c.emailVerified?e.jsx(at,{className:"w-4 h-4 text-green-400",title:"Email Verified"}):e.jsx(Pn,{className:"w-4 h-4 text-yellow-400",title:"Email Not Verified"})]}),(l.phone||f.phone)&&e.jsxs("div",{className:"flex items-center justify-center lg:justify-start space-x-2 mb-6",children:[e.jsx(Es,{className:"w-5 h-5 text-white/80"}),e.jsx("p",{className:"text-lg text-white/90",children:l.phone||f.phone}),c.phoneVerified?e.jsx(at,{className:"w-4 h-4 text-green-400",title:"Phone Verified"}):e.jsx(Pn,{className:"w-4 h-4 text-yellow-400",title:"Phone Not Verified"})]}),e.jsxs("div",{className:"flex flex-wrap justify-center lg:justify-start gap-3 mb-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 text-yellow-900 px-4 py-2 rounded-full font-semibold shadow-lg",children:[(l.tier==="travelagent"||l.tier==="partner")&&e.jsx(gs,{className:"w-4 h-4 mr-2 inline"}),l.tier==="wanderpro"&&e.jsx(Cs,{className:"w-4 h-4 mr-2 inline"}),(l.tier||"explorer").charAt(0).toUpperCase()+(l.tier||"explorer").slice(1)," Plan"]}),(l.roles||[l.role||"user"]).map(K=>e.jsxs("div",{className:`px-4 py-2 rounded-full font-medium shadow-lg ${K===l.activeRole?"bg-white text-blue-600":"bg-white/20 backdrop-blur-sm border border-white/30"}`,children:[K==="merchant"?" Business":K==="transport_provider"?" Transport":K==="travel_agent"?" Agent":" Traveler",K===l.activeRole&&" (Active)"]},K))]}),l.bio&&e.jsx("p",{className:"text-lg text-white/90 max-w-2xl",children:l.bio})]}),e.jsxs("div",{className:"flex flex-col space-y-3",children:[h?e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs(I,{variant:"outline",className:"bg-white/20 border-white/30 text-white hover:bg-white/30",onClick:me,children:[e.jsx(jt,{className:"w-4 h-4 mr-2"}),"Cancel"]}),e.jsxs(I,{className:"bg-blue-600 text-white hover:bg-blue-700",onClick:Ne,disabled:y,children:[e.jsx(Dl,{className:"w-4 h-4 mr-2"}),y?"Saving...":"Save"]})]}):e.jsxs(I,{onClick:()=>x(!0),className:"bg-white/20 border-white/30 text-white hover:bg-white/30 backdrop-blur-sm",children:[e.jsx(sm,{className:"w-5 h-5 mr-2"}),"Edit Profile"]}),e.jsxs(I,{variant:"outline",className:"bg-white/10 border-white/30 text-white hover:bg-white/20",onClick:()=>k(!0),children:[e.jsx(gs,{className:"w-5 h-5 mr-2"}),"Upgrade Plan"]})]})]})})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 -mt-12 relative z-10",children:[e.jsx(ae,{className:"bg-white shadow-lg mb-8 border border-gray-100",children:e.jsxs(re,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Profile Completion"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Complete your profile to unlock all features"})]}),e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[de(),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-500",style:{width:`${de()}%`}})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${l?.fullName||f.fullName?"bg-green-50":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[l?.fullName||f.fullName?e.jsx(at,{className:"w-4 h-4 text-green-600"}):e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add your full name"})]}),!(l?.fullName||f.fullName)&&e.jsx(I,{size:"sm",variant:"outline",onClick:()=>x(!0),className:"text-xs",children:"Add"})]}),e.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${c.emailVerified?"bg-green-50":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[c.emailVerified?e.jsx(at,{className:"w-4 h-4 text-green-600"}):e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Verify your email"})]}),!c.emailVerified&&e.jsx(I,{size:"sm",variant:"outline",className:"text-xs",children:"Verify"})]}),e.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${l?.phone||f.phone?"bg-green-50":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[l?.phone||f.phone?e.jsx(at,{className:"w-4 h-4 text-green-600"}):e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add phone number"})]}),!(l?.phone||f.phone)&&e.jsx(I,{size:"sm",variant:"outline",onClick:()=>x(!0),className:"text-xs",children:"Add"})]}),e.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${l?.bio||f.bio?"bg-green-50":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[l?.bio||f.bio?e.jsx(at,{className:"w-4 h-4 text-green-600"}):e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Write a bio"})]}),!(l?.bio||f.bio)&&e.jsx(I,{size:"sm",variant:"outline",onClick:()=>x(!0),className:"text-xs",children:"Add"})]}),e.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${l?.homeCity||f.homeCity?"bg-green-50":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[l?.homeCity||f.homeCity?e.jsx(at,{className:"w-4 h-4 text-green-600"}):e.jsx("div",{className:"w-4 h-4 rounded-full border-2 border-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Add home city"})]}),!(l?.homeCity||f.homeCity)&&e.jsx(I,{size:"sm",variant:"outline",onClick:()=>x(!0),className:"text-xs",children:"Add"})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:kt().map((K,_e)=>{const te=K.icon;return e.jsx(ae,{className:"bg-white shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1 border border-gray-100",children:e.jsxs(re,{className:"p-8 text-center",children:[e.jsx("div",{className:`w-24 h-24 ${K.bgColor} rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-sm`,children:e.jsx(te,{className:`w-14 h-14 ${K.iconColor}`})}),e.jsx("div",{className:"text-5xl font-bold text-gray-900 mb-2",children:K.value}),e.jsx("div",{className:"text-gray-600 font-medium text-lg",children:K.label})]})},_e)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-12",children:[e.jsx(ae,{className:"bg-white shadow-lg border border-gray-100",children:e.jsxs(re,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-md",children:(()=>{const K=mt().icon;return e.jsx(K,{className:"w-9 h-9 text-white"})})()}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Your Travel Personality"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:mt().type}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:mt().desc})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["$",S.tripsPlanned*450]}),e.jsx("div",{className:"text-xs text-gray-600",children:"Est. Travel Spend"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:S.placesVisited}),e.jsx("div",{className:"text-xs text-gray-600",children:"Places Explored"})]})]})]})}),e.jsx(ae,{className:"bg-white shadow-lg border border-gray-100",children:e.jsxs(re,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Eo,{className:"w-6 h-6 text-yellow-600"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Achievements"})]}),e.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:[Bt().length," Unlocked"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[Bt().map((K,_e)=>{const te=K.icon;return e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-xl border border-gray-200",children:[e.jsx("div",{className:"w-10 h-10 bg-white rounded-lg flex items-center justify-center shadow-sm",children:e.jsx(te,{className:`w-6 h-6 ${K.color}`})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:K.label}),e.jsx("p",{className:"text-xs text-gray-500",children:"Unlocked"})]})]},_e)}),Bt().length===0&&e.jsxs("div",{className:"col-span-2 text-center py-6 text-gray-500",children:[e.jsx(Eo,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"Start your journey to unlock badges!"})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-12",children:[e.jsxs(ae,{className:"bg-white shadow-lg lg:col-span-2 border border-gray-100",children:[e.jsx(je,{className:"border-b border-gray-100",children:e.jsxs(we,{className:"text-xl text-gray-900 flex items-center",children:[e.jsx(nt,{className:"w-5 h-5 mr-2 text-blue-600"}),"Recent Activity"]})}),e.jsx(re,{className:"p-6",children:ga().length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(nt,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No recent activity"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Start planning trips to see your activity here"})]}):e.jsx("div",{className:"space-y-4",children:ga().map((K,_e)=>{const te=K.icon;return e.jsxs("div",{className:"flex items-start space-x-3 p-3 hover:bg-gray-50 rounded-lg transition-colors",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(te,{className:`w-5 h-5 ${K.color}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"text-sm text-gray-900",children:[e.jsx("span",{className:"font-medium",children:K.action})," ",e.jsx("span",{className:"font-semibold text-blue-600",children:K.target})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:K.time})]})]},_e)})})})]}),e.jsxs(ae,{className:"bg-white shadow-lg border border-gray-100",children:[e.jsx(je,{className:"border-b border-gray-100",children:e.jsxs(we,{className:"text-xl text-gray-900 flex items-center",children:[e.jsx(D0,{className:"w-5 h-5 mr-2 text-purple-600"}),"Social Links"]})}),e.jsx(re,{className:"p-6",children:e.jsx("div",{className:"space-y-3",children:h?e.jsxs(e.Fragment,{children:[_.map((K,_e)=>{const ue={instagram:Wu,linkedin:R0,twitter:am,facebook:Xu,tiktok:"",youtube:"",github:"",website:Lt}[K.platform];return e.jsxs("div",{className:"flex items-center space-x-2",children:[typeof ue=="string"?e.jsx("span",{className:"text-lg",children:ue}):e.jsx(ue,{className:"w-4 h-4"}),e.jsx("input",{type:"text",value:K.url,onChange:Be=>{const ns=[..._];ns[_e].url=Be.target.value,ne(ns)},className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg text-sm",placeholder:"Enter URL"}),e.jsx(I,{size:"sm",variant:"outline",onClick:()=>ne(_.filter((Be,ns)=>ns!==_e)),className:"text-red-600",children:e.jsx(jt,{className:"w-4 h-4"})})]},_e)}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("select",{value:ye,onChange:K=>Me(K.target.value),className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg text-sm",children:[e.jsx("option",{value:"",children:"Select platform"}),["instagram","linkedin","twitter","facebook","tiktok","youtube","github","website"].filter(K=>!_.find(_e=>_e.platform===K)).map(K=>e.jsx("option",{value:K,children:K.charAt(0).toUpperCase()+K.slice(1)},K))]}),e.jsx(I,{size:"sm",onClick:()=>{ye&&(ne([..._,{platform:ye,url:""}]),Me(""))},disabled:!ye,children:"Add"})]})]}):e.jsx(e.Fragment,{children:_.length===0?e.jsxs("div",{className:"text-center py-6",children:[e.jsx(D0,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No social links added"}),e.jsx(I,{size:"sm",variant:"outline",onClick:()=>x(!0),className:"mt-3",children:"Add Links"})]}):e.jsx("div",{className:"space-y-2",children:_.map((K,_e)=>{const ue={instagram:Wu,linkedin:R0,twitter:am,facebook:Xu,tiktok:"",youtube:"",github:"",website:Lt}[K.platform];return e.jsxs("a",{href:K.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded-lg",children:[typeof ue=="string"?e.jsx("span",{className:"text-lg",children:ue}):e.jsx(ue,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm text-gray-900 capitalize",children:K.platform})]},_e)})})})})})]})]}),e.jsxs(ae,{className:"bg-white shadow-lg mb-12 border border-gray-100",children:[e.jsx(je,{className:"border-b border-gray-100",children:e.jsx(we,{className:"text-xl text-gray-900 flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Qo,{className:"w-5 h-5 mr-2 text-purple-600"}),"Travel Preferences"]})})}),e.jsxs(re,{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Budget Range"}),h?e.jsxs("select",{value:D.budgetRange,onChange:K=>Z({...D,budgetRange:K.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg",children:[e.jsx("option",{value:"budget",children:"Budget ($)"}),e.jsx("option",{value:"moderate",children:"Moderate ($$)"}),e.jsx("option",{value:"luxury",children:"Luxury ($$$)"})]}):e.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg",children:[e.jsx(L0,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium capitalize",children:D.budgetRange})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Travel Pace"}),h?e.jsxs("select",{value:D.travelPace,onChange:K=>Z({...D,travelPace:K.target.value}),className:"w-full px-4 py-2 border border-gray-200 rounded-lg",children:[e.jsx("option",{value:"relaxed",children:"Relaxed"}),e.jsx("option",{value:"moderate",children:"Moderate"}),e.jsx("option",{value:"fast",children:"Fast-Paced"})]}):e.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg",children:[e.jsx(Cs,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"font-medium capitalize",children:D.travelPace})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Accessibility"}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[h?e.jsx("input",{type:"checkbox",checked:D.accessibility,onChange:K=>Z({...D,accessibility:K.target.checked}),className:"w-5 h-5 text-blue-600 rounded"}):e.jsx(at,{className:`w-5 h-5 ${D.accessibility?"text-green-600":"text-gray-300"}`}),e.jsx("span",{className:"font-medium",children:D.accessibility?"Required":"Not Required"})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Travel Interests"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:ls.map(K=>{const _e=K.icon,te=D.interests.includes(K.id);return e.jsxs("button",{onClick:()=>{h&&Z({...D,interests:te?D.interests.filter(ue=>ue!==K.id):[...D.interests,K.id]})},disabled:!h,className:`flex items-center space-x-2 p-3 rounded-lg border-2 transition-all ${te?"border-blue-500 bg-blue-50":"border-gray-200 bg-white hover:border-gray-300"} ${h?"cursor-pointer":"cursor-default"}`,children:[e.jsx(_e,{className:`w-5 h-5 ${te?"text-blue-600":"text-gray-400"}`}),e.jsx("span",{className:`text-sm font-medium ${te?"text-blue-900":"text-gray-600"}`,children:K.label})]},K.id)})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-8 pb-16",children:[e.jsxs("div",{className:"xl:col-span-2 space-y-8",children:[e.jsxs(ae,{className:"bg-white shadow-lg border border-gray-100",children:[e.jsx(je,{className:"border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(we,{className:"text-2xl text-gray-900 flex items-center",children:[e.jsx(rr,{className:"w-6 h-6 mr-3 text-blue-600"}),"Personal Information"]}),h?e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs(I,{variant:"outline",size:"sm",onClick:me,children:[e.jsx(jt,{className:"w-4 h-4 mr-2"}),"Cancel"]}),e.jsxs(I,{size:"sm",onClick:Ne,disabled:y,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[e.jsx(Dl,{className:"w-4 h-4 mr-2"}),y?"Saving...":"Save"]})]}):e.jsxs(I,{onClick:()=>x(!0),variant:"outline",size:"sm",children:[e.jsx(sm,{className:"w-4 h-4 mr-2"}),"Edit"]})]})}),e.jsx(re,{className:"p-8 space-y-6",children:h?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:f.fullName,onChange:K=>p({...f,fullName:K.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your full name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Username"}),e.jsx("input",{type:"text",value:f.username,onChange:K=>p({...f,username:K.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:f.email,disabled:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-100 cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone"}),e.jsx("input",{type:"tel",value:f.phone,onChange:K=>p({...f,phone:K.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"+1 (555) 123-4567"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Bio"}),e.jsx("textarea",{value:f.bio,onChange:K=>p({...f,bio:K.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 h-24 resize-none",placeholder:"Tell us about yourself..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Home City"}),e.jsx("input",{type:"text",value:f.homeCity,onChange:K=>p({...f,homeCity:K.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"New York, NY"})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Full Name"}),e.jsx("p",{className:"text-lg text-gray-900 font-medium",children:l.fullName||f.fullName||"Not set"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Username"}),e.jsx("p",{className:"text-lg text-gray-900 font-medium",children:l.fullName||l.email?.split("@")[0]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Email"}),e.jsx("p",{className:"text-lg text-gray-900 font-medium",children:l.email})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Phone"}),e.jsx("p",{className:"text-lg text-gray-900 font-medium",children:l.phone||f.phone||"Not set"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Bio"}),e.jsx("p",{className:"text-lg text-gray-900 font-medium",children:l.bio||f.bio||"Not set"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Home City"}),e.jsx("p",{className:"text-lg text-gray-900 font-medium",children:l.homeCity||f.homeCity||"Not set"})]})]})]})})]}),e.jsxs(ae,{className:"bg-white shadow-lg overflow-hidden border border-gray-100",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center",children:e.jsx(Ps,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:"Account Security"}),e.jsx("p",{className:"text-green-100 text-sm",children:" Your account is secure"})]})]}),e.jsx("div",{className:"w-16 h-16 bg-white/10 backdrop-blur-sm rounded-full flex items-center justify-center",children:e.jsx(at,{className:"w-8 h-8 text-white"})})]})}),e.jsx(re,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-xl border border-green-200",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-xl flex items-center justify-center shadow-sm",children:e.jsx(at,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-gray-900",children:"Email Verified"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Confirmed and secure"})]})]}),e.jsx(at,{className:"w-6 h-6 text-green-600"})]}),e.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl border ${c.twoFactorEnabled?"bg-green-50 border-green-200":"bg-amber-50 border-amber-300"}`,children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center shadow-sm ${c.twoFactorEnabled?"bg-green-500":"bg-amber-500"}`,children:c.twoFactorEnabled?e.jsx(at,{className:"w-7 h-7 text-white"}):e.jsx(Pn,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-bold text-gray-900",children:"Two-Factor Auth"}),e.jsx("p",{className:"text-sm text-gray-600",children:c.twoFactorEnabled?"Extra protection active":"Recommended for security"})]})]}),e.jsx(I,{size:"sm",className:c.twoFactorEnabled?"bg-red-500 hover:bg-red-600 text-white":"bg-green-600 hover:bg-green-700 text-white",onClick:()=>m({twoFactorEnabled:!c.twoFactorEnabled}),children:c.twoFactorEnabled?"Disable":"Enable"})]})]})})]})]}),e.jsx("div",{className:"xl:col-span-2 space-y-8",children:e.jsxs(ae,{className:"bg-white shadow-lg border border-gray-100",children:[e.jsx(je,{className:"border-b border-gray-100",children:e.jsxs(we,{className:"text-2xl text-gray-900 flex items-center",children:[e.jsx(Cs,{className:"w-6 h-6 mr-3 text-purple-600"}),"Quick Actions"]})}),e.jsxs(re,{className:"p-8 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(I,{className:"justify-start bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white h-14 shadow-md",onClick:()=>k(!0),children:[e.jsx(gs,{className:"w-6 h-6 mr-3"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold",children:"Subscription"}),e.jsx("div",{className:"text-xs opacity-90",children:"Manage your plan"})]})]}),e.jsxs(I,{variant:"outline",className:"justify-start border-2 hover:bg-blue-50 h-14",onClick:()=>o("/trips"),children:[e.jsx(pe,{className:"w-6 h-6 mr-3 text-blue-600"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold",children:"My Trips"}),e.jsx("div",{className:"text-xs text-gray-500",children:"View & manage"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(I,{variant:"outline",className:"justify-start border-2 hover:bg-green-50 h-14",onClick:()=>o("/discovery"),children:[e.jsx(ut,{className:"w-6 h-6 mr-3 text-green-600"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold",children:"Saved Places"}),e.jsxs("div",{className:"text-xs text-gray-500",children:[S.placesVisited," places"]})]})]}),e.jsxs(I,{variant:"outline",className:"justify-start border-2 hover:bg-yellow-50 h-14",onClick:()=>o("/community"),children:[e.jsx(Bs,{className:"w-6 h-6 mr-3 text-yellow-600"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold",children:"Messages"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Coming soon"})]})]})]}),(l.activeRole==="merchant"||l.role==="merchant")&&e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Business Tools"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(I,{variant:"outline",className:"justify-start h-12",onClick:()=>o("/deals/create"),children:[e.jsx(Kt,{className:"w-5 h-5 mr-3 text-purple-600"}),"Create Deal"]}),e.jsxs(I,{variant:"outline",className:"justify-start h-12",children:[e.jsx(r6,{className:"w-5 h-5 mr-3 text-blue-600"}),"Business Profile"]})]})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200 space-y-3",children:[e.jsxs(I,{variant:"outline",className:"w-full justify-start border-2 hover:bg-gray-50",onClick:()=>o("/role-selection"),children:[e.jsx(W3,{className:"w-5 h-5 mr-3"}),"Switch Role"]}),e.jsxs(I,{variant:"outline",className:"w-full justify-start border-2 hover:bg-gray-50",onClick:()=>M(!0),children:[e.jsx(Ps,{className:"w-5 h-5 mr-3"}),"Privacy Settings"]}),e.jsxs(I,{variant:"outline",className:"w-full justify-start border-2 hover:bg-gray-50",onClick:()=>ie(!0),children:[e.jsx(_r,{className:"w-5 h-5 mr-3"}),"Notifications"]}),e.jsxs(I,{variant:"outline",className:"w-full justify-start border-2 hover:bg-blue-50",onClick:async()=>{const K={user:l,stats:S,preferences:D,socialLinks:_},_e=new Blob([JSON.stringify(K,null,2)],{type:"application/json"}),te=URL.createObjectURL(_e),ue=document.createElement("a");ue.href=te,ue.download=`travelbuddy-data-${l.username}.json`,ue.click()},children:[e.jsx(Zu,{className:"w-5 h-5 mr-3"}),"Export My Data"]}),e.jsxs(I,{variant:"outline",className:"w-full justify-start border-2 border-red-200 text-red-600 hover:bg-red-50",onClick:()=>z(!0),children:[e.jsx(Pn,{className:"w-5 h-5 mr-3"}),"Delete Account"]}),l.isAdmin&&e.jsxs(I,{variant:"outline",className:"w-full justify-start border-2 border-purple-200 text-purple-700 hover:bg-purple-50",onClick:()=>window.location.href="/admin",children:[e.jsx(Ps,{className:"w-5 h-5 mr-3"}),"Admin Panel"]}),e.jsxs(I,{variant:"outline",className:"w-full justify-start border-2 border-red-200 text-red-600 hover:bg-red-50 hover:border-red-300",onClick:n,children:[e.jsx(bb,{className:"w-5 h-5 mr-3"}),"Logout"]})]})]})]})})]})]}),e.jsx(dS,{isOpen:v,onClose:()=>k(!1)}),P&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-red-600 mb-4",children:"Delete Account?"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"This action cannot be undone. All your data will be permanently deleted."}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(I,{variant:"outline",onClick:()=>z(!1),className:"flex-1",children:"Cancel"}),e.jsx(I,{className:"flex-1 bg-red-600 hover:bg-red-700 text-white",onClick:async()=>{if(confirm("Type DELETE to confirm")){const K=localStorage.getItem("token")||localStorage.getItem("demo_token"),_e={};K&&(_e.Authorization=`Bearer ${K}`),await fetch(`${X}/api/users/profile`,{method:"DELETE",headers:_e}),n()}},children:"Delete Forever"})]})]})}),ce&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Privacy Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Profile Visibility"}),e.jsxs("select",{value:oe.profileVisibility,onChange:K=>Y({...oe,profileVisibility:K.target.value}),className:"w-full border rounded-lg px-3 py-2",children:[e.jsx("option",{value:"public",children:"Public"}),e.jsx("option",{value:"private",children:"Private"}),e.jsx("option",{value:"friends",children:"Friends Only"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:oe.hideTravel,onChange:K=>Y({...oe,hideTravel:K.target.checked}),className:"w-5 h-5"}),e.jsx("span",{children:"Hide Travel History"})]}),e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:oe.hideActivity,onChange:K=>Y({...oe,hideActivity:K.target.checked}),className:"w-5 h-5"}),e.jsx("span",{children:"Hide Activity"})]})]}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsx(I,{variant:"outline",onClick:()=>M(!1),className:"flex-1",children:"Cancel"}),e.jsx(I,{className:"flex-1",onClick:async()=>{await fetch(`${X}/api/users/privacy`,{method:"PUT",headers:{"Content-Type":"application/json","x-user-id":l.id},body:JSON.stringify(oe)}),M(!1)},children:"Save"})]})]})}),Q&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Notification Preferences"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Email Notifications"}),e.jsx("input",{type:"checkbox",checked:A.email,onChange:K=>F({...A,email:K.target.checked}),className:"w-5 h-5"})]}),e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Push Notifications"}),e.jsx("input",{type:"checkbox",checked:A.push,onChange:K=>F({...A,push:K.target.checked}),className:"w-5 h-5"})]}),e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Trip Updates"}),e.jsx("input",{type:"checkbox",checked:A.trips,onChange:K=>F({...A,trips:K.target.checked}),className:"w-5 h-5"})]}),e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Deals & Offers"}),e.jsx("input",{type:"checkbox",checked:A.deals,onChange:K=>F({...A,deals:K.target.checked}),className:"w-5 h-5"})]}),e.jsxs("label",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Community Alerts"}),e.jsx("input",{type:"checkbox",checked:A.community,onChange:K=>F({...A,community:K.target.checked}),className:"w-5 h-5"})]})]}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsx(I,{variant:"outline",onClick:()=>ie(!1),className:"flex-1",children:"Cancel"}),e.jsx(I,{className:"flex-1",onClick:async()=>{await fetch(`${X}/api/users/notifications`,{method:"PUT",headers:{"Content-Type":"application/json","x-user-id":l.id},body:JSON.stringify(A)}),ie(!1)},children:"Save"})]})]})})]})},xS=["restaurants in Colombo","hotels in Kandy","things to do in Ella","beaches in Galle","temples in Anuradhapura","tea estates in Nuwara Eliya"],fS=({onSearch:l,placeholder:r="Where do you want to go? (e.g., Kandy, Ella, Galle)",showSuggestions:n=!0})=>{const[o,c]=j.useState(""),[m,h]=j.useState(!1),[x,f]=j.useState(!1),[p]=j.useState(["restaurants in Colombo","hotels in Kandy"]),y=j.useRef(null),b=j.useRef(null),v=async C=>{if(C.preventDefault(),o.trim()&&!m){h(!0);try{await l(o.trim())}finally{h(!1)}}},k=()=>{c(""),y.current?.focus()},S=C=>{c(C),f(!1),l(C)};return j.useEffect(()=>{const C=w=>{b.current&&!b.current.contains(w.target)&&f(!1)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]),e.jsxs("form",{onSubmit:v,className:"relative",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ot,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{ref:y,type:"text",value:o,onChange:C=>c(C.target.value),onFocus:()=>n&&f(!0),placeholder:r,disabled:m,className:"w-full pl-12 pr-20 py-4 text-lg border-2 border-gray-200 rounded-2xl focus:border-teal-500 focus:outline-none bg-white shadow-lg text-gray-800 placeholder-gray-500 disabled:opacity-50"}),o&&e.jsx("button",{type:"button",onClick:k,className:"absolute right-20 top-1/2 transform -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(jt,{className:"w-4 h-4"})}),e.jsxs("button",{type:"submit",disabled:!o.trim()||m,className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-teal-500 text-white px-6 py-2 rounded-xl hover:bg-teal-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[m&&e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),m?"Searching...":"Search"]})]}),n&&x&&e.jsxs("div",{ref:b,className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl border border-gray-200 z-50 max-h-80 overflow-y-auto",children:[p.length>0&&e.jsxs("div",{className:"p-4 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-2",children:[e.jsx(nt,{className:"w-4 h-4 mr-1"}),"Recent Searches"]}),p.map((C,w)=>e.jsx("button",{onClick:()=>S(C),className:"block w-full text-left px-2 py-1 text-sm text-gray-700 hover:bg-gray-50 rounded",children:C},w))]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-2",children:[e.jsx(Kt,{className:"w-4 h-4 mr-1"}),"Trending in Sri Lanka"]}),e.jsx("div",{className:"grid grid-cols-1 gap-1",children:xS.slice(0,6).map((C,w)=>e.jsxs("button",{onClick:()=>S(C),className:"text-left px-2 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded flex items-center",children:[e.jsx(Ot,{className:"w-3 h-3 mr-2 text-gray-400"}),C]},w))})]})]})]})},pS=({title:l,message:r,actionLabel:n,onAction:o,icon:c})=>e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"text-gray-500",children:[c&&e.jsx("div",{className:"mb-4",children:c}),e.jsx("h3",{className:"text-xl font-medium mb-2",children:l}),e.jsx("p",{className:"mb-6",children:r}),n&&o&&e.jsx(I,{onClick:o,variant:"outline",children:n})]})}),gS=[{id:"restaurant",label:"Restaurants",icon:""},{id:"hotel",label:"Hotels",icon:""},{id:"attraction",label:"Attractions",icon:""},{id:"temple",label:"Temples",icon:""},{id:"beach",label:"Beaches",icon:""},{id:"nature",label:"Nature",icon:""}],bS=[{id:"$",label:"Budget (LKR 1,000-3,000)",value:"$"},{id:"$$",label:"Mid-range (LKR 3,000-8,000)",value:"$$"},{id:"$$$",label:"Premium (LKR 8,000+)",value:"$$$"}],yS=({onFiltersChange:l,isOpen:r,onClose:n})=>{const[o,c]=j.useState({category:[],priceRange:[],rating:0,location:"",openNow:!1,radius:5e3}),m=b=>{const v=o.category.includes(b)?o.category.filter(S=>S!==b):[...o.category,b],k={...o,category:v};c(k),l(k)},h=b=>{const v=o.priceRange.includes(b)?o.priceRange.filter(S=>S!==b):[...o.priceRange,b],k={...o,priceRange:v};c(k),l(k)},x=()=>{const b={category:[],priceRange:[],rating:0,location:"",openNow:!1,radius:5e3};c(b),l(b)},f=b=>{const v={...o,rating:b};c(v),l(v)},p=()=>{const b={...o,openNow:!o.openNow};c(b),l(b)},y=b=>{const v={...o,radius:b};c(v),l(v)};return r?e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-end sm:items-center justify-center",children:e.jsxs("div",{className:"bg-white w-full sm:w-96 sm:rounded-xl p-6 max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[e.jsx(li,{className:"w-5 h-5 mr-2"}),"Filters"]}),e.jsx("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(jt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Categories"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:gS.map(b=>e.jsxs("button",{onClick:()=>m(b.id),className:`p-3 rounded-lg border text-sm flex items-center justify-center transition-colors ${o.category.includes(b.id)?"bg-blue-50 border-blue-200 text-blue-700":"border-gray-200 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"mr-2",children:b.icon}),b.label]},b.id))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Price Range"}),e.jsx("div",{className:"space-y-2",children:bS.map(b=>e.jsx("button",{onClick:()=>h(b.value),className:`w-full p-3 rounded-lg border text-sm text-left transition-colors ${o.priceRange.includes(b.value)?"bg-green-50 border-green-200 text-green-700":"border-gray-200 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:b.label}),e.jsx("span",{className:"font-medium",children:b.value})]})},b.id))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Minimum Rating"}),e.jsx("div",{className:"flex space-x-2",children:[3,4,4.5].map(b=>e.jsxs("button",{onClick:()=>f(b),className:`px-3 py-2 rounded-lg border text-sm flex items-center transition-colors ${o.rating===b?"bg-yellow-50 border-yellow-200 text-yellow-700":"border-gray-200 hover:bg-gray-50"}`,children:[e.jsx(Pe,{className:"w-4 h-4 mr-1 fill-current"}),b,"+"]},b))})]}),e.jsx("div",{className:"mb-6",children:e.jsx("button",{onClick:p,className:`w-full p-4 rounded-lg border text-left transition-colors ${o.openNow?"bg-green-50 border-green-200":"border-gray-200 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(nt,{className:`w-5 h-5 mr-3 ${o.openNow?"text-green-600":"text-gray-400"}`}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Open Now"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Show only places currently open"})]})]}),e.jsx("div",{className:`w-12 h-6 rounded-full transition-colors ${o.openNow?"bg-green-500":"bg-gray-300"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform ${o.openNow?"translate-x-6":"translate-x-0.5"} mt-0.5`})})]})})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"font-medium flex items-center",children:[e.jsx(sr,{className:"w-4 h-4 mr-2"}),"Search Radius"]}),e.jsx("span",{className:"text-sm font-semibold text-blue-600",children:o.radius>=1e3?`${(o.radius/1e3).toFixed(0)} km`:`${o.radius} m`})]}),e.jsx("input",{type:"range",min:"1000",max:"50000",step:"1000",value:o.radius,onChange:b=>y(Number(b.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-600"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"1 km"}),e.jsx("span",{children:"25 km"}),e.jsx("span",{children:"50 km"})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(I,{onClick:x,variant:"outline",className:"flex-1",children:"Clear All"}),e.jsx(I,{onClick:n,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"Apply Filters"})]})]})}):null},zu=new Map,vS=600*1e3;let jl={places:[],query:"",context:""};const V0=()=>{const l=Nt(),[r,n]=j.useState(jl.places),[o,c]=j.useState(!1),[m,h]=j.useState(!1),[x,f]=j.useState(jl.query),[p,y]=j.useState(jl.context),[b,v]=j.useState(jl.places.length>0),[k,S]=j.useState([]),[C,w]=j.useState(!1),[T,O]=j.useState({category:[],priceRange:[],rating:0,location:"",openNow:!1,radius:5e3}),[R,W]=j.useState(!1),[B,X]=j.useState([]),V=Y=>{let A=[...Y];return T.category.length>0&&(A=A.filter(F=>T.category.includes(F.category.toLowerCase()))),T.priceRange.length>0&&(A=A.filter(F=>T.priceRange.includes(F.priceLevel))),T.rating>0&&(A=A.filter(F=>F.rating>=T.rating)),T.openNow&&(A=A.filter(F=>{const P=new Date().getHours();return P>=9&&P<=22})),A},_=async(Y,A=!0)=>{if(!Y.trim())return;const F=Y.toLowerCase().trim();if(A){c(!0),f(Y);const P=zu.get(F);if(P&&Date.now()-P.timestamp<vS){console.log(" Using cached results for:",Y);const z=P.data;n(z),X(V(z)),y(P.context),v(!0),c(!1),jl={places:z,query:Y,context:P.context};return}n([]),X([])}else h(!0);try{console.log(" Fetching new results for:",Y);const P=await ib.searchPlaces(Y,{limit:8});if(A){const z=P||[],ce=`AI-powered results for "${Y}"`;n(z),X(V(z)),y(ce),zu.set(F,{data:z,timestamp:Date.now(),context:ce}),jl={places:z,query:Y,context:ce}}else{const z=[...r,...P||[]];n(z),X(V(z))}v(!0)}catch(P){console.error("Search failed:",P),A&&(n([]),X([]),y("Search failed. Please try again."))}finally{c(!1),h(!1)}},ne=()=>{x&&!m&&_(x,!1)},ye=Y=>({restaurant:"bg-orange-100 text-orange-800",hotel:"bg-blue-100 text-blue-800",attraction:"bg-purple-100 text-purple-800",museum:"bg-green-100 text-green-800",cafe:"bg-yellow-100 text-yellow-800",shopping:"bg-pink-100 text-pink-800",park:"bg-emerald-100 text-emerald-800"})[Y]||"bg-gray-100 text-gray-800",Me=Y=>({$:"text-green-600",$$:"text-yellow-600",$$$:"text-orange-600",$$$$:"text-red-600"})[Y]||"text-gray-600",D=Y=>{console.log(" Toggling place selection:",Y.name),S(A=>{const F=A.some(P=>P.id===Y.id);return console.log(" Current selection state:",F?"selected":"not selected"),F?(console.log(" Removing from selection"),A.filter(P=>P.id!==Y.id)):(console.log(" Adding to selection"),[...A,Y])})},Z=Y=>k.some(A=>A.id===Y.id),oe=()=>{k.length!==0&&(sessionStorage.setItem("selectedPlaces",JSON.stringify(k)),l("/trips"))};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 text-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx(dt,{className:"h-8 w-8 mr-3"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"Discover Your Next Adventure"})]}),e.jsx("p",{className:"text-xl md:text-2xl mb-8 text-blue-100 max-w-3xl mx-auto",children:"AI-powered travel discovery. Find amazing places, hidden gems, and perfect experiences tailored just for you."}),e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx(fS,{onSearch:_}),e.jsx("p",{className:"text-sm text-blue-200 mt-2",children:'Try: "restaurants in Tokyo", "museums in Paris", "hotels in New York"'})]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-100 py-6",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Explore by Country:"}),e.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",onChange:Y=>Y.target.value&&_(`best places in ${Y.target.value}`,!0),defaultValue:"",children:[e.jsx("option",{value:"",children:"Select a country"}),e.jsx("option",{value:"Japan",children:" Japan"}),e.jsx("option",{value:"France",children:" France"}),e.jsx("option",{value:"Italy",children:" Italy"}),e.jsx("option",{value:"Thailand",children:" Thailand"}),e.jsx("option",{value:"United States",children:" United States"}),e.jsx("option",{value:"United Kingdom",children:" United Kingdom"}),e.jsx("option",{value:"Spain",children:" Spain"}),e.jsx("option",{value:"Germany",children:" Germany"}),e.jsx("option",{value:"Australia",children:" Australia"}),e.jsx("option",{value:"Canada",children:" Canada"}),e.jsx("option",{value:"India",children:" India"}),e.jsx("option",{value:"China",children:" China"}),e.jsx("option",{value:"Brazil",children:" Brazil"}),e.jsx("option",{value:"Mexico",children:" Mexico"}),e.jsx("option",{value:"Sri Lanka",children:" Sri Lanka"})]})]}),e.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:[{label:" Asia",query:"attractions in Asia"},{label:" Europe",query:"attractions in Europe"},{label:" Americas",query:"attractions in Americas"},{label:" Islands",query:"tropical islands destinations"},{label:" Mountains",query:"mountain destinations"},{label:" Culture",query:"cultural attractions museums"}].map(Y=>e.jsx(I,{variant:"outline",size:"sm",onClick:()=>_(Y.query,!0),className:"border-gray-300 text-gray-700 hover:bg-blue-50 hover:border-blue-300 hover:text-blue-700 transition-colors",children:Y.label},Y.label))})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[o&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-center py-8",children:e.jsxs("div",{className:"inline-flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"}),e.jsx("span",{className:"text-lg text-gray-600",children:"AI is discovering amazing places for you..."})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:8}).map((Y,A)=>e.jsx(tS,{},A))})]}),p&&!o&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Kt,{className:"h-5 w-5 text-blue-600 mr-2"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Discovery Results"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(I,{onClick:()=>w(!0),variant:"outline",size:"sm",className:"flex items-center",children:[e.jsx(sr,{className:"h-4 w-4 mr-2"}),"Filters",(T.category.length>0||T.priceRange.length>0||T.rating>0||T.openNow)&&e.jsx("span",{className:"ml-2 bg-blue-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:T.category.length+T.priceRange.length+(T.rating>0?1:0)+(T.openNow?1:0)})]}),e.jsxs(I,{onClick:()=>W(!R),variant:"outline",size:"sm",className:"flex items-center",children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),R?"Hide Map":"Show Map"]}),k.length>0&&e.jsxs(I,{onClick:oe,className:"bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700 text-white",children:[e.jsx(ar,{className:"h-4 w-4 mr-2"}),"Generate Trip (",k.length,")"]})]})]}),e.jsx("p",{className:"text-gray-600",children:p}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Found ",r.length," places",B.length<r.length&&`  Showing ${B.length} after filters`,"  Semantic AI Search",zu.has(x.toLowerCase().trim())&&"  Cached",k.length>0&&`  ${k.length} selected for trip`]})]}),r.length>0&&!o&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:(B.length>0?B:r).map(Y=>e.jsxs(ae,{className:"overflow-hidden hover:shadow-xl transition-all duration-300 hover:scale-105 hover:-translate-y-1 group",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"relative w-full h-48 bg-gray-200 overflow-hidden",children:[e.jsx("img",{src:Y.image||`https://source.unsplash.com/800x600/?${encodeURIComponent(Y.name)},${encodeURIComponent(Y.category)},${encodeURIComponent(Y.location.city)}`,alt:Y.name,className:"w-full h-48 object-cover transition-all duration-300 hover:scale-105",loading:"lazy",onLoad:A=>{const F=A.target;F.style.opacity="1";const P=F.parentElement?.querySelector(".image-loader");P&&P.classList.add("hidden")},onError:A=>{const F=A.target,P=F.parentElement?.querySelector(".image-loader");if(P&&P.classList.add("hidden"),!F.src.includes("source.unsplash.com"))F.src=`https://source.unsplash.com/800x600/?${encodeURIComponent(Y.category)},${encodeURIComponent(Y.location.country)},travel`;else if(!F.src.includes("picsum.photos"))F.src=`https://picsum.photos/seed/${Math.abs(Y.name.split("").reduce((z,ce)=>(z=(z<<5)-z+ce.charCodeAt(0),z&z),0))}/800/600`;else{F.style.display="none";const z=F.parentElement?.querySelector(".image-placeholder");z&&z.classList.remove("hidden")}},style:{opacity:0}}),e.jsx("div",{className:"image-loader absolute inset-0 flex items-center justify-center bg-gray-100",children:e.jsx("div",{className:"animate-pulse flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full animate-bounce"})})}),e.jsx("div",{className:"image-placeholder hidden absolute inset-0 flex items-center justify-center bg-gradient-to-br from-blue-100 to-purple-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx(pe,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:Y.category}),e.jsx("p",{className:"text-xs text-gray-400",children:Y.name})]})})]}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx(De,{className:ye(Y.category),children:Y.category})}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsxs(De,{className:"bg-white text-gray-800",children:[e.jsx(Pe,{className:"h-3 w-3 mr-1 fill-current text-yellow-500"}),Y.rating]})})]}),e.jsxs(re,{className:"p-4",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-1",children:Y.name}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[e.jsx(pe,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:[Y.location.city,", ",Y.location.country]}),e.jsx("span",{className:`ml-2 font-semibold ${Me(Y.priceLevel)}`,children:Y.priceLevel})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-3",children:Y.description}),e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:Y.highlights.slice(0,3).map((A,F)=>e.jsx(De,{variant:"outline",className:"text-xs",children:A},F))})}),e.jsxs("div",{className:"space-y-2 text-xs text-gray-500",children:[Y.openHours&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(nt,{className:"h-3 w-3 mr-1"}),e.jsx("span",{children:Y.openHours})]}),Y.contact?.phone&&Y.contact.phone!=="Not available"&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Es,{className:"h-3 w-3 mr-1"}),e.jsx("span",{children:Y.contact.phone})]}),Y.contact?.website&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Lt,{className:"h-3 w-3 mr-1"}),e.jsx("a",{href:Y.contact.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Visit Website"})]})]}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{size:"sm",variant:Z(Y)?"default":"outline",className:`flex-1 ${Z(Y)?"bg-blue-600 text-white hover:bg-blue-700":"border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white"}`,onClick:()=>D(Y),children:Z(Y)?e.jsxs(e.Fragment,{children:[e.jsx(ri,{className:"h-3 w-3 mr-1"}),"Selected"]}):e.jsxs(e.Fragment,{children:[e.jsx(Lr,{className:"h-3 w-3 mr-1"}),"Select"]})}),e.jsx(I,{size:"sm",variant:"outline",className:"flex-1 border-purple-600 text-purple-600 hover:bg-purple-600 hover:text-white",children:"Save"})]}),e.jsxs(I,{size:"sm",className:"w-full bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700 text-white border-none",onClick:()=>l(`/places/${Y.id}`,{state:{placeData:Y}}),children:[e.jsx(dt,{className:"h-3 w-3 mr-1"}),"More Details"]})]})]})]},Y.id))}),r.length>0&&e.jsxs("div",{className:"text-center mt-8 space-y-4",children:[k.length>0&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900",children:"Selected Places for Trip"}),e.jsxs("p",{className:"text-sm text-blue-700",children:[k.length," place",k.length!==1?"s":""," selected"]})]}),e.jsxs(I,{onClick:oe,className:"bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700 text-white",children:[e.jsx(ar,{className:"h-4 w-4 mr-2"}),"Generate Trip"]})]}),e.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:k.map(Y=>e.jsx(De,{className:"bg-blue-100 text-blue-800",children:Y.name},Y.id))})]}),e.jsx(I,{onClick:ne,disabled:m,className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white border-none",children:m?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Loading More..."]}):e.jsxs(e.Fragment,{children:[e.jsx(dt,{className:"h-4 w-4 mr-2"}),"Explore More Places"]})}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Showing ",r.length," places  Click to discover more"]})]})]}),!o&&r.length===0&&x&&e.jsx(pS,{title:"No results found",message:"Try a different search term or check your spelling",actionLabel:"Try Popular Searches",onAction:()=>_("restaurants in Tokyo",!0),icon:e.jsx(dt,{className:"h-8 w-8 text-gray-400"})}),!o&&r.length===0&&!x&&e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"text-gray-500",children:[e.jsx(dt,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-xl font-medium mb-2",children:"Ready to Discover?"}),e.jsx("p",{className:"mb-6",children:"Use the search bar above to find amazing places, then select them to generate a custom trip"}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:["restaurants in Colombo","temples in Kandy","hotels in Galle","beaches in Mirissa"].map(Y=>e.jsx(I,{variant:"outline",size:"sm",onClick:()=>_(Y,!0),children:Y},Y))})]})})]}),e.jsx(yS,{isOpen:C,onClose:()=>{w(!1),X(V(r))},onFiltersChange:Y=>{O(Y),X(V(r))}})]})},Db=()=>{const{placeId:l}=um(),r=Nt(),o=Rs().state?.placeData,[c,m]=j.useState(null),[h,x]=j.useState(!o),[f,p]=j.useState(0),[y,b]=j.useState(!1);j.useEffect(()=>{if(o){const C=[o.image,`https://source.unsplash.com/1200x800/?${encodeURIComponent(o.name)},interior`,`https://source.unsplash.com/1200x800/?${encodeURIComponent(o.name)},exterior`,`https://source.unsplash.com/1200x800/?${encodeURIComponent(o.category)},${encodeURIComponent(o.location.city)}`,`https://source.unsplash.com/1200x800/?${encodeURIComponent(o.name)},architecture`,`https://source.unsplash.com/1200x800/?${encodeURIComponent(o.category)},travel`],w={id:o.id,name:o.name,description:{short:o.description,full:o.description,highlights:o.highlights||[]},images:{hero:o.image,gallery:C,count:C.length},rating:{overall:o.rating,count:100},category:o.category,priceLevel:o.priceLevel,pricing:{currency:"USD",tickets:[]},location:o.location,hours:{schedule:{},isOpen:!0,nextClose:o.openHours||"Hours vary"},contact:o.contact,tips:[],tags:o.tags||[],similarPlaces:[]};m(w),x(!1)}else l&&v(l)},[l,o]);const v=async C=>{x(!0);try{const w=o?.name,T=o?.location?.address||`${o?.location?.city}, ${o?.location?.country}`,O=o?.category,R=await ib.getPlaceDetails(C,w,T,O);R&&m(R)}catch(w){console.error("Failed to load place details:",w)}finally{x(!1)}},k=()=>{c&&p(C=>(C+1)%c.images.gallery.length)},S=()=>{c&&p(C=>(C-1+c.images.gallery.length)%c.images.gallery.length)};return h?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:o?"Loading enhanced details...":"Loading place details..."})]})}):c?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(I,{variant:"outline",onClick:()=>r(-1),className:"flex items-center",children:[e.jsx(Yo,{className:"h-4 w-4 mr-2"}),"Back"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(I,{variant:"outline",size:"sm",children:[e.jsx(Jo,{className:"h-4 w-4 mr-2"}),"Share"]}),e.jsxs(I,{variant:"outline",size:"sm",children:[e.jsx(ut,{className:"h-4 w-4 mr-2"}),"Save"]})]})]})})}),e.jsxs("div",{className:"relative h-96 overflow-hidden bg-gray-200",children:[e.jsx("img",{src:c.images.hero||`https://source.unsplash.com/1200x800/?${encodeURIComponent(c.name)},${encodeURIComponent(c.location.city)}`,alt:c.name,className:"w-full h-full object-cover transition-all duration-500",loading:"eager",onLoad:C=>{const w=C.target;w.style.opacity="1";const T=w.parentElement?.querySelector(".hero-loader");T&&T.classList.add("hidden")},onError:C=>{const w=C.target,T=w.parentElement?.querySelector(".hero-loader");if(T&&T.classList.add("hidden"),!w.src.includes("source.unsplash.com"))w.src=`https://source.unsplash.com/1200x800/?${encodeURIComponent(c.name)},travel,landmark`;else if(!w.src.includes("picsum.photos"))w.src=`https://picsum.photos/seed/${Math.abs(c.name.split("").reduce((O,R)=>(O=(O<<5)-O+R.charCodeAt(0),O&O),0))}/1200/800`;else{w.style.display="none";const O=w.parentElement?.querySelector(".hero-placeholder");O&&O.classList.remove("hidden")}},style:{opacity:0}}),e.jsx("div",{className:"hero-loader absolute inset-0 flex items-center justify-center bg-gray-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-pulse w-16 h-16 bg-gray-300 rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Loading image..."})]})}),e.jsx("div",{className:"hero-placeholder hidden absolute inset-0 flex items-center justify-center bg-gradient-to-br from-blue-200 to-purple-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx(pe,{className:"h-24 w-24 text-gray-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-600",children:c.name}),e.jsx("p",{className:"text-gray-500",children:c.location.city})]})}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-30"}),e.jsx("div",{className:"absolute bottom-4 right-4",children:e.jsxs(I,{onClick:()=>b(!0),className:"bg-white text-gray-900 hover:bg-gray-100",children:[e.jsx(tr,{className:"h-4 w-4 mr-2"}),"View Gallery (",c.images.count,")"]})})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:c.name}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pe,{className:"h-5 w-5 text-yellow-400 fill-current mr-1"}),e.jsx("span",{className:"font-semibold",children:c.rating.overall}),e.jsxs("span",{className:"text-gray-600 ml-1",children:["(",c.rating.count.toLocaleString()," reviews)"]})]}),e.jsx(De,{className:"bg-blue-100 text-blue-800",children:c.category}),e.jsx("span",{className:"text-lg font-semibold text-green-600",children:c.priceLevel})]}),e.jsxs("div",{className:"flex items-center text-gray-600 mb-6",children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:c.location.address})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(I,{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:[e.jsx(sr,{className:"h-4 w-4 mr-2"}),"Get Directions"]}),e.jsxs(I,{variant:"outline",children:[e.jsx(zt,{className:"h-4 w-4 mr-2"}),"Plan Visit"]}),e.jsxs(I,{variant:"outline",children:[e.jsx(Es,{className:"h-4 w-4 mr-2"}),"Call"]}),e.jsxs(I,{variant:"outline",children:[e.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Website"]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Photos"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:c.images.gallery.slice(0,6).map((C,w)=>e.jsxs("div",{className:"relative aspect-video rounded-lg overflow-hidden cursor-pointer hover:scale-105 transition-all duration-300 bg-gray-200",onClick:()=>{p(w),b(!0)},children:[e.jsx("img",{src:C,alt:`${c.name} photo ${w+1}`,className:"w-full h-full object-cover transition-opacity duration-300",loading:"lazy",onLoad:T=>{const O=T.target;O.style.opacity="1";const R=O.parentElement?.querySelector(".gallery-loader");R&&R.classList.add("hidden")},onError:T=>{const O=T.target,R=O.parentElement?.querySelector(".gallery-loader");R&&R.classList.add("hidden"),O.src.includes("source.unsplash.com")?O.src=`https://picsum.photos/seed/${encodeURIComponent(c.id+w)}/600/400`:O.src=`https://source.unsplash.com/600x400/?${encodeURIComponent(c.name)},travel,photo${w}`},style:{opacity:0}}),e.jsx("div",{className:"gallery-loader absolute inset-0 flex items-center justify-center bg-gray-100",children:e.jsx("div",{className:"animate-pulse w-8 h-8 bg-gray-300 rounded-full"})})]},w))}),e.jsxs(I,{variant:"outline",className:"mt-4",onClick:()=>b(!0),children:["View All ",c.images.count," Photos"]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"About"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:c.description.full})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Highlights"}),e.jsx("ul",{className:"space-y-2",children:c.description.highlights.map((C,w)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-600 mr-2",children:""}),e.jsx("span",{className:"text-gray-700",children:C})]},w))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Tips & Recommendations"}),e.jsx("div",{className:"space-y-3",children:c.tips.map((C,w)=>e.jsxs("div",{className:"flex items-start bg-blue-50 p-3 rounded-lg",children:[e.jsx(X6,{className:"h-5 w-5 text-blue-600 mr-3 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:C})]},w))})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(ae,{children:e.jsxs(re,{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"Quick Info"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(nt,{className:"h-4 w-4 text-gray-600 mr-3"}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[c.hours.isOpen?"Open":"Closed","  Closes ",c.hours.nextClose]}),e.jsx("div",{className:"text-sm text-gray-600",children:"See all hours"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Rt,{className:"h-4 w-4 text-gray-600 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:c.priceLevel}),e.jsx("div",{className:"text-sm text-gray-600",children:"Price level"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(it,{className:"h-4 w-4 text-gray-600 mr-3"}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[c.rating.count.toLocaleString()," reviews"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"User reviews"})]})]})]})]})}),e.jsx(ae,{children:e.jsxs(re,{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"Pricing"}),e.jsx("div",{className:"space-y-3",children:c.pricing.tickets.map((C,w)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-700",children:C.type}),e.jsxs("span",{className:"font-semibold",children:[c.pricing.currency," ",C.price]})]},w))})]})}),e.jsx(ae,{children:e.jsxs(re,{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"Contact"}),e.jsxs("div",{className:"space-y-3",children:[c.contact.phone&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Es,{className:"h-4 w-4 text-gray-600 mr-3"}),e.jsx("a",{href:`tel:${c.contact.phone}`,className:"text-blue-600 hover:underline",children:c.contact.phone})]}),c.contact.website&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Lt,{className:"h-4 w-4 text-gray-600 mr-3"}),e.jsx("a",{href:c.contact.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Visit Website"})]})]})]})}),e.jsx(ae,{children:e.jsxs(re,{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"Location"}),e.jsx("div",{className:"aspect-video bg-gray-200 rounded-lg mb-4 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-600",children:"Interactive Map"})}),e.jsxs(I,{className:"w-full",onClick:()=>{const{lat:C,lng:w}=c.location.coordinates;window.open(`https://www.google.com/maps?q=${C},${w}`,"_blank")},children:[e.jsx(sr,{className:"h-4 w-4 mr-2"}),"Get Directions"]})]})})]})]}),e.jsxs("div",{className:"mt-12",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"You might also like"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:c.similarPlaces.map(C=>e.jsxs(ae,{className:"overflow-hidden hover:shadow-lg transition-all duration-300 hover:scale-105 cursor-pointer",children:[e.jsxs("div",{className:"relative h-48 bg-gray-200",children:[e.jsx("img",{src:C.image,alt:C.name,className:"w-full h-48 object-cover transition-opacity duration-300",loading:"lazy",onLoad:w=>{const T=w.target;T.style.opacity="1";const O=T.parentElement?.querySelector(".similar-loader");O&&O.classList.add("hidden")},onError:w=>{const T=w.target,O=T.parentElement?.querySelector(".similar-loader");O&&O.classList.add("hidden"),T.src=`https://source.unsplash.com/400x300/?${encodeURIComponent(C.name)},${encodeURIComponent(C.category)}`},style:{opacity:0}}),e.jsx("div",{className:"similar-loader absolute inset-0 flex items-center justify-center bg-gray-100",children:e.jsx("div",{className:"animate-pulse w-6 h-6 bg-gray-300 rounded-full"})})]}),e.jsxs(re,{className:"p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:C.name}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pe,{className:"h-4 w-4 text-yellow-400 fill-current mr-1"}),e.jsx("span",{className:"text-sm",children:C.rating})]}),e.jsx(De,{variant:"outline",className:"text-xs",children:C.category})]})]})]},C.id))})]})]}),y&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center",children:e.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[e.jsx("button",{onClick:()=>b(!1),className:"absolute top-4 right-4 text-white hover:text-gray-300 z-10",children:""}),e.jsx("button",{onClick:S,className:"absolute left-4 text-white hover:text-gray-300 z-10",children:e.jsx(hb,{className:"h-8 w-8"})}),e.jsxs("div",{className:"relative max-w-full max-h-full flex items-center justify-center",children:[e.jsx("img",{src:c.images.gallery[f],alt:`${c.name} photo ${f+1}`,className:"max-w-full max-h-full object-contain transition-opacity duration-300",onLoad:C=>{const w=C.target;w.style.opacity="1";const T=w.parentElement?.querySelector(".modal-loader");T&&T.classList.add("hidden")},onError:C=>{const w=C.target,T=w.parentElement?.querySelector(".modal-loader");T&&T.classList.add("hidden"),w.src.includes("source.unsplash.com")?w.src=`https://picsum.photos/seed/${encodeURIComponent(c.id+f)}/1200/800`:w.src=`https://source.unsplash.com/1200x800/?${encodeURIComponent(c.name)},travel,photo${f}`},style:{opacity:0}}),e.jsx("div",{className:"modal-loader absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-white border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{className:"text-white",children:"Loading image..."})]})})]}),e.jsx("button",{onClick:k,className:"absolute right-4 text-white hover:text-gray-300 z-10",children:e.jsx(xb,{className:"h-8 w-8"})}),e.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 text-white",children:[f+1," of ",c.images.gallery.length]})]})})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Place not found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"The place you're looking for doesn't exist."}),e.jsxs(I,{onClick:()=>r(-1),children:[e.jsx(Yo,{className:"h-4 w-4 mr-2"}),"Go Back"]})]})})};class jS{baseURL;constructor(){this.baseURL="http://localhost:3001"}async getAuthToken(){const r=localStorage.getItem("demo_token");if(r)return console.log(" Using demo token for authentication"),r;try{const{auth:o}=await Mm(async()=>{const{auth:c}=await Promise.resolve().then(()=>I4);return{auth:c}},void 0);if(o?.currentUser){const c=await o.currentUser.getIdToken();return console.log(" Using Firebase token for authentication"),c}}catch(o){console.log(" Firebase not available:",o.message)}const n=localStorage.getItem("auth_token");return n?(console.log(" Using fallback auth token"),n):(console.log(" No authentication token found"),null)}async getAuthHeaders(){const r={"Content-Type":"application/json"},n=await this.getAuthToken();return n&&(r.Authorization=`Bearer ${n}`),r}async request(r,n={}){const o=`${this.baseURL}/api${r}`,c=await this.getAuthHeaders(),m={headers:{...c,...n.headers},...n};console.log(` Making request to: ${o}`),console.log(" Auth headers:",Object.keys(c));const h=await fetch(o,m);if(console.log(` Response status: ${h.status} ${h.statusText}`),!h.ok){const f=await h.text();console.log(" Error response:",f);let p;try{p=JSON.parse(f)}catch{p={message:f||"Request failed"}}throw new Error(p.message||`HTTP ${h.status}: ${h.statusText}`)}const x=await h.json();return console.log(" Success response:",Array.isArray(x)?`Array with ${x.length} items`:"Object"),x}async getUserTripPlans(){try{return await this.request("/users/trip-plans")}catch(r){return console.error("Error fetching trip plans:",r),[]}}async saveTripPlan(r){try{return await this.request("/users/trip-plans",{method:"POST",body:JSON.stringify(r)})}catch(n){return console.error("Error saving trip plan:",n),null}}async updateTripPlan(r){try{return await this.request(`/users/trip-plans/${r.id}`,{method:"PUT",body:JSON.stringify(r)}),!0}catch(n){return console.error("Error updating trip plan:",n),!1}}async updateActivityStatus(r,n,o,c){try{const m=localStorage.getItem("auth_token");return await this.request(`/users/trip-plans/${r}/activities`,{method:"PATCH",headers:{Authorization:`Bearer ${m}`},body:JSON.stringify({dayIndex:n,activityIndex:o,isVisited:c,visitedDate:c?new Date().toISOString():null})}),!0}catch(m){return console.error("Error updating activity status:",m),!1}}async shareTripPlan(r){try{const n=localStorage.getItem("auth_token");return(await this.request(`/users/trip-plans/${r}/share`,{method:"POST",headers:{Authorization:`Bearer ${n}`}})).shareUrl}catch(n){return console.error("Error sharing trip plan:",n),null}}async getSharedTripPlan(r){try{return await this.request(`/shared/trip-plans/${r}`)}catch(n){return console.error("Error fetching shared trip plan:",n),null}}async generateTripPlan(r){try{const n=await this.getAuthHeaders();return await this.request("/ai/trip-generator",{method:"POST",headers:n,body:JSON.stringify(r)})}catch(n){return console.error("Error generating trip plan:",n),null}}async syncLocalPlans(r){try{const n=await this.getAuthHeaders();return await this.request("/users/trip-plans/sync",{method:"POST",headers:n,body:JSON.stringify({tripPlans:r})}),!0}catch(n){return console.error("Error syncing local plans:",n),!1}}async createTrip(r){try{const n=await this.getAuthHeaders();return await this.request("/users/trip-plans",{method:"POST",headers:n,body:JSON.stringify(r)})}catch(n){return console.error("Error creating trip plan:",n),null}}async deleteTrip(r){try{const n=await this.getAuthHeaders(),o=await this.request(`/users/trip-plans/${r}`,{method:"DELETE",headers:n});return Object.keys(localStorage).forEach(m=>{m.includes(r)&&localStorage.removeItem(m)}),o.success||!0}catch(n){return console.error("Error deleting trip plan:",n),!1}}async testConnection(){try{const r=await this.request("/users/test");return console.log(" Backend connection test successful:",r),!0}catch(r){return console.error(" Backend connection test failed:",r),!1}}async getTripById(r){try{const n=await this.getAuthHeaders();return await this.request(`/users/trip-plans/${r}`,{headers:n})}catch(n){return console.error("Error fetching trip:",n),null}}async getTrips(r){return this.getUserTripPlans()}}const wl=new jS,NS=({onTripGenerated:l,onClose:r,selectedPlaces:n=[]})=>{const{config:o}=Qn(),{user:c}=wt(),[m,h]=j.useState({destination:n.length>0?n[0].location.city+", "+n[0].location.country:"",duration:"",travelers:"1",budget:"medium",travelStyle:"balanced",interests:[],currency:"USD",startDate:"",endDate:""}),[x,f]=j.useState(!1),p=async()=>{if(!m.destination||!m.duration){alert("Please fill in destination and duration");return}f(!0);try{const v=o?.apiBaseUrl||"https://travelbuddy-b2c6hgbbgeh4esdh.eastus2-01.azurewebsites.net",k={"Content-Type":"application/json"},S=localStorage.getItem("demo_token");S&&(k.Authorization=`Bearer ${S}`),c?.id&&(k["x-user-id"]=c.id);const C=await fetch(`${v}/api/ai-trips/generate`,{method:"POST",headers:k,body:JSON.stringify({destination:m.destination,duration:m.duration,travelers:m.travelers,budget:m.budget,travelStyle:m.travelStyle,interests:m.interests,currency:m.currency,startDate:m.startDate,selectedPlaces:n})});if(!C.ok){const T=await C.json().catch(()=>({error:"Unknown error"}));if(C.status===429&&T.upgradeRequired){alert(`Upgrade required: ${T.error}. Please upgrade to ${T.nextTier} plan to continue.`);return}if(C.status===401&&T.upgradeRequired){alert("Please log in or upgrade your account to use AI trip generation.");return}throw new Error(T.error||`HTTP error! status: ${C.status}`)}const w=await C.json();l(w)}catch(v){console.error("Failed to generate trip:",v);const k=v instanceof Error?v.message:"Failed to generate trip";k.includes("not configured")?alert("Service temporarily unavailable. Please try again later or contact support."):k.includes("Network")?alert("Network error. Please check your connection and try again."):alert(`Failed to generate trip: ${k}`)}finally{f(!1)}},y=[{id:"culture",label:"Culture & Museums",icon:i6},{id:"food",label:"Food & Dining",icon:a5},{id:"nature",label:"Nature & Outdoors",icon:H3},{id:"adventure",label:"Adventure Sports",icon:tm},{id:"photography",label:"Photography",icon:tr},{id:"beaches",label:"Beaches & Coast",icon:c5},{id:"nightlife",label:"Nightlife & Entertainment",icon:dt},{id:"wellness",label:"Wellness & Relaxation",icon:ut}],b=v=>{h(k=>({...k,interests:k.interests.includes(v)?k.interests.filter(S=>S!==v):[...k.interests,v]}))};return e.jsxs(ae,{className:"w-full max-w-3xl mx-auto bg-white rounded-2xl shadow-2xl overflow-hidden",children:[e.jsxs(je,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(we,{className:"flex items-center text-2xl font-bold",children:[e.jsx(dt,{className:"w-6 h-6 mr-3"}),"AI Trip Generator"]}),e.jsx(I,{variant:"outline",size:"sm",onClick:r,className:"bg-white/20 border-white/30 text-white hover:bg-white/30 rounded-full w-8 h-8 p-0",children:e.jsx(jt,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-blue-100 mt-2",children:"Let AI create your perfect personalized itinerary"})]}),e.jsxs(re,{className:"p-8 space-y-6",children:[n.length>0&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Selected Places from Explore"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.map((v,k)=>e.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm",children:v.name},k))}),e.jsx("p",{className:"text-sm text-blue-700 mt-2",children:"These places will be included in your trip itinerary"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(pe,{className:"w-4 h-4 inline mr-1"}),"Destination"]}),e.jsx("input",{type:"text",value:m.destination,onChange:v=>h({...m,destination:v.target.value}),placeholder:"e.g., Paris, Tokyo, New York",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(nt,{className:"w-4 h-4 inline mr-1"}),"Duration"]}),e.jsxs("select",{value:m.duration,onChange:v=>h({...m,duration:v.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[e.jsx("option",{value:"",children:"Select duration"}),e.jsx("option",{value:"1 day",children:"1 Day"}),e.jsx("option",{value:"2 days",children:"2 Days"}),e.jsx("option",{value:"3 days",children:"3 Days"}),e.jsx("option",{value:"4 days",children:"4 Days"}),e.jsx("option",{value:"5 days",children:"5 Days"}),e.jsx("option",{value:"1 week",children:"1 Week"}),e.jsx("option",{value:"10 days",children:"10 Days"}),e.jsx("option",{value:"2 weeks",children:"2 Weeks"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(it,{className:"w-4 h-4 inline mr-1"}),"Number of Travelers"]}),e.jsxs("select",{value:m.travelers,onChange:v=>h({...m,travelers:v.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[e.jsx("option",{value:"1",children:"Solo (1 person)"}),e.jsx("option",{value:"2",children:"Couple (2 people)"}),e.jsx("option",{value:"3-4",children:"Small Group (3-4 people)"}),e.jsx("option",{value:"5+",children:"Large Group (5+ people)"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Z4,{className:"w-4 h-4 inline mr-1"}),"Currency"]}),e.jsxs("select",{value:m.currency,onChange:v=>h({...m,currency:v.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[e.jsx("option",{value:"USD",children:"USD ($)"}),e.jsx("option",{value:"EUR",children:"EUR ()"}),e.jsx("option",{value:"GBP",children:"GBP ()"}),e.jsx("option",{value:"JPY",children:"JPY ()"}),e.jsx("option",{value:"AUD",children:"AUD (A$)"}),e.jsx("option",{value:"CAD",children:"CAD (C$)"}),e.jsx("option",{value:"CHF",children:"CHF (Fr)"}),e.jsx("option",{value:"CNY",children:"CNY ()"}),e.jsx("option",{value:"INR",children:"INR ()"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Rt,{className:"w-4 h-4 inline mr-1"}),"Budget Range"]}),e.jsxs("select",{value:m.budget,onChange:v=>h({...m,budget:v.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[e.jsx("option",{value:"low",children:"Budget ($300-600)"}),e.jsx("option",{value:"medium",children:"Medium ($600-1200)"}),e.jsx("option",{value:"high",children:"Luxury ($1200+)"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(zt,{className:"w-4 h-4 inline mr-1"}),"Start Date"]}),e.jsx("input",{type:"date",value:m.startDate,onChange:v=>h({...m,startDate:v.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Travel Style"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[{id:"relaxed",label:"Relaxed",desc:"Slow pace, plenty of rest"},{id:"balanced",label:"Balanced",desc:"Mix of activities and downtime"},{id:"packed",label:"Action-Packed",desc:"Maximum activities and sights"}].map(v=>e.jsxs("button",{type:"button",onClick:()=>h({...m,travelStyle:v.id}),className:`p-4 rounded-xl border-2 text-left transition-all ${m.travelStyle===v.id?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:[e.jsx("div",{className:"font-medium",children:v.label}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:v.desc})]},v.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Interests & Activities"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:y.map(v=>{const k=v.icon,S=m.interests.includes(v.id);return e.jsxs("button",{type:"button",onClick:()=>b(v.id),className:`p-3 rounded-xl border-2 text-center transition-all ${S?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:[e.jsx(k,{className:"w-5 h-5 mx-auto mb-2"}),e.jsx("div",{className:"text-xs font-medium",children:v.label})]},v.id)})})]}),e.jsxs("div",{className:"flex gap-4 pt-6",children:[e.jsx(I,{type:"button",onClick:r,variant:"outline",className:"flex-1 py-3 rounded-xl border-2",children:"Cancel"}),e.jsxs(I,{onClick:p,disabled:x||!m.destination||!m.duration,className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white py-3 rounded-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[e.jsx(dt,{className:"w-5 h-5 mr-2"}),x?"Creating Your Perfect Trip...":"Generate AI Trip"]})]})]})]})},wS=({onSubmit:l,onClose:r})=>{const[n,o]=j.useState({tripTitle:"",destination:"",duration:"",dailyPlans:[{day:1,activities:[""]}]}),c=()=>{o(y=>({...y,dailyPlans:[...y.dailyPlans,{day:y.dailyPlans.length+1,activities:[""]}]}))},m=y=>{n.dailyPlans.length>1&&o(b=>({...b,dailyPlans:b.dailyPlans.filter((v,k)=>k!==y).map((v,k)=>({...v,day:k+1}))}))},h=y=>{o(b=>({...b,dailyPlans:b.dailyPlans.map((v,k)=>k===y?{...v,activities:[...v.activities,""]}:v)}))},x=(y,b)=>{o(v=>({...v,dailyPlans:v.dailyPlans.map((k,S)=>S===y?{...k,activities:k.activities.filter((C,w)=>w!==b)}:k)}))},f=(y,b,v)=>{o(k=>({...k,dailyPlans:k.dailyPlans.map((S,C)=>C===y?{...S,activities:S.activities.map((w,T)=>T===b?v:w)}:S)}))},p=y=>{if(y.preventDefault(),n.tripTitle&&n.destination&&n.duration){const b={...n,dailyPlans:n.dailyPlans.map(v=>({...v,activities:v.activities.filter(k=>k.trim()!=="")})).filter(v=>v.activities.length>0)};l(b)}};return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs(ae,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto bg-white rounded-2xl shadow-2xl",children:[e.jsx(je,{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-t-2xl",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(we,{className:"text-2xl font-bold",children:"Create New Trip"}),e.jsx(I,{variant:"outline",size:"sm",onClick:r,className:"bg-white/20 border-white/30 text-white hover:bg-white/30 rounded-full w-8 h-8 p-0",children:e.jsx(jt,{className:"w-4 h-4"})})]})}),e.jsx(re,{className:"p-6",children:e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Title"}),e.jsx("input",{type:"text",value:n.tripTitle,onChange:y=>o(b=>({...b,tripTitle:y.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter trip title",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(pe,{className:"w-4 h-4 inline mr-1"}),"Destination"]}),e.jsx("input",{type:"text",value:n.destination,onChange:y=>o(b=>({...b,destination:y.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter destination",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(nt,{className:"w-4 h-4 inline mr-1"}),"Duration"]}),e.jsx("input",{type:"text",value:n.duration,onChange:y=>o(b=>({...b,duration:y.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., 5 days, 1 week",required:!0})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[e.jsx(zt,{className:"w-5 h-5 inline mr-2"}),"Daily Plans"]}),e.jsxs(I,{type:"button",onClick:c,className:"bg-blue-100 text-blue-600 hover:bg-blue-200 rounded-full px-4 py-2 text-sm",children:[e.jsx(Lr,{className:"w-4 h-4 mr-1"}),"Add Day"]})]}),e.jsx("div",{className:"space-y-4",children:n.dailyPlans.map((y,b)=>e.jsxs("div",{className:"border border-gray-200 rounded-xl p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs("h4",{className:"font-medium text-gray-900",children:["Day ",y.day]}),n.dailyPlans.length>1&&e.jsx(I,{type:"button",onClick:()=>m(b),className:"text-red-500 hover:text-red-700 p-1",variant:"outline",size:"sm",children:e.jsx(ac,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-2",children:[y.activities.map((v,k)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:v,onChange:S=>f(b,k,S.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Enter activity"}),y.activities.length>1&&e.jsx(I,{type:"button",onClick:()=>x(b,k),className:"text-red-500 hover:text-red-700 p-2",variant:"outline",size:"sm",children:e.jsx(jt,{className:"w-4 h-4"})})]},k)),e.jsxs(I,{type:"button",onClick:()=>h(b),className:"text-blue-600 hover:text-blue-700 text-sm p-2",variant:"outline",children:[e.jsx(Lr,{className:"w-4 h-4 mr-1"}),"Add Activity"]})]})]},b))})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(I,{type:"button",onClick:r,variant:"outline",className:"flex-1 py-3 rounded-xl",children:"Cancel"}),e.jsx(I,{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white py-3 rounded-xl font-medium",children:"Create Trip"})]})]})})]})})},SS=()=>{const{user:l}=wt(),[r,n]=j.useState([]),[o,c]=j.useState(!1),[m,h]=j.useState(!1),[x,f]=j.useState(!0),[p,y]=j.useState([]),[b,v]=j.useState("list"),[k,S]=j.useState(null),C=Nt();j.useEffect(()=>{w();const R=sessionStorage.getItem("selectedPlaces");if(R){const W=JSON.parse(R);y(W),c(!0),sessionStorage.removeItem("selectedPlaces")}},[]);const w=async()=>{try{if(f(!0),!l?.id){console.log("No user ID available"),n([]);return}const R=await wl.getTrips(l.id);n(Array.isArray(R)?R:[]),console.log(` Loaded ${R.length} trips from backend`)}catch(R){console.error("Failed to fetch trips:",R),n([])}finally{f(!1)}},T=async R=>{if(confirm("Delete this trip?"))try{console.log(" Deleting trip:",R),n(B=>B.filter(X=>X._id!==R));const W=await wl.deleteTrip(R);console.log(" Delete result:",W),W?console.log(" Trip deleted successfully"):(console.error(" Delete failed, reverting"),w(),alert("Failed to delete trip"))}catch(W){console.error("Failed to delete trip:",W),w(),alert("Error deleting trip: "+W.message)}},O=R=>{if(!R.dailyPlans||R.dailyPlans.length===0)return 0;const W=R.dailyPlans.reduce((X,V)=>X+(V.activities?.length||0),0),B=R.dailyPlans.reduce((X,V)=>X+(V.activities?.filter(_=>_.isVisited)?.length||0),0);return W>0?Math.round(B/W*100):0};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-blue-600 to-purple-700 text-white",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=1920&h=1080&fit=crop)"}}),e.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 py-16 sm:py-24",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"p-3 bg-white/20 rounded-full backdrop-blur-sm",children:e.jsx(ar,{className:"w-12 h-12"})})}),e.jsx("h1",{className:"text-4xl sm:text-6xl font-bold mb-6 bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:"Your Travel Adventures"}),e.jsx("p",{className:"text-xl sm:text-2xl text-blue-100 mb-8 max-w-3xl mx-auto",children:"Create personalized itineraries with AI-powered trip planning. Drag & drop to organize, visualize on maps."}),e.jsxs("div",{className:"flex justify-center space-x-2 mb-8",children:[e.jsxs(I,{variant:b==="list"?"default":"outline",onClick:()=>v("list"),className:"flex items-center bg-white/20 backdrop-blur-sm border-white/30 text-white hover:bg-white/30",children:[e.jsx(ni,{className:"w-4 h-4 mr-2"}),"List View"]}),e.jsxs(I,{variant:b==="map"?"default":"outline",onClick:()=>v("map"),className:"flex items-center bg-white/20 backdrop-blur-sm border-white/30 text-white hover:bg-white/30",children:[e.jsx(_l,{className:"w-4 h-4 mr-2"}),"Map View"]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs(I,{onClick:()=>c(!0),className:"bg-white text-blue-600 hover:bg-blue-50 text-lg px-8 py-4 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[e.jsx(dt,{className:"w-5 h-5 mr-2"}),"Create Trip Plan"]})})]})})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 -mt-8 relative z-10",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 text-center border border-gray-100",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(pe,{className:"w-6 h-6 text-blue-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r.length}),e.jsx("p",{className:"text-gray-600",children:"Total Trips"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 text-center border border-gray-100",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Pe,{className:"w-6 h-6 text-green-600"})}),e.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:[Math.round(r.reduce((R,W)=>R+O(W),0)/(r.length||1)),"%"]}),e.jsx("p",{className:"text-gray-600",children:"Avg Progress"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 text-center border border-gray-100",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(it,{className:"w-6 h-6 text-purple-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"AI"}),e.jsx("p",{className:"text-gray-600",children:"Powered"})]})]})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx(NS,{selectedPlaces:p,onTripGenerated:async R=>{try{if(!l?.id){console.error("No user ID available"),alert("Please log in to save trips");return}await wl.createTrip({...R,userId:l.id})?(c(!1),y([]),w()):(console.error("Failed to save trip - no response"),alert("Failed to save trip. Please try again."))}catch(W){console.error("Failed to save AI trip:",W),alert("Failed to save trip. Please try again.")}},onClose:()=>{c(!1),y([])}})}),m&&e.jsx(wS,{onSubmit:async R=>{try{await wl.createTrip({...R,userId:l?.id}),h(!1),w()}catch(W){console.error("Failed to save trip:",W)}},onClose:()=>h(!1)}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 pb-16",children:x?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[1,2,3].map(R=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded"})]},R))}):r.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map(R=>{const W=O(R);return e.jsxs(ae,{className:"group hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 bg-white rounded-2xl border-0 shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-4 right-4 z-10",children:e.jsx(I,{variant:"outline",size:"sm",onClick:B=>{B.stopPropagation(),T(R._id)},className:"bg-white/90 backdrop-blur-sm border-0 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-full w-8 h-8 p-0",children:e.jsx(ac,{className:"w-4 h-4"})})}),e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-32 flex items-center justify-center",children:e.jsx(pe,{className:"w-8 h-8 text-white"})})]}),e.jsxs(re,{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:R.tripTitle}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(pe,{className:"w-4 h-4 mr-3 text-blue-500"}),e.jsx("span",{className:"font-medium",children:R.destination})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(nt,{className:"w-4 h-4 mr-3 text-green-500"}),e.jsx("span",{children:R.duration})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(zt,{className:"w-4 h-4 mr-3 text-purple-500"}),e.jsx("span",{children:new Date(R.createdAt).toLocaleDateString()})]}),R.totalEstimatedCost&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Rt,{className:"w-4 h-4 mr-3 text-yellow-500"}),e.jsx("span",{children:R.totalEstimatedCost})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progress"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[W,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${W}%`}})})]}),e.jsxs(I,{onClick:()=>C(`/trips/${R._id}`),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-xl py-3 font-medium transition-all duration-300 transform hover:scale-105",children:[e.jsx(bs,{className:"w-4 h-4 mr-2"}),"View Trip Details"]})]})]},R._id)})}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-blue-100 to-purple-100 rounded-full flex items-center justify-center mx-auto mb-8",children:e.jsx(ar,{className:"w-12 h-12 text-blue-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Ready for Your Next Adventure?"}),e.jsx("p",{className:"text-gray-600 mb-8 text-lg max-w-md mx-auto",children:"Let AI create the perfect itinerary tailored to your preferences and budget."}),e.jsx("div",{className:"flex justify-center",children:e.jsxs(I,{onClick:()=>c(!0),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-4 rounded-full text-lg font-medium shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[e.jsx(dt,{className:"w-5 h-5 mr-2"}),"Create Trip Plan"]})})]})})]})},Rb=()=>{const{id:l}=um(),r=Nt(),{toggleActivityStatus:n,getActivityStatus:o}=db(),[c,m]=j.useState(null),[h,x]=j.useState(!0),[f,p]=j.useState("list"),[y,b]=j.useState(!1),[v,k]=j.useState(""),[S,C]=j.useState(!1),[w,T]=j.useState(!1),[,O]=j.useState({}),[R,W]=j.useState(null),[B,X]=j.useState(!1),[V,_]=j.useState(null);j.useEffect(()=>{if(l){ye(l);const A=localStorage.getItem(`trip-notes-${l}`);A&&k(A)}},[l]),j.useEffect(()=>{c&&(Me(),ne(),_(Z()))},[c,l]),j.useEffect(()=>{c&&l&&_(Z())},[O]);const ne=async()=>{c&&(W(c.introduction),X(!1))},ye=async A=>{try{const F=await wl.getTripById(A);m(F)}catch(F){console.error("Failed to fetch trip:",F)}finally{x(!1)}},Me=async()=>{if(!c)return;const A={...c};for(const F of A.dailyPlans)for(const P of F.activities)if(!P.imageUrl){const z=P.activityTitle.toLowerCase();let ce="1506905925346-21bda4d32df4";z.includes("temple")||z.includes("church")||z.includes("mosque")?(ce="1548013146-72479768c5bd",P.category="Religious Site"):z.includes("museum")||z.includes("gallery")?(ce="1554072675-66db59dba46f",P.category="Museum"):z.includes("market")||z.includes("bazaar")?(ce="1555396273-e9f2df6178d7",P.category="Market"):z.includes("fort")||z.includes("palace")||z.includes("castle")?(ce="1520637836862-4d197d17c93a",P.category="Historical Site"):z.includes("park")||z.includes("garden")?(ce="1441974231531-c6227db76b6e",P.category="Park"):z.includes("restaurant")||z.includes("food")?(ce="1414235077428-338989a2e8c0",P.category="Restaurant"):(ce="1488646953014-e1824e62c96c",P.category="Attraction"),P.imageUrl=`https://images.unsplash.com/photo-${ce}?w=400&h=300&fit=crop&q=80`,P.rating=Math.round((4+Math.random()*1)*10)/10}m(A)},D=(A,F)=>{l&&(n(l,A,F),O({}))},Z=()=>{if(!c||!l)return null;let A=0,F=0,P=0,z=0,ce=0,M=0;return c.dailyPlans.forEach((Q,ie)=>{Q.activities.forEach((de,be)=>{A++;const Ne=o(l,ie,be);Ne&&F++;const me=de.duration.toLowerCase();let Qe=60;if(me.includes("hr")||me.includes("h")){const mt=me.match(/(\d+\.?\d*)/);mt&&(Qe=parseFloat(mt[1])*60)}else if(me.includes("min")){const mt=me.match(/(\d+)/);mt&&(Qe=parseInt(mt[1]))}P+=Qe,Ne||(z+=Qe);const $e=de.estimatedCost.replace(/[^0-9.]/g,""),kt=parseFloat($e)||0;ce+=kt,Ne||(M+=kt)})}),{totalActivities:A,visitedActivities:F,pendingActivities:A-F,completionRate:Math.round(F/A*100),totalHours:Math.ceil(P/60),pendingHours:Math.ceil(z/60),totalCost:ce.toFixed(0),pendingCost:M.toFixed(0)}},oe=()=>{if(!c)return;const A=c.dailyPlans.flatMap(P=>P.activities).map(P=>P.activityTitle).join("|"),F=`https://www.google.com/maps/dir/?api=1&waypoints=${encodeURIComponent(A)}`;window.open(F,"_blank")},Y=async()=>{if(!(!c||!l))try{await wl.updateTrip(l,c),localStorage.setItem(`trip-notes-${l}`,v),alert("Trip saved successfully!")}catch(A){console.error("Failed to save trip:",A),alert("Failed to save trip")}};return h?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})}):c?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[e.jsx("div",{className:"relative overflow-hidden bg-gradient-to-r from-teal-600 to-blue-700 text-white",children:e.jsxs("div",{className:"relative max-w-6xl mx-auto px-4 py-12",children:[e.jsxs(I,{variant:"outline",onClick:()=>r(-1),className:"mb-6 bg-white/20 border-white/30 text-white hover:bg-white/30",children:[e.jsx(Yo,{className:"w-4 h-4 mr-2"}),"Back to Trips"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-center",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("h1",{className:"text-4xl lg:text-5xl font-bold mb-4",children:c.tripTitle}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center bg-white/20 rounded-lg px-3 py-2",children:[e.jsx(pe,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:c.destination})]}),e.jsxs("div",{className:"flex items-center bg-white/20 rounded-lg px-3 py-2",children:[e.jsx(nt,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:c.duration})]}),e.jsxs("div",{className:"flex items-center bg-white/20 rounded-lg px-3 py-2",children:[e.jsx(Rt,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:c.totalEstimatedCost})]}),e.jsxs("div",{className:"flex items-center bg-white/20 rounded-lg px-3 py-2",children:[e.jsx(sr,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:c.estimatedWalkingDistance})]})]})]}),e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Trip Progress"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{children:[V?.totalActivities," Activities"]}),e.jsxs("span",{children:[V?.visitedActivities," Completed"]})]}),e.jsx("div",{className:"w-full bg-white/30 rounded-full h-3",children:e.jsx("div",{className:"bg-gradient-to-r from-green-400 to-emerald-500 h-3 rounded-full transition-all duration-500",style:{width:`${V?.completionRate||0}%`}})}),e.jsxs("div",{className:"text-xs opacity-90",children:[V?.completionRate||0,"% Complete"]})]})]})]})]})}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[e.jsx(ae,{className:"mb-8 bg-gradient-to-r from-blue-50 to-purple-50 border-purple-200 shadow-lg",children:e.jsxs(re,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center mr-3",children:e.jsx(Pe,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"AI Trip Overview"}),e.jsx("p",{className:"text-xs text-purple-600 font-medium",children:"Powered by Azure OpenAI"})]}),B&&e.jsx("div",{className:"ml-auto",children:e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-purple-600"})})]}),e.jsx("div",{className:"bg-white rounded-lg p-4",children:B?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 italic",children:"Generating personalized overview..."})]})}):e.jsx("p",{className:"text-gray-700 whitespace-pre-line leading-relaxed",children:R||c.introduction})})]})}),V&&e.jsx(ae,{className:"mb-8",children:e.jsxs(re,{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:" Trip Progress"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:V.totalActivities}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Places"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:V.visitedActivities}),e.jsx("div",{className:"text-sm text-gray-600",children:"Visited"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-600",children:V.pendingActivities}),e.jsx("div",{className:"text-sm text-gray-600",children:"Pending"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:[V.completionRate,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Complete"})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Total / Pending Time"}),e.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[V.totalHours,"h / ",V.pendingHours,"h"]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Total / Pending Cost"}),e.jsxs("div",{className:"text-lg font-bold text-green-600",children:["$",V.totalCost," / $",V.pendingCost]})]})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-8",children:e.jsx("div",{className:"flex flex-wrap justify-between items-center gap-4",children:e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(I,{onClick:Y,variant:"outline",className:"flex items-center",children:[e.jsx(Dl,{className:"w-4 h-4 mr-2"}),"Save Trip"]}),e.jsxs(I,{onClick:oe,className:"flex items-center",children:[e.jsx(sr,{className:"w-4 h-4 mr-2"}),"Open in Google Maps"]}),e.jsxs(I,{onClick:()=>b(!y),variant:y?"default":"outline",className:"flex items-center",children:[e.jsx(Zu,{className:"w-4 h-4 mr-2"}),"Trip Notes"]})]})})}),y&&e.jsx(ae,{className:"mb-8 bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:e.jsxs(re,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(sm,{className:"w-5 h-5 text-blue-600 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Trip Journal & Notes"})]}),e.jsx("textarea",{value:v,onChange:A=>k(A.target.value),placeholder:"Write your travel thoughts, experiences, reminders, or tips here...",className:"w-full h-32 p-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:" Your notes are automatically saved when you save the trip"})]})}),e.jsx("div",{className:"space-y-8",children:c.dailyPlans.map((A,F)=>e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-teal-500 to-blue-600 rounded-full flex items-center justify-center text-white font-bold text-lg mr-4",children:A.day}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Day ",A.day]}),e.jsx("p",{className:"text-gray-600",dangerouslySetInnerHTML:{__html:A.title}})]})]})}),e.jsxs("div",{className:"relative ml-6",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-0.5 bg-gradient-to-b from-teal-400 to-blue-500"}),e.jsx("div",{className:"space-y-6",children:A.activities.map((P,z)=>e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`absolute -left-2 w-4 h-4 rounded-full border-2 border-white ${o(l,F,z)?"bg-green-500":"bg-blue-500"}`}),e.jsx(ae,{className:`ml-8 transition-all duration-300 hover:shadow-lg ${o(l,F,z)?"bg-green-50 border-green-200":"bg-blue-50 border-blue-200"}`,children:e.jsx(re,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{className:"w-32 h-24 rounded-lg overflow-hidden mr-6 flex-shrink-0",children:e.jsx("img",{src:P.imageUrl||"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",alt:P.activityTitle,className:"w-full h-full object-cover",onError:ce=>{ce.currentTarget.src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop"}})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("span",{className:"bg-teal-100 text-teal-700 px-3 py-1 rounded-full text-sm font-medium",children:P.timeOfDay}),P.rating&&e.jsxs("div",{className:"flex items-center bg-yellow-100 px-2 py-1 rounded-full",children:[e.jsx(Pe,{className:"w-4 h-4 text-yellow-500 fill-current mr-1"}),e.jsx("span",{className:"text-sm font-medium text-yellow-700",children:P.rating})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:P.activityTitle}),P.address&&e.jsxs("div",{className:"flex items-start text-sm text-gray-600 mb-2",children:[e.jsx(pe,{className:"w-4 h-4 mr-2 mt-0.5 text-blue-500"}),e.jsx("span",{children:P.address})]}),P.category&&e.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full mb-2",children:P.category}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:P.description})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(nt,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:P.duration})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Rt,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:P.estimatedCost})]})]})]}),e.jsx("div",{className:"ml-6",children:e.jsx(I,{variant:"default",size:"sm",onClick:()=>D(F,z),className:o(l,F,z)?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700",children:o(l,F,z)?e.jsxs(e.Fragment,{children:[e.jsx(at,{className:"w-4 h-4 mr-2"}),"Visited"]}):e.jsxs(e.Fragment,{children:[e.jsx(w6,{className:"w-4 h-4 mr-2"}),"Pending"]})})})]})})})]},z))})]})]},A.day))})]})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trip Not Found"}),e.jsx(I,{onClick:()=>r(-1),children:"Back to Trips"})]})})},F0=[{id:"1",name:"Sarah Johnson",agency:"Adventure Lanka Tours",photo:"https://images.unsplash.com/photo-1494790108755-2616b612b47c?w=150&h=150&fit=crop&crop=face",location:"Colombo, Sri Lanka",specializations:["Adventure & Hiking","Cultural Tours","Wildlife & Safari"],rating:4.8,reviewCount:127,languages:["English","Sinhala"],verified:!0,experience:8,description:"Specialized in authentic Sri Lankan experiences with focus on adventure and cultural immersion.",phone:"+94 77 123 4567",email:"sarah@adventurelanka.com",priceRange:"$50-150/day",responseTime:"< 1 hour",totalTrips:340,trustBadges:["Top 1% Agent","Highly rated by couples"],profileCompletion:95},{id:"2",name:"Rajesh Patel",agency:"Island Paradise Travel",photo:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",location:"Kandy, Sri Lanka",specializations:["Honeymoon & Romance","Luxury & VIP","Beach & Coastal"],rating:4.9,reviewCount:89,languages:["English","Hindi","Tamil"],verified:!0,experience:12,description:"Luxury travel specialist creating unforgettable honeymoon and beach experiences.",phone:"+94 81 234 5678",email:"rajesh@islandparadise.lk",priceRange:"$100-300/day",responseTime:"< 2 hours",totalTrips:520,trustBadges:["Award Winner","Great for luxury trips"],profileCompletion:88},{id:"3",name:"Emma Thompson",agency:"Family Adventures LK",photo:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",location:"Galle, Sri Lanka",specializations:["Family Travel","Educational Tours","Wildlife & Safari"],rating:4.7,reviewCount:156,languages:["English","German"],verified:!0,experience:6,description:"Family travel expert specializing in educational and wildlife experiences for all ages.",phone:"+94 91 345 6789",email:"emma@familyadventures.lk",priceRange:"$75-200/day",responseTime:"< 3 hours",totalTrips:280,trustBadges:["Great for family trips","Popular this month"],profileCompletion:92}],CS=["Adventure & Hiking","Cultural Tours","Family Travel","Honeymoon & Romance","Luxury & VIP","Wildlife & Safari","Beach & Coastal","Photography Tours","Budget Backpacking","Pilgrimage Tours","Eco-Tourism","Road Trip Specialists","Digital Nomad Support","Educational Tours","Solo Travel","Business Travel","Food & Culinary","Scuba & Diving","Shopping Tours","Skiing & Snow","Historical Tours","Religious Tours","LGBTQ+ Friendly","Accessible Travel"],kS=["Colombo","Kandy","Galle","Negombo","Ella","Sigiriya","Anuradhapura","Mirissa","Bentota","Nuwara Eliya"],TS=["Western Province","Central Province","Southern Province","Hill Country","Cultural Triangle"],AS=["1-3 years","3-7 years","7-10 years","10+ years"],ES=["TravelBuddy Verified","Government Licensed","Tour Guide License","Insurance Covered","Award Winner","Tourism Board Approved","First Aid Certified","Background Checked","National Park License"],Mb=()=>{const[l,r]=j.useState(""),[n,o]=j.useState([]),[c,m]=j.useState([]),[h,x]=j.useState(""),[f,p]=j.useState(""),[y,b]=j.useState(""),[v,k]=j.useState([]),[S,C]=j.useState(0),[w,T]=j.useState([]),[O,R]=j.useState(""),[W,B]=j.useState([]),[X,V]=j.useState(!1),[_,ne]=j.useState("grid"),[ye,Me]=j.useState(!1),[D,Z]=j.useState(null),[oe,Y]=j.useState(!0);j.useEffect(()=>{rs.getConfig().then(z=>r(z.apiBaseUrl))},[]),j.useEffect(()=>{l&&A()},[l]),j.useEffect(()=>{F()},[n,h,f,y,v,S,w,O,W,X]);const A=async()=>{try{Y(!0);const z=await fetch(`${l}/api/travel-agents`);if(z.ok){const ce=await z.json();o(ce)}else o(F0)}catch(z){console.error("Failed to fetch agents:",z),o(F0)}finally{Y(!1)}},F=()=>{let z=n.filter(ce=>{const M=ce.name.toLowerCase().includes(h.toLowerCase())||ce.agency.toLowerCase().includes(h.toLowerCase()),Q=!f||ce.location.includes(f),ie=v.length===0||v.some(me=>ce.specializations.includes(me)),de=ce.rating>=S,be=w.length===0||w.some(me=>ce.languages.includes(me)),Ne=!X||ce.verified;return M&&Q&&ie&&de&&be&&Ne});m(z)},P=z=>{k(ce=>ce.includes(z)?ce.filter(M=>M!==z):[...ce,z])};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-teal-50 pt-20",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-700 to-purple-800 text-white py-20 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 border-2 border-white/20 rounded-full"}),e.jsx("div",{className:"absolute top-32 right-20 w-24 h-24 border-2 border-white/20 rounded-full"}),e.jsx("div",{className:"absolute bottom-20 left-1/4 w-16 h-16 border-2 border-white/20 rounded-full"})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-5xl lg:text-6xl font-bold mb-6 bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:"Find Expert Travel Agents Worldwide"}),e.jsx("p",{className:"text-xl text-blue-100 max-w-3xl mx-auto mb-6",children:"Trusted by travelers in 42+ countries  Connect with verified local experts globally"}),e.jsxs("div",{className:"flex justify-center space-x-8 mb-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:"42+"}),e.jsx("div",{className:"text-sm text-blue-200",children:"Countries"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:"500+"}),e.jsx("div",{className:"text-sm text-blue-200",children:"Verified Agents"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:"10,000+"}),e.jsx("div",{className:"text-sm text-blue-200",children:"Successful Trips"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:"4.8"}),e.jsx("div",{className:"text-sm text-blue-200",children:"Average Rating"})]})]})]}),e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ot,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/70"}),e.jsx("input",{type:"text",placeholder:"Try 'Tokyo guide', 'Paris food tour', 'Dubai luxury', or agent names...",value:h,onChange:z=>x(z.target.value),className:"w-full pl-12 pr-4 py-4 bg-white/20 border border-white/30 rounded-xl text-white placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-white/50 text-lg"}),h&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl z-10 max-h-60 overflow-y-auto",children:["Honeymoon planners","Safari experts","Budget-friendly agents","Luxury travel specialists"].filter(z=>z.toLowerCase().includes(h.toLowerCase())).map(z=>e.jsx("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer text-gray-700 border-b last:border-b-0",onClick:()=>x(z),children:z},z))})]}),e.jsxs(I,{onClick:()=>Me(!ye),className:"bg-white/20 hover:bg-white/30 border border-white/30 text-white px-8 py-4 rounded-xl text-lg font-medium",children:[e.jsx(li,{className:"w-5 h-5 mr-2"}),"Smart Filters"]})]}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[e.jsx("span",{className:"text-white/70 text-sm mr-2",children:" Trending:"}),["Tokyo guides","Paris food tours","Dubai luxury","Bali adventures","Safari experts"].map(z=>e.jsx("button",{onClick:()=>x(z),className:"px-3 py-1 bg-white/20 hover:bg-white/30 rounded-full text-sm text-white/90 transition-colors",children:z},z))]})]})})]})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[ye&&e.jsx(ae,{className:"mb-8 border-0 shadow-lg",children:e.jsxs(re,{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),e.jsxs("select",{value:f,onChange:z=>p(z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Cities"}),kS.map(z=>e.jsx("option",{value:z,children:z},z))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Region"}),e.jsxs("select",{value:y,onChange:z=>b(z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Regions"}),TS.map(z=>e.jsx("option",{value:z,children:z},z))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Experience"}),e.jsxs("select",{value:O,onChange:z=>R(z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Any Experience"}),AS.map(z=>e.jsx("option",{value:z,children:z},z))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating"}),e.jsxs("select",{value:S,onChange:z=>C(Number(z.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[e.jsx("option",{value:0,children:"Any Rating"}),e.jsx("option",{value:4,children:"4+ Stars"}),e.jsx("option",{value:4.5,children:"4.5+ Stars"}),e.jsx("option",{value:4.8,children:"Top Rated (4.8+)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"View"}),e.jsxs("div",{className:"flex rounded-lg border border-gray-300 overflow-hidden",children:[e.jsx("button",{onClick:()=>ne("grid"),className:`flex-1 px-2 py-2 text-xs ${_==="grid"?"bg-indigo-600 text-white":"bg-white text-gray-700"}`,children:e.jsx(Am,{className:"w-4 h-4 mx-auto"})}),e.jsx("button",{onClick:()=>ne("list"),className:`flex-1 px-2 py-2 text-xs ${_==="list"?"bg-indigo-600 text-white":"bg-white text-gray-700"}`,children:e.jsx(ni,{className:"w-4 h-4 mx-auto"})}),e.jsx("button",{onClick:()=>ne("map"),className:`flex-1 px-2 py-2 text-xs ${_==="map"?"bg-indigo-600 text-white":"bg-white text-gray-700"}`,children:e.jsx(_l,{className:"w-4 h-4 mx-auto"})})]})]})]}),e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsx(I,{className:"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white px-6 py-2 rounded-lg",children:" Show AI-Recommended Agents"})}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Specializations"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-2",children:CS.map(z=>e.jsx("button",{onClick:()=>P(z),className:`px-3 py-2 rounded-lg text-sm transition-colors text-center ${v.includes(z)?"bg-indigo-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:z},z))})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Verification & Credentials"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:ES.map(z=>e.jsx("button",{onClick:()=>{B(ce=>ce.includes(z)?ce.filter(M=>M!==z):[...ce,z])},className:`px-3 py-2 rounded-lg text-sm transition-colors ${W.includes(z)?"bg-green-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:z},z))})]})]})}),e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[c.length," Travel Agents Found"]})}),_==="map"&&e.jsx("div",{className:"mb-8",children:e.jsx(ae,{className:"border-0 shadow-lg",children:e.jsx(re,{className:"p-6",children:e.jsxs("div",{className:"bg-gradient-to-r from-blue-100 to-indigo-100 rounded-lg p-8 text-center",children:[e.jsx(_l,{className:"w-16 h-16 mx-auto mb-4 text-indigo-600"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Interactive Map View"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"See agents on an interactive map with location pins"}),e.jsx(I,{className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:"Coming Soon - Map Integration"})]})})})}),_!=="map"&&(oe?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):e.jsx("div",{className:_==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:c.map(z=>e.jsx(ae,{className:"group hover:shadow-xl transition-all duration-300 cursor-pointer border-0 shadow-lg overflow-hidden",children:e.jsx(re,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:z.photo,alt:z.name,className:"w-16 h-16 rounded-full object-cover border-2 border-white shadow-md",onError:ce=>{ce.currentTarget.src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face"}}),z.verified&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center border-2 border-white",children:e.jsx(Er,{className:"w-3 h-3 text-white"})}),z.profileCompletion&&z.profileCompletion>90&&e.jsx("div",{className:"absolute -top-1 -left-1 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center border-2 border-white",children:e.jsx("span",{className:"text-xs text-white font-bold",children:""})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h3",{className:"font-bold text-gray-900 group-hover:text-indigo-600 transition-colors",children:z.name}),e.jsxs("span",{className:"text-xs text-gray-500",children:[z.experience," years exp"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:z.agency}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-500 mb-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(pe,{className:"w-3 h-3 mr-1"}),z.location.split(",")[0]]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pe,{className:"w-3 h-3 mr-1 text-yellow-500 fill-current"}),z.rating," (",z.reviewCount,")"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(nt,{className:"w-3 h-3 mr-1"}),z.responseTime]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(it,{className:"w-3 h-3 mr-1"}),z.totalTrips,"+ trips"]})]})]})]}),z.trustBadges&&z.trustBadges.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1",children:z.trustBadges.map(ce=>e.jsxs("span",{className:"px-2 py-1 bg-gradient-to-r from-purple-100 to-indigo-100 text-purple-700 text-xs rounded-full font-medium",children:[" ",ce]},ce))}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[z.specializations.slice(0,3).map(ce=>e.jsx("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-700 text-xs rounded-lg",children:ce},ce)),z.specializations.length>3&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-lg",children:["+",z.specializations.length-3," more"]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[e.jsx(s3,{className:"w-3 h-3"}),e.jsx("span",{children:z.languages.slice(0,2).join(", ")}),z.languages.length>2&&e.jsxs("span",{children:["+",z.languages.length-2]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(I,{size:"sm",variant:"outline",className:"text-xs px-3 py-1",children:[e.jsx(Bs,{className:"w-3 h-3 mr-1"}),"Chat"]}),e.jsx(I,{size:"sm",className:"text-xs px-3 py-1 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700",onClick:()=>Z(z),children:"View Profile"})]})]})]})})},z.id))})),e.jsx("div",{className:"mt-16 text-center bg-gradient-to-r from-indigo-50 via-purple-50 to-blue-50 rounded-2xl p-12 border border-indigo-100",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Join Our Elite Agent Network"}),e.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Become part of Sri Lanka's premier travel agent community. Connect with 1000+ travelers monthly and grow your business with verified leads."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-6",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Er,{className:"w-5 h-5 mr-2 text-indigo-600"}),"Verified Professional Status"]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(it,{className:"w-5 h-5 mr-2 text-indigo-600"}),"Direct Customer Connections"]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Rt,{className:"w-5 h-5 mr-2 text-indigo-600"}),"Increase Your Revenue"]})]}),e.jsx(Te,{to:"/travel-agent-registration",children:e.jsx(I,{className:"bg-gradient-to-r from-indigo-600 via-purple-600 to-blue-600 hover:from-indigo-700 hover:via-purple-700 hover:to-blue-700 text-white px-10 py-4 rounded-xl text-lg font-semibold shadow-lg hover:shadow-xl transition-all",children:" Register as Travel Agent"})})]})}),D&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"relative bg-gradient-to-r from-teal-600 to-blue-700 text-white p-6 rounded-t-2xl",children:[e.jsx("button",{onClick:()=>Z(null),className:"absolute top-4 right-4 w-8 h-8 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center transition-colors",children:e.jsx(jt,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex items-start space-x-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:D.photo,alt:D.name,className:"w-24 h-24 rounded-full object-cover border-4 border-white/20",onError:z=>{z.currentTarget.src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face"}}),D.verified&&e.jsx("div",{className:"absolute -bottom-2 -right-2 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center border-2 border-white",children:e.jsx(Er,{className:"w-4 h-4 text-white"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-3xl font-bold mb-2",children:D.name}),e.jsx("p",{className:"text-xl text-blue-100 mb-3",children:D.agency}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center bg-white/20 rounded-lg px-3 py-1",children:[e.jsx(pe,{className:"w-4 h-4 mr-2"}),D.location]}),e.jsxs("div",{className:"flex items-center bg-white/20 rounded-lg px-3 py-1",children:[e.jsx(Pe,{className:"w-4 h-4 mr-2 text-yellow-300 fill-current"}),D.rating," (",D.reviewCount," reviews)"]}),e.jsxs("div",{className:"flex items-center bg-white/20 rounded-lg px-3 py-1",children:[e.jsx(nt,{className:"w-4 h-4 mr-2"}),D.experience," years experience"]})]})]})]})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"About"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:D.description})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Specializations"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:D.specializations.map(z=>e.jsx("span",{className:"px-3 py-2 bg-teal-100 text-teal-700 rounded-lg font-medium",children:z},z))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Languages"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:D.languages.map(z=>e.jsx("span",{className:"px-3 py-2 bg-blue-100 text-blue-700 rounded-lg font-medium",children:z},z))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Recent Reviews"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"flex text-yellow-500",children:[...Array(5)].map((z,ce)=>e.jsx(Pe,{className:"w-4 h-4 fill-current"},ce))}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"John D.  2 weeks ago"})]}),e.jsxs("p",{className:"text-gray-700",children:['"Excellent service! ',D.name,' planned our perfect Sri Lankan adventure. Highly recommended!"']})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"flex text-yellow-500",children:[...Array(5)].map((z,ce)=>e.jsx(Pe,{className:"w-4 h-4 fill-current"},ce))}),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Sarah M.  1 month ago"})]}),e.jsx("p",{className:"text-gray-700",children:'"Professional and knowledgeable. Made our honeymoon unforgettable!"'})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(ae,{className:"border-0 shadow-lg",children:e.jsxs(re,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Contact Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(Es,{className:"w-5 h-5 mr-3 text-teal-600"}),e.jsx("span",{children:D.phone})]}),e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(As,{className:"w-5 h-5 mr-3 text-teal-600"}),e.jsx("span",{className:"break-all",children:D.email})]}),e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(Rt,{className:"w-5 h-5 mr-3 text-teal-600"}),e.jsx("span",{children:D.priceRange})]})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(I,{className:"w-full bg-teal-600 hover:bg-teal-700 text-white py-3 rounded-xl",children:[e.jsx(Bs,{className:"w-5 h-5 mr-2"}),"Send Message"]}),e.jsxs(I,{variant:"outline",className:"w-full py-3 rounded-xl",children:[e.jsx(Es,{className:"w-5 h-5 mr-2"}),"Call Now"]}),e.jsxs(I,{variant:"outline",className:"w-full py-3 rounded-xl",children:[e.jsx(zt,{className:"w-5 h-5 mr-2"}),"Book Consultation"]}),e.jsxs(I,{variant:"outline",className:"w-full py-3 rounded-xl",children:[e.jsx(ut,{className:"w-5 h-5 mr-2"}),"Save Agent"]})]}),e.jsx(ae,{className:"border-0 shadow-lg",children:e.jsxs(re,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Quick Stats"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Response Time"}),e.jsx("span",{className:"font-medium",children:"< 2 hours"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Trips Completed"}),e.jsx("span",{className:"font-medium",children:"150+"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Repeat Clients"}),e.jsx("span",{className:"font-medium",children:"85%"})]})]})]})})]})]})})]})})]})]})},G0=[{id:"1",providerId:"tp1",companyName:"Lanka Express Transport",vehicleType:"Bus",route:"Colombo - Kandy",fromLocation:"Colombo",toLocation:"Kandy",price:500,duration:"3 hours",departure:"08:00 AM",arrival:"11:00 AM",availableSeats:25,totalSeats:45,amenities:["AC","WiFi","Charging Ports","Refreshments"],rating:4.5,reviewCount:89,image:"https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=400&h=250&fit=crop",description:"Comfortable air-conditioned bus service with modern amenities",phone:"+94 11 234 5678",email:"info@lankaexpress.lk",isVerified:!0,isLive:!0,aiRecommended:!0,popularRoute:!0,passengerCapacity:45,luggageCapacity:"Large",instantBooking:!0,refundable:!0,ecoFriendly:!1,driverLanguages:["English","Sinhala"],insuranceIncluded:!0,lastUpdated:"2 minutes ago",coordinates:[{lat:6.9271,lng:79.8612},{lat:7.2906,lng:80.6337}]},{id:"2",providerId:"tp2",companyName:"Island Taxi Service",vehicleType:"Car",route:"Airport - Colombo City",fromLocation:"Bandaranaike Airport",toLocation:"Colombo City",price:2500,duration:"45 minutes",departure:"On Demand",arrival:"On Demand",availableSeats:3,totalSeats:4,amenities:["AC","English Speaking Driver","Child Seats Available"],rating:4.8,reviewCount:156,image:"https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=400&h=250&fit=crop",description:"Professional airport transfer service with experienced drivers",phone:"+94 77 987 6543",email:"bookings@islandtaxi.lk"},{id:"3",providerId:"tp3",companyName:"Coastal Ferry Services",vehicleType:"Ferry",route:"Colombo - Galle",fromLocation:"Colombo Port",toLocation:"Galle Harbor",price:1200,duration:"2.5 hours",departure:"09:30 AM",arrival:"12:00 PM",availableSeats:80,totalSeats:120,amenities:["Sea Views","Onboard Cafe","Deck Access","Life Jackets"],rating:4.3,reviewCount:67,image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=250&fit=crop",description:"Scenic coastal ferry with beautiful ocean views",phone:"+94 91 456 7890",email:"ferry@coastal.lk"}],_S=["All","Car","Bus","Ferry","Train","Plane","Bike Rental","Helicopter"],DS=["All Countries","Sri Lanka","Thailand","India","Japan","USA","UK","France","Spain","Italy","Greece"],Y0={AC:e.jsx(Cs,{className:"w-4 h-4"}),WiFi:e.jsx(u5,{className:"w-4 h-4"}),"Charging Ports":e.jsx(Cs,{className:"w-4 h-4"}),Refreshments:e.jsx(Qu,{className:"w-4 h-4"}),"English Speaking Driver":e.jsx(it,{className:"w-4 h-4"}),"Child Seats Available":e.jsx(Ps,{className:"w-4 h-4"}),"Sea Views":e.jsx(pe,{className:"w-4 h-4"}),"Onboard Cafe":e.jsx(Qu,{className:"w-4 h-4"}),"Deck Access":e.jsx(pe,{className:"w-4 h-4"}),"Life Jackets":e.jsx(Ps,{className:"w-4 h-4"})},Lb=()=>{const[l,r]=j.useState(""),[n,o]=j.useState([]),[c,m]=j.useState([]),[h,x]=j.useState(""),[f,p]=j.useState("All"),[y,b]=j.useState(""),[v,k]=j.useState(""),[S,C]=j.useState(""),[w,T]=j.useState(5e3),[O,R]=j.useState(0),[W,B]=j.useState("grid"),[X,V]=j.useState(!1),[_,ne]=j.useState(null),[ye,Me]=j.useState(""),[D,Z]=j.useState(!1),[oe,Y]=j.useState([]),[A,F]=j.useState(!1),[P,z]=j.useState(!1),[ce,M]=j.useState(!1),[Q,ie]=j.useState(!1),[de,be]=j.useState(!0),[Ne,me]=j.useState("ai"),[Qe,$e]=j.useState("All Countries"),[kt,mt]=j.useState("");j.useEffect(()=>{rs.getConfig().then(te=>{r(te.apiBaseUrl)})},[]),j.useEffect(()=>{l&&Bt()},[l]),j.useEffect(()=>{ga()},[n,h,f,y,v,w,O,P,ce,Q]);const Bt=async()=>{try{be(!0);const te=await fetch(`${l}/api/transport-providers/services`);if(te.ok){const ue=await te.json();console.log("API Response:",ue),console.log("First service:",ue[0]),console.log("First service keys:",Object.keys(ue[0]||{})),console.log("First service image:",ue[0]?.image),o(ue)}else console.log("API failed, using mock data"),o(G0)}catch(te){console.error("Failed to fetch services:",te),console.log("Using mock data due to error"),o(G0)}finally{be(!1)}},ga=()=>{let te=n.filter(ue=>{const Be=ue.companyName.toLowerCase().includes(h.toLowerCase())||ue.route.toLowerCase().includes(h.toLowerCase()),ns=f==="All"||ue.vehicleType===f,ba=!y||ue.fromLocation.toLowerCase().includes(y.toLowerCase()),or=!v||ue.toLocation.toLowerCase().includes(v.toLowerCase()),rc=ue.price<=w,Ut=ue.rating>=O,lc=!P||ue.isVerified,ii=!ce||ue.instantBooking,oi=!Q||ue.ecoFriendly;return Be&&ns&&ba&&or&&rc&&Ut&&lc&&ii&&oi&&!S});te.sort((ue,Be)=>ue.aiRecommended&&!Be.aiRecommended?-1:!ue.aiRecommended&&Be.aiRecommended?1:ue.popularRoute&&!Be.popularRoute?-1:!ue.popularRoute&&Be.popularRoute?1:Be.rating-ue.rating),m(te)},ls=async()=>{ye.trim()&&(Z(!0),setTimeout(()=>{ye.toLowerCase().includes("kandy")&&k("Kandy"),ye.toLowerCase().includes("comfortable")&&R(4),ye.toLowerCase().includes("cheap")&&T(1e3),Z(!1)},1500))},K=te=>{Y(ue=>ue.includes(te)?ue.filter(Be=>Be!==te):ue.length<3?[...ue,te]:ue)},_e=te=>{switch(te.toLowerCase()){case"car":return e.jsx(Dr,{className:"w-5 h-5"});case"bus":return e.jsx(c6,{className:"w-5 h-5"});case"ferry":return e.jsx(_3,{className:"w-5 h-5"});case"plane":return e.jsx(ar,{className:"w-5 h-5"});default:return e.jsx(Dr,{className:"w-5 h-5"})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 pt-20",children:[e.jsxs("div",{className:"relative bg-gradient-to-r from-blue-600 to-green-600 text-white py-16 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:'url("https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=1920&h=400&fit=crop&q=80")',backgroundSize:"cover",backgroundPosition:"center"}})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative z-10",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl lg:text-5xl font-bold mb-4",children:"Find Transport Anywhere in the World"}),e.jsx("p",{className:"text-xl text-blue-100 max-w-2xl mx-auto",children:"Discover reliable transportation for your next adventure - from local taxis to international trains"})]}),e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl overflow-hidden shadow-2xl",children:[e.jsxs("div",{className:"flex border-b border-white/20",children:[e.jsx("button",{onClick:()=>me("ai"),className:`flex-1 px-6 py-4 font-semibold transition-all duration-300 ${Ne==="ai"?"bg-white/20 text-white border-b-2 border-white":"text-white/70 hover:text-white hover:bg-white/5"}`,children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(Ao,{className:"w-5 h-5 mr-2"}),"Ask AI Assistant"]})}),e.jsx("button",{onClick:()=>me("manual"),className:`flex-1 px-6 py-4 font-semibold transition-all duration-300 ${Ne==="manual"?"bg-white/20 text-white border-b-2 border-white":"text-white/70 hover:text-white hover:bg-white/5"}`,children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(pe,{className:"w-5 h-5 mr-2"}),"Manual Search"]})})]}),Ne==="ai"&&e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ao,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Try: 'Fast train from Tokyo to Osaka' or 'Ferry from Athens to Santorini' or 'Van for 7 to Kandy'",value:ye,onChange:te=>Me(te.target.value),onKeyPress:te=>te.key==="Enter"&&ls(),className:"w-full pl-12 pr-4 py-4 bg-white border-2 border-transparent rounded-xl text-gray-900 placeholder-gray-400 focus:outline-none focus:border-purple-400 shadow-lg"})]}),e.jsx(I,{onClick:ls,className:"bg-gradient-to-r from-purple-500 to-blue-500 hover:from-purple-600 hover:to-blue-600 px-8 py-4 rounded-xl font-semibold shadow-lg border-2 border-white/30",disabled:D,children:D?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ao,{className:"w-5 h-5 mr-2"}),"Search"]})})]}),e.jsx("p",{className:"text-white/80 text-sm mt-3 text-center",children:" Works worldwide: ParisLondon, BangkokPhuket, NYCBoston, ColomboKandy"})]}),Ne==="manual"&&e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("svg",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10 0C6.14 0 3 3.14 3 7c0 5.25 7 13 7 13s7-7.75 7-13c0-3.86-3.14-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})}),e.jsx("select",{value:Qe,onChange:te=>$e(te.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-transparent rounded-xl text-gray-900 focus:outline-none focus:border-blue-400 shadow-lg appearance-none cursor-pointer",children:DS.map(te=>e.jsx("option",{value:te,children:te},te))})]}),e.jsxs("div",{className:"relative",children:[e.jsx(pe,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"City or region...",value:kt,onChange:te=>mt(te.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-transparent rounded-xl text-gray-900 placeholder-gray-400 focus:outline-none focus:border-blue-400 shadow-lg"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(pe,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"From location...",value:y,onChange:te=>b(te.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-transparent rounded-xl text-gray-900 placeholder-gray-400 focus:outline-none focus:border-blue-400 shadow-lg"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(sr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"To location...",value:v,onChange:te=>k(te.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-transparent rounded-xl text-gray-900 placeholder-gray-400 focus:outline-none focus:border-blue-400 shadow-lg"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(zt,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"date",value:S,onChange:te=>C(te.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-transparent rounded-xl text-gray-900 focus:outline-none focus:border-blue-400 shadow-lg"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-white/90 text-sm mb-2 font-medium",children:" Transport Type:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:_S.map(te=>{const ue={All:"",Car:"",Bus:"",Ferry:"",Train:"",Plane:"","Bike Rental":"",Helicopter:""};return e.jsxs("button",{onClick:()=>p(te),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${f===te?"bg-white text-blue-600 shadow-lg scale-105":"bg-white/20 text-white hover:bg-white/30"}`,children:[e.jsx("span",{className:"mr-1",children:ue[te]}),te]},te)})})]}),e.jsxs(I,{onClick:ga,className:"w-full bg-white text-blue-600 hover:bg-blue-50 py-4 rounded-xl font-semibold shadow-lg",children:[e.jsx(Ot,{className:"w-5 h-5 mr-2"}),"Search Transportation"]})]})]})})]})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[c.length," Services Found"]}),e.jsx("p",{className:"text-gray-600",children:"Choose from available transportation options"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[oe.length>0&&e.jsxs(I,{onClick:()=>F(!0),className:"bg-purple-600 hover:bg-purple-700 text-white",children:[e.jsx(_0,{className:"w-4 h-4 mr-2"}),"Compare (",oe.length,")"]}),e.jsxs(I,{variant:"outline",onClick:()=>V(!X),className:"flex items-center",children:[e.jsx(li,{className:"w-4 h-4 mr-2"}),"Filters"]}),e.jsxs("div",{className:"flex rounded-lg border border-gray-300 overflow-hidden",children:[e.jsx("button",{onClick:()=>B("grid"),className:`px-3 py-2 ${W==="grid"?"bg-blue-600 text-white":"bg-white text-gray-700"}`,children:e.jsx(Am,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>B("list"),className:`px-3 py-2 ${W==="list"?"bg-blue-600 text-white":"bg-white text-gray-700"}`,children:e.jsx(ni,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>B("map"),className:`px-3 py-2 ${W==="map"?"bg-blue-600 text-white":"bg-white text-gray-700"}`,children:e.jsx(_l,{className:"w-4 h-4"})})]})]})]}),X&&e.jsx(ae,{className:"mb-8 border-0 shadow-lg",children:e.jsx(re,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Price (LKR)"}),e.jsx("input",{type:"range",min:"0",max:"10000",step:"100",value:w,onChange:te=>T(Number(te.target.value)),className:"w-full"}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["Up to LKR ",w]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Rating"}),e.jsxs("select",{value:O,onChange:te=>R(Number(te.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:0,children:"Any Rating"}),e.jsx("option",{value:3,children:"3+ Stars"}),e.jsx("option",{value:4,children:"4+ Stars"}),e.jsx("option",{value:4.5,children:"4.5+ Stars"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Services"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ot,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by company or route...",value:h,onChange:te=>x(te.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quick Filters"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2",checked:P,onChange:te=>z(te.target.checked)}),e.jsx("span",{className:"text-sm",children:"Verified Only"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2",checked:ce,onChange:te=>M(te.target.checked)}),e.jsx("span",{className:"text-sm",children:"Instant Booking"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",className:"mr-2",checked:Q,onChange:te=>ie(te.target.checked)}),e.jsx("span",{className:"text-sm",children:"Eco-Friendly"})]})]})]})]})})}),W==="map"&&e.jsx(ae,{className:"mb-8 border-0 shadow-lg",children:e.jsx(re,{className:"p-6",children:e.jsx("div",{className:"bg-gray-100 rounded-lg h-96 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(_l,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Interactive Map View"}),e.jsx("p",{className:"text-gray-500",children:"Map integration with Google Maps API coming soon"}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Will show routes, pickup points, and real-time locations"})]})})})}),de?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsx("div",{className:W==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":W==="list"?"space-y-4":"hidden",children:c.length===0?e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(Dr,{className:"w-16 h-16 mx-auto mb-4"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No services found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your search criteria or filters"}),e.jsx(I,{onClick:()=>{x(""),p("All"),b(""),k(""),T(5e3),R(0),z(!1),M(!1),ie(!1)},className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Clear All Filters"})]}):c.map(te=>e.jsx(ae,{className:"group hover:shadow-xl transition-all duration-300 cursor-pointer border-0 shadow-lg",children:e.jsxs(re,{className:"p-0",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:te.image?.replace(/&amp;/g,"&"),alt:te.companyName,className:"w-full h-48 object-cover rounded-t-lg",onError:ue=>{console.log("Image failed to load:",te.image),ue.currentTarget.src="https://via.placeholder.com/400x250/3B82F6/FFFFFF?text=Transport+Service"}}),e.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[e.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg px-3 py-1 flex items-center",children:[_e(te.vehicleType),e.jsx("span",{className:"ml-2 text-sm font-medium",children:te.vehicleType})]}),te.aiRecommended&&e.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-lg px-2 py-1 flex items-center",children:[e.jsx(Ao,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"text-xs font-medium",children:"AI Pick"})]}),te.popularRoute&&e.jsxs("div",{className:"bg-orange-500 text-white rounded-lg px-2 py-1 flex items-center",children:[e.jsx(Kt,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"text-xs font-medium",children:"Popular"})]})]}),e.jsxs("div",{className:"absolute top-4 right-4 flex flex-col gap-2",children:[e.jsxs("div",{className:"bg-green-500 text-white rounded-lg px-3 py-1",children:[e.jsx("span",{className:"text-xs text-green-100",children:"LKR"}),e.jsx("span",{className:"text-sm font-bold ml-1",children:te.price})]}),te.isLive&&e.jsxs("div",{className:"bg-red-500 text-white rounded-lg px-2 py-1 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full mr-1 animate-pulse"}),e.jsx("span",{className:"text-xs",children:"Live"})]})]}),e.jsx("div",{className:"absolute bottom-4 right-4",children:e.jsx("button",{onClick:ue=>{ue.stopPropagation(),K(te.id)},className:`p-2 rounded-full transition-colors ${oe.includes(te.id)?"bg-purple-500 text-white":"bg-white/80 text-gray-700 hover:bg-white"}`,children:e.jsx(_0,{className:"w-4 h-4"})})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-bold text-gray-900 group-hover:text-blue-600 transition-colors",children:te.companyName}),te.isVerified&&e.jsx(at,{className:"w-4 h-4 text-blue-500",title:"Verified Provider"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:te.route}),te.lastUpdated&&e.jsxs("p",{className:"text-xs text-green-600",children:["Updated ",te.lastUpdated]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pe,{className:"w-4 h-4 text-yellow-500 fill-current mr-1"}),e.jsx("span",{className:"text-sm font-medium",children:te.rating.toFixed(1)}),e.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",te.reviewCount,")"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(nt,{className:"w-4 h-4 mr-2"}),te.duration]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(it,{className:"w-4 h-4 mr-2"}),te.availableSeats," seats"]}),e.jsxs("div",{className:"text-gray-600",children:["Depart: ",te.departure]}),e.jsxs("div",{className:"text-gray-600",children:["Arrive: ",te.arrival]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[te.amenities.slice(0,3).map(ue=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:[Y0[ue],e.jsx("span",{className:"ml-1",children:ue})]},ue)),te.amenities.length>3&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",te.amenities.length-3," more"]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(I,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>ne(te),children:"View Details"}),e.jsx(I,{size:"sm",className:"flex-1 bg-blue-600 hover:bg-blue-700",children:te.instantBooking?"Book Instantly":"Request Booking"}),e.jsx(I,{variant:"outline",size:"sm",className:"px-3",children:e.jsx(k0,{className:"w-4 h-4"})})]})]})]})},te.id))}),e.jsxs("div",{className:"mt-16 text-center bg-gradient-to-r from-blue-50 to-green-50 rounded-2xl p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Are you a Transport Provider?"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-2xl mx-auto",children:"Join our global network of transport providers from 50+ countries. Connect with travelers worldwide looking for reliable transportation."}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(Te,{to:"/transport-registration",children:e.jsx(I,{className:"bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-700 hover:to-green-700 text-white px-8 py-3 rounded-xl",children:"Register as Transport Provider"})}),e.jsxs(I,{variant:"outline",className:"px-8 py-3 rounded-xl",children:[e.jsx(sr,{className:"w-5 h-5 mr-2"}),"View Provider Dashboard"]})]})]}),A&&oe.length>0&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Compare Services"}),e.jsx("button",{onClick:()=>F(!1),className:"w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx(jt,{className:"w-5 h-5"})})]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:oe.map(te=>{const ue=n.find(Be=>Be.id===te);return ue?e.jsx(ae,{className:"border-2",children:e.jsxs(re,{className:"p-4",children:[e.jsx("img",{src:ue.image,alt:ue.companyName,className:"w-full h-32 object-cover rounded-lg mb-4"}),e.jsx("h3",{className:"font-bold text-lg mb-2",children:ue.companyName}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Price:"}),e.jsxs("span",{className:"font-semibold text-green-600",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"LKR"})," ",ue.price]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Rating:"}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(Pe,{className:"w-3 h-3 text-yellow-500 fill-current mr-1"}),ue.rating.toFixed(1)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Duration:"}),e.jsx("span",{children:ue.duration})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Seats:"}),e.jsxs("span",{children:[ue.availableSeats," available"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Booking:"}),e.jsx("span",{children:ue.instantBooking?"Instant":"Request"})]})]}),e.jsx(I,{className:"w-full mt-4 bg-blue-600 hover:bg-blue-700",children:"Select This"})]})},ue.id):null})})})]})}),_&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:_.image,alt:_.companyName,className:"w-full h-64 object-cover rounded-t-2xl"}),e.jsx("button",{onClick:()=>ne(null),className:"absolute top-4 right-4 w-8 h-8 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center transition-colors",children:e.jsx(jt,{className:"w-5 h-5 text-white"})})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:_.companyName}),e.jsx("p",{className:"text-xl text-gray-600 mb-4",children:_.route}),e.jsx("p",{className:"text-gray-700 mb-6",children:_.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Schedule"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Departure: ",_.departure]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Arrival: ",_.arrival]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Duration: ",_.duration]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Capacity"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Available: ",_.availableSeats," seats"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Total: ",_.totalSeats," seats"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Amenities"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:_.amenities.map(te=>e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[Y0[te],e.jsx("span",{className:"ml-2",children:te})]},te))})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(ae,{className:"border-0 shadow-lg",children:e.jsxs(re,{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:[e.jsx("span",{className:"text-lg text-gray-500",children:"LKR"})," ",_.price]}),e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(Pe,{className:"w-5 h-5 text-yellow-500 fill-current mr-1"}),e.jsx("span",{className:"font-medium",children:_.rating.toFixed(1)}),e.jsxs("span",{className:"text-gray-500 ml-1",children:["(",_.reviewCount," reviews)"]})]}),_.isVerified&&e.jsxs("div",{className:"flex items-center justify-center text-blue-600 text-sm",children:[e.jsx(at,{className:"w-4 h-4 mr-1"}),"Verified Provider"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(I,{className:"w-full bg-blue-600 hover:bg-blue-700 py-3",children:_.instantBooking?"Book Instantly":"Request Booking"}),e.jsxs(I,{variant:"outline",className:"w-full py-3",children:[e.jsx(k0,{className:"w-4 h-4 mr-2"}),"Add to Trip Plan"]}),e.jsxs(I,{variant:"outline",className:"w-full py-3",children:[e.jsx(Es,{className:"w-4 h-4 mr-2"}),"Call Provider"]}),e.jsxs(I,{variant:"outline",className:"w-full py-3",children:[e.jsx(em,{className:"w-4 h-4 mr-2"}),"Chat with Provider"]})]})]})}),e.jsx(ae,{className:"border-0 shadow-lg",children:e.jsxs(re,{className:"p-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Provider Info"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Es,{className:"w-4 h-4 mr-2"}),_.phone]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(As,{className:"w-4 h-4 mr-2"}),_.email]}),_.lastUpdated&&e.jsxs("div",{className:"text-green-600",children:["Last updated: ",_.lastUpdated]}),_.insuranceIncluded&&e.jsxs("div",{className:"flex items-center text-blue-600",children:[e.jsx(Ps,{className:"w-4 h-4 mr-2"}),"Insurance Included"]})]})]})}),e.jsx(ae,{className:"border-0 shadow-lg",children:e.jsxs(re,{className:"p-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Community Insights"}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsx("p",{children:" 45 travelers used this route last month"}),e.jsx("p",{children:" Highly rated for punctuality"}),e.jsx("p",{children:" Popular among solo travelers"}),e.jsxs(I,{variant:"outline",size:"sm",className:"w-full mt-3",children:[e.jsx(em,{className:"w-4 h-4 mr-2"}),"View Community Stories"]})]})]})})]})]})})]})})]})]})},RS=()=>{const{user:l}=wt(),[r,n]=j.useState({currency:"USD",language:"en",travelStyle:"balanced",budgetRange:"medium",interests:["culture","food"],groupSize:"couple"}),[o,c]=j.useState(!1),m=async()=>{c(!0),setTimeout(()=>c(!1),1e3)};return l?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Travel Preferences"}),e.jsx("p",{className:"text-gray-600",children:"Customize your travel experience"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(ae,{children:[e.jsx(je,{children:e.jsxs(we,{className:"flex items-center",children:[e.jsx(Lt,{className:"w-5 h-5 mr-2"}),"Regional Settings"]})}),e.jsxs(re,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),e.jsxs("select",{value:r.currency,onChange:h=>n({...r,currency:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"USD",children:"USD ($)"}),e.jsx("option",{value:"EUR",children:"EUR ()"}),e.jsx("option",{value:"GBP",children:"GBP ()"}),e.jsx("option",{value:"LKR",children:"LKR (Rs)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),e.jsxs("select",{value:r.language,onChange:h=>n({...r,language:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"si",children:""}),e.jsx("option",{value:"ta",children:""})]})]})]})]}),e.jsxs(ae,{children:[e.jsx(je,{children:e.jsxs(we,{className:"flex items-center",children:[e.jsx(pe,{className:"w-5 h-5 mr-2"}),"Travel Style"]})}),e.jsx(re,{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Pace"}),e.jsx("div",{className:"space-y-2",children:["relaxed","balanced","packed"].map(h=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"travelStyle",value:h,checked:r.travelStyle===h,onChange:x=>n({...r,travelStyle:x.target.value}),className:"mr-2"}),e.jsx("span",{className:"capitalize",children:h})]},h))})]})})]}),e.jsxs(ae,{children:[e.jsx(je,{children:e.jsxs(we,{className:"flex items-center",children:[e.jsx(Rt,{className:"w-5 h-5 mr-2"}),"Budget & Group"]})}),e.jsxs(re,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget Range"}),e.jsxs("select",{value:r.budgetRange,onChange:h=>n({...r,budgetRange:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"low",children:"Budget ($300-600)"}),e.jsx("option",{value:"medium",children:"Medium ($600-1200)"}),e.jsx("option",{value:"high",children:"Luxury ($1200+)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Group Size"}),e.jsxs("select",{value:r.groupSize,onChange:h=>n({...r,groupSize:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"solo",children:"Solo"}),e.jsx("option",{value:"couple",children:"Couple"}),e.jsx("option",{value:"family",children:"Family"}),e.jsx("option",{value:"group",children:"Group"})]})]})]})]}),e.jsxs(ae,{children:[e.jsx(je,{children:e.jsx(we,{children:"Travel Interests"})}),e.jsx(re,{children:e.jsx("div",{className:"flex flex-wrap gap-2",children:["culture","food","nature","adventure","photography","nightlife"].map(h=>e.jsx(De,{variant:r.interests.includes(h)?"primary":"secondary",className:"cursor-pointer",onClick:()=>{const x=r.interests.includes(h)?r.interests.filter(f=>f!==h):[...r.interests,h];n({...r,interests:x})},children:h},h))})})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs(I,{onClick:m,disabled:o,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2",children:[e.jsx(Dl,{className:"w-4 h-4 mr-2"}),o?"Saving...":"Save Preferences"]})})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Not Logged In"}),e.jsx("p",{className:"text-gray-600",children:"Please log in to manage your travel preferences"})]})})},MS=()=>{const{user:l}=wt(),[r,n]=j.useState({email:{tripUpdates:!0,deals:!1,newsletter:!0,reminders:!0},push:{tripUpdates:!0,deals:!0,messages:!0,location:!1},frequency:"daily"}),[o,c]=j.useState(!1),m=async()=>{c(!0),setTimeout(()=>c(!1),1e3)},h=(x,f)=>{n(p=>({...p,[x]:{...p[x],[f]:!p[x][f]}}))};return l?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Notifications"}),e.jsx("p",{className:"text-gray-600",children:"Manage how you receive updates"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ae,{children:[e.jsx(je,{children:e.jsxs(we,{className:"flex items-center",children:[e.jsx(As,{className:"w-5 h-5 mr-2"}),"Email Notifications"]})}),e.jsx(re,{className:"space-y-4",children:[{key:"tripUpdates",label:"Trip Updates",desc:"Get notified about your trip plans and changes",icon:pe},{key:"deals",label:"Deals & Offers",desc:"Special offers and discounts on travel",icon:_r},{key:"newsletter",label:"Newsletter",desc:"Weekly travel tips and destination guides",icon:As},{key:"reminders",label:"Trip Reminders",desc:"Reminders about upcoming trips",icon:zt}].map(({key:x,label:f,desc:p,icon:y})=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(y,{className:"w-5 h-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:f}),e.jsx("p",{className:"text-sm text-gray-500",children:p})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.email[x],onChange:()=>h("email",x),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},x))})]}),e.jsxs(ae,{children:[e.jsx(je,{children:e.jsxs(we,{className:"flex items-center",children:[e.jsx(_r,{className:"w-5 h-5 mr-2"}),"Push Notifications"]})}),e.jsx(re,{className:"space-y-4",children:[{key:"tripUpdates",label:"Trip Updates",desc:"Real-time updates about your trips",icon:pe},{key:"deals",label:"Flash Deals",desc:"Time-sensitive travel deals",icon:_r},{key:"messages",label:"Messages",desc:"Messages from travel agents and support",icon:em},{key:"location",label:"Location-based",desc:"Suggestions based on your current location",icon:pe}].map(({key:x,label:f,desc:p,icon:y})=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(y,{className:"w-5 h-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:f}),e.jsx("p",{className:"text-sm text-gray-500",children:p})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:r.push[x],onChange:()=>h("push",x),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},x))})]}),e.jsxs(ae,{children:[e.jsx(je,{children:e.jsx(we,{children:"Notification Frequency"})}),e.jsx(re,{children:e.jsx("div",{className:"space-y-2",children:[{value:"instant",label:"Instant",desc:"Get notified immediately"},{value:"daily",label:"Daily Digest",desc:"Once per day summary"},{value:"weekly",label:"Weekly Summary",desc:"Weekly roundup of updates"}].map(({value:x,label:f,desc:p})=>e.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"radio",name:"frequency",value:x,checked:r.frequency===x,onChange:y=>n({...r,frequency:y.target.value}),className:"mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:f}),e.jsx("p",{className:"text-sm text-gray-500",children:p})]})]},x))})})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs(I,{onClick:m,disabled:o,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2",children:[e.jsx(Dl,{className:"w-4 h-4 mr-2"}),o?"Saving...":"Save Settings"]})})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Not Logged In"}),e.jsx("p",{className:"text-gray-600",children:"Please log in to manage your notifications"})]})})},LS=()=>{const{user:l,logout:r}=wt(),[n,o]=j.useState(!1),c=async()=>{window.confirm("Are you sure you want to delete your account? This action cannot be undone.")&&(o(!0),setTimeout(()=>o(!1),1e3))},m=async()=>{o(!0),setTimeout(()=>o(!1),1e3)};return l?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings & Privacy"}),e.jsx("p",{className:"text-gray-600",children:"Manage your account security and privacy"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ae,{children:[e.jsx(je,{children:e.jsxs(we,{className:"flex items-center",children:[e.jsx(Ps,{className:"w-5 h-5 mr-2"}),"Account Security"]})}),e.jsxs(re,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ko,{className:"w-5 h-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Change Password"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Update your account password"})]})]}),e.jsx(I,{variant:"outline",size:"sm",children:"Change"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ps,{className:"w-5 h-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Add an extra layer of security"})]})]}),e.jsx(I,{variant:"outline",size:"sm",children:"Enable"})]})]})]}),e.jsxs(ae,{children:[e.jsx(je,{children:e.jsxs(we,{className:"flex items-center",children:[e.jsx(bs,{className:"w-5 h-5 mr-2"}),"Privacy Settings"]})}),e.jsxs(re,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Profile Visibility"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Control who can see your profile"})]}),e.jsxs("select",{className:"px-3 py-1 border border-gray-300 rounded-lg text-sm",children:[e.jsx("option",{children:"Public"}),e.jsx("option",{children:"Friends Only"}),e.jsx("option",{children:"Private"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Trip Sharing"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Allow others to see your trips"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Location Tracking"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Allow location-based recommendations"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),e.jsxs(ae,{children:[e.jsx(je,{children:e.jsxs(we,{className:"flex items-center",children:[e.jsx(E0,{className:"w-5 h-5 mr-2"}),"Data Management"]})}),e.jsx(re,{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(E0,{className:"w-5 h-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Export Data"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Download a copy of your data"})]})]}),e.jsx(I,{variant:"outline",size:"sm",onClick:m,disabled:n,children:n?"Exporting...":"Export"})]})})]}),e.jsxs(ae,{className:"border-red-200",children:[e.jsx(je,{children:e.jsxs(we,{className:"flex items-center text-red-600",children:[e.jsx(_m,{className:"w-5 h-5 mr-2"}),"Danger Zone"]})}),e.jsx(re,{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between p-3 border border-red-200 rounded-lg bg-red-50",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ac,{className:"w-5 h-5 text-red-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-red-900",children:"Delete Account"}),e.jsx("p",{className:"text-sm text-red-600",children:"Permanently delete your account and all data"})]})]}),e.jsx(I,{variant:"outline",size:"sm",onClick:c,disabled:n,className:"border-red-300 text-red-600 hover:bg-red-100",children:n?"Deleting...":"Delete"})]})})]})]})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Not Logged In"}),e.jsx("p",{className:"text-gray-600",children:"Please log in to access settings"})]})})},K0=({deal:l,onView:r,onClaim:n,onDelete:o,isRecommended:c=!1,distance:m,showDelete:h=!1})=>{const[x,f]=j.useState(!1),[p,y]=j.useState(!1),[b,v]=j.useState(!1),k=()=>{r(l._id),console.log("Deal data:",l),console.log("Contact info:",l.contactInfo),v(!0)},S=()=>{f(!x)},C=async()=>{y(!0);try{await navigator.share({title:l.title,text:`${l.discount} off at ${l.businessName}!`,url:window.location.href})}catch{navigator.clipboard.writeText(window.location.href)}y(!1)},w=X=>{switch(X){case"restaurant":return"bg-orange-100 text-orange-800";case"hotel":return"bg-blue-100 text-blue-800";case"cafe":return"bg-amber-100 text-amber-800";case"attraction":return"bg-purple-100 text-purple-800";case"transport":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},T=X=>{switch(X){case"restaurant":return"";case"hotel":return"";case"cafe":return"";case"attraction":return"";case"transport":return"";default:return""}},O=X=>{if(X.includes("Expired"))return"text-red-600 bg-red-50";const V=parseInt(X);return V<=2?"text-red-600 bg-red-50":V<=7?"text-orange-600 bg-orange-50":"text-green-600 bg-green-50"},W=(X=>{if(!X)return null;const V=new Date,ne=new Date(X).getTime()-V.getTime(),ye=Math.ceil(ne/(1e3*60*60*24));return ye>0?`${ye} days left`:"Expired"})(l.validUntil),B=parseFloat(l.originalPrice)-parseFloat(l.discountedPrice);return e.jsxs("div",{className:`bg-white rounded-xl shadow-sm hover:shadow-xl transition-all duration-500 overflow-hidden border group hover:-translate-y-1 ${c?"border-transparent bg-gradient-to-br from-blue-50 to-purple-50 ring-2 ring-gradient-to-r ring-blue-200":"border-gray-100"}`,children:[e.jsxs("div",{className:"relative",children:[l.images&&l.images.length>0&&l.images[0]?e.jsx("img",{src:l.images[0],alt:l.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300",onError:X=>{X.currentTarget.src="https://images.unsplash.com/photo-1555881400-74d7acaacd8b?w=400&h=300&fit=crop&auto=format&q=80"}}):e.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-blue-100 to-purple-100 flex items-center justify-center",children:e.jsx(Pe,{className:"w-12 h-12 text-gray-400"})}),l.aiRank&&e.jsx("div",{className:`absolute top-3 right-3 text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg ${l.aiRank==="best-value"?"bg-green-500":l.aiRank==="trending"?"bg-orange-500":"bg-red-500 animate-pulse"}`,children:l.aiRank==="best-value"?" Best Value":l.aiRank==="trending"?" Trending":" Limited Time"}),e.jsx("div",{className:"absolute top-12 right-3 bg-red-500 text-white text-sm font-bold px-3 py-1 rounded-full shadow-lg",children:l.discount}),e.jsxs("div",{className:"absolute top-3 left-3 flex flex-col gap-2",children:[e.jsxs("div",{className:`text-xs font-medium px-3 py-1 rounded-full flex items-center space-x-1 ${w(l.businessType)}`,children:[e.jsx("span",{children:T(l.businessType)}),e.jsx("span",{children:l.businessType.charAt(0).toUpperCase()+l.businessType.slice(1)})]}),l.userCategory&&e.jsx("div",{className:"bg-purple-500 text-white text-xs font-medium px-3 py-1 rounded-full",children:l.userCategory==="foodie"?" Foodie":l.userCategory==="adventure"?" Adventure":" Budget"})]}),l.claims>10&&e.jsxs("div",{className:"absolute top-3 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-orange-500 to-red-500 text-white text-xs font-bold px-2 py-1 rounded-full flex items-center space-x-1 animate-pulse",children:[e.jsx(Cs,{className:"w-3 h-3"}),e.jsx("span",{children:"Trending"})]}),c&&e.jsxs("div",{className:"absolute bottom-3 left-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white text-xs font-bold px-2 py-1 rounded-full flex items-center space-x-1",children:[e.jsx(Pe,{className:"w-3 h-3 fill-current"}),e.jsx("span",{children:"AI Pick"})]})]}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-1 line-clamp-1 group-hover:text-blue-600 transition-colors",children:l.title}),e.jsx("div",{className:"flex items-center justify-between text-gray-600 text-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(pe,{className:"w-4 h-4 mr-1 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:l.businessName})]})}),m&&e.jsxs("div",{className:"mt-1 flex items-center text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded-full w-fit",children:[e.jsx(pe,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"font-medium",children:m})]})]}),l.description&&e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:l.description}),e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-gray-500 line-through text-sm",children:["$",l.originalPrice]}),e.jsxs("span",{className:"text-green-600 font-bold text-lg",children:["$",l.discountedPrice]}),B>0&&e.jsxs("span",{className:"text-green-600 text-sm font-medium",children:["Save $",B.toFixed(0)]})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center text-gray-500",children:[e.jsx(bs,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:l.views})]}),e.jsxs("div",{className:"flex items-center text-gray-500",children:[e.jsx(it,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:l.claims})]})]}),W&&e.jsxs("div",{className:`flex items-center font-medium px-2 py-1 rounded-full text-xs ${O(W)}`,children:[e.jsx(nt,{className:"w-3 h-3 mr-1"}),e.jsx("span",{children:W})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:k,className:"flex-1 flex items-center justify-center space-x-2 bg-gray-100 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:[e.jsx(L6,{className:"w-4 h-4"}),e.jsx("span",{children:"View"})]}),e.jsxs("button",{onClick:S,className:`flex-1 py-3 px-4 rounded-lg transition-all duration-200 font-medium shadow-sm hover:shadow-md ${x?"bg-red-500 text-white hover:bg-red-600":"bg-gradient-to-r from-pink-500 to-red-500 text-white hover:from-pink-600 hover:to-red-600"}`,children:[e.jsx(ut,{className:`w-4 h-4 mr-2 inline ${x?"fill-current":""}`}),x?"Favorited":"Add to Favorite"]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[e.jsxs("button",{onClick:C,disabled:p,className:"flex items-center space-x-1 text-sm text-gray-500 hover:text-blue-500 transition-colors",children:[e.jsx(Jo,{className:"w-4 h-4"}),e.jsx("span",{children:"Share"})]}),h&&o&&e.jsxs("button",{onClick:()=>o(l._id),className:"flex items-center space-x-1 text-sm text-red-500 hover:text-red-700 transition-colors",children:[e.jsx(ac,{className:"w-4 h-4"}),e.jsx("span",{children:"Delete"})]})]})]})]}),b&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:X=>{X.target===X.currentTarget&&v(!1)},children:e.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:l.title}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-gray-600 mb-2",children:l.description}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-gray-500 line-through",children:["$",l.originalPrice]}),e.jsxs("span",{className:"text-green-600 font-bold text-lg",children:["$",l.discountedPrice]})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[" ",l.location.address]})]}),(l.contactInfo&&Object.values(l.contactInfo).some(X=>X)||!l.contactInfo)&&e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("h4",{className:"font-semibold",children:["Contact ",l.businessName]}),(!l.contactInfo||!Object.values(l.contactInfo).some(X=>X))&&e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:"https://example.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"Visit Website"})]}),e.jsxs("a",{href:"tel:+1234567890",className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"Call +1 (234) 567-890"})]}),e.jsxs("a",{href:"https://wa.me/1234567890",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"WhatsApp"})]}),e.jsxs("a",{href:"mailto:contact@business.com",className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"Email"})]})]}),l.contactInfo?.website&&e.jsxs("a",{href:l.contactInfo.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"Visit Website"})]}),l.contactInfo?.phone&&e.jsxs("a",{href:`tel:${l.contactInfo.phone}`,className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx("span",{children:""}),e.jsxs("span",{children:["Call ",l.contactInfo.phone]})]}),l.contactInfo?.whatsapp&&e.jsxs("a",{href:`https://wa.me/${l.contactInfo.whatsapp.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"WhatsApp"})]}),l.contactInfo?.email&&e.jsxs("a",{href:`mailto:${l.contactInfo.email}`,className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"Email"})]}),l.contactInfo?.facebook&&e.jsxs("a",{href:l.contactInfo.facebook,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"Facebook"})]}),l.contactInfo?.instagram&&e.jsxs("a",{href:l.contactInfo.instagram,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-3 bg-pink-50 rounded-lg hover:bg-pink-100 transition-colors",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"Instagram"})]})]}),e.jsx("button",{onClick:()=>v(!1),className:"w-full bg-gray-200 text-gray-800 py-2 rounded-lg hover:bg-gray-300 transition-colors",children:"Close"})]})})]})},ia="http://localhost:3001",Bn={async getDeals(l,r,n){const o=new URLSearchParams;o.append("isActive","true"),o.append("_t",Date.now().toString()),l&&l!=="all"&&o.append("businessType",l),r&&o.append("sort",r),n&&(o.append("lat",n.lat.toString()),o.append("lng",n.lng.toString()));const c=localStorage.getItem("lastDealsVisit");c&&o.append("lastVisit",c),localStorage.setItem("lastDealsVisit",Date.now().toString());const m=`${ia}/api/deals?${o}`,h=await fetch(m,{credentials:"include",headers:{Accept:"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache"}});if(!h.ok)throw new Error(`Failed to fetch deals: ${h.status}`);return h.json()},async getTrendingDeals(){const l=await fetch(`${ia}/api/deals/trending`);if(!l.ok)throw new Error("Failed to fetch trending deals");return l.json()},async getNearbyDeals(l,r,n=10){const o=new URLSearchParams;o.append("lat",l.toString()),o.append("lng",r.toString()),o.append("radius",n.toString());const c=await fetch(`${ia}/api/deals/nearby?${o}`);if(!c.ok)throw new Error("Failed to fetch nearby deals");return c.json()},async getRecommendedDeals(l){const r=new URLSearchParams;l&&r.append("userId",l);const n=await fetch(`${ia}/api/deals/recommended?${r}`);if(!n.ok)throw new Error("Failed to fetch recommended deals");return n.json()},async viewDeal(l){await fetch(`${ia}/api/deals/${l}/view`,{method:"POST"})},async claimDeal(l,r){await fetch(`${ia}/api/deals/${l}/claim`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:r})})},async getDealAnalytics(l){const r=await fetch(`${ia}/api/deals/${l}/analytics`);if(!r.ok)throw new Error("Failed to fetch deal analytics");return r.json()},async createDeal(l){const r=await fetch(`${ia}/api/deals`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Origin:window.location.origin},credentials:"include",body:JSON.stringify({...l,views:0,claims:0,isActive:!0})});if(!r.ok){const n=await r.text();throw new Error(`Failed to create deal: ${r.status} - ${n}`)}return r.json()},async deleteDeal(l){if(!(await fetch(`${ia}/api/deals/${l}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete deal")}},OS=[{value:"all",label:"All Categories",icon:Ns},{value:"restaurant",label:"Restaurants",icon:Ns},{value:"hotel",label:"Hotels",icon:Ns},{value:"cafe",label:"Cafes",icon:Ns},{value:"attraction",label:"Attractions",icon:Ns},{value:"transport",label:"Transport",icon:Ns}],zS=[{value:"trending",label:"Trending"},{value:"discount",label:"Best Discount"},{value:"newest",label:"Newest"},{value:"expiring",label:"Expiring Soon"}],US=()=>{const l=Nt(),{location:r}=_b(),[n,o]=j.useState([]),[c,m]=j.useState([]),[h,x]=j.useState(null),[f,p]=j.useState(!0),[y,b]=j.useState("all"),[v,k]=j.useState(""),[S,C]=j.useState("trending"),[w,T]=j.useState(!1),[O,R]=j.useState(0),[W,B]=j.useState("all");j.useEffect(()=>{X()},[y]),j.useEffect(()=>{V()},[n,v,S]);const X=async(D=!1)=>{try{p(!0);const Z=r?.latitude&&r?.longitude?{lat:r.latitude,lng:r.longitude}:void 0,{deals:oe,newDealsCount:Y}=await Bn.getDeals(y,S,Z);o(oe),R(Y)}catch(Z){console.error(" Error loading deals:",Z),o([])}finally{p(!1)}},V=()=>{let D=n;v&&(D=D.filter(Z=>Z.title.toLowerCase().includes(v.toLowerCase())||Z.businessName.toLowerCase().includes(v.toLowerCase())||Z.description.toLowerCase().includes(v.toLowerCase()))),W!=="all"&&(D=D.filter(Z=>Z.userCategory===W)),D=D.sort((Z,oe)=>{if(S==="distance"&&Z.distance&&oe.distance)return Z.distance-oe.distance;switch(S){case"trending":return oe.views+oe.claims*2-(Z.views+Z.claims*2);case"discount":const Y=parseFloat(Z.discount.replace("%",""));return parseFloat(oe.discount.replace("%",""))-Y;case"newest":const F=new Date(Z.createdAt||Z._id).getTime();return new Date(oe.createdAt||oe._id).getTime()-F;case"expiring":return!Z.validUntil&&!oe.validUntil?0:Z.validUntil?oe.validUntil?new Date(Z.validUntil).getTime()-new Date(oe.validUntil).getTime():-1:1;default:return 0}}),m(D),D.length>0&&!h&&x(D[0])},_=async D=>{try{await Bn.viewDeal(D),o(n.map(Z=>Z._id===D?{...Z,views:Z.views+1}:Z))}catch(Z){console.error("Failed to track view:",Z)}},ne=async D=>{try{await Bn.claimDeal(D),o(n.map(Z=>Z._id===D?{...Z,claims:Z.claims+1}:Z))}catch(Z){console.error("Failed to claim deal:",Z)}},ye=async D=>{if(confirm("Are you sure you want to delete this deal?"))try{await Bn.deleteDeal(D),o(n.filter(Z=>Z._id!==D))}catch(Z){console.error("Failed to delete deal:",Z),alert("Failed to delete deal")}},Me=c.reduce((D,Z)=>{const oe=parseFloat(Z.originalPrice)||0,Y=parseFloat(Z.discountedPrice)||0;return D+(oe-Y)},0);return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-emerald-600 via-teal-600 to-cyan-600 text-white py-16",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4",children:e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-5xl font-bold mb-4",children:" Dynamic Deal Radar"}),e.jsx("p",{className:"text-xl text-blue-100 mb-6",children:"AI-curated deals personalized for you!"}),O>0&&e.jsxs("div",{className:"inline-flex items-center bg-orange-500 text-white px-4 py-2 rounded-full animate-pulse",children:[e.jsx(Cs,{className:"w-4 h-4 mr-2"}),O," new deals added since your last visit!"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{onClick:()=>X(!0),className:"bg-white/20 text-white hover:bg-white/30 font-semibold px-4 py-3",children:"Refresh"}),e.jsxs(I,{onClick:()=>l("/deals/create"),className:"bg-white text-blue-600 hover:bg-gray-100 font-semibold px-6 py-3",children:[e.jsx(Lr,{className:"h-5 w-5 mr-2"}),"Create Deal"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(Kt,{className:"w-6 h-6 mr-2"}),e.jsx("span",{className:"text-2xl font-bold",children:c.length})]}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Active Deals"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(pe,{className:"w-6 h-6 mr-2"}),e.jsx("span",{className:"text-2xl font-bold",children:r?.city||"Global"})]}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Your Location"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(Pe,{className:"w-6 h-6 mr-2"}),e.jsx("span",{className:"text-2xl font-bold",children:"Up to 50%"})]}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Max Savings"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(nt,{className:"w-6 h-6 mr-2"}),e.jsx("span",{className:"text-2xl font-bold",children:n.filter(D=>D.validUntil).length})]}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Expiring Soon"})]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8 border border-gray-100",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ot,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search deals by name, business, or description...",value:v,onChange:D=>k(D.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(li,{className:"w-5 h-5 text-gray-500"}),e.jsx("select",{value:y,onChange:D=>b(D.target.value),className:"border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 min-w-[140px]",children:OS.map(D=>e.jsx("option",{value:D.value,children:D.label},D.value))})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Kt,{className:"w-5 h-5 text-gray-500"}),e.jsxs("select",{value:S,onChange:D=>C(D.target.value),className:"border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 min-w-[140px]",children:[zS.map(D=>e.jsx("option",{value:D.value,children:D.label},D.value)),e.jsx("option",{value:"distance",children:"Nearest First"})]})]})]})]}),e.jsx("div",{className:"mt-4 flex gap-2",children:["all","foodie","adventure","budget"].map(D=>e.jsx("button",{onClick:()=>B(D),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${W===D?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:D==="all"?" All":D==="foodie"?" Foodie":D==="adventure"?" Adventure":" Budget"},D))}),v&&e.jsx("div",{className:"mt-4 text-sm text-gray-600",children:e.jsxs("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full",children:[c.length,' deals found for "',v,'"']})})]}),c.length>0&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 text-center shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(Ns,{className:"w-6 h-6 text-blue-600"})}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:c.length}),e.jsx("div",{className:"text-gray-600 text-sm",children:"Available Deals"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 text-center shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(Er,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",Me.toFixed(0)]}),e.jsx("div",{className:"text-gray-600 text-sm",children:"Total Savings"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 text-center shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(Kt,{className:"w-6 h-6 text-purple-600"})}),e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:c.reduce((D,Z)=>D+Z.claims,0)}),e.jsx("div",{className:"text-gray-600 text-sm",children:"Deals Claimed"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 text-center shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(nt,{className:"w-6 h-6 text-orange-600"})}),e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:Math.round(c.reduce((D,Z)=>D+Z.views,0)/c.length)}),e.jsx("div",{className:"text-gray-600 text-sm",children:"Avg Views"})]})]}),h&&e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-xl p-6 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Cs,{className:"w-6 h-6"}),e.jsx("h2",{className:"text-2xl font-bold",children:"Deal of the Day"})]}),e.jsx("div",{className:"bg-white/20 backdrop-blur-sm px-4 py-2 rounded-full",children:e.jsx("span",{className:"text-sm font-medium",children:" Trending #1"})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-2",children:h.title}),e.jsx("p",{className:"text-orange-100 mb-4",children:h.description}),e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsxs("span",{className:"text-2xl font-bold",children:[h.discount," OFF"]}),e.jsxs("span",{className:"text-orange-100",children:["at ",h.businessName]})]}),e.jsxs(I,{onClick:()=>ne(h._id),className:"bg-white text-orange-600 hover:bg-orange-50 font-semibold",children:[e.jsx(Qo,{className:"w-4 h-4 mr-2"}),"Claim Featured Deal"]})]}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6",children:[e.jsxs("div",{className:"text-3xl font-bold mb-2",children:["$",h.discountedPrice]}),e.jsxs("div",{className:"text-orange-100 line-through mb-2",children:["$",h.originalPrice]}),e.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm",children:[e.jsxs("span",{children:[" ",h.views," views"]}),e.jsxs("span",{children:[" ",h.claims," claimed"]})]})]})})]})]})}),f?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):c.length===0?e.jsxs("div",{className:"text-center py-20 bg-white rounded-xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Ot,{className:"w-10 h-10 text-gray-400"})}),e.jsx("h3",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"No deals found"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Try adjusting your search or filter criteria."}),e.jsx(I,{onClick:()=>{k(""),b("all"),C("trending")},className:"bg-blue-600 text-white hover:bg-blue-700",children:"Clear Filters"})]}):e.jsxs("div",{children:[c.length>3&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:e.jsx(Pe,{className:"w-4 h-4 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Recommended for You"}),e.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-purple-100 text-blue-700 px-3 py-1 rounded-full text-sm font-medium",children:"AI Curated"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:c.slice(0,3).map(D=>e.jsx(K0,{deal:D,onView:_,onClaim:ne,onDelete:ye,isRecommended:!0,showDelete:!0,distance:D.distance?`${D.distance.toFixed(1)} km away`:void 0},`rec-${D._id}`))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:["All Deals (",c.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(D=>e.jsx(K0,{deal:D,onView:_,onClaim:ne,onDelete:ye,showDelete:!0,distance:D.distance?`${D.distance.toFixed(1)} km away`:void 0},D._id))})]})]})]})]})},IS=()=>{const l=Nt(),[r,n]=j.useState(!1),[o,c]=j.useState(1),[m,h]=j.useState(!1),[x,f]=j.useState({title:"",description:"",businessName:"",businessType:"restaurant",originalPrice:"",discountedPrice:"",discount:"",discountPercent:0,location:{address:"",coordinates:{lat:0,lng:0}},validFrom:"",validUntil:"",images:[],videos:[],promoCode:"",maxClaims:"",showCountdown:!0,trackAnalytics:!0,destinationFocus:"",travelerType:"",visibilityScope:"global",tags:[],contactInfo:{website:"",phone:"",whatsapp:"",facebook:"",instagram:"",email:""}}),p=[{value:"restaurant",label:" Restaurant",color:"text-orange-600"},{value:"hotel",label:" Hotel",color:"text-blue-600"},{value:"cafe",label:" Caf",color:"text-amber-600"},{value:"attraction",label:" Attraction",color:"text-purple-600"},{value:"transport",label:" Transport",color:"text-green-600"},{value:"tour",label:" Tour",color:"text-indigo-600"},{value:"spa",label:" Spa & Wellness",color:"text-pink-600"},{value:"shopping",label:" Shopping",color:"text-red-600"}],y=[{value:"family",label:" Family"},{value:"backpacker",label:" Backpacker"},{value:"luxury",label:" Luxury"},{value:"adventure",label:" Adventure"},{value:"business",label:" Business"},{value:"romantic",label:" Romantic"}],b=[{id:1,title:"Deal Information",icon:Ns},{id:2,title:"Pricing & Media",icon:Rt},{id:3,title:"Location & Validity",icon:pe},{id:4,title:"Targeting & Analytics",icon:Qo},{id:5,title:"Preview & Submit",icon:bs}],v=(D,Z)=>{switch(D){case"website":case"facebook":case"instagram":return!Z||/^https?:\/\/.+/.test(Z);case"phone":case"whatsapp":return!Z||/^\+?[1-9]\d{1,14}$/.test(Z.replace(/\s/g,""));case"email":return!Z||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Z);default:return!0}},k=()=>JSON.parse(localStorage.getItem("localDeals")||"[]").some(Z=>Z.title.toLowerCase()===x.title.toLowerCase()&&Z.businessName.toLowerCase()===x.businessName.toLowerCase()),S=(D,Z)=>{if(f(D==="address"?oe=>({...oe,location:{...oe.location,address:Z}}):D==="contactInfo"?oe=>({...oe,[D]:Z}):oe=>({...oe,[D]:Z})),D==="originalPrice"||D==="discountedPrice"){const oe=parseFloat(D==="originalPrice"?Z:x.originalPrice),Y=parseFloat(D==="discountedPrice"?Z:x.discountedPrice);if(oe>0&&Y>0&&Y<oe){const A=Math.round((oe-Y)/oe*100);f(F=>({...F,discount:`${A}% OFF`,discountPercent:A}))}}},C=async D=>{h(!0);try{const Z=D==="title"?`Generate 3 catchy deal titles for a ${x.businessType} business named "${x.businessName}" with ${x.discountPercent}% off`:D==="description"?`Write engaging marketing copy for a ${x.businessType} deal: "${x.title}" at ${x.businessName}`:`Generate relevant tags for a ${x.businessType} travel deal`;if(D==="title"){const oe=[`${x.discountPercent}% Off at ${x.businessName}`,`Special ${x.businessType} Deal - Save Big!`,`Limited Time: ${x.businessName} Discount`];f(Y=>({...Y,title:oe[0]}))}else if(D==="description"){const oe=`Enjoy an exclusive ${x.discountPercent}% discount at ${x.businessName}. Perfect for travelers looking for quality ${x.businessType} experiences. Limited time offer - book now!`;f(Y=>({...Y,description:oe}))}else if(D==="tags"){const oe=["travel","discount","limited-time",x.businessType,"exclusive"];f(Y=>({...Y,tags:oe}))}}catch(Z){console.error("AI generation failed:",Z)}finally{h(!1)}},w=D=>new Promise(Z=>{const oe=document.createElement("canvas"),Y=oe.getContext("2d"),A=document.createElement("img");A.onload=()=>{let{width:z,height:ce}=A;z>ce?z>800&&(ce=ce*800/z,z=800):ce>600&&(z=z*600/ce,ce=600),oe.width=z,oe.height=ce,Y.drawImage(A,0,0,z,ce),Z(oe.toDataURL("image/jpeg",.8))},A.src=URL.createObjectURL(D)}),T=async(D,Z)=>{for(const oe of Array.from(Z))if(D==="image")try{const Y=await w(oe);f(A=>({...A,images:[...A.images,Y]}))}catch(Y){console.error("Image compression failed:",Y);const A=new FileReader;A.onload=F=>{const P=F.target?.result;f(z=>({...z,images:[...z.images,P]}))},A.readAsDataURL(oe)}else{const Y=new FileReader;Y.onload=A=>{const F=A.target?.result;f(P=>({...P,videos:[...P.videos,F]}))},Y.readAsDataURL(oe)}},O=(D,Z)=>{f(D==="image"?oe=>({...oe,images:oe.images.filter((Y,A)=>A!==Z)}):oe=>({...oe,videos:oe.videos.filter((Y,A)=>A!==Z)}))},R=async D=>{D.preventDefault();const Z=[];if(Object.entries(x.contactInfo).forEach(([oe,Y])=>{v(oe,Y)||Z.push(oe)}),Z.length>0){alert(`Invalid ${Z.join(", ")} format(s). Please check and try again.`);return}if(!(k()&&!confirm("A similar deal already exists. Do you want to create it anyway?"))){n(!0);try{const oe={...x,isActive:!0,views:0,claims:0,validFrom:x.validFrom?new Date(x.validFrom):new Date,validUntil:x.validUntil?new Date(x.validUntil):void 0,maxClaims:x.maxClaims?parseInt(x.maxClaims):void 0};await Bn.createDeal(oe),l("/deals",{replace:!0}),window.location.reload()}catch(oe){console.error("Error creating deal:",oe),alert("Failed to create deal. Please try again.")}finally{n(!1)}}},W=()=>c(D=>Math.min(D+1,5)),B=()=>c(D=>Math.max(D-1,1)),X=()=>{switch(o){case 1:return V();case 2:return _();case 3:return ne();case 4:return ye();case 5:return Me();default:return V()}},V=()=>e.jsx(ae,{children:e.jsxs(re,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[e.jsx(Ns,{className:"h-5 w-5 mr-2"}),"Deal Information"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Deal Title"}),e.jsxs(I,{type:"button",variant:"outline",size:"sm",onClick:()=>C("title"),disabled:m||!x.businessName,className:"text-xs",children:[e.jsx(O0,{className:"h-3 w-3 mr-1"}),"AI Suggest"]})]}),e.jsx("input",{type:"text",required:!0,value:x.title,onChange:D=>S("title",D.target.value),placeholder:"e.g., 30% Off All Main Courses",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),e.jsxs(I,{type:"button",variant:"outline",size:"sm",onClick:()=>C("description"),disabled:m||!x.title,className:"text-xs",children:[e.jsx(dt,{className:"h-3 w-3 mr-1"}),"Generate Copy"]})]}),e.jsx("textarea",{rows:3,value:x.description,onChange:D=>S("description",D.target.value),placeholder:"Describe your deal and any terms & conditions",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Name"}),e.jsx("input",{type:"text",required:!0,value:x.businessName,onChange:D=>S("businessName",D.target.value),placeholder:"Your business name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Type"}),e.jsx("select",{value:x.businessType,onChange:D=>S("businessType",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:p.map(D=>e.jsx("option",{value:D.value,children:D.label},D.value))})]})]})]})]})}),_=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx(ae,{children:e.jsxs(re,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[e.jsx(Rt,{className:"h-5 w-5 mr-2"}),"Pricing & Offer Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Original Price ($)"}),e.jsx("input",{type:"number",step:"0.01",required:!0,value:x.originalPrice,onChange:D=>S("originalPrice",D.target.value),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discounted Price ($)"}),e.jsx("input",{type:"number",step:"0.01",required:!0,value:x.discountedPrice,onChange:D=>S("discountedPrice",D.target.value),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount"}),e.jsx("input",{type:"text",value:x.discount,placeholder:"Auto-calculated",className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50",readOnly:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Promo Code"}),e.jsx("input",{type:"text",value:x.promoCode,onChange:D=>S("promoCode",D.target.value),placeholder:"Optional",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]})}),e.jsx(ae,{children:e.jsxs(re,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(gb,{className:"h-5 w-5 mr-2"}),"Media Upload"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Images"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:D=>D.target.files&&T("image",D.target.files),className:"hidden",id:"image-upload"}),e.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[e.jsx(Dm,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload images"})]})]}),x.images.length>0&&e.jsx("div",{className:"grid grid-cols-2 gap-2 mt-4",children:x.images.map((D,Z)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:D,alt:`Deal ${Z+1}`,className:"w-full h-20 object-cover rounded"}),e.jsx("button",{type:"button",onClick:()=>O("image",Z),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 text-xs",children:""})]},Z))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Videos"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:[e.jsx("input",{type:"file",multiple:!0,accept:"video/*",onChange:D=>D.target.files&&T("video",D.target.files),className:"hidden",id:"video-upload"}),e.jsxs("label",{htmlFor:"video-upload",className:"cursor-pointer",children:[e.jsx(l5,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload videos"})]})]}),x.videos.length>0&&e.jsx("div",{className:"space-y-2 mt-4",children:x.videos.map((D,Z)=>e.jsxs("div",{className:"relative bg-gray-100 p-2 rounded flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm truncate",children:["Video ",Z+1]}),e.jsx("button",{type:"button",onClick:()=>O("video",Z),className:"bg-red-500 text-white rounded-full w-5 h-5 text-xs",children:""})]},Z))})]})]})]})})]}),ne=()=>e.jsx(ae,{children:e.jsxs(re,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[e.jsx(pe,{className:"h-5 w-5 mr-2"}),"Location & Validity"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Address"}),e.jsx("input",{type:"text",required:!0,value:x.location.address,onChange:D=>S("address",D.target.value),placeholder:"Full business address",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Claims"}),e.jsx("input",{type:"number",value:x.maxClaims,onChange:D=>S("maxClaims",D.target.value),placeholder:"Unlimited",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valid From"}),e.jsx("input",{type:"date",value:x.validFrom,onChange:D=>S("validFrom",D.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valid Until"}),e.jsx("input",{type:"date",value:x.validUntil,onChange:D=>S("validUntil",D.target.value),min:x.validFrom||new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website URL"}),e.jsx("input",{type:"url",value:x.contactInfo.website,onChange:D=>S("contactInfo",{...x.contactInfo,website:D.target.value}),placeholder:"https://yourstore.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",value:x.contactInfo.phone,onChange:D=>S("contactInfo",{...x.contactInfo,phone:D.target.value}),placeholder:"+94 77 123 4567",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Number"}),e.jsx("input",{type:"tel",value:x.contactInfo.whatsapp,onChange:D=>S("contactInfo",{...x.contactInfo,whatsapp:D.target.value}),placeholder:"+94 77 123 4567",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",value:x.contactInfo.email,onChange:D=>S("contactInfo",{...x.contactInfo,email:D.target.value}),placeholder:"contact@business.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Facebook Page"}),e.jsx("input",{type:"url",value:x.contactInfo.facebook,onChange:D=>S("contactInfo",{...x.contactInfo,facebook:D.target.value}),placeholder:"https://facebook.com/yourpage",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instagram Profile"}),e.jsx("input",{type:"url",value:x.contactInfo.instagram,onChange:D=>S("contactInfo",{...x.contactInfo,instagram:D.target.value}),placeholder:"https://instagram.com/yourprofile",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]})]})}),ye=()=>e.jsx(ae,{children:e.jsxs(re,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[e.jsx(Qo,{className:"h-5 w-5 mr-2"}),"Audience Targeting & Analytics"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ideal Traveler Type"}),e.jsxs("select",{value:x.travelerType,onChange:D=>S("travelerType",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Any Traveler"}),y.map(D=>e.jsx("option",{value:D.value,children:D.label},D.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Visibility Scope"}),e.jsxs("select",{value:x.visibilityScope,onChange:D=>S("visibilityScope",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"global",children:" Global"}),e.jsx("option",{value:"local",children:" Local Only"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Track Views & Claims"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Monitor engagement analytics"})]}),e.jsx("input",{type:"checkbox",checked:x.trackAnalytics,onChange:D=>S("trackAnalytics",D.target.checked),className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Show Countdown Timer"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Creates urgency in deal card"})]}),e.jsx("input",{type:"checkbox",checked:x.showCountdown,onChange:D=>S("showCountdown",D.target.checked),className:"rounded"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tags"}),e.jsxs(I,{type:"button",variant:"outline",size:"sm",onClick:()=>C("tags"),disabled:m,className:"text-xs",children:[e.jsx(O0,{className:"h-3 w-3 mr-1"}),"Auto-fill Tags"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:x.tags.map((D,Z)=>e.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs flex items-center",children:[D,e.jsx("button",{type:"button",onClick:()=>{const oe=x.tags.filter((Y,A)=>A!==Z);S("tags",oe)},className:"ml-1 text-blue-600 hover:text-blue-800",children:""})]},Z))})]})]})}),Me=()=>e.jsx(ae,{children:e.jsxs(re,{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[e.jsx(bs,{className:"h-5 w-5 mr-2"}),"Live Preview"]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden max-w-sm mx-auto",children:[e.jsxs("div",{className:"relative",children:[x.images[0]?e.jsx("img",{src:x.images[0],alt:"Deal preview",className:"w-full h-48 object-cover"}):e.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center",children:e.jsx(Ns,{className:"w-12 h-12 text-gray-400"})}),x.discount&&e.jsx("div",{className:"absolute top-3 right-3 bg-red-500 text-white text-sm font-bold px-3 py-1 rounded-full",children:x.discount}),e.jsx("div",{className:"absolute top-3 left-3 bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded-full",children:p.find(D=>D.value===x.businessType)?.label||x.businessType})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900 mb-1",children:x.title||"Deal Title"}),e.jsxs("div",{className:"flex items-center text-gray-600 text-sm mb-2",children:[e.jsx(pe,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:x.businessName||"Business Name"})]}),x.description&&e.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:x.description}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-gray-500 line-through text-sm",children:["$",x.originalPrice||"0.00"]}),e.jsxs("span",{className:"text-green-600 font-bold text-lg",children:["$",x.discountedPrice||"0.00"]})]}),x.showCountdown&&x.validUntil&&e.jsxs("div",{className:"flex items-center text-orange-600 text-sm",children:[e.jsx(nt,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"Limited time"})]})]}),e.jsx("button",{className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-2 px-4 rounded-lg font-medium",children:"Claim Deal"})]})]})]})});return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Create a New Deal"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Boost your visibility by publishing a verified travel deal"})]}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex items-center justify-center space-x-4",children:b.map((D,Z)=>{const oe=D.icon,Y=o===D.id,A=o>D.id;return e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${Y?"bg-blue-600 text-white":A?"bg-green-600 text-white":"bg-gray-200 text-gray-600"}`,children:e.jsx(oe,{className:"h-5 w-5"})}),e.jsx("div",{className:"ml-2 hidden md:block",children:e.jsx("div",{className:`text-sm font-medium ${Y?"text-blue-600":A?"text-green-600":"text-gray-500"}`,children:D.title})}),Z<b.length-1&&e.jsx("div",{className:`w-8 h-0.5 mx-4 ${A?"bg-green-600":"bg-gray-200"}`})]},D.id)})})}),e.jsx("form",{onSubmit:R,children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-3",children:X()}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(ae,{children:e.jsxs(re,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold mb-3 text-sm",children:"Quick Preview"}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[e.jsx("div",{className:"font-medium text-sm truncate",children:x.title||"Deal Title"}),e.jsx("div",{className:"text-xs text-gray-600 truncate",children:x.businessName||"Business Name"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-gray-500 line-through text-xs",children:["$",x.originalPrice||"0.00"]}),e.jsxs("span",{className:"text-green-600 font-bold text-sm",children:["$",x.discountedPrice||"0.00"]})]}),x.discount&&e.jsx("div",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full inline-block",children:x.discount})]})]})}),e.jsx(ae,{children:e.jsx(re,{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[o<5?e.jsxs(e.Fragment,{children:[e.jsx(I,{type:"button",onClick:W,className:"w-full bg-blue-600 hover:bg-blue-700",disabled:o===1&&(!x.title||!x.businessName),children:"Next Step"}),o>1&&e.jsx(I,{type:"button",variant:"outline",onClick:B,className:"w-full",children:"Previous"})]}):e.jsxs(e.Fragment,{children:[e.jsx(I,{type:"submit",disabled:r,className:"w-full bg-green-600 hover:bg-green-700",children:r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Dl,{className:"h-4 w-4 mr-2"}),"Create Deal"]})}),e.jsx(I,{type:"button",variant:"outline",onClick:B,className:"w-full",children:"Previous"})]}),e.jsx(I,{type:"button",variant:"outline",onClick:()=>l("/deals"),className:"w-full text-gray-600",children:"Cancel"})]})})}),m&&e.jsx(ae,{children:e.jsx(re,{className:"p-4",children:e.jsxs("div",{className:"flex items-center space-x-2 text-blue-600",children:[e.jsx(dt,{className:"h-4 w-4 animate-pulse"}),e.jsx("span",{className:"text-sm",children:"AI is working..."})]})})})]})]})})]})})},PS=({story:l,onLike:r})=>{const[n,o]=j.useState(!1),c=Nt(),m=h=>{const x=new Date(h),p=Math.abs(new Date().getTime()-x.getTime()),y=Math.ceil(p/(1e3*60*60*24));return y===1?"Yesterday":y<7?`${y} days ago`:x.toLocaleDateString()};return e.jsxs("div",{className:"story-card bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[e.jsxs("div",{className:"p-6 flex items-center justify-between bg-gradient-to-r from-white to-gray-50",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center ring-2 ring-purple-100 hover:ring-purple-200 transition-all duration-200",children:l.author.profilePicture?e.jsx("img",{src:l.author.profilePicture,alt:l.author.username,className:"w-full h-full rounded-full object-cover"}):e.jsx("span",{className:"text-white font-medium text-sm",children:l.author.username[0]})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-400 border-2 border-white rounded-full"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:l.author.username}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[e.jsx(pe,{className:"w-3 h-3"}),e.jsx("span",{children:l.location}),e.jsx("span",{children:""}),e.jsx(zt,{className:"w-3 h-3"}),e.jsx("span",{children:m(l.createdAt)})]})]})]}),e.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(R6,{className:"w-4 h-4 text-gray-500"})})]}),e.jsxs("div",{className:"px-6 pb-4",children:[e.jsx("h3",{onClick:()=>c(`/community/story/${l._id}`),className:"font-bold text-xl text-gray-900 mb-3 hover:text-purple-600 transition-colors cursor-pointer",children:l.title}),e.jsx("p",{className:"text-gray-700 mb-4 line-clamp-3 leading-relaxed",children:l.content}),l.tags&&l.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:l.tags.map((h,x)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-purple-100 text-purple-700 font-medium",children:["#",h]},x))}),l.place&&e.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(pe,{className:"w-4 h-4 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:l.place.name}),e.jsx("p",{className:"text-xs text-gray-500",children:l.place.address})]})]})})]}),l.images.length>0&&e.jsx("div",{className:"px-6 pb-6",children:l.images.length===1?e.jsx("img",{src:l.images[0],alt:l.title,className:"w-full h-64 object-cover rounded-lg"}):e.jsx("div",{className:"grid grid-cols-2 gap-2",children:l.images.slice(0,4).map((h,x)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:h,alt:`${l.title} ${x+1}`,className:"w-full h-32 object-cover rounded-lg"}),x===3&&l.images.length>4&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-lg flex items-center justify-center",children:e.jsxs("span",{className:"text-white font-bold text-lg",children:["+",l.images.length-4]})})]},x))})}),e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-8",children:[e.jsxs("button",{onClick:()=>r(l._id),className:`group flex items-center space-x-2 transition-all duration-200 transform hover:scale-105 ${l.isLiked?"text-red-500":"text-gray-500 hover:text-red-500"}`,children:[e.jsx(ut,{className:`w-6 h-6 transition-all duration-200 ${l.isLiked?"fill-current animate-pulse":"group-hover:scale-110"}`}),e.jsx("span",{className:"font-semibold text-lg",children:l.likes})]}),e.jsxs("button",{onClick:()=>o(!n),className:"group flex items-center space-x-2 text-gray-500 hover:text-blue-500 transition-all duration-200 transform hover:scale-105",children:[e.jsx(Bs,{className:"w-6 h-6 group-hover:scale-110 transition-transform duration-200"}),e.jsx("span",{className:"font-semibold text-lg",children:l.comments})]})]}),e.jsx("div",{className:"text-sm text-gray-400",children:m(l.createdAt)})]})}),n&&e.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gradient-to-r from-gray-50 to-blue-50 animate-fade-in-up",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex-shrink-0"}),e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",placeholder:"Write a comment...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})})]}),e.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Comments coming soon..."})]})})]})},Ga="https://travelbuddylk.com/api",Uu=l=>({_id:l._id,title:l.content?.title||l.title||"Untitled Story",content:l.content?.text||l.content||"",images:l.content?.images||l.images||[],author:{username:l.username||l.author?.username||"Anonymous",profilePicture:l.profilePicture||l.author?.profilePicture},location:l.location||l.content?.location||"Unknown Location",place:l.place,likes:l.engagement?.likes||l.likes||0,comments:l.engagement?.comments||l.comments||0,createdAt:l.createdAt||new Date().toISOString(),isLiked:!1,tags:l.tags||[]}),ua={async getStories(l="recent"){try{console.log(" Fetching stories from:",`${Ga}/posts/community`);const r=await fetch(`${Ga}/posts/community?limit=20`);if(console.log(" Response status:",r.status),!r.ok)throw new Error("Failed to fetch stories");const n=await r.json();console.log(" Fetched posts:",n.length);let o=n.map(Uu);return l==="popular"?o.sort((c,m)=>m.likes-c.likes):l==="trending"&&o.sort((c,m)=>m.likes+m.comments-(c.likes+c.comments)),o}catch(r){return console.error("Error fetching stories:",r),[]}},async getStory(l){try{const r=await fetch(`${Ga}/posts/community`);if(!r.ok)throw new Error("Failed to fetch story");const o=(await r.json()).find(c=>c._id===l);return o?Uu(o):null}catch(r){return console.error("Error fetching story:",r),null}},async getTopTravelers(){try{const l=await fetch(`${Ga}/posts/community`);if(!l.ok)throw new Error("Failed to fetch travelers");const r=await l.json(),n={};return r.forEach(o=>{const c=o.username||o.author?.username||"Anonymous";n[c]||(n[c]={username:c,profilePicture:o.profilePicture||o.author?.profilePicture,storiesCount:0,totalLikes:0}),n[c].storiesCount++,n[c].totalLikes+=o.engagement?.likes||o.likes||0}),Object.values(n).sort((o,c)=>c.totalLikes-o.totalLikes).slice(0,5)}catch(l){return console.error("Error fetching top travelers:",l),[]}},async createStory(l){const r={userId:"507f1f77bcf86cd799439011",content:{title:l.title,text:l.content,images:l.images},location:l.location,place:l.place,tags:l.tags||[],username:"You",moderationStatus:"approved",engagement:{likes:0,comments:0}},n=await fetch(`${Ga}/posts/community`,{method:"POST",headers:{"Content-Type":"application/json","x-user-id":"507f1f77bcf86cd799439011"},body:JSON.stringify(r)});if(!n.ok){const c=await n.text();throw console.error("Create story error:",c),new Error(`Failed to create story: ${n.status}`)}const o=await n.json();return Uu(o)},async likeStory(l){if(!(await fetch(`${Ga}/posts/${l}/like`,{method:"POST",headers:{"Content-Type":"application/json","x-user-id":"507f1f77bcf86cd799439011"},body:JSON.stringify({userId:"current-user"})})).ok)throw new Error("Failed to like story")},async getComments(l){try{const r=await fetch(`${Ga}/posts/${l}/comments`);if(!r.ok)throw new Error("Failed to fetch comments");return(await r.json()).comments||[]}catch(r){return console.error("Error fetching comments:",r),[]}},async addComment(l,r){const n=await fetch(`${Ga}/posts/${l}/comments`,{method:"POST",headers:{"Content-Type":"application/json","x-user-id":"507f1f77bcf86cd799439011"},body:JSON.stringify({text:r,username:"You",userId:"current-user"})});if(!n.ok)throw new Error("Failed to add comment");return n.json()},async generateAITags(l,r){return this.getFallbackTags(l,r)},getFallbackTags(l,r){const n=["Adventure","Food","Culture","Nature","Photography","Beach","Mountain","City","Nightlife","Shopping","History","Art","Wildlife","Festival","Local","Budget","Luxury","Solo","Family","Couple"],o=(l+" "+r).toLowerCase(),c=n.filter(m=>o.includes(m.toLowerCase())||o.includes(m.toLowerCase().slice(0,-1)));return c.length===0?["Travel","Adventure","Culture"]:c.slice(0,4)}},BS=({onClose:l,onPlaceSelect:r})=>{const[n,o]=j.useState(""),[c,m]=j.useState([]),[h,x]=j.useState(!1),f=async p=>{if(!p.trim()){m([]);return}x(!0);try{const y=await fetch(`/api/places/search?query=${encodeURIComponent(p)}&lat=6.9271&lng=79.8612&radius=50000`);if(y.ok){const v=(await y.json()).map(k=>({placeId:k.place_id,name:k.name,coordinates:{lat:k.geometry?.location?.lat||0,lng:k.geometry?.location?.lng||0},address:k.formatted_address||k.vicinity||""}));m(v)}}catch(y){console.error("Place search failed:",y)}finally{x(!1)}};return j.useEffect(()=>{const p=setTimeout(()=>{f(n)},300);return()=>clearTimeout(p)},[n]),e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[80vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Select Place"}),e.jsx("button",{onClick:l,className:"text-gray-400 hover:text-gray-600",children:e.jsx(jt,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(Ot,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search for a place...",value:n,onChange:p=>o(p.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",autoFocus:!0})]}),e.jsx("div",{className:"max-h-64 overflow-y-auto",children:h?e.jsx("div",{className:"text-center py-4",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-purple-600 mx-auto"})}):c.length>0?e.jsx("div",{className:"space-y-2",children:c.map(p=>e.jsx("button",{onClick:()=>r(p),className:"w-full text-left p-3 hover:bg-gray-50 rounded-lg border border-gray-100 transition-colors",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(pe,{className:"w-4 h-4 text-purple-600 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:p.name}),e.jsx("p",{className:"text-sm text-gray-500",children:p.address})]})]})},p.placeId))}):n?e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No places found"}):e.jsx("p",{className:"text-gray-500 text-center py-4",children:"Start typing to search places"})})]})]})})},$S=({onClose:l,onStoryCreated:r})=>{const[n,o]=j.useState(""),[c,m]=j.useState(""),[h,x]=j.useState(""),[f,p]=j.useState(null),[y,b]=j.useState([]),[v,k]=j.useState([]),[S,C]=j.useState(!1),[w,T]=j.useState(!1),O=V=>{const _=V.target.files;_&&Array.from(_).forEach(ne=>{const ye=new FileReader;ye.onload=Me=>{Me.target?.result&&b(D=>[...D,Me.target.result])},ye.readAsDataURL(ne)})},R=V=>{b(y.filter((_,ne)=>ne!==V))},W=async V=>{if(V.preventDefault(),!(!n.trim()||!c.trim()||!h.trim()&&!f))try{C(!0);let _=v;if(v.length===0)try{_=await ua.generateAITags(n.trim(),c.trim())}catch{console.log("AI tagging failed, using manual tags")}const ne=await ua.createStory({title:n.trim(),content:c.trim(),location:f?.name||h.trim(),place:f,images:y,tags:_});r(ne)}catch(_){console.error("Failed to create story:",_)}finally{C(!1)}},B=V=>{V&&!v.includes(V)&&k([...v,V])},X=V=>{k(v.filter(_=>_!==V))};return e.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:[e.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Share Your Travel Story"}),e.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(jt,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("form",{onSubmit:W,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Story Title"}),e.jsx("input",{type:"text",value:n,onChange:V=>o(V.target.value),placeholder:"Give your story a catchy title...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),f?e.jsx("div",{className:"border border-gray-300 rounded-lg p-3 bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(pe,{className:"w-4 h-4 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:f.name}),e.jsx("p",{className:"text-sm text-gray-500",children:f.address})]})]}),e.jsx("button",{type:"button",onClick:()=>p(null),className:"text-gray-400 hover:text-gray-600",children:e.jsx(jt,{className:"w-4 h-4"})})]})}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",value:h,onChange:V=>x(V.target.value),placeholder:"Where did this happen?",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!f}),e.jsx("button",{type:"button",onClick:()=>T(!0),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-purple-600",children:e.jsx(Ot,{className:"w-5 h-5"})})]}),e.jsxs("button",{type:"button",onClick:()=>T(!0),className:"text-sm text-purple-600 hover:text-purple-700 flex items-center space-x-1",children:[e.jsx(Ot,{className:"w-4 h-4"}),e.jsx("span",{children:"Search for a place"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Story"}),e.jsx("textarea",{value:c,onChange:V=>m(V.target.value),placeholder:"Tell us about your amazing travel experience...",rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:v.map((V,_)=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-purple-100 text-purple-800",children:[V,e.jsx("button",{type:"button",onClick:()=>X(V),className:"ml-2 text-purple-600 hover:text-purple-800",children:e.jsx(jt,{className:"w-3 h-3"})})]},_))}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[["Adventure","Food","Culture","Nature","Photography","Beach","Mountain","City"].map(V=>!v.includes(V)&&e.jsxs("button",{type:"button",onClick:()=>B(V),className:"px-3 py-1 text-sm border border-gray-300 rounded-full hover:bg-gray-50 text-gray-600",children:["+ ",V]},V)),n.trim()&&c.trim()&&v.length===0&&e.jsx("button",{type:"button",onClick:async()=>{try{const V=await ua.generateAITags(n.trim(),c.trim());k(V)}catch(V){console.error("AI tagging failed:",V)}},className:"px-3 py-1 text-sm bg-purple-100 text-purple-700 rounded-full hover:bg-purple-200 font-medium",children:" AI Suggest Tags"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photos"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-purple-400 transition-colors",children:[e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:O,className:"hidden",id:"image-upload"}),e.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[e.jsx(tr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"Click to upload photos"}),e.jsx("p",{className:"text-sm text-gray-500",children:"PNG, JPG up to 10MB each"})]})]}),y.length>0&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-4",children:y.map((V,_)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:V,alt:`Upload ${_+1}`,className:"w-full h-24 object-cover rounded-lg"}),e.jsx("button",{type:"button",onClick:()=>R(_),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600 transition-colors",children:e.jsx(jt,{className:"w-4 h-4"})})]},_))})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"button",onClick:l,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:S||!n.trim()||!c.trim()||!h.trim()&&!f,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:S?e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):e.jsxs(e.Fragment,{children:[e.jsx(Dm,{className:"w-5 h-5"}),e.jsx("span",{children:"Share Story"})]})})]})]})]}),w&&e.jsx(BS,{onClose:()=>T(!1),onPlaceSelect:V=>{p(V),x(V.name),T(!1)}})]})},HS=({stories:l,onStoryClick:r})=>{const n=l.filter(c=>c.place),o=(c,m)=>{const h=(c+90)/180*100;return{x:(m+180)/360*100,y:100-h}};return e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-green-50 rounded-xl p-6 min-h-96 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-10",children:e.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full",children:[e.jsx("path",{d:"M10,30 Q20,25 30,30 L40,35 Q50,30 60,35 L70,30 Q80,35 90,30",stroke:"currentColor",strokeWidth:"0.5",fill:"none"}),e.jsx("path",{d:"M15,50 Q25,45 35,50 L45,55 Q55,50 65,55 L75,50 Q85,55 95,50",stroke:"currentColor",strokeWidth:"0.5",fill:"none"})]})}),n.map(c=>{const m=o(c.place.coordinates.lat,c.place.coordinates.lng);return e.jsx("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 cursor-pointer group",style:{left:`${Math.max(5,Math.min(95,m.x))}%`,top:`${Math.max(5,Math.min(95,m.y))}%`},onClick:()=>r(c),children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded-full flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:e.jsx(pe,{className:"w-4 h-4 text-white"})}),e.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-3 min-w-48 border",children:[e.jsx("h4",{className:"font-semibold text-sm text-gray-900 mb-1",children:c.title}),e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:c.place.name}),e.jsxs("div",{className:"flex items-center space-x-3 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ut,{className:"w-3 h-3"}),e.jsx("span",{children:c.likes})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Bs,{className:"w-3 h-3"}),e.jsx("span",{children:c.comments})]})]}),e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-white"})]})})]})},c._id)}),e.jsxs("div",{className:"absolute bottom-4 left-4 bg-white rounded-lg shadow-lg p-3",children:[e.jsx("h4",{className:"font-semibold text-sm text-gray-900 mb-2",children:"Story Locations"}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx("div",{className:"w-4 h-4 bg-purple-600 rounded-full flex items-center justify-center",children:e.jsx(pe,{className:"w-2 h-2 text-white"})}),e.jsxs("span",{children:[n.length," stories"]})]})]}),n.length===0&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(pe,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600",children:"No stories with locations yet"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Stories with tagged places will appear here"})]})})]})},qS=()=>{const[l,r]=j.useState([]),[n,o]=j.useState([]),[c,m]=j.useState(!0),[h,x]=j.useState(null),[f,p]=j.useState(!1),[y,b]=j.useState("recent"),[v,k]=j.useState(null),[S,C]=j.useState(""),[w,T]=j.useState("feed");j.useEffect(()=>{O()},[y]);const O=async()=>{try{m(!0),x(null);const[_,ne]=await Promise.all([ua.getStories(y),ua.getTopTravelers()]);r(_),o(ne)}catch(_){console.error("Failed to load community data:",_),x("Unable to load stories. Please check your connection and try again.")}finally{m(!1)}},R=l.filter(_=>{const ne=!v||_.tags&&_.tags.includes(v);if(!S)return ne;const ye=S.toLowerCase(),Me=_.title.toLowerCase().includes(ye)||_.content.toLowerCase().includes(ye)||_.location.toLowerCase().includes(ye)||_.place?.name.toLowerCase().includes(ye)||_.tags&&_.tags.some(oe=>oe.toLowerCase().includes(ye)),Z=Object.entries({food:["restaurant","cuisine","dish","meal","eat","taste"],adventure:["hiking","climbing","extreme","thrill","exciting"],culture:["museum","temple","traditional","heritage","history"],nature:["park","wildlife","forest","mountain","beach","ocean"],city:["urban","downtown","street","building","shopping"]}).some(([oe,Y])=>ye.includes(oe)?Y.some(A=>_.title.toLowerCase().includes(A)||_.content.toLowerCase().includes(A)):!1);return ne&&(Me||Z)}),W=Array.from(new Set(l.flatMap(_=>_.tags||[]))),B=async _=>{try{await ua.likeStory(_),r(l.map(ne=>ne._id===_?{...ne,likes:ne.likes+(ne.isLiked?-1:1),isLiked:!ne.isLiked}:ne))}catch(ne){console.error("Failed to like story:",ne)}},X=async _=>{if(confirm("Delete this story?"))try{await ua.deleteStory(_),r(l.filter(ne=>ne._id!==_))}catch(ne){console.error("Failed to delete story:",ne),alert("Failed to delete story")}},V=_=>{r([_,...l]),p(!1)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("div",{className:"relative bg-gradient-to-br from-purple-600 via-pink-600 to-red-600 text-white py-16 overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-10 left-10 w-20 h-20 border-2 border-white rounded-full animate-pulse"}),e.jsx("div",{className:"absolute top-32 right-20 w-16 h-16 border-2 border-white rounded-full animate-pulse delay-1000"}),e.jsx("div",{className:"absolute bottom-20 left-1/4 w-12 h-12 border-2 border-white rounded-full animate-pulse delay-500"})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 relative",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"inline-flex items-center space-x-2 bg-white/20 backdrop-blur-sm rounded-full px-4 py-2 mb-6",children:[e.jsx(tr,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Travel Stories & Adventures"})]}),e.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-white to-purple-100 bg-clip-text text-transparent",children:"Travel Community"}),e.jsx("p",{className:"text-xl md:text-2xl text-purple-100 mb-8 max-w-2xl mx-auto",children:"Share your adventures, inspire others, and discover amazing travel stories from around the world"}),e.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-6 md:gap-8",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-lg px-4 py-2",children:[e.jsx(tr,{className:"w-5 h-5 text-yellow-300"}),e.jsx("span",{className:"font-semibold",children:w==="map"?R.filter(_=>_.place).length:R.length}),e.jsx("span",{className:"text-purple-100",children:w==="map"?"Places":"Stories"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-lg px-4 py-2",children:[e.jsx(it,{className:"w-5 h-5 text-green-300"}),e.jsx("span",{className:"font-semibold",children:n.length}),e.jsx("span",{className:"text-purple-100",children:"Travelers"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-lg px-4 py-2",children:[e.jsx(ut,{className:"w-5 h-5 text-red-300"}),e.jsx("span",{className:"font-semibold",children:l.reduce((_,ne)=>_+ne.likes,0)}),e.jsx("span",{className:"text-purple-100",children:"Likes"})]})]})]})})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"lg:col-span-3",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-8 backdrop-blur-sm",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex space-x-2 bg-gray-100 rounded-lg p-1",children:[e.jsxs("button",{onClick:()=>b("recent"),className:`px-4 py-2 rounded-md font-medium transition-all duration-200 ${y==="recent"?"bg-white text-purple-700 shadow-sm transform scale-105":"text-gray-600 hover:text-purple-600"}`,children:[e.jsx(Kt,{className:"w-4 h-4 inline mr-2"}),"Recent"]}),e.jsxs("button",{onClick:()=>b("popular"),className:`px-4 py-2 rounded-md font-medium transition-all duration-200 ${y==="popular"?"bg-white text-purple-700 shadow-sm transform scale-105":"text-gray-600 hover:text-purple-600"}`,children:[e.jsx(ut,{className:"w-4 h-4 inline mr-2"}),"Popular"]}),e.jsxs("button",{onClick:()=>b("trending"),className:`px-4 py-2 rounded-md font-medium transition-all duration-200 ${y==="trending"?"bg-white text-purple-700 shadow-sm transform scale-105":"text-gray-600 hover:text-purple-600"}`,children:[e.jsx(Er,{className:"w-4 h-4 inline mr-2"}),"Trending"]})]}),e.jsxs("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>T("feed"),className:`px-3 py-2 rounded-md font-medium transition-all duration-200 ${w==="feed"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:e.jsx(ni,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>T("map"),className:`px-3 py-2 rounded-md font-medium transition-all duration-200 ${w==="map"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:e.jsx(_l,{className:"w-4 h-4"})})]})]}),e.jsxs("button",{onClick:()=>p(!0),className:"group flex items-center space-x-2 bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 text-white px-8 py-3 rounded-xl hover:from-purple-700 hover:via-pink-700 hover:to-red-700 transition-all duration-300 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105",children:[e.jsx(Lr,{className:"w-5 h-5 group-hover:rotate-90 transition-transform duration-300"}),e.jsx("span",{children:"Share Your Story"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search stories... (try 'food', 'adventure', 'culture')",value:S,onChange:_=>C(_.target.value),className:"w-full px-4 py-2 pl-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),e.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),S&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full",children:" Smart Search"})})]}),W.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>k(null),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${v?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-purple-600 text-white"}`,children:"All"}),W.slice(0,8).map(_=>e.jsxs("button",{onClick:()=>k(v===_?null:_),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${v===_?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["#",_]},_))]})]})}),h?e.jsxs("div",{className:"text-center py-20 bg-white rounded-xl shadow-lg border border-red-100",children:[e.jsx("div",{className:"text-red-500 mb-4",children:e.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Oops! Something went wrong"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:h}),e.jsx("button",{onClick:O,className:"bg-purple-600 text-white px-6 py-3 rounded-xl hover:bg-purple-700 transition-all duration-200 font-semibold shadow-lg",children:"Try Again"})]}):c?e.jsx("div",{className:"space-y-6",children:[1,2,3].map(_=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 animate-pulse",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/6"})]})]}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-4"}),e.jsx("div",{className:"h-48 bg-gray-200 rounded-lg mb-4"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-20"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-20"})]})]},_))}):l.length===0?e.jsxs("div",{className:"text-center py-20 bg-gradient-to-br from-white to-purple-50 rounded-xl shadow-lg border border-purple-100",children:[e.jsxs("div",{className:"relative inline-block mb-6",children:[e.jsx(tr,{className:"w-20 h-20 text-purple-300 mx-auto animate-bounce"}),e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-purple-500 rounded-full flex items-center justify-center",children:e.jsx(Lr,{className:"w-4 h-4 text-white"})})]}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"No stories yet"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Be the first to share your amazing travel experience and inspire others!"}),e.jsx("button",{onClick:()=>p(!0),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-4 rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105",children:"Share Your First Story"})]}):w==="map"?e.jsxs("div",{className:"space-y-6",children:[e.jsx(HS,{stories:R,onStoryClick:_=>{console.log("Story clicked:",_.title)}}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Stories on Map"}),e.jsx("button",{onClick:()=>T("feed"),className:"text-purple-600 hover:text-purple-700 font-medium text-sm",children:" Back to Feed"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:R.filter(_=>_.place).slice(0,6).map(_=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 hover:bg-gray-100 cursor-pointer transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(pe,{className:"w-3 h-3 text-purple-600"}),e.jsx("span",{className:"font-medium text-xs",children:_.place?.name})]}),e.jsx("p",{className:"text-sm text-gray-700 font-medium",children:_.title}),e.jsxs("p",{className:"text-xs text-gray-500",children:["by ",_.author.username]})]},_._id))})]})]}):e.jsx("div",{className:"space-y-8",children:R.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-500 text-lg",children:"No stories found matching your filters."}),e.jsx("button",{onClick:()=>{k(null),C("")},className:"mt-4 text-purple-600 hover:text-purple-700 font-medium",children:"Clear filters"})]}):R.map((_,ne)=>e.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:`${ne*100}ms`},children:e.jsx(PS,{story:_,onLike:B,onDelete:X})},_._id))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-white to-yellow-50 rounded-xl shadow-lg border border-yellow-100 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(Er,{className:"w-5 h-5 text-yellow-600"})}),e.jsx("h3",{className:"font-bold text-lg text-gray-900",children:"Top Travelers"}),e.jsx("div",{className:"flex-1"}),e.jsx("span",{className:"text-xs bg-yellow-200 text-yellow-800 px-2 py-1 rounded-full font-medium",children:"This Month"})]}),e.jsx("div",{className:"space-y-4",children:n.map((_,ne)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:_.profilePicture?e.jsx("img",{src:_.profilePicture,alt:_.username,className:"w-full h-full rounded-full object-cover"}):e.jsx("span",{className:"text-white font-medium text-sm",children:_.username[0]})}),ne<3&&e.jsx("div",{className:`absolute -top-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold ${ne===0?"bg-yellow-500 text-white":ne===1?"bg-gray-400 text-white":"bg-orange-500 text-white"}`,children:ne+1})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:_.username}),e.jsxs("p",{className:"text-sm text-gray-500",children:[_.storiesCount," stories  ",_.totalLikes," likes"]})]})]},_.username))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-white to-green-50 rounded-xl shadow-lg border border-green-100 p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(pe,{className:"w-5 h-5 text-green-600"})}),e.jsx("h3",{className:"font-bold text-lg text-gray-900",children:"Trending Places"})]}),e.jsxs("div",{className:"space-y-3",children:[Array.from(new Set(l.filter(_=>_.place).map(_=>_.place.name))).slice(0,5).map((_,ne)=>{const ye=l.filter(Me=>Me.place?.name===_);return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${ne===0?"bg-green-500":ne===1?"bg-green-400":"bg-green-300"}`}),e.jsx("span",{className:"text-gray-700 text-sm font-medium",children:_})]}),e.jsxs("span",{className:"text-xs text-gray-500",children:[ye.length," stories"]})]},_)}),l.filter(_=>_.place).length===0&&e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No places tagged yet"})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-white to-purple-50 rounded-xl shadow-lg border border-purple-100 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(Kt,{className:"w-5 h-5 text-purple-600"})}),e.jsx("h3",{className:"font-bold text-lg text-gray-900",children:"Community Stats"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Total Stories"}),e.jsx("span",{className:"font-bold text-purple-600",children:l.length})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Active Members"}),e.jsx("span",{className:"font-bold text-purple-600",children:n.length})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Total Likes"}),e.jsx("span",{className:"font-bold text-purple-600",children:l.reduce((_,ne)=>_+ne.likes,0)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Tagged Places"}),e.jsx("span",{className:"font-bold text-purple-600",children:new Set(l.filter(_=>_.place).map(_=>_.place.name)).size})]})]})]})]})]})}),f&&e.jsx($S,{onClose:()=>p(!1),onStoryCreated:V})]})},VS=[{id:"all",label:"All Events",icon:""},{id:"music",label:"Music",icon:""},{id:"cultural",label:"Cultural",icon:""},{id:"sports",label:"Sports",icon:""},{id:"nightlife",label:"Nightlife",icon:""},{id:"tech",label:"Tech",icon:""},{id:"food",label:"Food & Drink",icon:""},{id:"festivals",label:"Festivals",icon:""}],FS=()=>{const[l,r]=j.useState(""),[n,o]=j.useState("all"),[c,m]=j.useState("grid"),[h,x]=j.useState(!1),[f,p]=j.useState([]),[y,b]=j.useState(null),[v,k]=j.useState({priceRange:[0,1e3],dateRange:"all",rating:0,location:""});j.useEffect(()=>{p([{id:"1",name:"Summer Music Festival 2024",description:"The biggest music festival of the year featuring top artists",category:"music",location:{city:"Barcelona",country:"Spain"},date:"2024-07-15",endDate:"2024-07-17",time:"18:00",price:150,currency:"EUR",image:"https://images.unsplash.com/photo-1533174072545-7a4b6ad7a6c3?w=800",rating:4.8,attendees:5e3,organizer:"Global Events Co.",isTrending:!0,isVerified:!0},{id:"2",name:"Tokyo Food Festival",description:"Experience authentic Japanese cuisine from top chefs",category:"food",location:{city:"Tokyo",country:"Japan"},date:"2024-06-20",time:"12:00",price:0,currency:"JPY",image:"https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800",rating:4.9,attendees:3e3,organizer:"Tokyo Tourism Board",isFree:!0,isVerified:!0},{id:"3",name:"Tech Innovation Summit",description:"Leading tech conference with industry experts",category:"tech",location:{city:"San Francisco",country:"USA"},date:"2024-08-10",time:"09:00",price:500,currency:"USD",image:"https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=800",rating:4.7,attendees:2e3,organizer:"Tech Leaders Inc.",isTrending:!0,isVerified:!0}])},[]);const S=f.filter(C=>!(n!=="all"&&C.category!==n||l&&!C.name.toLowerCase().includes(l.toLowerCase())&&!C.location.city.toLowerCase().includes(l.toLowerCase())||v.rating>0&&C.rating<v.rating));return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-16",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-5xl font-bold mb-4",children:"Discover Amazing Events"}),e.jsx("p",{className:"text-xl text-white/90",children:"Find concerts, festivals, workshops, and experiences worldwide"})]}),e.jsx("div",{className:"max-w-4xl mx-auto mb-8",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-2 flex items-center",children:[e.jsx(Ot,{className:"w-6 h-6 text-gray-400 ml-4"}),e.jsx("input",{type:"text",placeholder:"Search events, locations, or dates...",value:l,onChange:C=>r(C.target.value),className:"flex-1 px-4 py-4 text-gray-900 text-lg focus:outline-none"}),e.jsx("button",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-4 rounded-xl font-semibold hover:shadow-lg transition-all",children:"Search"})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-6 max-w-3xl mx-auto",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold",children:[f.length,"+"]}),e.jsx("div",{className:"text-white/80",children:"Events This Month"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold",children:"50+"}),e.jsx("div",{className:"text-white/80",children:"Cities Covered"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold",children:"8"}),e.jsx("div",{className:"text-white/80",children:"Categories"})]})]})]})}),e.jsx("div",{className:"bg-white border-b sticky top-0 z-40 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"flex items-center space-x-4 overflow-x-auto",children:VS.map(C=>e.jsxs("button",{onClick:()=>o(C.id),className:`flex items-center space-x-2 px-4 py-2 rounded-full whitespace-nowrap transition-all ${n===C.id?"bg-purple-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx("span",{children:C.icon}),e.jsx("span",{className:"font-medium",children:C.label})]},C.id))}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>x(!h),className:"flex items-center space-x-2 px-4 py-2 border-2 border-gray-300 rounded-lg hover:border-purple-600 transition-all",children:[e.jsx(li,{className:"w-5 h-5"}),e.jsx("span",{children:"Filters"})]}),e.jsxs("div",{className:"flex border-2 border-gray-300 rounded-lg overflow-hidden",children:[e.jsx("button",{onClick:()=>m("grid"),className:`p-2 ${c==="grid"?"bg-purple-600 text-white":"bg-white text-gray-600"}`,children:e.jsx(Am,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>m("list"),className:`p-2 ${c==="list"?"bg-purple-600 text-white":"bg-white text-gray-600"}`,children:e.jsx(ni,{className:"w-5 h-5"})})]})]})]})})}),h&&e.jsx("div",{className:"bg-white border-b shadow-lg",children:e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:e.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date Range"}),e.jsxs("select",{className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-purple-600 focus:outline-none",children:[e.jsx("option",{children:"All Dates"}),e.jsx("option",{children:"This Weekend"}),e.jsx("option",{children:"Next 7 Days"}),e.jsx("option",{children:"Next Month"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Price"}),e.jsxs("select",{className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-purple-600 focus:outline-none",children:[e.jsx("option",{children:"All Prices"}),e.jsx("option",{children:"Free"}),e.jsx("option",{children:"Under $50"}),e.jsx("option",{children:"$50 - $200"}),e.jsx("option",{children:"$200+"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Rating"}),e.jsxs("select",{className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-purple-600 focus:outline-none",value:v.rating,onChange:C=>k({...v,rating:Number(C.target.value)}),children:[e.jsx("option",{value:0,children:"All Ratings"}),e.jsx("option",{value:4,children:"4.0+ Stars"}),e.jsx("option",{value:4.5,children:"4.5+ Stars"}),e.jsx("option",{value:4.8,children:"4.8+ Stars"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Location"}),e.jsx("input",{type:"text",placeholder:"City or Country",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-purple-600 focus:outline-none",value:v.location,onChange:C=>k({...v,location:C.target.value})})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[S.length," Events Found"]}),e.jsxs("select",{className:"px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-purple-600 focus:outline-none",children:[e.jsx("option",{children:"Sort by: Recommended"}),e.jsx("option",{children:"Date: Soonest First"}),e.jsx("option",{children:"Price: Low to High"}),e.jsx("option",{children:"Rating: Highest First"}),e.jsx("option",{children:"Most Popular"})]})]}),e.jsx("div",{className:"mb-6",children:e.jsx("button",{onClick:()=>window.location.href="/events/create",className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-6 py-3 rounded-xl font-semibold hover:shadow-lg transition-all flex items-center space-x-2",children:e.jsx("span",{children:"+ Create New Event"})})}),e.jsx("div",{className:c==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:S.map(C=>e.jsxs(ae,{className:"overflow-hidden hover:shadow-2xl transition-all duration-300 hover:-translate-y-1",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:C.image,alt:C.name,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"absolute top-3 left-3 flex flex-wrap gap-2",children:[C.isTrending&&e.jsxs("span",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-xs font-semibold flex items-center",children:[e.jsx(Kt,{className:"w-3 h-3 mr-1"})," Trending"]}),C.isFree&&e.jsx("span",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-xs font-semibold",children:"Free Entry"}),C.isVerified&&e.jsx("span",{className:"bg-blue-500 text-white px-3 py-1 rounded-full text-xs font-semibold",children:" Verified"})]}),e.jsx("button",{className:"absolute top-3 right-3 bg-white/90 backdrop-blur-sm p-2 rounded-full hover:bg-white transition-all",children:e.jsx(ut,{className:"w-5 h-5 text-gray-700"})})]}),e.jsxs(re,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs font-semibold text-purple-600 uppercase",children:C.category}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Pe,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),e.jsx("span",{className:"text-sm font-semibold",children:C.rating})]})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-2",children:C.name}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(pe,{className:"w-4 h-4 mr-2 text-gray-400"}),C.location.city,", ",C.location.country]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(zt,{className:"w-4 h-4 mr-2 text-gray-400"}),new Date(C.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(it,{className:"w-4 h-4 mr-2 text-gray-400"}),C.attendees.toLocaleString()," attendees"]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[e.jsx("div",{children:C.isFree?e.jsx("span",{className:"text-2xl font-bold text-green-600",children:"Free"}):e.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[C.currency==="USD"?"$":C.currency==="EUR"?"":"",C.price]})}),e.jsxs("button",{onClick:()=>b(C),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-2 rounded-lg font-semibold hover:shadow-lg transition-all flex items-center space-x-2",children:[e.jsx(I3,{className:"w-4 h-4"}),e.jsx("span",{children:"View Details"})]})]})]})]},C.id))})]}),y&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>b(null),children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:C=>C.stopPropagation(),children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:y.image,alt:y.name,className:"w-full h-64 object-cover rounded-t-2xl"}),e.jsx("button",{onClick:()=>b(null),className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm p-2 rounded-full hover:bg-white transition-all",children:e.jsx(Jo,{className:"w-5 h-5 text-gray-700"})})]}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-semibold text-purple-600 uppercase",children:y.category}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mt-2",children:y.name})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Pe,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),e.jsx("span",{className:"text-xl font-bold",children:y.rating})]})]}),e.jsx("p",{className:"text-gray-600 mb-6",children:y.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-xl",children:[e.jsx(pe,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Location"}),e.jsxs("p",{className:"font-semibold",children:[y.location.city,", ",y.location.country]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-xl",children:[e.jsx(zt,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Date"}),e.jsx("p",{className:"font-semibold",children:new Date(y.date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-xl",children:[e.jsx(nt,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Time"}),e.jsx("p",{className:"font-semibold",children:y.time})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-xl",children:[e.jsx(it,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Attendees"}),e.jsx("p",{className:"font-semibold",children:y.attendees.toLocaleString()})]})]})]}),e.jsx("div",{className:"border-t pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Organized by"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:y.organizer})]}),e.jsx("div",{className:"text-right",children:y.isFree?e.jsx("span",{className:"text-3xl font-bold text-green-600",children:"Free"}):e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Price"}),e.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:[y.currency==="USD"?"$":y.currency==="EUR"?"":"",y.price]})]})})]})}),e.jsxs("div",{className:"flex space-x-4 mt-6",children:[e.jsx("button",{className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-4 rounded-xl font-bold text-lg hover:shadow-xl transition-all",children:"Book Now"}),e.jsx("button",{className:"px-6 py-4 border-2 border-gray-300 rounded-xl hover:border-purple-600 transition-all",children:e.jsx(ut,{className:"w-6 h-6 text-gray-600"})}),e.jsx("button",{className:"px-6 py-4 border-2 border-gray-300 rounded-xl hover:border-purple-600 transition-all",children:e.jsx(Jo,{className:"w-6 h-6 text-gray-600"})})]})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-purple-900 to-pink-900 text-white py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[e.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Are You an Event Organizer?"}),e.jsx("p",{className:"text-xl text-white/90 mb-8",children:"Join TravelBuddy and reach millions of travelers worldwide"}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx("button",{onClick:()=>window.location.href="/event-organizer-registration",className:"bg-white text-purple-900 px-8 py-4 rounded-xl font-bold text-lg hover:shadow-2xl transition-all",children:"Register as Organizer"}),e.jsx("button",{className:"border-2 border-white text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-white/10 transition-all",children:"Learn More"})]})]})})]})},GS=()=>e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 text-white py-20",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[e.jsx("h1",{className:"text-5xl font-bold mb-6",children:"About TravelBuddy"}),e.jsx("p",{className:"text-xl text-white/90",children:"Your AI-powered travel companion for discovering, planning, and experiencing the world"})]})}),e.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-16",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-12 mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6 text-center",children:"Our Mission"}),e.jsx("p",{className:"text-lg text-gray-700 leading-relaxed text-center max-w-3xl mx-auto",children:"We believe travel should be accessible, personalized, and stress-free. TravelBuddy combines cutting-edge AI technology with real-world travel data to help you plan unforgettable journeys tailored to your preferences, budget, and style."})]}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8 mb-16",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center hover:shadow-2xl transition-shadow",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Lt,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Global Coverage"}),e.jsx("p",{className:"text-gray-600",children:"Discover destinations worldwide with local insights"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center hover:shadow-2xl transition-shadow",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Cs,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"AI-Powered"}),e.jsx("p",{className:"text-gray-600",children:"Smart recommendations based on your preferences"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center hover:shadow-2xl transition-shadow",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(it,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Community"}),e.jsx("p",{className:"text-gray-600",children:"Connect with travelers and share experiences"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center hover:shadow-2xl transition-shadow",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-pink-500 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ut,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Personalized"}),e.jsx("p",{className:"text-gray-600",children:"Trips tailored to your style and budget"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Our Story"}),e.jsxs("div",{className:"space-y-4 text-gray-700 leading-relaxed",children:[e.jsx("p",{children:"TravelBuddy was born from a simple idea: travel planning shouldn't be overwhelming. Our founders, passionate travelers themselves, experienced firsthand the challenges of researching destinations, finding hidden gems, and creating the perfect itinerary."}),e.jsx("p",{children:"By combining artificial intelligence with real traveler insights, we've created a platform that makes trip planning intuitive, efficient, and enjoyable. Whether you're a solo backpacker, a family on vacation, or a luxury traveler, TravelBuddy adapts to your needs."}),e.jsx("p",{children:"Today, we're proud to serve thousands of travelers worldwide, helping them discover new places, save time and money, and create memories that last a lifetime."})]})]})]})]}),YS=()=>{const[l,r]=j.useState({name:"",email:"",subject:"",message:""}),[n,o]=j.useState(!1),c=m=>{m.preventDefault(),console.log("Contact form submitted:",l),o(!0),setTimeout(()=>{o(!1),r({name:"",email:"",subject:"",message:""})},3e3)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 text-white py-20",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[e.jsx("h1",{className:"text-5xl font-bold mb-6",children:"Contact Us"}),e.jsx("p",{className:"text-xl text-white/90",children:"Have questions? We'd love to hear from you. Send us a message and we'll respond as soon as possible."})]})}),e.jsx("div",{className:"max-w-6xl mx-auto px-6 py-16",children:e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx(ae,{className:"bg-white shadow-xl border-0",children:e.jsx(re,{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(As,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Email"}),e.jsx("p",{className:"text-gray-600",children:"support@travelbuddy.com"}),e.jsx("p",{className:"text-gray-600",children:"info@travelbuddy.com"})]})]})})}),e.jsx(ae,{className:"bg-white shadow-xl border-0",children:e.jsx(re,{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(Es,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Phone"}),e.jsx("p",{className:"text-gray-600",children:"+1 (555) 123-4567"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Mon-Fri 9am-6pm EST"})]})]})})}),e.jsx(ae,{className:"bg-white shadow-xl border-0",children:e.jsx(re,{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(pe,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Office"}),e.jsx("p",{className:"text-gray-600",children:"123 Travel Street"}),e.jsx("p",{className:"text-gray-600",children:"New York, NY 10001"})]})]})})})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsx(ae,{className:"bg-white shadow-xl border-0",children:e.jsxs(re,{className:"p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Send us a Message"}),n?e.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(M0,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-green-900 mb-2",children:"Message Sent!"}),e.jsx("p",{className:"text-green-700",children:"Thank you for contacting us. We'll get back to you soon."})]}):e.jsxs("form",{onSubmit:c,className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Name"}),e.jsx("input",{type:"text",required:!0,value:l.name,onChange:m=>r({...l,name:m.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Your name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",required:!0,value:l.email,onChange:m=>r({...l,email:m.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"your@email.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Subject"}),e.jsx("input",{type:"text",required:!0,value:l.subject,onChange:m=>r({...l,subject:m.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"How can we help?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Message"}),e.jsx("textarea",{required:!0,value:l.message,onChange:m=>r({...l,message:m.target.value}),rows:6,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",placeholder:"Tell us more about your inquiry..."})]}),e.jsxs(I,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white py-4 text-lg font-semibold",children:[e.jsx(M0,{className:"w-5 h-5 mr-2"}),"Send Message"]})]})]})})})]})})]})},KS=()=>{const{currentPage:l}=db(),{user:r,isLoading:n,logout:o}=wt(),c=Rs();if(n)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-600"})});if(r&&(c.pathname==="/login"||c.pathname==="/register"))return e.jsx(Pu,{to:"/",replace:!0});if(!r&&!["/login","/register","/role-selection","/"].includes(c.pathname))return e.jsx(Pu,{to:"/",replace:!0});const h=()=>{if(c.pathname.startsWith("/places/"))return e.jsx(Db,{});if(c.pathname.startsWith("/trips/")&&c.pathname!=="/trips")return e.jsx(Rb,{});switch(c.pathname){case"/":case"/home":return e.jsx(cS,{});case"/discovery":return e.jsx(V0,{});case"/trips":return e.jsx(SS,{});case"/services":case"/agents":return e.jsx(Mb,{});case"/transport":return e.jsx(Lb,{});case"/deals":return e.jsx(US,{});case"/deals/create":return e.jsx(IS,{});case"/community":return e.jsx(qS,{});case"/events":return e.jsx(FS,{});case"/about":return e.jsx(GS,{});case"/contact":return e.jsx(YS,{});case"/profile":return e.jsx(hS,{});case"/preferences":return e.jsx(RS,{});case"/notifications":return e.jsx(MS,{});case"/settings":return e.jsx(LS,{});default:return e.jsx(V0,{})}};return c.pathname.startsWith("/places/")||c.pathname.startsWith("/trips/")&&c.pathname!=="/trips"?e.jsx("div",{className:"min-h-screen bg-gray-50",children:h()}):e.jsxs("div",{className:"min-h-screen",children:[e.jsx(Q5,{}),e.jsx("main",{className:"pt-16 lg:pt-20",children:h()}),e.jsx(X5,{})]})},JS=()=>{const[l,r]=j.useState(!0),[n,o]=j.useState(""),[c,m]=j.useState(""),[h,x]=j.useState(""),[f,p]=j.useState(!1),[y,b]=j.useState(!1),[v,k]=j.useState(""),{login:S,register:C,loginDemo:w,user:T,isLoading:O}=wt(),R=Nt();j.useEffect(()=>{console.log(" LoginPage: User state changed",{hasUser:!!T,userId:T?.id,email:T?.email,authLoading:O}),T?(console.log(" LoginPage: User authenticated, navigating to home"),R("/")):console.log(" LoginPage: No user, staying on login page")},[T,R,O]);const W=async B=>{B.preventDefault(),b(!0),k("");try{l?await S(n,c):await C(h,n,c),R("/")}catch(X){k(X.message||"Authentication failed")}finally{b(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"max-w-md w-full",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(rr,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:l?"Welcome Back":"Create Account"}),e.jsx("p",{className:"text-gray-600 mt-2",children:l?"Sign in to your account":"Join TravelBuddy today"})]}),v&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:v}),e.jsxs("form",{onSubmit:W,className:"space-y-6",children:[!l&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx(rr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",value:h,onChange:B=>x(B.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your username",autoComplete:"username",required:!l})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(As,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"email",value:n,onChange:B=>o(B.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email",autoComplete:"email",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ko,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:f?"text":"password",value:c,onChange:B=>m(B.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password",autoComplete:"current-password",required:!0}),e.jsx("button",{type:"button",onClick:()=>p(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:f?e.jsx(fb,{className:"w-5 h-5"}):e.jsx(bs,{className:"w-5 h-5"})})]})]}),e.jsx(I,{type:"submit",disabled:y,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white py-3 rounded-lg font-medium",children:y?"Please wait...":l?"Sign In":"Create Account"})]}),e.jsxs("div",{className:"my-6 flex items-center",children:[e.jsx("div",{className:"flex-1 border-t border-gray-300"}),e.jsx("span",{className:"px-4 text-sm text-gray-500",children:"or"}),e.jsx("div",{className:"flex-1 border-t border-gray-300"})]}),e.jsx(I,{onClick:async()=>{b(!0);try{await w(),R("/")}catch(B){k(B.message)}finally{b(!1)}},disabled:y,className:"w-full py-3 mb-3 bg-orange-600 hover:bg-orange-700 text-white",children:" Demo Admin Login"}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600",children:[l?"Don't have an account?":"Already have an account?",e.jsx("button",{type:"button",onClick:()=>r(!l),className:"ml-2 text-blue-600 hover:text-blue-700 font-medium",children:l?"Sign up":"Sign in"})]})})]})})})},QS=()=>{const[l,r]=j.useState({username:"",email:"",password:"",confirmPassword:""}),[n,o]=j.useState(!1),[c,m]=j.useState(!1),[h,x]=j.useState(""),{register:f,loginWithGoogle:p}=wt(),y=Nt(),b=async v=>{if(v.preventDefault(),m(!0),x(""),l.password!==l.confirmPassword){x("Passwords do not match"),m(!1);return}try{await f(l.username,l.email,l.password),y("/discovery")}catch(k){x(k.message||"Registration failed. Please try again.")}finally{m(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsxs(Te,{to:"/",className:"inline-flex items-center space-x-2",children:[e.jsx(pe,{className:"h-10 w-10 text-primary-600"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"TravelBuddy"})]})}),e.jsxs(ae,{children:[e.jsxs(je,{className:"text-center",children:[e.jsx(we,{className:"text-2xl",children:"Create Account"}),e.jsx(eS,{children:"Join TravelBuddy and start your adventure"})]}),e.jsxs(re,{children:[e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[h&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md text-sm",children:h}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx(rr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"username",type:"text",value:l.username,onChange:v=>r({...l,username:v.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Choose a username",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(As,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"email",type:"email",value:l.email,onChange:v=>r({...l,email:v.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your email",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ko,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"password",type:n?"text":"password",value:l.password,onChange:v=>r({...l,password:v.target.value}),className:"w-full pl-10 pr-12 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Create a password",required:!0}),e.jsx("button",{type:"button",onClick:()=>o(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?e.jsx(fb,{className:"h-5 w-5"}):e.jsx(bs,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ko,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{id:"confirmPassword",type:"password",value:l.confirmPassword,onChange:v=>r({...l,confirmPassword:v.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Confirm your password",required:!0})]})]}),e.jsx(I,{type:"submit",className:"w-full",disabled:c,children:c?"Creating Account...":"Create Account"})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]})}),e.jsx("div",{className:"mt-6",children:e.jsxs(I,{type:"button",variant:"outline",className:"w-full bg-gray-100 text-gray-400 cursor-not-allowed",disabled:!0,children:[e.jsx("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"#9CA3AF",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"})}),"Google Sign-In (Setup Required)"]})}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",e.jsx(Te,{to:"/login",className:"text-primary-600 hover:text-primary-500 font-medium",children:"Sign in"})]})})]})]})]})})};function J0(){const[l]=j.useState({totalUsers:1234,activeUsers:856,totalTrips:567,totalDeals:89,totalPosts:234,pendingReports:12,revenue:15678,newUsersToday:23}),[r]=j.useState(!1);return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard Overview"}),e.jsx("p",{className:"text-gray-600",children:"Welcome back, Admin"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Users"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.totalUsers})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Active Users"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.activeUsers})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Trips"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.totalTrips})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Pending Reports"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:l.pendingReports})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"New users today"}),e.jsx("span",{className:"font-medium",children:l.newUsersToday})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total posts"}),e.jsx("span",{className:"font-medium",children:l.totalPosts})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total deals"}),e.jsx("span",{className:"font-medium",children:l.totalDeals})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"System Health"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Database"}),e.jsx("span",{className:"text-green-600 font-medium",children:"Connected"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"API Status"}),e.jsx("span",{className:"text-green-600 font-medium",children:"Operational"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Last Updated"}),e.jsx("span",{className:"font-medium",children:new Date().toLocaleTimeString()})]})]})]})]})]})}function Ob(){const[l,r]=j.useState([]),[n,o]=j.useState(!0),[c,m]=j.useState(""),[h,x]=j.useState("all");j.useEffect(()=>{f()},[]);const f=async()=>{try{const v=await fetch("/api/users");if(v.ok){const k=await v.json();r(k)}}catch(v){console.error("Failed to fetch users:",v)}finally{o(!1)}},p=async v=>{if(confirm("Are you sure you want to delete this user?"))try{await fetch(`/api/users/${v}`,{method:"DELETE"}),r(l.filter(k=>k._id!==v))}catch(k){console.error("Failed to delete user:",k)}},y=l.filter(v=>{const k=v.username.toLowerCase().includes(c.toLowerCase())||v.email.toLowerCase().includes(c.toLowerCase()),S=h==="all"||v.tier===h;return k&&S}),b=v=>{switch(v){case"pro":return"bg-amber-500";case"premium":return"bg-purple-500";case"basic":return"bg-blue-500";default:return"bg-gray-500"}};return n?e.jsx("div",{className:"text-center py-8",children:"Loading users..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold",children:"User Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage user accounts and permissions"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(ae,{children:[e.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(we,{className:"text-sm font-medium",children:"Total Users"}),e.jsx(it,{size:16})]}),e.jsx(re,{children:e.jsx("div",{className:"text-2xl font-bold",children:l.length})})]}),e.jsxs(ae,{children:[e.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(we,{className:"text-sm font-medium",children:"Active Subscriptions"}),e.jsx(gs,{size:16})]}),e.jsx(re,{children:e.jsx("div",{className:"text-2xl font-bold",children:l.filter(v=>v.subscriptionStatus==="active").length})})]}),e.jsxs(ae,{children:[e.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(we,{className:"text-sm font-medium",children:"Trial Users"}),e.jsx(it,{size:16})]}),e.jsx(re,{children:e.jsx("div",{className:"text-2xl font-bold",children:l.filter(v=>v.subscriptionStatus==="trial").length})})]}),e.jsxs(ae,{children:[e.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(we,{className:"text-sm font-medium",children:"Admins"}),e.jsx(gs,{size:16})]}),e.jsx(re,{children:e.jsx("div",{className:"text-2xl font-bold",children:l.filter(v=>v.isAdmin).length})})]})]}),e.jsxs(ae,{children:[e.jsx(je,{children:e.jsx(we,{children:"User Directory"})}),e.jsxs(re,{children:[e.jsxs("div",{className:"flex gap-4 mb-6",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ot,{size:16,className:"absolute left-3 top-3 text-gray-400"}),e.jsx("input",{placeholder:"Search users...",value:c,onChange:v=>m(v.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("select",{value:h,onChange:v=>x(v.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Tiers"}),e.jsx("option",{value:"free",children:"Free"}),e.jsx("option",{value:"basic",children:"Basic"}),e.jsx("option",{value:"premium",children:"Premium"}),e.jsx("option",{value:"pro",children:"Pro"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4",children:"User"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Tier"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Role"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Joined"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),e.jsx("tbody",{children:y.map(v=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium flex items-center gap-2",children:[v.username,v.isAdmin&&e.jsx(gs,{size:14,className:"text-amber-500"})]}),e.jsx("div",{className:"text-sm text-gray-600",children:v.email})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx(De,{className:`${b(v.tier)} text-white`,children:v.tier})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx(De,{variant:"outline",children:v.subscriptionStatus||"none"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx(De,{variant:"secondary",children:v.role||"regular"})}),e.jsx("td",{className:"py-3 px-4",children:new Date(v.createdAt).toLocaleDateString()}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{variant:"outline",size:"sm",children:e.jsx(bs,{size:14})}),e.jsx(I,{variant:"outline",size:"sm",onClick:()=>p(v._id),className:"text-red-600 hover:text-red-700",children:e.jsx(Em,{size:14})})]})})]},v._id))})]})})]})]})]})}function zb(){const[l,r]=j.useState([]),[n,o]=j.useState(!0),[c,m]=j.useState({totalPosts:0,flaggedPosts:0,pendingReports:0,rejectedPosts:0});j.useEffect(()=>{h()},[]);const h=async()=>{try{const y=await fetch("/api/posts");if(y.ok){const b=await y.json(),v=Array.isArray(b)?b:b.posts||[];r(v),m({totalPosts:v.length,flaggedPosts:v.filter(k=>k.requiresReview).length,pendingReports:0,rejectedPosts:v.filter(k=>k.moderationStatus==="rejected").length})}}catch(y){console.error("Failed to fetch posts:",y)}finally{o(!1)}},x=async(y,b)=>{try{await fetch(`/api/admin/moderate/${y}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:b})}),r(l.map(v=>v._id===y?{...v,moderationStatus:b==="approve"?"approved":b==="reject"?"rejected":"pending",requiresReview:b==="flag"}:v))}catch(v){console.error("Failed to moderate post:",v)}},f=async y=>{if(confirm("Are you sure you want to delete this post?"))try{await fetch(`/api/posts/${y}`,{method:"DELETE"}),r(l.filter(b=>b._id!==y))}catch(b){console.error("Failed to delete post:",b)}},p=y=>{switch(y){case"approved":return"bg-green-500";case"rejected":return"bg-red-500";case"pending":return"bg-yellow-500";default:return"bg-gray-500"}};return n?e.jsx("div",{className:"text-center py-8",children:"Loading moderation data..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold",children:"Content Moderation"}),e.jsx("p",{className:"text-gray-600",children:"Review and moderate community content"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(ae,{children:[e.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(we,{className:"text-sm font-medium",children:"Total Posts"}),e.jsx(Bs,{size:16})]}),e.jsx(re,{children:e.jsx("div",{className:"text-2xl font-bold",children:c.totalPosts})})]}),e.jsxs(ae,{children:[e.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(we,{className:"text-sm font-medium",children:"Flagged Posts"}),e.jsx(pb,{size:16})]}),e.jsx(re,{children:e.jsx("div",{className:"text-2xl font-bold",children:c.flaggedPosts})})]}),e.jsxs(ae,{children:[e.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(we,{className:"text-sm font-medium",children:"Pending Reports"}),e.jsx(bs,{size:16})]}),e.jsx(re,{children:e.jsx("div",{className:"text-2xl font-bold",children:c.pendingReports})})]}),e.jsxs(ae,{children:[e.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(we,{className:"text-sm font-medium",children:"Rejected Posts"}),e.jsx(T0,{size:16})]}),e.jsx(re,{children:e.jsx("div",{className:"text-2xl font-bold",children:c.rejectedPosts})})]})]}),e.jsxs(ae,{children:[e.jsx(je,{children:e.jsx(we,{children:"Recent Posts"})}),e.jsx(re,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4",children:"Author"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Content"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Engagement"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Date"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),e.jsx("tbody",{children:l.slice(0,20).map(y=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"font-medium",children:y.author?.name||"Anonymous"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"max-w-xs",children:[e.jsx("p",{className:"truncate",children:y.content?.text}),y.content?.images&&y.content.images.length>0&&e.jsxs(De,{variant:"secondary",className:"mt-1",children:[y.content.images.length," image(s)"]})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ut,{size:14}),y.engagement?.likes||0]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Bs,{size:14}),y.engagement?.comments||0]})]})}),e.jsxs("td",{className:"py-3 px-4",children:[e.jsx(De,{className:`${p(y.moderationStatus)} text-white`,children:y.moderationStatus||"approved"}),y.requiresReview&&e.jsx(De,{variant:"destructive",className:"ml-2",children:"Needs Review"})]}),e.jsx("td",{className:"py-3 px-4",children:new Date(y.createdAt).toLocaleDateString()}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{variant:"outline",size:"sm",onClick:()=>x(y._id,"approve"),children:e.jsx(at,{size:14,className:"text-green-600"})}),e.jsx(I,{variant:"outline",size:"sm",onClick:()=>x(y._id,"reject"),children:e.jsx(T0,{size:14,className:"text-red-600"})}),e.jsx(I,{variant:"outline",size:"sm",onClick:()=>f(y._id),className:"text-red-600 hover:text-red-700",children:e.jsx(Em,{size:14})})]})})]},y._id))})]})})})]})]})}function Ub(){const[l,r]=j.useState([]),[n,o]=j.useState(!0);j.useEffect(()=>{c()},[]);const c=async()=>{try{const p=await fetch("https://travelbuddy-b2c6hgbbgeh4esdh.eastus2-01.azurewebsites.net/api/travel-agents/admin/applications");if(p.ok){const y=await p.json();r(y.applications)}}catch(p){console.error("Failed to fetch applications:",p)}finally{o(!1)}},m=async p=>{try{(await fetch(`https://travelbuddy-b2c6hgbbgeh4esdh.eastus2-01.azurewebsites.net/api/travel-agents/admin/approve/${p}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"approve"})})).ok&&r(b=>b.map(v=>v.id===p?{...v,status:"approved"}:v))}catch(y){console.error("Approval failed:",y)}},h=async p=>{try{(await fetch(`https://travelbuddy-b2c6hgbbgeh4esdh.eastus2-01.azurewebsites.net/api/travel-agents/admin/approve/${p}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"reject"})})).ok&&r(b=>b.map(v=>v.id===p?{...v,status:"rejected"}:v))}catch(y){console.error("Rejection failed:",y)}},x=p=>{switch(p){case"pending":return e.jsx(De,{variant:"outline",className:"text-yellow-600 border-yellow-300",children:"Pending"});case"approved":return e.jsx(De,{className:"bg-green-100 text-green-800",children:"Approved"});case"rejected":return e.jsx(De,{variant:"destructive",children:"Rejected"});default:return e.jsx(De,{variant:"outline",children:"Unknown"})}},f=l.filter(p=>p.status==="pending").length;return n?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2",children:"Loading applications..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Travel Agent Registration Approval"}),e.jsx("p",{className:"text-gray-600",children:"Review and approve local travel agent applications"})]}),e.jsxs(De,{className:"bg-blue-100 text-blue-800",children:[f," Pending Applications"]})]}),e.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agency Details"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Experience & Specialties"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Documents"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(p=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.agencyName}),e.jsx("div",{className:"text-sm text-gray-500",children:p.ownerName}),e.jsx("div",{className:"text-sm text-gray-500",children:p.email}),e.jsx("div",{className:"text-sm text-gray-500",children:p.phone}),e.jsx("div",{className:"text-sm text-gray-500",children:p.address})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["License: ",p.licenseNumber]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Experience: ",p.experience||p.experienceYears||"Not specified"]}),e.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:[e.jsx("div",{className:"font-medium",children:"Specialties:"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:p.specialties.map((y,b)=>e.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:y},b))})]}),e.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Applied: ",p.submittedDate||new Date(p.createdAt||"").toLocaleDateString()]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"space-y-1",children:p.documents.map((y,b)=>e.jsxs("div",{className:"text-sm text-blue-600 hover:text-blue-800 cursor-pointer",children:[" ",y]},b))})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:x(p.status)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[p.status==="pending"&&e.jsxs("div",{className:"space-x-2",children:[e.jsx("button",{onClick:()=>m(p.id),className:"text-green-600 hover:text-green-900 bg-green-50 hover:bg-green-100 px-3 py-1 rounded-md transition-colors",children:" Approve"}),e.jsx("button",{onClick:()=>h(p.id),className:"text-red-600 hover:text-red-900 bg-red-50 hover:bg-red-100 px-3 py-1 rounded-md transition-colors",children:" Reject"})]}),p.status==="approved"&&e.jsx("span",{className:"text-green-600 font-medium",children:" Approved"}),p.status==="rejected"&&e.jsx("span",{className:"text-red-600 font-medium",children:" Rejected"})]})]},p.id))})]})})}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Agent Registration Statistics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:l.filter(p=>p.status==="pending").length}),e.jsx("div",{className:"text-sm text-yellow-700",children:"Pending Review"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.filter(p=>p.status==="approved").length}),e.jsx("div",{className:"text-sm text-green-700",children:"Approved Agents"})]}),e.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:l.filter(p=>p.status==="rejected").length}),e.jsx("div",{className:"text-sm text-red-700",children:"Rejected"})]})]})]})]})}const XS=()=>{const{user:l}=wt(),[r,n]=j.useState("dashboard");if(!(l?.role==="admin"||l?.isAdmin))return e.jsx(Pu,{to:"/login",replace:!0});const c=()=>{switch(r){case"dashboard":return e.jsx(J0,{});case"users":return e.jsx(Ob,{});case"content":return e.jsx(zb,{});case"agents":return e.jsx(Ub,{});default:return e.jsx(J0,{})}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[e.jsxs("aside",{className:"w-64 bg-white shadow-sm border-r",children:[e.jsxs("div",{className:"p-6 border-b",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Admin Panel"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Travel Buddy"})]}),e.jsx("nav",{className:"p-4 space-y-2",children:[{id:"dashboard",label:"Dashboard"},{id:"users",label:"User Management"},{id:"content",label:"Content Moderation"},{id:"agents",label:"Agent Approvals"}].map(m=>e.jsx("button",{onClick:()=>n(m.id),className:`w-full text-left px-4 py-2 rounded-md transition-colors ${r===m.id?"bg-blue-100 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-100"}`,children:m.label},m.id))})]}),e.jsx("main",{className:"flex-1 p-8",children:c()})]})};function Q0(){const[l,r]=j.useState({totalUsers:0,activeUsers:0,totalTrips:0,totalDeals:0,totalPosts:0,pendingReports:0,revenue:0,newUsersToday:0,activeDealsToday:0,subscriptions:{free:0,basic:0,premium:0,pro:0}}),[n,o]=j.useState(!0);j.useEffect(()=>{r({totalUsers:1234,activeUsers:856,totalTrips:567,totalDeals:89,totalPosts:234,pendingReports:12,revenue:15678,newUsersToday:23,activeDealsToday:8,subscriptions:{free:970,basic:222,premium:38,pro:4}}),o(!1)},[]);const c=[{title:"Total Users",value:l?.totalUsers?.toLocaleString()||"0",change:"+12.5%",trend:"up",icon:it,color:"text-blue-600",bgColor:"bg-blue-50"},{title:"Total Trips",value:l?.totalTrips?.toLocaleString()||"0",change:"+18.3%",trend:"up",icon:pe,color:"text-purple-600",bgColor:"bg-purple-50"},{title:"Total Deals",value:l?.totalDeals?.toLocaleString()||"0",change:"+24.1%",trend:"up",icon:Rt,color:"text-green-600",bgColor:"bg-green-50"},{title:"Total Posts",value:l?.totalPosts?.toLocaleString()||"0",change:"+31.7%",trend:"up",icon:Bs,color:"text-orange-600",bgColor:"bg-orange-50"}];return n?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Dashboard Overview"}),e.jsx("p",{className:"text-gray-600",children:"Loading dashboard data..."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(m=>e.jsxs(ae,{className:"animate-pulse",children:[e.jsx(je,{className:"space-y-0 pb-2",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})}),e.jsxs(re,{children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},m))})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Dashboard Overview"}),e.jsx("p",{className:"text-gray-600",children:"Welcome back! Here's what's happening with Travel Buddy today."})]}),e.jsx(De,{className:"text-green-600",children:" Live Data Connected"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:c.map(m=>{const h=m.icon,x=m.trend==="up"?Kt:V3;return e.jsxs(ae,{className:"relative overflow-hidden",children:[e.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(we,{className:"text-sm font-medium text-gray-600",children:m.title}),e.jsx("div",{className:`p-2 rounded-lg ${m.bgColor}`,children:e.jsx(h,{size:20,className:m.color})})]}),e.jsxs(re,{children:[e.jsx("div",{className:"text-2xl font-bold",children:m.value}),e.jsxs("div",{className:`flex items-center text-sm mt-1 ${m.trend==="up"?"text-green-600":"text-red-600"}`,children:[e.jsx(x,{size:16,className:"mr-1"}),m.change]})]})]},m.title)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(ae,{children:[e.jsx(je,{children:e.jsxs(we,{className:"flex items-center gap-2",children:[e.jsx(gs,{size:20}),"Active Subscriptions by Tier"]})}),e.jsxs(re,{className:"space-y-4",children:[e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-400"}),e.jsx("span",{className:"text-sm",children:"Free"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold",children:l?.subscriptions?.free?.toLocaleString()||"0"}),e.jsx("div",{className:"text-xs text-gray-600",children:"78.5%"})]})]})}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),e.jsx("span",{className:"text-sm",children:"Basic"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold",children:l?.subscriptions?.basic?.toLocaleString()||"0"}),e.jsx("div",{className:"text-xs text-gray-600",children:"18.0%"})]})]})}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500"}),e.jsx("span",{className:"text-sm",children:"Premium"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold",children:l?.subscriptions?.premium?.toLocaleString()||"0"}),e.jsx("div",{className:"text-xs text-gray-600",children:"3.1%"})]})]})}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500"}),e.jsx("span",{className:"text-sm",children:"Pro"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold",children:l?.subscriptions?.pro?.toLocaleString()||"0"}),e.jsx("div",{className:"text-xs text-gray-600",children:"0.4%"})]})]})})]})]}),e.jsxs(ae,{children:[e.jsx(je,{children:e.jsx(we,{children:"Quick Actions"})}),e.jsxs(re,{className:"grid grid-cols-2 gap-3",children:[e.jsxs(I,{className:"h-20 flex-col gap-2",children:[e.jsx(it,{size:24}),e.jsx("span",{className:"text-sm",children:"Manage Users"})]}),e.jsxs(I,{variant:"outline",className:"h-20 flex-col gap-2",children:[e.jsx(_m,{size:24}),e.jsx("span",{className:"text-sm",children:"Review Reports"})]}),e.jsxs(I,{variant:"outline",className:"h-20 flex-col gap-2",children:[e.jsx(Rt,{size:24}),e.jsx("span",{className:"text-sm",children:"View Revenue"})]}),e.jsxs(I,{variant:"outline",className:"h-20 flex-col gap-2",children:[e.jsx(pe,{size:24}),e.jsx("span",{className:"text-sm",children:"Add Places"})]})]})]})]})]})}function ZS(){const[l,r]=j.useState({usage:{totals:{openai:{count:0,success:0,error:0},maps:{count:0,success:0,error:0},places:{count:0,success:0,error:0}},events:[]},subscriptions:{totalUsers:0,tierDistribution:{},statusDistribution:{},conversionRate:0},costs:{totals:{},projections:{dailyUSD:0,monthlyUSD:0}},health:{mongo:{connected:!1}}}),[n,o]=j.useState(!0);j.useEffect(()=>{c();const x=setInterval(c,6e4);return()=>clearInterval(x)},[]);const c=async()=>{try{const[x,f,p,y]=await Promise.all([fetch("/api/usage").then(b=>b.ok?b.json():{totals:{openai:{count:0,success:0,error:0},maps:{count:0,success:0,error:0},places:{count:0,success:0,error:0}},events:[]}).catch(()=>({totals:{openai:{count:0,success:0,error:0},maps:{count:0,success:0,error:0},places:{count:0,success:0,error:0}},events:[]})),fetch("/api/subscriptions/analytics").then(b=>b.ok?b.json():{totalUsers:0,tierDistribution:{},statusDistribution:{},conversionRate:0}).catch(()=>({totalUsers:0,tierDistribution:{},statusDistribution:{},conversionRate:0})),fetch("/api/usage/cost").then(b=>b.ok?b.json():{totals:{},projections:{dailyUSD:0,monthlyUSD:0}}).catch(()=>({totals:{},projections:{dailyUSD:0,monthlyUSD:0}})),fetch("/api/health/db").then(b=>b.ok?b.json():{mongo:{connected:!1}}).catch(()=>({mongo:{connected:!1}}))]);r({usage:x,subscriptions:f,costs:p,health:y})}catch(x){console.error("Failed to fetch analytics:",x)}finally{o(!1)}},m=()=>{const{openai:x,maps:f,places:p}=l.usage?.totals||{openai:{count:0},maps:{count:0},places:{count:0}};return(x?.count||0)+(f?.count||0)+(p?.count||0)},h=()=>{const{openai:x,maps:f,places:p}=l.usage?.totals||{openai:{success:0},maps:{success:0},places:{success:0}},y=m(),b=(x?.success||0)+(f?.success||0)+(p?.success||0);return y>0?Math.round(b/y*100):0};return n?e.jsx("div",{className:"text-center py-8",children:"Loading analytics..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold",children:"Analytics Hub"}),e.jsx("p",{className:"text-gray-600",children:"Real-time insights and performance metrics"})]}),e.jsx(De,{variant:l.health?.mongo?.connected?"default":"destructive",children:l.health?.mongo?.connected?"Database Connected":"Database Offline"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(ae,{children:[e.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(we,{className:"text-sm font-medium",children:"Total API Calls"}),e.jsx(x6,{size:16})]}),e.jsxs(re,{children:[e.jsx("div",{className:"text-2xl font-bold",children:m().toLocaleString()}),e.jsxs("p",{className:"text-xs text-gray-600",children:["Success rate: ",h(),"%"]})]})]}),e.jsxs(ae,{children:[e.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(we,{className:"text-sm font-medium",children:"OpenAI Calls"}),e.jsx(Lt,{size:16})]}),e.jsxs(re,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(l.usage?.totals?.openai?.count||0).toLocaleString()}),e.jsxs("p",{className:"text-xs text-gray-600",children:[l.usage?.totals?.openai?.success||0," success, ",l.usage?.totals?.openai?.error||0," errors"]})]})]}),e.jsxs(ae,{children:[e.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(we,{className:"text-sm font-medium",children:"Maps API Calls"}),e.jsx(Lt,{size:16})]}),e.jsxs(re,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(l.usage?.totals?.maps?.count||0).toLocaleString()}),e.jsxs("p",{className:"text-xs text-gray-600",children:[l.usage?.totals?.maps?.success||0," success, ",l.usage?.totals?.maps?.error||0," errors"]})]})]}),e.jsxs(ae,{children:[e.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(we,{className:"text-sm font-medium",children:"Places API Calls"}),e.jsx(Lt,{size:16})]}),e.jsxs(re,{children:[e.jsx("div",{className:"text-2xl font-bold",children:(l.usage?.totals?.places?.count||0).toLocaleString()}),e.jsxs("p",{className:"text-xs text-gray-600",children:[l.usage?.totals?.places?.success||0," success, ",l.usage?.totals?.places?.error||0," errors"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(ae,{children:[e.jsx(je,{children:e.jsxs(we,{className:"flex items-center gap-2",children:[e.jsx(Rt,{size:20}),"API Cost Projections"]})}),e.jsxs(re,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Daily Projected Cost"}),e.jsxs("span",{className:"font-semibold",children:["$",(l.costs?.projections?.dailyUSD||0).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Monthly Projected Cost"}),e.jsxs("span",{className:"font-semibold",children:["$",(l.costs?.projections?.monthlyUSD||0).toFixed(2)]})]}),e.jsxs("div",{className:"pt-4",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Cost Breakdown by API"}),Object.entries(l.costs?.totals||{}).map(([x,f])=>e.jsxs("div",{className:"flex justify-between items-center py-1",children:[e.jsx("span",{className:"text-sm capitalize",children:x}),e.jsxs("span",{className:"text-sm font-medium",children:["$",f.costUSD?.toFixed(4)||"0.0000"]})]},x))]})]})]}),e.jsxs(ae,{children:[e.jsx(je,{children:e.jsxs(we,{className:"flex items-center gap-2",children:[e.jsx(it,{size:20}),"Subscription Analytics"]})}),e.jsxs(re,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Users"}),e.jsx("span",{className:"font-semibold",children:l.subscriptions?.totalUsers||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Conversion Rate"}),e.jsxs("span",{className:"font-semibold",children:[l.subscriptions?.conversionRate||0,"%"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Subscription Tiers"}),Object.entries(l.subscriptions?.tierDistribution||{}).map(([x,f])=>{const p=(l.subscriptions?.totalUsers||0)>0?f/(l.subscriptions?.totalUsers||1)*100:0;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm capitalize",children:x}),e.jsxs("span",{className:"text-sm font-medium",children:[f," (",p.toFixed(1),"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${p}%`}})})]},x)})]})]})]})]}),e.jsxs(ae,{children:[e.jsx(je,{children:e.jsxs(we,{className:"flex items-center gap-2",children:[e.jsx(nt,{size:20}),"Recent API Activity"]})}),e.jsx(re,{children:e.jsxs("div",{className:"space-y-3",children:[(l.usage?.events||[]).slice(0,10).map((x,f)=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${x.status==="success"?"bg-green-500":"bg-red-500"}`}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium capitalize",children:[x.api," API"]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[x.action||"API call","  ",x.durationMs,"ms"]})]})]}),e.jsx(De,{variant:x.status==="success"?"default":"destructive",children:x.status})]},f)),(l.usage?.events||[]).length===0&&e.jsx("div",{className:"text-center py-8 text-gray-600",children:"No recent API activity"})]})})]})]})}function WS(){const[l,r]=j.useState([]),[n,o]=j.useState(!0),[c,m]=j.useState(!1),[h,x]=j.useState("all"),[f,p]=j.useState({title:"",description:"",businessName:"",businessType:"restaurant",discount:"",originalPrice:"",discountedPrice:"",location:{address:""},validUntil:""});j.useEffect(()=>{y();const w=setInterval(y,5e3);return()=>clearInterval(w)},[]);const y=async()=>{try{const w=await fetch("/api/deals?isActive=true");if(w.ok){const T=await w.json();r(T)}}catch(w){console.error("Failed to fetch deals:",w)}finally{o(!1)}},b=async()=>{try{const w=await fetch("/api/deals",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...f,isActive:!0,views:0,claims:0})});if(w.ok){const T=await w.json();r([T,...l]),m(!1),p({title:"",description:"",businessName:"",businessType:"restaurant",discount:"",originalPrice:"",discountedPrice:"",location:{address:""},validUntil:""})}}catch(w){console.error("Failed to create deal:",w)}},v=async w=>{if(confirm("Are you sure you want to delete this deal?"))try{await fetch(`/api/deals/${w}`,{method:"DELETE"}),r(l.filter(T=>T._id!==w))}catch(T){console.error("Failed to delete deal:",T)}},k=async(w,T)=>{try{await fetch(`/api/deals/${w}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:T})}),r(l.map(O=>O._id===w?{...O,isActive:T}:O))}catch(O){console.error("Failed to update deal status:",O)}},S=l.filter(w=>h==="all"?!0:w.businessType===h),C=w=>{switch(w){case"restaurant":return"bg-orange-500";case"hotel":return"bg-blue-500";case"attraction":return"bg-green-500";case"shop":return"bg-purple-500";default:return"bg-gray-500"}};return n?e.jsx("div",{className:"text-center py-8",children:"Loading deals..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold",children:"Business & Deals Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage business partnerships and promotional deals"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{variant:"outline",onClick:y,children:"Refresh"}),e.jsxs(I,{onClick:()=>m(!0),children:[e.jsx(Lr,{size:16,className:"mr-2"}),"Create Deal"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(ae,{children:[e.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(we,{className:"text-sm font-medium",children:"Total Deals"}),e.jsx(mb,{size:16})]}),e.jsx(re,{children:e.jsx("div",{className:"text-2xl font-bold",children:l.length})})]}),e.jsxs(ae,{children:[e.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(we,{className:"text-sm font-medium",children:"Active Deals"}),e.jsx(Kt,{size:16})]}),e.jsx(re,{children:e.jsx("div",{className:"text-2xl font-bold",children:l.filter(w=>w.isActive).length})})]}),e.jsxs(ae,{children:[e.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(we,{className:"text-sm font-medium",children:"Total Views"}),e.jsx(bs,{size:16})]}),e.jsx(re,{children:e.jsx("div",{className:"text-2xl font-bold",children:l.reduce((w,T)=>w+(T.views||0),0)})})]}),e.jsxs(ae,{children:[e.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(we,{className:"text-sm font-medium",children:"Total Claims"}),e.jsx(Rt,{size:16})]}),e.jsx(re,{children:e.jsx("div",{className:"text-2xl font-bold",children:l.reduce((w,T)=>w+(T.claims||0),0)})})]})]}),e.jsxs(ae,{children:[e.jsx(je,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(we,{children:"Active Deals"}),e.jsxs("select",{value:h,onChange:w=>x(w.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"restaurant",children:"Restaurant"}),e.jsx("option",{value:"hotel",children:"Hotel"}),e.jsx("option",{value:"attraction",children:"Attraction"}),e.jsx("option",{value:"shop",children:"Shop"})]})]})}),e.jsx(re,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4",children:"Deal"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Business"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Type"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Discount"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Performance"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4",children:"Actions"})]})}),e.jsx("tbody",{children:S.map(w=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:w.title}),e.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-1",children:[e.jsx(pe,{size:12}),w.location?.address||"No address"]})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"font-medium",children:w.businessName})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx(De,{className:`${C(w.businessType)} text-white`,children:w.businessType})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-green-600",children:w.discount}),e.jsxs("div",{className:"text-sm text-gray-600",children:[w.originalPrice,"  ",w.discountedPrice]})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{children:[w.views||0," views"]}),e.jsxs("div",{children:[w.claims||0," claims"]})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx(De,{variant:w.isActive?"default":"secondary",children:w.isActive?"Active":"Inactive"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{variant:"outline",size:"sm",children:e.jsx(bs,{size:14})}),e.jsx(I,{variant:"outline",size:"sm",onClick:()=>k(w._id,!w.isActive),children:w.isActive?"Deactivate":"Activate"}),e.jsx(I,{variant:"outline",size:"sm",onClick:()=>v(w._id),className:"text-red-600 hover:text-red-700",children:e.jsx(Em,{size:14})})]})})]},w._id))})]})})})]}),c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create New Deal"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Deal Title"}),e.jsx("input",{value:f.title,onChange:w=>p({...f,title:w.target.value}),placeholder:"Enter deal title",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Business Name"}),e.jsx("input",{value:f.businessName,onChange:w=>p({...f,businessName:w.target.value}),placeholder:"Enter business name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),e.jsx("textarea",{value:f.description,onChange:w=>p({...f,description:w.target.value}),placeholder:"Enter deal description",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Business Type"}),e.jsxs("select",{value:f.businessType,onChange:w=>p({...f,businessType:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"restaurant",children:"Restaurant"}),e.jsx("option",{value:"hotel",children:"Hotel"}),e.jsx("option",{value:"attraction",children:"Attraction"}),e.jsx("option",{value:"shop",children:"Shop"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Original Price"}),e.jsx("input",{value:f.originalPrice,onChange:w=>p({...f,originalPrice:w.target.value}),placeholder:"$50",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Discounted Price"}),e.jsx("input",{value:f.discountedPrice,onChange:w=>p({...f,discountedPrice:w.target.value}),placeholder:"$35",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Discount"}),e.jsx("input",{value:f.discount,onChange:w=>p({...f,discount:w.target.value}),placeholder:"30% OFF",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Valid Until"}),e.jsx("input",{type:"date",value:f.validUntil,onChange:w=>p({...f,validUntil:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Address"}),e.jsx("input",{value:f.location.address,onChange:w=>p({...f,location:{address:w.target.value}}),placeholder:"Enter business address",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(I,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),e.jsx(I,{onClick:b,children:"Create Deal"})]})]})]})})]})}function eC(){const[l,r]=j.useState({database:{connected:!1,status:"unknown"},apis:{openai:!1,maps:!1,places:!1},features:{notifications:!0,analytics:!0,moderation:!0},costs:{dailyUSD:0,monthlyUSD:0}}),[n,o]=j.useState(!0),[c,m]=j.useState(!1);j.useEffect(()=>{h()},[]);const h=async()=>{try{const[p,y]=await Promise.all([fetch("/api/health/db").then(b=>b.ok?b.json():{mongo:{connected:!1}}).catch(()=>({mongo:{connected:!1}})),fetch("/api/usage/cost").then(b=>b.ok?b.json():{projections:{dailyUSD:0,monthlyUSD:0}}).catch(()=>({projections:{dailyUSD:0,monthlyUSD:0}}))]);r({database:{connected:p.mongo?.connected||!1,status:p.mongo?.connected?"connected":"disconnected"},apis:{openai:!0,maps:!0,places:!0},features:{notifications:!0,analytics:!0,moderation:!0},costs:{dailyUSD:y.projections?.dailyUSD||0,monthlyUSD:y.projections?.monthlyUSD||0}})}catch(p){console.error("Failed to fetch system config:",p)}finally{o(!1)}},x=async(p,y)=>{m(!0);try{r(b=>({...b,features:{...b.features,[p]:y}})),await new Promise(b=>setTimeout(b,500))}catch(b){console.error("Failed to update feature:",b)}finally{m(!1)}},f=async()=>{try{const p=await fetch("/api/health/db").then(y=>y.json());r(y=>({...y,database:{connected:p.mongo?.connected||!1,status:p.mongo?.connected?"connected":"disconnected"}}))}catch(p){console.error("Database test failed:",p)}};return n?e.jsx("div",{className:"text-center py-8",children:"Loading system configuration..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold",children:"System Settings"}),e.jsx("p",{className:"text-gray-600",children:"Configure system settings and monitor health"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(ae,{children:[e.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(we,{className:"text-sm font-medium",children:"Database"}),e.jsx(A0,{size:16})]}),e.jsx(re,{children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(De,{variant:l.database.connected?"default":"destructive",children:l.database.connected?"Connected":"Offline"})})})]}),e.jsxs(ae,{children:[e.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(we,{className:"text-sm font-medium",children:"API Services"}),e.jsx(Lt,{size:16})]}),e.jsxs(re,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[Object.values(l.apis).filter(Boolean).length,"/3"]}),e.jsx("p",{className:"text-xs text-gray-600",children:"Services online"})]})]}),e.jsxs(ae,{children:[e.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(we,{className:"text-sm font-medium",children:"Daily Cost"}),e.jsx(Rt,{size:16})]}),e.jsxs(re,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["$",l.costs.dailyUSD.toFixed(2)]}),e.jsx("p",{className:"text-xs text-gray-600",children:"Projected"})]})]}),e.jsxs(ae,{children:[e.jsxs(je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(we,{className:"text-sm font-medium",children:"Monthly Cost"}),e.jsx(Rt,{size:16})]}),e.jsxs(re,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["$",l.costs.monthlyUSD.toFixed(2)]}),e.jsx("p",{className:"text-xs text-gray-600",children:"Projected"})]})]})]}),e.jsxs(ae,{children:[e.jsx(je,{children:e.jsxs(we,{className:"flex items-center gap-2",children:[e.jsx(A0,{size:20}),"Database Configuration"]})}),e.jsx(re,{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"MongoDB Connection"}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",l.database.status]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(De,{variant:l.database.connected?"default":"destructive",children:l.database.connected?"Connected":"Disconnected"}),e.jsx(I,{variant:"outline",size:"sm",onClick:f,children:"Test Connection"})]})]})})]}),e.jsxs(ae,{children:[e.jsx(je,{children:e.jsxs(we,{className:"flex items-center gap-2",children:[e.jsx(e3,{size:20}),"API Configuration"]})}),e.jsx(re,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"OpenAI API"}),e.jsx("div",{className:"text-sm text-gray-600",children:"AI-powered features"})]}),e.jsx(De,{variant:l.apis.openai?"default":"secondary",children:l.apis.openai?"Active":"Inactive"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Google Maps API"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Maps and geocoding"})]}),e.jsx(De,{variant:l.apis.maps?"default":"secondary",children:l.apis.maps?"Active":"Inactive"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Google Places API"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Places and reviews"})]}),e.jsx(De,{variant:l.apis.places?"default":"secondary",children:l.apis.places?"Active":"Inactive"})]})]})})]}),e.jsxs(ae,{children:[e.jsx(je,{children:e.jsxs(we,{className:"flex items-center gap-2",children:[e.jsx(yb,{size:20}),"Feature Configuration"]})}),e.jsxs(re,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_r,{size:20}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Push Notifications"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Send notifications to users and admins"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.features.notifications,onChange:p=>x("notifications",p.target.checked),disabled:c,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Lt,{size:20}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Analytics Tracking"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Collect usage analytics and metrics"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.features.analytics,onChange:p=>x("analytics",p.target.checked),disabled:c,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ps,{size:20}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Content Moderation"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Automatic content filtering and review"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.features.moderation,onChange:p=>x("moderation",p.target.checked),disabled:c,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),e.jsxs(ae,{children:[e.jsx(je,{children:e.jsxs(we,{className:"flex items-center gap-2",children:[e.jsx(_m,{size:20}),"System Actions"]})}),e.jsx(re,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(I,{variant:"outline",onClick:()=>window.location.reload(),children:"Refresh Dashboard"}),e.jsx(I,{variant:"outline",onClick:h,children:"Reload Configuration"}),e.jsx(I,{variant:"outline",onClick:f,children:"Test All Connections"})]})})]})]})}function tC({providerId:l,onClose:r}){const[n,o]=j.useState(""),[c,m]=j.useState(null),[h,x]=j.useState(!0);j.useEffect(()=>{rs.getConfig().then(b=>o(b.apiBaseUrl))},[]),j.useEffect(()=>{l&&n&&f(l)},[l,n]);const f=async b=>{try{const v=await fetch(`${n}/api/transport-providers/admin/details/${b}`);if(v.ok){const k=await v.json();m(k)}}catch(v){console.error("Failed to fetch provider details:",v)}finally{x(!1)}},p=async()=>{if(c)try{(await fetch(`${n}/api/transport-providers/admin/approve/${c._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"approve",notes:"Approved after detailed review"})})).ok&&m(v=>v?{...v,verificationStatus:"approved"}:null)}catch(b){console.error("Approval failed:",b)}},y=async()=>{if(!c)return;const b=prompt("Reason for rejection:");if(b)try{(await fetch(`${n}/api/transport-providers/admin/approve/${c._id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"reject",notes:b})})).ok&&m(k=>k?{...k,verificationStatus:"rejected"}:null)}catch(v){console.error("Rejection failed:",v)}};return h?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2",children:"Loading provider details..."})]}):c?e.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:c.companyName}),e.jsx("p",{className:"text-gray-600",children:"Transport Provider Application Details"})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsx(De,{className:c.verificationStatus==="approved"?"bg-green-100 text-green-800":c.verificationStatus==="rejected"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800",children:c.verificationStatus.charAt(0).toUpperCase()+c.verificationStatus.slice(1)})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Company Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Company Name"}),e.jsx("p",{className:"text-gray-900",children:c.companyName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Owner Name"}),e.jsx("p",{className:"text-gray-900",children:c.ownerName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),e.jsx("p",{className:"text-gray-900",children:c.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Phone"}),e.jsx("p",{className:"text-gray-900",children:c.phone})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Address"}),e.jsx("p",{className:"text-gray-900",children:c.address})]}),c.description&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Description"}),e.jsx("p",{className:"text-gray-900",children:c.description})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Verification Documents"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"License Number"}),e.jsx("p",{className:"text-gray-900",children:c.licenseNumber})]}),c.businessRegNumber&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Business Registration"}),e.jsx("p",{className:"text-gray-900",children:c.businessRegNumber})]}),c.businessRegDoc&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Business Registration Document"}),e.jsx("p",{className:"text-blue-600",children:" Document uploaded"})]}),c.insuranceCert&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Insurance Certificate"}),e.jsx("p",{className:"text-blue-600",children:" Certificate uploaded"})]}),c.verificationPhotos&&c.verificationPhotos.length>0&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Verification Photos"}),e.jsxs("p",{className:"text-blue-600",children:[" ",c.verificationPhotos.length," photos uploaded"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Fleet Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Fleet Size"}),e.jsx("p",{className:"text-gray-900",children:c.fleetSize})]}),c.vehiclePhotos&&c.vehiclePhotos.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Vehicle Photos"}),e.jsxs("p",{className:"text-blue-600",children:[" ",c.vehiclePhotos.length," photos uploaded"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Vehicle Types & Amenities"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Vehicle Types"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:c.vehicleTypes.map((b,v)=>e.jsx(De,{variant:"outline",children:b},v))})]}),c.amenities.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Amenities"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:c.amenities.map((b,v)=>e.jsx(De,{className:"bg-blue-100 text-blue-800",children:b},v))})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Service Coverage"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Country"}),e.jsx("p",{className:"text-gray-900",children:c.country})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Coverage Type"}),e.jsx("p",{className:"text-gray-900",children:c.islandWide?"Island-wide Service":"Specific Areas"})]}),!c.islandWide&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Service Areas"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:c.serviceAreas.map((b,v)=>e.jsx(De,{variant:"outline",children:b},v))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Airport Transfers"}),e.jsx("p",{className:"text-gray-900",children:c.airportTransfers?"Yes":"No"})]}),c.airportPricing&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Airport Pricing"}),e.jsx("p",{className:"text-gray-900",children:c.airportPricing})]})]})]}),(c.pricingModel||c.basePrice)&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Pricing Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.pricingModel&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Pricing Model"}),e.jsx("p",{className:"text-gray-900",children:c.pricingModel})]}),c.basePrice&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Base Price"}),e.jsx("p",{className:"text-gray-900",children:c.basePrice})]}),c.minBookingHours&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Minimum Booking"}),e.jsxs("p",{className:"text-gray-900",children:[c.minBookingHours," hours"]})]})]})]}),c.availability&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Availability Schedule"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(c.availability).map(([b,v])=>e.jsxs("div",{className:"flex justify-between items-center p-2 border rounded",children:[e.jsx("span",{className:"font-medium capitalize",children:b}),e.jsx("span",{className:v.available?"text-green-600":"text-red-600",children:v.available?v.hours||"Available":"Closed"})]},b))})]}),(c.driverCount||c.driverCertifications.length>0||c.driverIds)&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Driver Information"}),e.jsxs("div",{className:"space-y-4",children:[c.driverCount&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Number of Drivers"}),e.jsx("p",{className:"text-gray-900",children:c.driverCount})]}),c.driverCertifications.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Driver Certifications"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:c.driverCertifications.map((b,v)=>e.jsx(De,{className:"bg-green-100 text-green-800",children:b},v))})]}),c.driverIds&&c.driverIds.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Driver ID Documents"}),e.jsxs("p",{className:"text-blue-600",children:[" ",c.driverIds.length," documents uploaded"]})]})]})]}),c.documents&&c.documents.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Additional Documents"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Uploaded Documents"}),e.jsxs("p",{className:"text-blue-600",children:[" ",c.documents.length," documents uploaded"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Application Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Application ID"}),e.jsx("p",{className:"text-gray-900 font-mono text-sm",children:c._id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Submitted Date"}),e.jsx("p",{className:"text-gray-900",children:new Date(c.createdAt).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),e.jsx("p",{className:"text-gray-900",children:c.isActive?"Active":"Inactive"})]}),c.processedAt&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Processed Date"}),e.jsx("p",{className:"text-gray-900",children:new Date(c.processedAt).toLocaleDateString()})]}),c.adminNotes&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Admin Notes"}),e.jsx("p",{className:"text-gray-900",children:c.adminNotes})]})]})]}),c.verificationStatus==="pending"&&e.jsxs("div",{className:"flex justify-center space-x-4 pt-6",children:[e.jsx("button",{onClick:p,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-medium",children:" Approve Application"}),e.jsx("button",{onClick:y,className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg font-medium",children:" Reject Application"})]})]}):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"Provider not found"})})}function sC(){const[l,r]=j.useState([]),[n,o]=j.useState(!0),[c,m]=j.useState(null);j.useEffect(()=>{h()},[]);const h=async()=>{try{const b=await fetch("https://travelbuddy-b2c6hgbbgeh4esdh.eastus2-01.azurewebsites.net/api/transport-providers/admin/applications"),v=await b.json();if(console.log("API Response:",b.status,b.ok),console.log("Raw API data:",v),console.log("Applications array:",v.applications),console.log("First application:",v.applications?.[0]),b.ok&&v.applications){const k=v.applications.map(S=>({id:S._id||S.providerId||S.id,companyName:S.companyName,ownerName:S.ownerName,email:S.email,phone:S.phone,vehicleType:Array.isArray(S.vehicleTypes)?S.vehicleTypes.join(", "):S.vehicleTypes,licenseNumber:S.licenseNumber,registrationNumber:S.licenseNumber,submittedDate:S.registrationDate||S.submittedDate,status:S.verificationStatus||S.status,documents:S.documents||[]}));console.log("Transformed applications:",k),r(k)}else throw new Error("Failed to fetch applications")}catch(b){console.error("Failed to fetch applications:",b),r([])}finally{o(!1)}},x=async b=>{try{(await fetch(`https://travelbuddy-b2c6hgbbgeh4esdh.eastus2-01.azurewebsites.net/api/transport-providers/admin/approve/${b}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"approve",notes:"Application approved by admin"})})).ok&&r(k=>k.map(S=>S.id===b?{...S,status:"approved"}:S))}catch(v){console.error("Approval failed:",v)}},f=async b=>{const v=prompt("Reason for rejection:");if(v)try{(await fetch(`https://travelbuddy-b2c6hgbbgeh4esdh.eastus2-01.azurewebsites.net/api/transport-providers/admin/approve/${b}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"reject",notes:v})})).ok&&r(S=>S.map(C=>C.id===b?{...C,status:"rejected"}:C))}catch(k){console.error("Rejection failed:",k)}},p=b=>{switch(b){case"pending":return e.jsx(De,{variant:"outline",className:"text-yellow-600 border-yellow-300",children:"Pending"});case"approved":return e.jsx(De,{className:"bg-green-100 text-green-800",children:"Approved"});case"rejected":return e.jsx(De,{variant:"destructive",children:"Rejected"});default:return e.jsx(De,{variant:"outline",children:"Unknown"})}},y=l.filter(b=>b.status==="pending").length;return n?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading transport applications..."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Transport Registration Approval"}),e.jsx("p",{className:"text-gray-600",children:"Review and approve transport service applications"})]}),e.jsxs(De,{className:"bg-blue-100 text-blue-800",children:[y," Pending Applications"]})]}),e.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company Details"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vehicle Info"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Documents"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(b=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.companyName}),e.jsx("div",{className:"text-sm text-gray-500",children:b.ownerName}),e.jsx("div",{className:"text-sm text-gray-500",children:b.email}),e.jsx("div",{className:"text-sm text-gray-500",children:b.phone})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.vehicleType}),e.jsxs("div",{className:"text-sm text-gray-500",children:["License: ",b.licenseNumber]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Reg: ",b.registrationNumber]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Applied: ",b.submittedDate]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"space-y-1",children:(b.documents||[]).map((v,k)=>e.jsxs("div",{className:"text-sm text-blue-600 hover:text-blue-800 cursor-pointer",onClick:()=>window.open(`/api/documents/${v}`,"_blank"),children:[" ",String(v)]},k))})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p(b.status)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[b.status==="pending"&&e.jsxs("div",{className:"space-x-2",children:[e.jsx("button",{onClick:()=>x(b.id),className:"text-green-600 hover:text-green-900 bg-green-50 hover:bg-green-100 px-3 py-1 rounded-md transition-colors",title:"Approve application and activate provider account",children:" Approve"}),e.jsx("button",{onClick:()=>f(b.id),className:"text-red-600 hover:text-red-900 bg-red-50 hover:bg-red-100 px-3 py-1 rounded-md transition-colors",title:"Reject application with reason",children:" Reject"}),e.jsx("button",{onClick:()=>m(b.id),className:"text-blue-600 hover:text-blue-900 bg-blue-50 hover:bg-blue-100 px-3 py-1 rounded-md transition-colors",title:"View full application details",children:" Details"})]}),b.status==="approved"&&e.jsx("span",{className:"text-green-600 font-medium",children:" Approved"}),b.status==="rejected"&&e.jsx("span",{className:"text-red-600 font-medium",children:" Rejected"})]})]},b.id))})]})})}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Application Statistics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:l.filter(b=>b.status==="pending").length}),e.jsx("div",{className:"text-sm text-yellow-700",children:"Pending Review"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.filter(b=>b.status==="approved").length}),e.jsx("div",{className:"text-sm text-green-700",children:"Approved"})]}),e.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:l.filter(b=>b.status==="rejected").length}),e.jsx("div",{className:"text-sm text-red-700",children:"Rejected"})]})]})]}),c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Provider Details"}),e.jsx("button",{onClick:()=>m(null),className:"text-gray-500 hover:text-gray-700",children:""})]}),e.jsx("div",{className:"p-6",children:e.jsx(tC,{providerId:c,onClose:()=>m(null)})})]})})]})}const aC=()=>{const{user:l}=wt(),r=Nt(),[n,o]=j.useState("dashboard");l?.isAdmin||localStorage.getItem("mock_admin");const c=[{id:"dashboard",label:"Dashboard",component:Q0},{id:"users",label:"Users",component:Ob},{id:"transport",label:"Transport Approval",component:sC},{id:"agents",label:"Agent Approval",component:Ub},{id:"content",label:"Content",component:zb},{id:"analytics",label:"Analytics",component:ZS},{id:"business",label:"Business",component:WS},{id:"settings",label:"Settings",component:eC}],m=c.find(h=>h.id===n)?.component||Q0;return e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsx("div",{className:"bg-white shadow",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4",children:e.jsxs("div",{className:"flex justify-between items-center py-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>r("/"),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:" Back to App"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Welcome, ",l?.username||"Admin"]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[e.jsx("div",{className:"mb-6",children:e.jsx("nav",{className:"flex space-x-8",children:c.map(h=>e.jsx("button",{onClick:()=>o(h.id),className:`py-2 px-1 border-b-2 font-medium text-sm ${n===h.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:h.label},h.id))})}),e.jsx(m,{})]})]})},rC=()=>{const{id:l}=um(),r=Nt(),[n,o]=j.useState(null),[c,m]=j.useState(!0),[h,x]=j.useState(!1),[f,p]=j.useState(0);j.useEffect(()=>{y()},[l]);const y=async()=>{try{m(!0);const w=await ua.getStory(l);o(w)}catch(w){console.error("Failed to load story:",w)}finally{m(!1)}},b=async()=>{if(n)try{await ua.likeStory(n._id),o({...n,likes:n.likes+(n.isLiked?-1:1),isLiked:!n.isLiked})}catch(w){console.error("Failed to like story:",w)}},v=w=>{p(w),x(!0)},k=()=>{n&&f<n.images.length-1&&p(f+1)},S=()=>{f>0&&p(f-1)},C=w=>new Date(w).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return c?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):n?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:e.jsxs("button",{onClick:()=>r("/community"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(Yo,{className:"w-5 h-5"}),e.jsx("span",{children:"Back to Community"})]})})}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:n.author.profilePicture?e.jsx("img",{src:n.author.profilePicture,alt:n.author.username,className:"w-full h-full rounded-full object-cover"}):e.jsx("span",{className:"text-white font-bold text-xl",children:n.author.username[0]})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-green-400 border-2 border-white rounded-full"})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:n.author.username}),e.jsxs("div",{className:"flex items-center space-x-3 text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(pe,{className:"w-4 h-4"}),e.jsx("span",{children:n.location})]}),e.jsx("span",{children:""}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(zt,{className:"w-4 h-4"}),e.jsx("span",{children:C(n.createdAt)})]})]})]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:n.title}),e.jsx("div",{className:"prose prose-lg max-w-none",children:e.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:n.content})})]}),n.images.length>0&&e.jsx("div",{className:"px-6 pb-6",children:n.images.length===1?e.jsx("img",{src:n.images[0],alt:n.title,className:"w-full max-h-96 object-cover rounded-lg cursor-pointer hover:opacity-95 transition-opacity",onClick:()=>v(0)}):e.jsx("div",{className:"grid grid-cols-2 gap-2",children:n.images.map((w,T)=>e.jsx("img",{src:w,alt:`${n.title} ${T+1}`,className:"w-full h-48 object-cover rounded-lg cursor-pointer hover:opacity-95 transition-opacity",onClick:()=>v(T)},T))})}),e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-8",children:[e.jsxs("button",{onClick:b,className:`group flex items-center space-x-3 transition-all duration-200 transform hover:scale-105 ${n.isLiked?"text-red-500":"text-gray-500 hover:text-red-500"}`,children:[e.jsx(ut,{className:`w-7 h-7 transition-all duration-200 ${n.isLiked?"fill-current animate-pulse":"group-hover:scale-110"}`}),e.jsx("span",{className:"font-semibold text-xl",children:n.likes})]}),e.jsxs("div",{className:"flex items-center space-x-3 text-gray-500",children:[e.jsx(Bs,{className:"w-7 h-7"}),e.jsx("span",{className:"font-semibold text-xl",children:n.comments})]})]})})}),e.jsxs("div",{className:"px-6 py-6 border-t border-gray-100",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Comments"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("textarea",{placeholder:"Write a comment...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none"}),e.jsx("button",{className:"mt-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:"Post Comment"})]})]}),e.jsxs("div",{className:"text-center text-gray-500 py-8",children:[e.jsx(Bs,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),e.jsx("p",{children:"No comments yet. Be the first to comment!"})]})]})]})]})}),h&&n.images.length>0&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50",children:e.jsxs("div",{className:"relative max-w-4xl max-h-full p-4",children:[e.jsx("button",{onClick:()=>x(!1),className:"absolute top-4 right-4 text-white hover:text-gray-300 z-10",children:e.jsx(jt,{className:"w-8 h-8"})}),e.jsx("img",{src:n.images[f],alt:`${n.title} ${f+1}`,className:"max-w-full max-h-full object-contain"}),n.images.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:S,disabled:f===0,className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white hover:text-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(hb,{className:"w-8 h-8"})}),e.jsx("button",{onClick:k,disabled:f===n.images.length-1,className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white hover:text-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(xb,{className:"w-8 h-8"})}),e.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 text-white text-sm",children:[f+1," / ",n.images.length]})]})]})})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Story not found"}),e.jsx("button",{onClick:()=>r("/community"),className:"text-purple-600 hover:text-purple-700",children:"Back to Community"})]})})},lC=()=>e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading configuration..."})]})}),nC=()=>{const l=Nt(),[r,n]=j.useState(""),[o,c]=j.useState("user"),[m,h]=j.useState(!1),x=[{id:"user",name:"Regular User",description:"Browse and book travel services, share experiences",permissions:["Search places","Create posts","Book services","Write reviews"],requiresVerification:!1,icon:e.jsx(rr,{className:"w-8 h-8"}),color:"bg-blue-500",benefits:["Access to all travel content","Book services and experiences","Share travel stories","Connect with other travelers"]},{id:"merchant",name:"Merchant",description:"Create and manage deals for your business",permissions:["Create deals","Manage business profile","View analytics","Customer management"],requiresVerification:!0,icon:e.jsx(L3,{className:"w-8 h-8"}),color:"bg-green-500",benefits:["Create promotional deals","Reach thousands of travelers","Business analytics dashboard","Customer engagement tools"]},{id:"transport_provider",name:"Transport Provider",description:"Offer transportation services to travelers",permissions:["Manage fleet","Accept bookings","Route management","Service listings"],requiresVerification:!0,icon:e.jsx(J3,{className:"w-8 h-8"}),color:"bg-orange-500",benefits:["List transport services","Manage vehicle fleet","Accept online bookings","Route optimization tools"]},{id:"travel_agent",name:"Travel Agent",description:"Provide professional travel planning services",permissions:["Create packages","Client management","Agent tools","Itinerary builder"],requiresVerification:!0,icon:e.jsx(pe,{className:"w-8 h-8"}),color:"bg-purple-500",benefits:["Professional agent profile","Create travel packages","Client booking system","Advanced planning tools"]}],f=y=>{n(y)},p=()=>{if(!r)return;const y=x.find(b=>b.id===r);if(y)if(y.requiresVerification)switch(r){case"merchant":l("/merchant-registration");break;case"transport_provider":l("/transport-registration");break;case"travel_agent":l("/agent-registration");break}else h(!0),setTimeout(()=>{c(r),h(!1),l("/")},1e3)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Choose Your Role"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Select the role that best describes how you want to use TravelBuddy. You can always change this later in your profile settings."})]}),o&&e.jsx("div",{className:"mb-8 text-center",children:e.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-blue-100 text-blue-800 rounded-full",children:[e.jsx(at,{className:"w-4 h-4 mr-2"}),"Current Role: ",x.find(y=>y.id===o)?.name]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:x.map(y=>e.jsx(ae,{className:`cursor-pointer transition-all duration-300 hover:shadow-xl border-2 ${r===y.id?"border-blue-500 shadow-lg transform scale-105":"border-gray-200 hover:border-gray-300"}`,onClick:()=>f(y.id),children:e.jsxs(re,{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 ${y.color} text-white rounded-full mb-3`,children:y.icon}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:y.name}),e.jsx("p",{className:"text-sm text-gray-600",children:y.description})]}),e.jsx("div",{className:"mb-4",children:y.requiresVerification?e.jsxs("div",{className:"flex items-center justify-center text-orange-600 bg-orange-50 rounded-lg py-2 px-3",children:[e.jsx(Ps,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-sm font-medium",children:"Requires Verification"})]}):e.jsxs("div",{className:"flex items-center justify-center text-green-600 bg-green-50 rounded-lg py-2 px-3",children:[e.jsx(at,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-sm font-medium",children:"Instant Access"})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Key Benefits:"}),e.jsx("ul",{className:"space-y-1",children:y.benefits.slice(0,3).map((b,v)=>e.jsxs("li",{className:"flex items-start text-xs text-gray-600",children:[e.jsx(Pe,{className:"w-3 h-3 mr-2 mt-0.5 text-yellow-500 flex-shrink-0"}),b]},v))})]}),r===y.id&&e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("div",{className:"inline-flex items-center text-blue-600 font-medium",children:[e.jsx(at,{className:"w-4 h-4 mr-2"}),"Selected"]})})]})},y.id))}),r&&e.jsx(ae,{className:"mb-8 border-blue-200 bg-blue-50",children:e.jsx(re,{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:`flex-shrink-0 w-12 h-12 ${x.find(y=>y.id===r)?.color} text-white rounded-lg flex items-center justify-center`,children:x.find(y=>y.id===r)?.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:x.find(y=>y.id===r)?.name}),e.jsx("p",{className:"text-gray-700 mb-4",children:x.find(y=>y.id===r)?.description}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Permissions:"}),e.jsx("ul",{className:"space-y-1",children:x.find(y=>y.id===r)?.permissions.map((y,b)=>e.jsxs("li",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(at,{className:"w-4 h-4 mr-2 text-green-500"}),y]},b))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Benefits:"}),e.jsx("ul",{className:"space-y-1",children:x.find(y=>y.id===r)?.benefits.map((y,b)=>e.jsxs("li",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Pe,{className:"w-4 h-4 mr-2 text-yellow-500"}),y]},b))})]})]}),x.find(y=>y.id===r)?.requiresVerification&&e.jsx("div",{className:"mt-4 p-4 bg-orange-50 border border-orange-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(Pn,{className:"w-5 h-5 text-orange-600 mr-3 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-orange-900",children:"Verification Required"}),e.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"This role requires verification of your business credentials. You'll need to provide documentation and wait for approval (typically 3-5 business days)."})]})]})})]})]})})}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx(I,{variant:"outline",onClick:()=>l("/"),className:"px-8 py-3",children:"Skip for Now"}),e.jsx(I,{onClick:p,disabled:!r||m,className:"px-8 py-3 bg-blue-600 hover:bg-blue-700",children:m?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):e.jsxs("div",{className:"flex items-center",children:["Continue",e.jsx(Ka,{className:"w-4 h-4 ml-2"})]})})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsxs("p",{className:"text-sm text-gray-500",children:["Need help choosing? ",e.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"Contact our support team"})]})})]})})},iC=()=>{const l=Nt(),[r,n]=j.useState(""),[o,c]=j.useState({companyName:"",businessType:"",country:"",city:"",address:"",ownerName:"",email:"",phone:"",website:"",fleetSize:"1",vehicleTypes:[],operatingCountry:"",serviceCities:[],instantBooking:!1,requestBooking:!0,availability247:!1,agreed:!1}),[m,h]=j.useState(!1),[x,f]=j.useState(!1),[p,y]=j.useState("");j.useEffect(()=>{rs.getConfig().then(B=>n(B.apiBaseUrl))},[]);const b=["Individual Driver","Transport Company","Car Rental Agency","Shuttle/Bus Operator","Ferry/Boat Operator","Train Operator","Airline/Air Charter"],v=["Sri Lanka","Thailand","India","Japan","USA","UK","France","Spain","Italy","Greece","UAE","Singapore","Malaysia"],k=["Car","Van","Minibus","Bus","SUV","Motorbike","Tuk-tuk","Rickshaw","Electric Vehicle","Ferry/Boat","Yacht","Train/Railcar","Helicopter","Small Aircraft"],S=["1 vehicle","2-5 vehicles","6-20 vehicles","21-50 vehicles","50+ vehicles"],C=async B=>{if(B.preventDefault(),y(""),!o.agreed){y("Please accept the terms and conditions");return}if(o.vehicleTypes.length===0){y("Please select at least one vehicle type");return}if(o.serviceCities.length===0){y("Please add at least one service city");return}h(!0);try{const X={companyName:o.companyName,ownerName:o.ownerName,email:o.email,phone:o.phone,address:o.address,licenseNumber:"GLOBAL-"+Date.now(),vehicleTypes:o.vehicleTypes,serviceAreas:o.serviceCities,fleetSize:o.fleetSize,country:o.country,description:`${o.businessType} operating in ${o.city}, ${o.country}`},V=await fetch(`${r}/api/transport-providers/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(X)}),_=await V.json();V.ok?f(!0):y(_.details||_.error||"Registration failed")}catch{y("Network error. Please try again.")}finally{h(!1)}},w=B=>{c(X=>({...X,vehicleTypes:X.vehicleTypes.includes(B)?X.vehicleTypes.filter(V=>V!==B):[...X.vehicleTypes,B]}))},[T,O]=j.useState(""),R=()=>{T.trim()&&!o.serviceCities.includes(T.trim())&&(c(B=>({...B,serviceCities:[...B.serviceCities,T.trim()]})),O(""))},W=B=>{c(X=>({...X,serviceCities:X.serviceCities.filter(V=>V!==B)}))};return x?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center py-12 px-4",children:e.jsxs("div",{className:"max-w-lg w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[e.jsx("div",{className:"mx-auto w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mb-6",children:e.jsx(ri,{className:"w-10 h-10 text-green-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Registration Successful!"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Welcome to TravelBuddy's transport network! Your account is now active."}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:" You're All Set!"}),e.jsx("p",{className:"text-sm text-green-700",children:"You can now access your provider dashboard and start managing your transport services."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>l("/transport-provider-dashboard"),className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Go to Provider Dashboard"}),e.jsx("button",{onClick:()=>l("/"),className:"w-full border border-gray-300 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-50 transition-colors",children:"Back to Home"})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50 py-8 px-4",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:" Global Transport Provider Registration"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Join TravelBuddy's Worldwide Transport Network"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Serving travelers in 50+ countries"})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[p&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:p}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:" Section 1: Business Information"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Tell us about your transport business"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name *"}),e.jsx("input",{type:"text",value:o.companyName,onChange:B=>c({...o,companyName:B.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Type *"}),e.jsxs("select",{value:o.businessType,onChange:B=>c({...o,businessType:B.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select business type..."}),b.map(B=>e.jsx("option",{value:B,children:B},B))]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country *"}),e.jsxs("select",{value:o.country,onChange:B=>c({...o,country:B.target.value,operatingCountry:B.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select country..."}),v.map(B=>e.jsx("option",{value:B,children:B},B))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City / Region *"}),e.jsx("input",{type:"text",value:o.city,onChange:B=>c({...o,city:B.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Colombo, Bangkok, Tokyo",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Address *"}),e.jsx("textarea",{value:o.address,onChange:B=>c({...o,address:B.target.value}),rows:2,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:" Section 2: Contact Details"}),e.jsx("p",{className:"text-sm text-gray-600",children:"How can travelers reach you?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Owner / Manager Name *"}),e.jsx("input",{type:"text",value:o.ownerName,onChange:B=>c({...o,ownerName:B.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),e.jsx("input",{type:"email",value:o.email,onChange:B=>c({...o,email:B.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone *"}),e.jsx("input",{type:"tel",value:o.phone,onChange:B=>c({...o,phone:B.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"+94 77 123 4567",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website (Optional)"}),e.jsx("input",{type:"url",value:o.website,onChange:B=>c({...o,website:B.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://yourwebsite.com"})]})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:" Section 3: Verification Documents"}),e.jsx("p",{className:"text-sm text-gray-600",children:'Upload documents to earn "Verified Provider" badge'})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Driver License"}),e.jsx("input",{type:"file",accept:"image/*,.pdf",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Registration"}),e.jsx("input",{type:"file",accept:"image/*,.pdf",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Insurance Certificate"}),e.jsx("input",{type:"file",accept:"image/*,.pdf",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"National ID / Passport"}),e.jsx("input",{type:"file",accept:"image/*,.pdf",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:" Accepted formats: JPG, PNG, PDF (Max 5MB each)"}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:" Section 4: Fleet & Service Details"}),e.jsx("p",{className:"text-sm text-gray-600",children:"What vehicles do you operate?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fleet Size *"}),e.jsxs("select",{value:o.fleetSize,onChange:B=>c({...o,fleetSize:B.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select fleet size..."}),S.map(B=>e.jsx("option",{value:B,children:B},B))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:"Vehicle Types * (Select all that apply)"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:k.map(B=>e.jsxs("label",{className:`flex items-center space-x-2 p-3 border-2 rounded-lg cursor-pointer transition-all ${o.vehicleTypes.includes(B)?"border-blue-500 bg-blue-50":"border-gray-200 hover:bg-gray-50"}`,children:[e.jsx("input",{type:"checkbox",checked:o.vehicleTypes.includes(B),onChange:()=>w(B),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm font-medium",children:B})]},B))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Photos *"}),e.jsx("input",{type:"file",accept:"image/*",multiple:!0,className:"w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 cursor-pointer"}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:" Upload multiple photos of your vehicles (exterior, interior, features)"})]}),e.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:" Section 5: Operating Areas & Routes"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Where do you provide services?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Service Cities *"}),e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx("input",{type:"text",value:T,onChange:B=>O(B.target.value),onKeyPress:B=>B.key==="Enter"&&(B.preventDefault(),R()),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Type city name and press Enter (e.g., Paris, Tokyo, Colombo)"}),e.jsx("button",{type:"button",onClick:R,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Add"})]}),o.serviceCities.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:o.serviceCities.map(B=>e.jsxs("span",{className:"inline-flex items-center bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm",children:[B,e.jsx("button",{type:"button",onClick:()=>W(B),className:"ml-2 text-blue-600 hover:text-blue-800",children:""})]},B))}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Add all cities where you operate"})]}),e.jsxs("div",{className:"bg-teal-50 p-4 rounded-lg mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:" Section 6: Booking Options"}),e.jsx("p",{className:"text-sm text-gray-600",children:"How do you accept bookings?"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center space-x-3 p-4 border-2 rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",checked:o.instantBooking,onChange:B=>c({...o,instantBooking:B.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:" Instant Booking"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Travelers can book immediately without approval"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 p-4 border-2 rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",checked:o.requestBooking,onChange:B=>c({...o,requestBooking:B.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:" Request to Book"}),e.jsx("p",{className:"text-sm text-gray-600",children:"You review and approve each booking request"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 p-4 border-2 rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",checked:o.availability247,onChange:B=>c({...o,availability247:B.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:" 24/7 Availability"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Available for bookings anytime, day or night"})]})]})]}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o.agreed,onChange:B=>c({...o,agreed:B.target.checked}),className:"mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500",required:!0}),e.jsx("span",{className:"text-sm text-gray-700",children:"I confirm that all information is accurate and agree to TravelBuddy's Terms & Conditions"})]})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>l("/"),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:m,className:"flex-1 px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-semibold",children:m?"Submitting...":"Register"})]})]})})]})})},oC=["Sri Lanka","Thailand","India","Japan","USA","UK","France","Spain","Italy","Greece","UAE","Singapore","Malaysia","Indonesia","Vietnam","Cambodia","Philippines","South Korea","China","Australia"],cC=["English","Sinhala","Tamil","Hindi","Japanese","Chinese","French","Spanish","German","Italian","Arabic","Thai","Korean","Portuguese"],dC=["Adventure & Hiking","Cultural Tours","Family Travel","Honeymoon & Romance","Luxury & VIP","Wildlife & Safari","Beach & Coastal","Photography Tours","Budget Backpacking","Pilgrimage Tours","Eco-Tourism","Road Trip Specialists","Digital Nomad Support","Educational Tours","Solo Travel","Business Travel","Food & Culinary","Scuba & Diving","Shopping Tours","Skiing & Snow","Historical Tours","Religious Tours","LGBTQ+ Friendly","Accessible Travel"],uC=["Independent Guide","Travel Agency","Tour Operator","Concierge Specialist","Freelance Consultant"],mC=["1-3 years","3-7 years","7-10 years","10+ years"],hC=()=>{const l=Nt(),[r,n]=j.useState(""),[o,c]=j.useState({fullName:"",email:"",phone:"",country:"",city:"",languages:[],experience:"",specializations:[],agencyName:"",agencyType:"",licenseNumber:"",consultationFee:"0",dayRate:"",description:"",agreed:!1}),[m,h]=j.useState(!1),[x,f]=j.useState(!1),[p,y]=j.useState("");j.useEffect(()=>{rs.getConfig().then(S=>n(S.apiBaseUrl))},[]);const b=async S=>{if(S.preventDefault(),y(""),!o.agreed){y("Please accept the terms and conditions");return}if(o.languages.length===0){y("Please select at least one language");return}if(o.specializations.length===0){y("Please select at least one specialization");return}h(!0);try{const C=await fetch(`${r}/api/travel-agents/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),w=await C.json();C.ok?f(!0):y(w.details||w.error||"Registration failed")}catch{y("Network error. Please try again.")}finally{h(!1)}},v=S=>{c(C=>({...C,languages:C.languages.includes(S)?C.languages.filter(w=>w!==S):[...C.languages,S]}))},k=S=>{c(C=>({...C,specializations:C.specializations.includes(S)?C.specializations.filter(w=>w!==S):[...C.specializations,S]}))};return x?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center py-12 px-4",children:e.jsxs("div",{className:"max-w-lg w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[e.jsx("div",{className:"mx-auto w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mb-6",children:e.jsx(ri,{className:"w-10 h-10 text-green-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Registration Successful!"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Welcome to TravelBuddy's global agent network! Your profile is now active."}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:" You're All Set!"}),e.jsx("p",{className:"text-sm text-green-700",children:"You can now access your agent dashboard and start connecting with travelers worldwide."})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>l("/travel-agent-dashboard"),className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Go to Agent Dashboard"}),e.jsx("button",{onClick:()=>l("/"),className:"w-full border border-gray-300 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-50 transition-colors",children:"Back to Home"})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 py-8 px-4",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:" Global Travel Agent Registration"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Join TravelBuddy's Worldwide Agent Network"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Connect with travelers from 100+ countries"})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[p&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:p}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:" Personal Information"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Tell us about yourself"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),e.jsx("input",{type:"text",value:o.fullName,onChange:S=>c({...o,fullName:S.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),e.jsx("input",{type:"email",value:o.email,onChange:S=>c({...o,email:S.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone *"}),e.jsx("input",{type:"tel",value:o.phone,onChange:S=>c({...o,phone:S.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"+1 234 567 8900",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country *"}),e.jsxs("select",{value:o.country,onChange:S=>c({...o,country:S.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select country..."}),oC.map(S=>e.jsx("option",{value:S,children:S},S))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),e.jsx("input",{type:"text",value:o.city,onChange:S=>c({...o,city:S.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Tokyo, Paris, Dubai",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Languages Spoken * (Select all that apply)"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:cC.map(S=>e.jsxs("label",{className:`flex items-center space-x-2 p-3 border-2 rounded-lg cursor-pointer transition-all ${o.languages.includes(S)?"border-blue-500 bg-blue-50":"border-gray-200 hover:bg-gray-50"}`,children:[e.jsx("input",{type:"checkbox",checked:o.languages.includes(S),onChange:()=>v(S),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm font-medium",children:S})]},S))})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:" Professional Details"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Your experience and credentials"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Agency/Business Name"}),e.jsx("input",{type:"text",value:o.agencyName,onChange:S=>c({...o,agencyName:S.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Leave blank if independent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Agency Type *"}),e.jsxs("select",{value:o.agencyType,onChange:S=>c({...o,agencyType:S.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select type..."}),uC.map(S=>e.jsx("option",{value:S,children:S},S))]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Experience *"}),e.jsxs("select",{value:o.experience,onChange:S=>c({...o,experience:S.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select experience..."}),mC.map(S=>e.jsx("option",{value:S,children:S},S))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"License Number"}),e.jsx("input",{type:"text",value:o.licenseNumber,onChange:S=>c({...o,licenseNumber:S.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Tourism board license (optional)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Specializations * (Select all that apply)"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 max-h-64 overflow-y-auto p-2 border border-gray-200 rounded-lg",children:dC.map(S=>e.jsxs("label",{className:`flex items-center space-x-2 p-2 border-2 rounded-lg cursor-pointer transition-all ${o.specializations.includes(S)?"border-purple-500 bg-purple-50":"border-gray-200 hover:bg-gray-50"}`,children:[e.jsx("input",{type:"checkbox",checked:o.specializations.includes(S),onChange:()=>k(S),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"}),e.jsx("span",{className:"text-sm",children:S})]},S))})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:" Pricing"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Your service rates"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Consultation Fee (USD)"}),e.jsx("input",{type:"number",value:o.consultationFee,onChange:S=>c({...o,consultationFee:S.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"0 for free",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Day Rate (USD) *"}),e.jsx("input",{type:"number",value:o.dayRate,onChange:S=>c({...o,dayRate:S.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 150",min:"0",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"About You *"}),e.jsx("textarea",{value:o.description,onChange:S=>c({...o,description:S.target.value}),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Tell travelers about your expertise, experience, and what makes you unique...",required:!0})]}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o.agreed,onChange:S=>c({...o,agreed:S.target.checked}),className:"mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500",required:!0}),e.jsx("span",{className:"text-sm text-gray-700",children:"I confirm that all information is accurate and agree to TravelBuddy's Terms & Conditions, Privacy Policy, and Agent Code of Conduct"})]})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>l("/"),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:m,className:"flex-1 px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-semibold",children:m?"Submitting...":"Register as Agent"})]})]})})]})})},xC=[{id:"explorer",name:"Explorer",price:0,icon:Pe,features:["1 trip/month","Basic discovery (10 results)","View-only community","Basic weather","5 place searches/day"],restrictions:["No AI trip generation","No community posting","No premium deals"]},{id:"globetrotter",name:"Globetrotter",price:9.99,icon:Cs,popular:!0,features:["Unlimited trips","20 AI trips/month","Community posting","Advanced filters","Basic offline mode","Booking support"],restrictions:["No live AI assistant","No business dashboards"]},{id:"wanderpro",name:"WanderPro+",price:19.99,icon:gs,features:["Unlimited AI trips","Live AI assistant","PDF export","Smart packing list","Full offline mode","Early deals access"],restrictions:[]}],fC=[{id:"travelagent",name:"TravelAgent Pro",price:49.99,icon:gs,features:["Agent dashboard","Transport dashboard","Add services","Booking requests","Route planner","Customer chat","Analytics"],restrictions:[]}],pC=[{id:"partner",name:"Business + Deals",price:29.99,icon:gs,features:["Create deals","Premium placement","Business page","AI marketing content","Analytics","Customer inbox"],restrictions:[]}],gC=()=>{const{user:l}=wt(),r=l?.tier||"explorer",n=c=>{console.log("Upgrading to:",c)},o=(c,m,h)=>e.jsxs("div",{className:"mb-16",children:[e.jsx("h2",{className:`text-2xl font-bold text-center mb-8 ${h}`,children:c}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(x=>{const f=x.icon,p=r===x.id;return e.jsxs(ae,{className:`relative ${x.popular?"ring-2 ring-blue-500":""}`,children:[x.popular&&e.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:e.jsx(De,{variant:"primary",children:"Most Popular"})}),e.jsxs(je,{className:"text-center pb-4",children:[e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx(f,{className:`w-8 h-8 ${x.id==="explorer"?"text-gray-500":"text-blue-500"}`})}),e.jsx(we,{className:"text-xl",children:x.name}),e.jsxs("div",{className:"text-3xl font-bold",children:["$",x.price,e.jsx("span",{className:"text-sm font-normal text-gray-600",children:"/month"})]})]}),e.jsxs(re,{className:"space-y-4",children:[e.jsx("div",{className:"space-y-2",children:x.features.map((y,b)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ri,{className:"w-4 h-4 text-green-500 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:y})]},b))}),x.restrictions.length>0&&e.jsxs("div",{className:"pt-2 border-t",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Restrictions:"}),x.restrictions.map((y,b)=>e.jsxs("p",{className:"text-xs text-gray-400",children:[" ",y]},b))]}),e.jsx("div",{className:"pt-4",children:p?e.jsx(De,{variant:"outline",className:"w-full justify-center py-2",children:"Current Plan"}):e.jsxs(I,{className:"w-full",variant:x.popular?"default":"outline",onClick:()=>n(x.id),children:["Upgrade to ",x.name]})})]})]},x.id)})})]});return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Choose Your Plan"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Three categories designed for different user types"})]}),o(" For Travelers",xC,"text-blue-600"),o(" For Travel Agents & Transport",fC,"text-orange-600"),o(" For Partner Businesses",pC,"text-green-600"),e.jsx("div",{className:"mt-12 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Need help choosing? ",e.jsx("a",{href:"/contact",className:"text-blue-600 hover:underline",children:"Contact our team"})]})})]})})},bC=()=>{const l=Nt(),[r,n]=j.useState(1),[o,c]=j.useState({organizationName:"",organizationType:"company",email:"",phone:"",website:"",address:"",city:"",country:"",description:"",experience:"",socialMedia:{facebook:"",instagram:"",twitter:""}}),[m,h]=j.useState(!1),[x,f]=j.useState(!1),p=async v=>{v.preventDefault(),h(!0),setTimeout(()=>{h(!1),f(!0),setTimeout(()=>l("/events"),2e3)},1500)},y=()=>n(r+1),b=()=>n(r-1);return x?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 flex items-center justify-center p-6",children:e.jsx(ae,{className:"max-w-md w-full text-center",children:e.jsxs(re,{className:"p-8",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(at,{className:"w-12 h-12 text-green-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Registration Successful!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Your application has been submitted. We'll review it and get back to you within 24-48 hours."}),e.jsx("button",{onClick:()=>l("/events"),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-3 rounded-xl font-semibold hover:shadow-lg transition-all",children:"Back to Events"})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 py-12 px-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Become an Event Organizer"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Join TravelBuddy and reach millions of travelers worldwide"})]}),e.jsx("div",{className:"flex items-center justify-center mb-12",children:e.jsx("div",{className:"flex items-center space-x-4",children:[1,2,3].map(v=>e.jsxs(X0.Fragment,{children:[e.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-full font-bold ${r>=v?"bg-purple-600 text-white":"bg-gray-200 text-gray-500"}`,children:v}),v<3&&e.jsx("div",{className:`w-16 h-1 ${r>v?"bg-purple-600":"bg-gray-200"}`})]},v))})}),e.jsx(ae,{className:"bg-white shadow-xl",children:e.jsx(re,{className:"p-8",children:e.jsxs("form",{onSubmit:p,children:[r===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Basic Information"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Organization Name *"}),e.jsxs("div",{className:"relative",children:[e.jsx(mb,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",required:!0,value:o.organizationName,onChange:v=>c({...o,organizationName:v.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"Your Organization Name"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Organization Type *"}),e.jsxs("select",{required:!0,value:o.organizationType,onChange:v=>c({...o,organizationType:v.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",children:[e.jsx("option",{value:"company",children:"Company"}),e.jsx("option",{value:"nonprofit",children:"Non-Profit"}),e.jsx("option",{value:"individual",children:"Individual"}),e.jsx("option",{value:"government",children:"Government"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email *"}),e.jsxs("div",{className:"relative",children:[e.jsx(As,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"email",required:!0,value:o.email,onChange:v=>c({...o,email:v.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"contact@example.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Es,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"tel",required:!0,value:o.phone,onChange:v=>c({...o,phone:v.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"+1 (555) 123-4567"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Website"}),e.jsxs("div",{className:"relative",children:[e.jsx(Lt,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"url",value:o.website,onChange:v=>c({...o,website:v.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"https://yourwebsite.com"})]})]})]}),r===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Location & Details"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Address *"}),e.jsxs("div",{className:"relative",children:[e.jsx(pe,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",required:!0,value:o.address,onChange:v=>c({...o,address:v.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"Street Address"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"City *"}),e.jsx("input",{type:"text",required:!0,value:o.city,onChange:v=>c({...o,city:v.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"City"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Country *"}),e.jsx("input",{type:"text",required:!0,value:o.country,onChange:v=>c({...o,country:v.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"Country"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Organization Description *"}),e.jsx("textarea",{required:!0,value:o.description,onChange:v=>c({...o,description:v.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none h-32 resize-none",placeholder:"Tell us about your organization and the types of events you organize..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Years of Experience *"}),e.jsxs("select",{required:!0,value:o.experience,onChange:v=>c({...o,experience:v.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select experience"}),e.jsx("option",{value:"0-1",children:"Less than 1 year"}),e.jsx("option",{value:"1-3",children:"1-3 years"}),e.jsx("option",{value:"3-5",children:"3-5 years"}),e.jsx("option",{value:"5+",children:"5+ years"})]})]})]}),r===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Social Media & Documents"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Connect your social media (optional)"}),e.jsx("input",{type:"url",value:o.socialMedia.facebook,onChange:v=>c({...o,socialMedia:{...o.socialMedia,facebook:v.target.value}}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"Facebook URL"}),e.jsx("input",{type:"url",value:o.socialMedia.instagram,onChange:v=>c({...o,socialMedia:{...o.socialMedia,instagram:v.target.value}}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"Instagram URL"}),e.jsx("input",{type:"url",value:o.socialMedia.twitter,onChange:v=>c({...o,socialMedia:{...o.socialMedia,twitter:v.target.value}}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"Twitter URL"})]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-8 text-center",children:[e.jsx(Dm,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Upload Business Documents"}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Business license, tax ID, or registration certificate"}),e.jsx("button",{type:"button",className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all",children:"Choose Files"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Note:"})," Your application will be reviewed within 24-48 hours. You'll receive an email once approved."]})})]}),e.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t",children:[r>1&&e.jsx("button",{type:"button",onClick:b,className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl font-semibold hover:border-gray-400 transition-all",children:"Previous"}),r<3?e.jsxs("button",{type:"button",onClick:y,className:"ml-auto px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all flex items-center space-x-2",children:[e.jsx("span",{children:"Next"}),e.jsx(Ka,{className:"w-5 h-5"})]}):e.jsx("button",{type:"submit",disabled:m,className:"ml-auto px-8 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all disabled:opacity-50",children:m?"Submitting...":"Submit Application"})]})]})})})]})})},yC=()=>{const l=Nt(),{config:r}=Qn(),{user:n}=wt(),[o,c]=j.useState({name:"",category:"music",description:"",date:"",endDate:"",time:"",city:"",country:"",venue:"",price:"",currency:"USD",capacity:"",isFree:!1}),[m,h]=j.useState(null),[x,f]=j.useState(""),[p,y]=j.useState(!1),[b,v]=j.useState(!1),k=C=>{const w=C.target.files?.[0];if(w){h(w);const T=new FileReader;T.onloadend=()=>f(T.result),T.readAsDataURL(w)}},S=async C=>{C.preventDefault(),y(!0);try{const w=r?.apiBaseUrl||"http://localhost:3001",T={name:o.name,category:o.category,description:o.description,location:{city:o.city,country:o.country,address:o.venue},date:o.date,endDate:o.endDate||o.date,time:o.time,price:o.isFree?0:Number(o.price),currency:o.currency,capacity:o.capacity?Number(o.capacity):void 0,image:x||"https://images.unsplash.com/photo-1492684223066-81342ee5ff30?w=800",isFree:o.isFree},O=await fetch(`${w}/api/events`,{method:"POST",headers:{"Content-Type":"application/json","x-user-id":n?.id||"anonymous"},body:JSON.stringify(T)});if(!O.ok){const R=await O.json().catch(()=>({error:"Unknown error"}));throw console.error("Backend error:",R),new Error(R.error||"Failed to create event")}v(!0),setTimeout(()=>l("/events"),2e3)}catch(w){console.error("Error creating event:",w),alert("Failed to create event. Please try again.")}finally{y(!1)}};return b?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 flex items-center justify-center p-6",children:e.jsx(ae,{className:"max-w-md w-full text-center",children:e.jsxs(re,{className:"p-8",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(at,{className:"w-12 h-12 text-green-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Event Created!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Your event has been published successfully and is now visible to travelers worldwide."}),e.jsx("button",{onClick:()=>l("/events"),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-8 py-3 rounded-xl font-semibold hover:shadow-lg transition-all",children:"View All Events"})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-50 py-12 px-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Create New Event"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Share your event with millions of travelers"})]}),e.jsx(ae,{className:"bg-white shadow-xl",children:e.jsx(re,{className:"p-8",children:e.jsxs("form",{onSubmit:S,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Event Image *"}),e.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-purple-600 transition-all",children:x?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:x,alt:"Preview",className:"max-h-64 mx-auto rounded-lg mb-4"}),e.jsx("button",{type:"button",onClick:()=>{h(null),f("")},className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-all",children:"Remove Image"})]}):e.jsxs(e.Fragment,{children:[e.jsx(gb,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Upload Event Banner"}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"JPG, PNG or WebP (Max 5MB)"}),e.jsx("input",{type:"file",accept:"image/*",onChange:k,className:"hidden",id:"image-upload"}),e.jsx("label",{htmlFor:"image-upload",className:"inline-block px-6 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-all cursor-pointer",children:"Choose Image"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Event Name *"}),e.jsx("input",{type:"text",required:!0,value:o.name,onChange:C=>c({...o,name:C.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"Summer Music Festival 2024"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Category *"}),e.jsxs("select",{required:!0,value:o.category,onChange:C=>c({...o,category:C.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",children:[e.jsx("option",{value:"music",children:" Music"}),e.jsx("option",{value:"cultural",children:" Cultural"}),e.jsx("option",{value:"sports",children:" Sports"}),e.jsx("option",{value:"nightlife",children:" Nightlife"}),e.jsx("option",{value:"tech",children:" Tech"}),e.jsx("option",{value:"food",children:" Food & Drink"}),e.jsx("option",{value:"festivals",children:" Festivals"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description *"}),e.jsx("textarea",{required:!0,value:o.description,onChange:C=>c({...o,description:C.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none h-32 resize-none",placeholder:"Describe your event, what attendees can expect, highlights, etc."})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Start Date *"}),e.jsxs("div",{className:"relative",children:[e.jsx(zt,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"date",required:!0,value:o.date,onChange:C=>c({...o,date:C.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"End Date"}),e.jsx("input",{type:"date",value:o.endDate,onChange:C=>c({...o,endDate:C.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Time *"}),e.jsxs("div",{className:"relative",children:[e.jsx(nt,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"time",required:!0,value:o.time,onChange:C=>c({...o,time:C.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"City *"}),e.jsxs("div",{className:"relative",children:[e.jsx(pe,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",required:!0,value:o.city,onChange:C=>c({...o,city:C.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"Barcelona"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Country *"}),e.jsx("input",{type:"text",required:!0,value:o.country,onChange:C=>c({...o,country:C.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"Spain"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Venue *"}),e.jsx("input",{type:"text",required:!0,value:o.venue,onChange:C=>c({...o,venue:C.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"Stadium Name"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("input",{type:"checkbox",id:"isFree",checked:o.isFree,onChange:C=>c({...o,isFree:C.target.checked,price:C.target.checked?"0":o.price}),className:"w-5 h-5 text-purple-600 rounded"}),e.jsx("label",{htmlFor:"isFree",className:"text-sm font-semibold text-gray-700",children:"This is a free event"})]}),!o.isFree&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Price *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Rt,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"number",required:!o.isFree,value:o.price,onChange:C=>c({...o,price:C.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"150"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Currency *"}),e.jsxs("select",{required:!o.isFree,value:o.currency,onChange:C=>c({...o,currency:C.target.value}),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",children:[e.jsx("option",{value:"USD",children:"USD ($)"}),e.jsx("option",{value:"EUR",children:"EUR ()"}),e.jsx("option",{value:"GBP",children:"GBP ()"}),e.jsx("option",{value:"JPY",children:"JPY ()"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Expected Attendees"}),e.jsxs("div",{className:"relative",children:[e.jsx(it,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"number",value:o.capacity,onChange:C=>c({...o,capacity:C.target.value}),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-600 focus:outline-none",placeholder:"5000"})]})]}),e.jsxs("div",{className:"flex space-x-4 pt-6 border-t",children:[e.jsx("button",{type:"button",onClick:()=>l("/events"),className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl font-semibold hover:border-gray-400 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:p,className:"flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-semibold hover:shadow-lg transition-all disabled:opacity-50",children:p?"Creating...":"Create Event"})]})]})})})]})})},vC=()=>{console.log(" Firebase Authentication Status Check:"),console.log("====================================="),console.log(" Firebase Auth Instance:",!!Za),console.log(" Current User:",Za?.currentUser?.email||"Not signed in"),console.log(`
 Environment Configuration:`),console.log(" API Key:","Set"),console.log(" Auth Domain:","travelbuddy-2d1c5.firebaseapp.com"),console.log(" Project ID:","travelbuddy-2d1c5"),console.log(`
 Google Sign-In Provider:`);try{const l=new oa;console.log(" Google Provider:",!!l),console.log(" Provider ID:",l.providerId)}catch(l){console.log(" Google Provider Error:",l)}return console.log(`
 Network Status:`),console.log(" Online:",navigator.onLine),{auth:!!Za,currentUser:Za?.currentUser,hasConfig:!0,online:navigator.onLine}},jC=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-md p-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Privacy Policy"}),e.jsx("p",{className:"text-sm text-gray-600 mb-8",children:"Last Updated: January 2025"}),e.jsxs("div",{className:"space-y-6 text-gray-700",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"1. Introduction"}),e.jsx("p",{children:'Welcome to TravelBuddy ("we," "our," or "us"). We respect your privacy and are committed to protecting your personal data. This privacy policy explains how we collect, use, and safeguard your information when you use our mobile application and website at travelbuddylk.com.'})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"2. Information We Collect"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"2.1 Personal Information"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Account Information:"})," Name, email address, password (encrypted)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Profile Information:"})," Profile picture, bio, travel preferences"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Contact Information:"})," Phone number (optional)"]})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"2.2 Location Data"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsx("li",{children:"GPS location for nearby places and recommendations"}),e.jsx("li",{children:"Location history for personalized travel suggestions"}),e.jsx("li",{children:"You can disable location access in device settings"})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"2.3 User Content"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsx("li",{children:"Photos and videos you upload to community posts"}),e.jsx("li",{children:"Reviews, ratings, and comments"}),e.jsx("li",{children:"Saved places and trip plans"}),e.jsx("li",{children:"Messages and interactions with other users"})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"2.4 Device Information"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsx("li",{children:"Device type, operating system, app version"}),e.jsx("li",{children:"IP address, browser type"}),e.jsx("li",{children:"Usage data and analytics"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"3. How We Use Your Information"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Provide Services:"})," Enable core features like trip planning, community posts, and place discovery"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Personalization:"})," Recommend destinations, deals, and content based on your preferences"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Communication:"})," Send notifications, updates, and respond to inquiries"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Safety:"})," Provide emergency services and location-based safety features"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Improvement:"})," Analyze usage to improve app performance and features"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Legal Compliance:"})," Comply with legal obligations and enforce our terms"]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"4. Data Sharing"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"We DO NOT sell your personal data."}),e.jsx("p",{className:"mb-2",children:"We may share data with:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Service Providers:"})," Firebase (authentication), Google Maps (location services), Azure (hosting)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Other Users:"})," Public profile info, posts, and reviews you choose to share"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Legal Requirements:"})," When required by law or to protect rights and safety"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Business Transfers:"})," In case of merger, acquisition, or asset sale"]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"5. Data Security"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsx("li",{children:"All data transmitted is encrypted using SSL/TLS"}),e.jsx("li",{children:"Passwords are hashed and never stored in plain text"}),e.jsx("li",{children:"Secure Azure cloud infrastructure with regular backups"}),e.jsx("li",{children:"Regular security audits and updates"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"6. Your Rights"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Access:"})," Request a copy of your personal data"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Correction:"})," Update or correct inaccurate information"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Deletion:"})," Request deletion of your account and data"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Opt-Out:"})," Disable location services, notifications, or marketing emails"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Data Portability:"})," Export your data in a machine-readable format"]})]}),e.jsxs("p",{className:"mt-3",children:["To exercise these rights, contact us at ",e.jsx("a",{href:"mailto:privacy@travelbuddylk.com",className:"text-blue-600 hover:underline",children:"privacy@travelbuddylk.com"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"7. Data Retention"}),e.jsx("p",{children:"We retain your data as long as your account is active or as needed to provide services. After account deletion, we may retain certain data for legal compliance (typically 30-90 days), then permanently delete it from our systems."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"8. Children's Privacy"}),e.jsx("p",{children:"TravelBuddy is not intended for users under 13 years old. We do not knowingly collect data from children. If you believe a child has provided us with personal information, please contact us immediately."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"9. Third-Party Services"}),e.jsx("p",{className:"mb-2",children:"We use the following third-party services:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Firebase Authentication:"})," Secure user authentication"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Google Maps API:"})," Location services and place information"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Microsoft Azure:"})," Cloud hosting and database"]})]}),e.jsx("p",{className:"mt-3",children:"These services have their own privacy policies. We recommend reviewing them."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"10. International Data Transfers"}),e.jsx("p",{children:"Your data may be transferred to and processed in countries outside Sri Lanka, including the United States (Azure servers). We ensure appropriate safeguards are in place to protect your data."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"11. Changes to This Policy"}),e.jsx("p",{children:"We may update this privacy policy from time to time. We will notify you of significant changes via email or in-app notification. Continued use of TravelBuddy after changes constitutes acceptance."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"12. Contact Us"}),e.jsx("p",{children:"For privacy-related questions or concerns:"}),e.jsxs("ul",{className:"list-none space-y-2 mt-3",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Email:"})," ",e.jsx("a",{href:"mailto:privacy@travelbuddylk.com",className:"text-blue-600 hover:underline",children:"privacy@travelbuddylk.com"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Website:"})," ",e.jsx("a",{href:"https://travelbuddylk.com/contact",className:"text-blue-600 hover:underline",children:"travelbuddylk.com/contact"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Address:"})," TravelBuddy, Colombo, Sri Lanka"]})]})]})]}),e.jsx("div",{className:"mt-12 pt-6 border-t border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-600 text-center",children:["By using TravelBuddy, you agree to this Privacy Policy and our"," ",e.jsx("a",{href:"/terms-of-service",className:"text-blue-600 hover:underline",children:"Terms of Service"}),"."]})})]})}),NC=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-md p-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Terms of Service"}),e.jsx("p",{className:"text-sm text-gray-600 mb-8",children:"Last Updated: January 2025"}),e.jsxs("div",{className:"space-y-6 text-gray-700",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"1. Acceptance of Terms"}),e.jsx("p",{children:'By accessing or using TravelBuddy (the "Service"), you agree to be bound by these Terms of Service ("Terms"). If you do not agree to these Terms, please do not use the Service. These Terms apply to all users, including travelers, merchants, travel agents, and transport providers.'})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"2. Description of Service"}),e.jsx("p",{children:"TravelBuddy is an AI-powered travel planning platform that provides:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 mt-2",children:[e.jsx("li",{children:"Trip planning and itinerary creation"}),e.jsx("li",{children:"Place discovery and recommendations"}),e.jsx("li",{children:"Community features for sharing travel experiences"}),e.jsx("li",{children:"Deals and offers from merchants and travel agents"}),e.jsx("li",{children:"Transportation booking and coordination"}),e.jsx("li",{children:"Emergency services and safety features"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"3. User Accounts"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"3.1 Registration"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsx("li",{children:"You must be at least 13 years old to create an account"}),e.jsx("li",{children:"You must provide accurate and complete information"}),e.jsx("li",{children:"You are responsible for maintaining account security"}),e.jsx("li",{children:"One person may not maintain multiple accounts"})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"3.2 Account Types"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Traveler:"})," Standard user account for trip planning"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Merchant:"})," Business account for offering deals"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Travel Agent:"})," Professional account for travel services"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Transport Provider:"})," Account for transportation services"]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"4. User Conduct"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"You agree NOT to:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsx("li",{children:"Post false, misleading, or fraudulent content"}),e.jsx("li",{children:"Harass, abuse, or harm other users"}),e.jsx("li",{children:"Upload malicious code or viruses"}),e.jsx("li",{children:"Violate intellectual property rights"}),e.jsx("li",{children:"Scrape or collect user data without permission"}),e.jsx("li",{children:"Impersonate others or misrepresent affiliations"}),e.jsx("li",{children:"Post spam, advertisements, or promotional content (except authorized merchants)"}),e.jsx("li",{children:"Use the Service for illegal activities"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"5. Content"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"5.1 Your Content"}),e.jsx("p",{children:"You retain ownership of content you post (photos, reviews, posts). By posting, you grant TravelBuddy a worldwide, non-exclusive, royalty-free license to use, display, and distribute your content within the Service."}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"5.2 Content Standards"}),e.jsx("p",{children:"All content must:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 mt-2",children:[e.jsx("li",{children:"Be accurate and not misleading"}),e.jsx("li",{children:"Not contain hate speech, violence, or explicit material"}),e.jsx("li",{children:"Not infringe on others' rights"}),e.jsx("li",{children:"Comply with local laws and regulations"})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"5.3 Content Removal"}),e.jsx("p",{children:"We reserve the right to remove content that violates these Terms without notice. Repeated violations may result in account suspension or termination."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"6. Merchant & Service Provider Terms"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"6.1 Deals & Offers"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsx("li",{children:"Merchants are responsible for honoring posted deals and offers"}),e.jsx("li",{children:"All pricing must be accurate and clearly stated"}),e.jsx("li",{children:"Deals must comply with consumer protection laws"})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"6.2 Service Quality"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsx("li",{children:"Travel agents and transport providers must maintain professional standards"}),e.jsx("li",{children:"Services must be delivered as described"}),e.jsx("li",{children:"Proper licensing and insurance required where applicable"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"7. Payments & Subscriptions"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2",children:[e.jsx("li",{children:"Some features may require paid subscriptions"}),e.jsx("li",{children:"Subscription fees are non-refundable unless required by law"}),e.jsx("li",{children:"We may change pricing with 30 days notice"}),e.jsx("li",{children:"You can cancel subscriptions at any time"}),e.jsx("li",{children:"Transactions between users and merchants are independent of TravelBuddy"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"8. Intellectual Property"}),e.jsx("p",{children:"TravelBuddy and its original content, features, and functionality are owned by TravelBuddy and protected by international copyright, trademark, and other intellectual property laws. You may not copy, modify, or distribute our content without permission."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"9. Third-Party Services"}),e.jsx("p",{children:"TravelBuddy integrates with third-party services (Google Maps, Firebase, payment processors). We are not responsible for third-party services or their content. Your use of third-party services is subject to their terms and policies."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"10. Disclaimers"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:'10.1 Service "As Is"'}),e.jsx("p",{children:'TravelBuddy is provided "as is" without warranties of any kind. We do not guarantee uninterrupted, secure, or error-free service.'}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"10.2 Travel Risks"}),e.jsx("p",{children:"Travel involves inherent risks. We are not responsible for:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 mt-2",children:[e.jsx("li",{children:"Accuracy of place information or reviews"}),e.jsx("li",{children:"Quality of services provided by merchants or agents"}),e.jsx("li",{children:"Travel delays, cancellations, or disruptions"}),e.jsx("li",{children:"Personal injury, property damage, or loss during travel"}),e.jsx("li",{children:"Political instability, natural disasters, or health emergencies"})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mt-4 mb-2",children:"10.3 User Content"}),e.jsx("p",{children:"We do not verify user-generated content. Reviews, ratings, and recommendations reflect individual opinions and may not be accurate."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"11. Limitation of Liability"}),e.jsx("p",{children:"To the maximum extent permitted by law, TravelBuddy shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including loss of profits, data, or goodwill, arising from your use of the Service."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"12. Indemnification"}),e.jsx("p",{children:"You agree to indemnify and hold TravelBuddy harmless from any claims, damages, or expenses arising from your use of the Service, violation of these Terms, or infringement of any rights of another."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"13. Termination"}),e.jsx("p",{children:"We may suspend or terminate your account at any time for:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 mt-2",children:[e.jsx("li",{children:"Violation of these Terms"}),e.jsx("li",{children:"Fraudulent or illegal activity"}),e.jsx("li",{children:"Prolonged inactivity"}),e.jsx("li",{children:"Request from law enforcement"})]}),e.jsx("p",{className:"mt-3",children:"You may delete your account at any time through app settings. Upon termination, your right to use the Service ceases immediately."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"14. Dispute Resolution"}),e.jsx("p",{children:"Any disputes arising from these Terms shall be resolved through:"}),e.jsxs("ul",{className:"list-disc pl-6 space-y-2 mt-2",children:[e.jsx("li",{children:"Good faith negotiation between parties"}),e.jsx("li",{children:"Mediation if negotiation fails"}),e.jsx("li",{children:"Arbitration or courts of Sri Lanka as final resort"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"15. Changes to Terms"}),e.jsx("p",{children:"We reserve the right to modify these Terms at any time. We will notify users of material changes via email or in-app notification. Continued use after changes constitutes acceptance of new Terms."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"16. Governing Law"}),e.jsx("p",{children:"These Terms are governed by the laws of Sri Lanka, without regard to conflict of law principles."})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-3",children:"17. Contact Information"}),e.jsx("p",{children:"For questions about these Terms:"}),e.jsxs("ul",{className:"list-none space-y-2 mt-3",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Email:"})," ",e.jsx("a",{href:"mailto:legal@travelbuddylk.com",className:"text-blue-600 hover:underline",children:"legal@travelbuddylk.com"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Website:"})," ",e.jsx("a",{href:"https://travelbuddylk.com/contact",className:"text-blue-600 hover:underline",children:"travelbuddylk.com/contact"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Address:"})," TravelBuddy, Colombo, Sri Lanka"]})]})]})]}),e.jsx("div",{className:"mt-12 pt-6 border-t border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-600 text-center",children:["By using TravelBuddy, you agree to these Terms of Service and our"," ",e.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:underline",children:"Privacy Policy"}),"."]})})]})}),wC=()=>{const{config:l,loading:r,error:n}=Qn();return X0.useEffect(()=>{!r&&l&&vC()},[r,l]),r?e.jsx(lC,{}):n?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load configuration"}),e.jsx("p",{className:"text-gray-600",children:n}),e.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Retry"})]})}):e.jsx($4,{children:e.jsx(H4,{children:e.jsx(kN,{children:e.jsxs(aN,{children:[e.jsx(vt,{path:"/login",element:e.jsx(JS,{})}),e.jsx(vt,{path:"/register",element:e.jsx(QS,{})}),e.jsx(vt,{path:"/privacy-policy",element:e.jsx(jC,{})}),e.jsx(vt,{path:"/terms-of-service",element:e.jsx(NC,{})}),e.jsx(vt,{path:"/role-selection",element:e.jsx(nC,{})}),e.jsx(vt,{path:"/travel-agent-registration",element:e.jsx(hC,{})}),e.jsx(vt,{path:"/travel-agents",element:e.jsx(Mb,{})}),e.jsx(vt,{path:"/event-organizer-registration",element:e.jsx(bC,{})}),e.jsx(vt,{path:"/events/create",element:e.jsx(yC,{})}),e.jsx(vt,{path:"/transport-registration",element:e.jsx(iC,{})}),e.jsx(vt,{path:"/transportation",element:e.jsx(Lb,{})}),e.jsx(vt,{path:"/subscription",element:e.jsx(gC,{})}),e.jsx(vt,{path:"/trips/:id",element:e.jsx(Rb,{})}),e.jsx(vt,{path:"/places/:id",element:e.jsx(Db,{})}),e.jsx(vt,{path:"/community/story/:id",element:e.jsx(rC,{})}),e.jsx(vt,{path:"/admin",element:e.jsx(aC,{})}),e.jsx(vt,{path:"/admin/*",element:e.jsx(XS,{})}),e.jsx(vt,{path:"/*",element:e.jsx(KS,{})})]})})})})};function SC(){return e.jsx(UN,{children:e.jsx(wC,{})})}hj.createRoot(document.getElementById("root")).render(e.jsx(j.StrictMode,{children:e.jsx(SC,{})}));export{I as B,Te as L,pe as M,Kt as T,Bn as d,e as j,j as r};
